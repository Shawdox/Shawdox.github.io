<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 1 页 | Shaw</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="积沙成塔">
<meta property="og:type" content="website">
<meta property="og:title" content="Shaw">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Shaw">
<meta property="og:description" content="积沙成塔">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Shaw">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Shaw" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/ytre.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head>



  <body>


  


<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="124px" height="124px" alt="Hike News" src=" /css/images/ytre.jpg">
              </a>
            
          </h1>
          
          
            <div class="site-description">积沙成塔</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="/"> <a class="" href="/">首页</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="archives"> <a class="" href="/archives">归档</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="categories"> <a class="" href="/categories">分类</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="tags"> <a class="" href="/tags">标签</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="about"> <a class="" href="/about">关于</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-Welcome"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/09/03/Welcome/">More is different.</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2021/09/03/Welcome/" class="article-date">
	  <time datetime="2021-09-03T05:50:00.118Z" itemprop="datePublished">九月 3, 2021</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h5
id="宏观与微观的审视哲学量变产生质变">宏观与微观的审视哲学，量变产生质变。</h5>
<p>一些记录，</p>
<p>一些随手写。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-【论文复现】How Machine Learning Is Solving the Binary Function Similarity Problem"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
    <div class="article-meta">
      
	<a href="/2023/02/12/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91How%20Machine%20Learning%20Is%20Solving%20the%20Binary%20Function%20Similarity%20Problem/" class="article-date">
	  <time datetime="2023-02-12T02:04:09.593Z" itemprop="datePublished">二月 12, 2023</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1
id="论文复现how-machine-learning-is-solving-the-binary-function-similarity-problem">【论文复现】How
Machine Learning Is Solving the Binary Function Similarity Problem</h1>
<h2 id="一模糊哈希fuzzy-hashing">一、模糊哈希（Fuzzy Hashing）</h2>
<h3 id="bytes-fuzzy-hashingcatalog1">1. Bytes fuzzy
hashing——Catalog1</h3>
<blockquote>
<p><strong>出处：</strong></p>
<p>​ 1. <a target="_blank" rel="noopener" href="https://www.xorpd.net/pages/fcatalog.html">xorpd |
FCatalog</a></p>
<p>​ 2. <a
target="_blank" rel="noopener" href="https://github.com/Cisco-Talos/binary_function_similarity/tree/main/Models/Catalog1">binary_function_similarity/Models/Catalog1
at main · Cisco-Talos/binary_function_similarity (github.com)</a></p>
<p>"FCatalog allows you to keep a database of all your named functions,
and find similarities from this database efficiently."</p>
</blockquote>
<h4 id="前置知识">前置知识：</h4>
<ul>
<li><p><strong>binary blob</strong>：一串bytes；</p></li>
<li><p><strong>S(a)</strong>：字节串a的四字截取集合，例如: <span
class="math display">\[
\mathbf{S(a)}= \{123x,23xy,3xy1\},a=123xy1 \\
\mathbf{S(b)}= \{1111\},b=111111111 \\
\]</span></p></li>
<li><p><strong>Jaccard Similarity</strong>：计算两个集合相似性： <span
class="math display">\[
J（S(a),S(b)）=\frac {S(a)\cap S(b)}{S(a)\cup S(b)}
\]</span></p></li>
<li><p><strong>minhash</strong>：文本相似度比较算法，用于快速<strong>估算</strong>两个集合的相似度。</p></li>
</ul>
<p>​
Catalog1算法利用minhash，使用哈希近似替代两个S集合，以此来估算其Jaccard系数，从而达到高效率地比较两个集合。</p>
<h4 id="代码结构分析">代码结构分析：</h4>
<p>​
Catalog1算法需要将二进制文件截取分割后，由于每个二进制文件的长度不定，故其分割计算出的S(a)也不定长。为了对每个二进制文件都得到一个定长的特征签名，就需要对S(a)进行特征提取。</p>
<p>​
使用哈希函数将集合中的每个DWORD映射到DWORD，这里的哈希采用类似密码学中置换的方法（permutation）：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WORD_SIZE</span> <span class="token expression"><span class="token number">32</span>      	</span><span class="token comment">// 32 bits</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_WORD</span> <span class="token expression"><span class="token number">0xffffffff</span>     </span><span class="token comment">// Maximum size of a dword.</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BYTE_SIZE</span> <span class="token expression"><span class="token number">8</span>             </span><span class="token comment">// Amount of bits in a byte.</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_ITERS</span> <span class="token expression"><span class="token number">4</span>             </span><span class="token comment">// Amount of iterations per permutation.</span></span>

<span class="token comment">// There are 128 RAND_DWORDS. Don't change the amount of random dwords here.</span>

<span class="token keyword">unsigned</span> <span class="token keyword">int</span> RAND_DWORDS<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1445200656</span><span class="token punctuation">,</span> <span class="token number">3877429363</span><span class="token punctuation">,</span> <span class="token number">1060188777</span><span class="token punctuation">,</span> <span class="token number">4260769784</span><span class="token punctuation">,</span> <span class="token number">1438562000</span><span class="token punctuation">,</span> <span class="token number">2836098482</span><span class="token punctuation">,</span> <span class="token number">1986405151</span><span class="token punctuation">,</span> <span class="token number">4230168452</span><span class="token punctuation">,</span> <span class="token number">380326093</span><span class="token punctuation">,</span> <span class="token number">2859127666</span><span class="token punctuation">,</span> <span class="token number">1134102609</span><span class="token punctuation">,</span> <span class="token number">788546250</span><span class="token punctuation">,</span> <span class="token number">3705417527</span><span class="token punctuation">,</span> <span class="token number">1779868252</span><span class="token punctuation">,</span> <span class="token number">1958737986</span><span class="token punctuation">,</span> <span class="token number">4046915967</span><span class="token punctuation">,</span> <span class="token number">1614805928</span><span class="token punctuation">,</span> <span class="token number">4160312724</span><span class="token punctuation">,</span> <span class="token number">3682325739</span><span class="token punctuation">,</span> <span class="token number">534901034</span><span class="token punctuation">,</span> <span class="token number">2287240917</span><span class="token punctuation">,</span> <span class="token number">2677201636</span><span class="token punctuation">,</span> <span class="token number">71025852</span><span class="token punctuation">,</span> <span class="token number">1171752314</span><span class="token punctuation">,</span> <span class="token number">47956297</span><span class="token punctuation">,</span> <span class="token number">2265969327</span><span class="token punctuation">,</span> <span class="token number">2865804126</span><span class="token punctuation">,</span> <span class="token number">1364027301</span><span class="token punctuation">,</span> <span class="token number">2267528752</span><span class="token punctuation">,</span> <span class="token number">1998395705</span><span class="token punctuation">,</span> <span class="token number">576397983</span><span class="token punctuation">,</span> <span class="token number">636085149</span><span class="token punctuation">,</span> <span class="token number">3876141063</span><span class="token punctuation">,</span> <span class="token number">1131266725</span><span class="token punctuation">,</span> <span class="token number">3949079092</span><span class="token punctuation">,</span> <span class="token number">1674557074</span><span class="token punctuation">,</span> <span class="token number">2566739348</span><span class="token punctuation">,</span> <span class="token number">3782985982</span><span class="token punctuation">,</span> <span class="token number">2164386649</span><span class="token punctuation">,</span> <span class="token number">550438955</span><span class="token punctuation">,</span> <span class="token number">2491039847</span><span class="token punctuation">,</span> <span class="token number">2409394861</span><span class="token punctuation">,</span> <span class="token number">3757073140</span><span class="token punctuation">,</span> <span class="token number">3509849961</span><span class="token punctuation">,</span> <span class="token number">3972853470</span><span class="token punctuation">,</span> <span class="token number">1377009785</span><span class="token punctuation">,</span> <span class="token number">2164834118</span><span class="token punctuation">,</span> <span class="token number">820549672</span><span class="token punctuation">,</span> <span class="token number">2867309379</span><span class="token punctuation">,</span> <span class="token number">1454756115</span><span class="token punctuation">,</span> <span class="token number">94270429</span><span class="token punctuation">,</span> <span class="token number">2974978638</span><span class="token punctuation">,</span> <span class="token number">2915205038</span><span class="token punctuation">,</span> <span class="token number">1887247447</span><span class="token punctuation">,</span> <span class="token number">3641720023</span><span class="token punctuation">,</span> <span class="token number">4292314015</span><span class="token punctuation">,</span> <span class="token number">702694146</span><span class="token punctuation">,</span> <span class="token number">1808155309</span><span class="token punctuation">,</span> <span class="token number">95993403</span><span class="token punctuation">,</span> <span class="token number">1529688311</span><span class="token punctuation">,</span> <span class="token number">2883286160</span><span class="token punctuation">,</span> <span class="token number">1410658736</span><span class="token punctuation">,</span> <span class="token number">3225014055</span><span class="token punctuation">,</span> <span class="token number">1903093988</span><span class="token punctuation">,</span> <span class="token number">2049895643</span><span class="token punctuation">,</span> <span class="token number">476880516</span><span class="token punctuation">,</span> <span class="token number">3241604078</span><span class="token punctuation">,</span> <span class="token number">3709326844</span><span class="token punctuation">,</span> <span class="token number">2531992854</span><span class="token punctuation">,</span> <span class="token number">265580822</span><span class="token punctuation">,</span> <span class="token number">2920230147</span><span class="token punctuation">,</span> <span class="token number">4294230868</span><span class="token punctuation">,</span> <span class="token number">408106067</span><span class="token punctuation">,</span> <span class="token number">3683123785</span><span class="token punctuation">,</span> <span class="token number">1782150222</span><span class="token punctuation">,</span> <span class="token number">3876124798</span><span class="token punctuation">,</span> <span class="token number">3400886112</span><span class="token punctuation">,</span> <span class="token number">1837386661</span><span class="token punctuation">,</span> <span class="token number">664033147</span><span class="token punctuation">,</span> <span class="token number">3948403539</span><span class="token punctuation">,</span> <span class="token number">3572529266</span><span class="token punctuation">,</span> <span class="token number">4084780068</span><span class="token punctuation">,</span> <span class="token number">691101764</span><span class="token punctuation">,</span> <span class="token number">1191456665</span><span class="token punctuation">,</span> <span class="token number">3559651142</span><span class="token punctuation">,</span> <span class="token number">709364116</span><span class="token punctuation">,</span> <span class="token number">3999544719</span><span class="token punctuation">,</span> <span class="token number">189208547</span><span class="token punctuation">,</span> <span class="token number">3851247656</span><span class="token punctuation">,</span> <span class="token number">69124994</span><span class="token punctuation">,</span> <span class="token number">1685591380</span><span class="token punctuation">,</span> <span class="token number">1312437435</span><span class="token punctuation">,</span> <span class="token number">2316872331</span><span class="token punctuation">,</span> <span class="token number">1466758250</span><span class="token punctuation">,</span> <span class="token number">1979107610</span><span class="token punctuation">,</span> <span class="token number">2611873442</span><span class="token punctuation">,</span> <span class="token number">80372344</span><span class="token punctuation">,</span> <span class="token number">1251839752</span><span class="token punctuation">,</span> <span class="token number">2716578101</span><span class="token punctuation">,</span> <span class="token number">176193185</span><span class="token punctuation">,</span> <span class="token number">2142192370</span><span class="token punctuation">,</span> <span class="token number">1179562050</span><span class="token punctuation">,</span> <span class="token number">1290470544</span><span class="token punctuation">,</span> <span class="token number">1957198791</span><span class="token punctuation">,</span> <span class="token number">1435943450</span><span class="token punctuation">,</span> <span class="token number">2989992875</span><span class="token punctuation">,</span> <span class="token number">3703466909</span><span class="token punctuation">,</span> <span class="token number">1302678442</span><span class="token punctuation">,</span> <span class="token number">3343948619</span><span class="token punctuation">,</span> <span class="token number">3762772165</span><span class="token punctuation">,</span> <span class="token number">1438266632</span><span class="token punctuation">,</span> <span class="token number">1761719790</span><span class="token punctuation">,</span> <span class="token number">3668101852</span><span class="token punctuation">,</span> <span class="token number">1283600006</span><span class="token punctuation">,</span> <span class="token number">671544087</span><span class="token punctuation">,</span> <span class="token number">1665876818</span><span class="token punctuation">,</span> <span class="token number">3645433092</span><span class="token punctuation">,</span> <span class="token number">3760380605</span><span class="token punctuation">,</span> <span class="token number">3802664867</span><span class="token punctuation">,</span> <span class="token number">1635015896</span><span class="token punctuation">,</span> <span class="token number">1060356828</span><span class="token punctuation">,</span> <span class="token number">1666255066</span><span class="token punctuation">,</span> <span class="token number">2953295653</span><span class="token punctuation">,</span> <span class="token number">2827859377</span><span class="token punctuation">,</span> <span class="token number">386702151</span><span class="token punctuation">,</span> <span class="token number">3372348076</span><span class="token punctuation">,</span> <span class="token number">4248620909</span><span class="token punctuation">,</span> <span class="token number">2259505262</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>


<span class="token comment">// Amount of rand dwords - 1:</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_DWORDS_MASK</span> <span class="token expression"><span class="token number">0x7f</span></span></span>

<span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">ror</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Rotate right a dword x by i bits.</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">>></span> i<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>WORD_SIZE <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">perm</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> num<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Permutation from dword to dword.</span>
    <span class="token comment">// num is the permutation number. x is the input.</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> ror_index<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>NUM_ITERS<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// Addition:</span>
        x <span class="token operator">+=</span> RAND_DWORDS<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> num <span class="token operator">+</span> x<span class="token punctuation">)</span> <span class="token operator">&amp;</span> NUM_DWORDS_MASK<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// Rotation:</span>
        ror_index <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">^</span> RAND_DWORDS<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> NUM_DWORDS_MASK<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x1f</span><span class="token punctuation">;</span>
        x <span class="token operator">=</span> <span class="token function">ror</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>ror_index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Xor:</span>
        x <span class="token operator">^=</span> RAND_DWORDS<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> num <span class="token operator">+</span> x<span class="token punctuation">)</span> <span class="token operator">&amp;</span> NUM_DWORDS_MASK<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// Rotation:</span>
        ror_index <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">^</span> RAND_DWORDS<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> NUM_DWORDS_MASK<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x1f</span><span class="token punctuation">;</span>
        x <span class="token operator">=</span> <span class="token function">ror</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>ror_index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​
由上可知，<strong>perm(i，x)就是第i个哈希函数h<sub>i</sub>(x)</strong>。计算完k个哈希函数后，我们得到了k个集合：
<span class="math display">\[
h_{1}(x),h_{2}(x),h_{3}(x)\cdots h_{k}(x)
\]</span> ​ 然后每个集合中最小的数，就是我们所需的定长特征： <span
class="math display">\[
sig(T) = \{min_{t\in T}h_{1}(T),min_{t\in T}h_{2}(T),min_{t\in
T}h_{3}(T)\cdots min_{t\in T}h_{k}(T)\}
\]</span> ​ 故用<span
class="math inline">\(J(sig(A),sig(B))\)</span>代替<span
class="math inline">\(J(A,B)\)</span>即可大大简化计算，k的数量可以自己选定。对于完整的二进制文件，以下代码可以生成其对应特征：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">sign</span><span class="token punctuation">(</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> data<span class="token punctuation">,</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> len<span class="token punctuation">,</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token operator">*</span>result<span class="token punctuation">,</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> num_perms<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">// Find entry number &lt;num> of the signature of data.</span>
    <span class="token comment">// len is the length of the data.</span>
    <span class="token comment">// The result is inside &lt;result>, as an array of dwords.</span>

    <span class="token comment">// We need at least 4 bytes to generate a signature.</span>
    <span class="token comment">// We return -1 (error) if we don't have at least 4 bytes.</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>len <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> y<span class="token punctuation">;</span> <span class="token comment">// Current integer value of 4 consecutive bytes.</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> py<span class="token punctuation">;</span> <span class="token comment">// Permutation over y.</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> min_py<span class="token punctuation">;</span> <span class="token comment">// Minimum py ever found.</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> permi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> permi<span class="token operator">&lt;</span>num_perms<span class="token punctuation">;</span> <span class="token operator">++</span>permi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// Initialize y to be the first dword from the data:</span>
        y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span><span class="token punctuation">;</span>
        y <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
        y <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span>
        y <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>data<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// Calculate first permutation:</span>
        py <span class="token operator">=</span> <span class="token function">perm</span><span class="token punctuation">(</span>permi<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        min_py <span class="token operator">=</span> py<span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            y <span class="token operator">&lt;&lt;=</span> <span class="token number">8</span><span class="token punctuation">;</span>
            y <span class="token operator">+=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            py <span class="token operator">=</span> <span class="token function">perm</span><span class="token punctuation">(</span>permi<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>min_py <span class="token operator">></span> py<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                min_py <span class="token operator">=</span> py<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// Save minimum perm value found to memory:</span>
        result<span class="token punctuation">[</span>permi<span class="token punctuation">]</span> <span class="token operator">=</span> min_py<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// Everything went well.</span>
    <span class="token comment">// Result should be stored at &lt;result></span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​</p>
<p>​</p>
<h4 id="运行测试">运行测试：</h4>
<p>​
Catalog1共分为server和client两部分，client客户端作为IDA的一个插件，server服务器可以使用官方提供的testfcatalog.xorpd.net:1337，也可以自行搭建https://github.com/xorpd/fcatalog_server。</p>
<p>​
为了计算速度更快，这里使用C语言编写catalog相关计算操作，首先编译catalog1
：</p>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230213123532.png" /></p>
<p>​</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Comparing-One-with-Many-—-Solving-Binary2source-Function-Matching-Under-Function-Inlining"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2023/01/10/Comparing-One-with-Many-%E2%80%94-Solving-Binary2source-Function-Matching-Under-Function-Inlining/">Comparing One with Many — Solving Binary2source Function Matching Under  Function Inlining</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2023/01/10/Comparing-One-with-Many-%E2%80%94-Solving-Binary2source-Function-Matching-Under-Function-Inlining/" class="article-date">
	  <time datetime="2023-01-10T07:27:48.471Z" itemprop="datePublished">一月 10, 2023</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1
id="论文阅读comparing-one-with-many-solving-binary2source-function-matching-under-function-inlining">【论文阅读】Comparing
One with Many — Solving Binary2source Function Matching Under Function
Inlining</h1>
<h2 id="一abstract">一、ABSTRACT</h2>
<p><strong><u>为了在函数内联下施行b2s函数匹配，我们提出了一个叫O2NMatcher的方法，通过其生成的Source
function Sets (SFSs)作为匹配结果。</u></strong></p>
<p>我们首先提出了一个模型<strong>EOOCJ48</strong>来预测内联的位置，
为了训练这个模型，我们利用可编译的开源软件（Open Source
Software）生成一个带有标记的调用点（内联或不内联）的数据集，从调用点中提取几个特征，并通过检查不同编译之间的内联相关性来设计一个基于编译器-选项的多标签分类器。</p>
<p>然后，我们使用这个模型来预测不可编译的开源项目，得到带标记的函数调用图。接下来，我们将SFSs的构建视为一个子树生成问题，并设计根节点选择和边缘扩展规则来自动构建SFSs。最后，这些SFSs将被添加到源函数的语料库中，并与有内联的二进制函数进行比较。</p>
<p>我们对OSNMatcher进行了一些实验测试，结果表明我们的方法超过所有state-of-the-art，将结果提升了6%。</p>
<!--mores-->
<h2 id="二背景知识">二、背景知识</h2>
<ol type="1">
<li><p><strong>Function
inlining：</strong>函数内联。使用inline关键字，<strong>编译器将函数调用语句替换为函数代码本身</strong>（称为扩展的过程），然后编译整个代码。因此，<strong>使用内联函数，编译器不必跳转到另一个位置来执行该函数，然后跳回。</strong>因为被调用函数的代码已经可用于调用程序。</p>
<p><a
target="_blank" rel="noopener" href="https://devblogs.microsoft.com/cppblog/inlining-decisions-in-visual-studio/#:~:text=Inlining%20is%20perhaps%20the%20most%20important%20optimization%20a,in%20either%20the%20caller%20or%20callee%20by%20themselves.">Inlining
Decisions in Visual Studio - C++ Team Blog (microsoft.com)</a></p></li>
<li><p><strong>Binary2source function
matching</strong>，二进制到源码函数匹配：</p></li>
</ol>
<ul>
<li><strong>1-to-1</strong>匹配：一个二进制函数与一个源码函数匹配；</li>
<li><strong>1-to-n</strong>匹配：由于内联函数的存在，一个二进制函数匹配多个源码函数。</li>
</ul>
<ol start="3" type="1">
<li><p><strong>Stripped
binary：</strong>不含调试符号信息的二进制可执行文件。</p></li>
<li><p><strong>Multi-Label Classification (MLC)
problem：</strong>多标签分类，一个样本有多个标签。</p></li>
<li><p><strong>FCG</strong> ：Function Call
Graph，函数调用图。在FCG图中，点是函数，边是调用关系。</p></li>
<li><p><strong>Jaccard similaritie：</strong>又称为Jaccard
index，用于比较有限样本集合之间的相似性和差异性。其值越大说明相似性越高。</p></li>
<li><p><strong>Binary
Relevance：</strong>核心思想是将多标签分类问题进行分解，将其转换为q个二元分类问题，其中每个二元分类器对应一个待预测的标签。</p></li>
<li><p><strong>Classifier
Chains：</strong>核心思想是将多标签分类问题进行分解，将其转换成为一个二元分类器链的形式，其中链后的二元分类器的构建式在前面分类器预测结果的基础上的。在模型构建的时候，首先将标签顺序进行shuffle打乱排序操作，然后按照从头到尾分别构建每个标签对应的模型。</p></li>
<li><p><strong>Ensemble Method：</strong>集成学习算法。</p></li>
</ol>
<h2 id="三提出问题">三、提出问题</h2>
<ol type="1">
<li><h4 id="b2s匹配的作用"><strong>B2S匹配的作用：</strong></h4>
<p>当前软件开发基本都会使用公共开源库中的代码，这就造成一个问题，若公共开源项目OSS中存在漏洞会传播非常快（例如一个OpenSSL中的漏洞就可以造成互联网上17%web服务存在漏洞）。</p>
<p>由于以上问题的存在，检测软件中对OSS的依赖就很重要，<strong>Software
Component Analysis
(SCA)</strong>就是用来检测软件对OSS的依赖问题的。当商业软件公司发布了自己的二进制可执行程序时，SCA服务商就会将此二进制文件与OSS文件相比较，检测其包含使用了哪些OSS文件。</p>
<p>binary2source function matching就是其应用场景。</p></li>
<li><h4
id="内联函数带来的问题"><strong>内联函数带来的问题：</strong></h4>
<p>举例如下图所示，当将二进制函数中的<strong><em>dtls1_get_record</em></strong>函数与源码中的<strong><em>dtls1_get_record</em></strong>函数比较时，使用CodeCMR给出的相似性还不足60%，这显然是匹配失败的。</p>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230110172929.png" /></p>
<p>如果深入去看二进制函数<strong><em>dtls1_get_record</em></strong>的汇编代码就可以发现，这个函数在编译的时候内联了<strong><em>dtls1_process_buffered_records</em></strong>,<strong><em>dtls1_get_bitmap</em></strong>
和
<strong><em>dtls1_record_replay_check</em></strong>的函数代码，极大的改变了其函数的内部代码内容，故影响了函数的匹配结果。</p>
<p><strong><u>有上述例子可以看出，由于内联函数的存在会改变函数的代码内容，故直接对其进行匹配的结果是不尽如人意的。</u></strong></p></li>
<li><h4
id="解决这个问题面临的挑战"><strong>解决这个问题面临的挑战：</strong></h4>
<p>想要解决在内联函数下的B2S问题，还需面对以下挑战：</p>
<p>1）
<strong>OOD问题：</strong>Out-of-domain，待检测二进制函数可能是由多个函数生成的，故OSS源码资料库中可能没有对应的二进制匹配；</p>
<p>2）
<strong>有些二进制文件不含调试信息：</strong>对于许多不含调试信息的二进制文件，由于其没有标注内联点，故检测哪些函数是通过内联函数生成的和哪些源码函数被内联进了二进制函数中就更加困难；</p>
<p>3）
<strong>不同文件内联选择的不同：</strong>对于不同的编译设置导致的不同内联函数的选择（对某个函数，是否选择内联），很难覆盖所有情况。</p></li>
</ol>
<h2 id="四模型方法">四、模型方法</h2>
<p>​
我们的方法<strong>O2NMatcher</strong>就是为了解决上述挑战而生的。</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230110205834.png" style="zoom:80%;" /></p>
<p>​ 为了解决第一个挑战，我们生成了<strong><em>Source Function Sets
(SFSs)</em></strong>来完善资料库，以此应对有内联函数的二进制函数查询匹配。</p>
<p>​
为了解决第二个挑战，我们使用可以编译的OSS项目训练了一个预测分类器来预测不可编译的OSS项目的内联位置。同时，我们提出了一个数据集自动化打标签的方法来生成数据。</p>
<p>​
为了解决第三个挑战，分类器被在多种不同的编译设置环境下训练，我们将其建模为多标签分类（MLC）问题，并根据不同编译设置下内联决策的相关性提出了基于编译器-选择的分类器。</p>
<p>​
通过给定的OSS生成SFSs，然后使用已有的“1-to-1”方法将这些SFSs与二进制函数相比较即可。</p>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230111162237.png" /></p>
<h3 id="模型训练">模型训练</h3>
<h4 id="生成数据集">1. 生成数据集</h4>
<p>​
在生成数据集过程中，我们充分利用了编译过程生成的调试信息（用的都是可编译的OSS项目）。其会生成b2s行级别和函数级别的映射，并附带函数调用处的内联信息（是否内联）。</p>
<p>​
在开源项目编译时使用"-g"选项，可以使编译出的二进制文件附带从二进制地址到源文件某一行的映射信息（<u>行级别映射</u>），再利用<strong>Understand</strong>或者<strong>IDA
Pro，tree-sitter，Chidra</strong>等工具，我们可以生成从二进制地址到源文件某一函数的映射信息（<u>函数级别映射</u>）。</p>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230111165709.png" /></p>
<p>​
如上图所示，圆圈是源码函数，方框是编译后的二进制函数。在（a）中，由于A只调用了C一次，故在编译后的二进制函数中C就被内联进了A中；但在（b）中，A调用了两次B，A和B都调用了C，无法很清楚的判断到底哪次调用需要被内联，故编译出的二进制函数也与编译选项有关，并不绝对。</p>
<p>​
<strong>上述例子可以看出，即使我们得到的源码函数之间的相互调用关系我们也无法确定哪些函数会被内联。</strong></p>
<p>​
但如果我们知道其二进制调用关系图，反过来看，若二进制图中某个调用在源码调用图中也存在（如上图a中的A–&gt;B），则这个函数就不是内联函数，反之就是内联函数。这样，通过对调试信息的使用，可以成功的将可编译OSS项目的内联位置标注出来。</p>
<h4 id="特征提取">2. 特征提取</h4>
<p>​
考虑到编译器一般通过评估内联的利弊来决定是否内联，我们总结了几个可以评估内联操作利弊的特征：</p>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230111235130.png" /></p>
<p>​
如上表所示，特征共分为两大类<strong>Caller/Callee</strong>和<strong>Call
Instruciton</strong>：</p>
<ul>
<li><p><strong>Caller/Callee</strong>：</p>
<p>caller这里指调用其他公共开源函数的函数，callee指被许多其他函数调用的函数。这部分特征分为函数内部语句，函数定义语句和函数调用次数。</p></li>
<li><p><strong>Call Instruciton：</strong></p>
<p>调用函数指令，这里关注其调用的位置和参数声明，例如在内联循环中的函数调用就可以显著减少调用次数。同理，如果调用含有常量参数，可以帮助减少内联函数的大小。</p></li>
</ul>
<h4 id="模型训练-1">3. 模型训练</h4>
<h5 id="训练数据分析">3.1 训练数据分析</h5>
<p>​ 我们这里提出了一个名为<strong>ECOCCJ48(<em>Ensemble of Compiler
Optimization based Classifier Chains built with
J48</em>)</strong>的MLC模型来预测内联函数位置。在多标签任务中，标签之间通常存在联系，下表展示了两个编译器（gcc-8.2.0和clang-7.0）在O<sub>x</sub>优化下的内联措施的差异和联系：</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230112145603.png" style="zoom:80%;" /></p>
<p><em>PS：opt1-opt2意味着使用优化措施opt1时内联，使用优化措施opt2时不内联的数量；opt1&amp;opt2意味着使用两个都内联的数量。</em></p>
<p>​
<strong>在同一编译器不同优化设置的条件下</strong>，由上图可以看出，94.78%的内联操作如果出现在低级优化措施的条件下，也会出现在更高级的优化措施条件下。所以在同一行内opt1&amp;opt2的数量都大于opt1-opt2。</p>
<p>​
<strong>在不同编译器的条件下</strong>，如下图所示，展示了不同优化措施下所做决策的Jaccard系数：</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230112150531.png" style="zoom: 67%;" /></p>
<p>​
<strong>在同一编译器家族（例如GCC的不同版本）比较时，其内联决策的相似性很高。</strong>当使用O<sub>0</sub>-O<sub>3</sub>优化措施测试gcc-6.4.0
和
gcc-7.2.0，87%的函数调用采用了相同的内联决策。<strong>在不同编译器的条件下，</strong>其内联决策没有明显的联系。</p>
<h5 id="ecoccj48模型">3.2 ECOCCJ48模型</h5>
<p>​ ECOOCJ48分为两个部分，使用binary
relevance来预测不同编译器下的标签，使用整合分类器链来预测同一编译器下不同优化措施的标签。</p>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230112152928.png" /></p>
<h5 id="不平衡的数据集">3.3 不平衡的数据集</h5>
<p>​ 目前存在的数据集有以下问题：</p>
<p>​
1.大多数的函数调用在被编译的过程中是不会被内联的，在使用O<sub>X</sub>优化时，大约只有20%的函数调用会被内联；</p>
<p>​ 2.不同优化措施编译时内联点的比例也不同。</p>
<p>​
这些差异导致了训练数据集的不平衡，训练会更偏向于正常的调用。我们使用了集成学习方法来处理这些不平衡，其使用随机选择的数据集来训练，通过整合不同基础分类器的结果来预测标签。因为不同基础分类器在不同的资料库中被训练，故他们可以抓住内联模式。</p>
<h3 id="sfs生成">SFS生成</h3>
<h4 id="fcg构建与ics预测">1. FCG构建与ICS预测</h4>
<p>​
对于不可编译的OSS项目，首先使用一个解析器（parser）来提取代码中的函数调用点，构建FCG图。两个节点之间可以有多个有向边，<strong>边上附带函数调用的位置信息。</strong></p>
<p>​
对于FCG中的每个调用点，我们从其调用者，被调用者和调用指令中提取特征，将其作为ECOCCJ48的输入，得到所有编译设置（不同编译器+优化措施）的标签。</p>
<h4 id="sfs生成-1">2. SFS生成</h4>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230113001842.png" style="zoom:80%;" /></p>
<p>​
如上图所示，（a）就是已经构建好的FCG图，其中红圈代表有内联函数的函数，黑圈则没有；红边代表内联操作，蓝边代表正常调用。<strong>假设FCG是一个有向无环图，SFS的生成就可以抽象成从FCG图中选择内联子树。</strong>这里将SFS的生成分为两个部分：根节点的选择（b）和边扩展。</p>
<p>​ <strong>根节点的选择上</strong>，有以下原则：</p>
<p>​ 1） 内联子树的根节点，如A,D；</p>
<p>​
2）非内联子树的根节点，但是既内联调用了其他函数，也被其他函数普通调用，如C。</p>
<p>​
除去这两种情况，要么一个节点没有指向其他节点的红色边，要么在内联子树上仅仅被其它红边所指。第一种情况显然不能进入SFS，第二种情况会被内联进其调用者之中。</p>
<p>​ <strong>边扩展上</strong>，遵循以下规则：</p>
<p>​ 1）
对每个根节点，若其指向的节点仅有一条红边，则向下遍历其能遇到的所有节点（如对A，有A-&gt;C，A-&gt;C-&gt;E两条）；</p>
<p>​
2）对每个根节点，若其指向的节点有两条相异颜色的边，则红色的边继续向下搜索生成，蓝色的边仅在下个点处停止。（如对C-&gt;E）。</p>
<p>​
若FCG成环，我们仅需注意，如果一个被调用节点已经在SFS中了，就不必再次遍历即可避免重复。</p>
<h4 id="sfs汇总">3. SFS汇总</h4>
<p>​ 得到函数的SFS后，我们将被调用函数的代码直接放进调用函数中。</p>
<h3 id="测试评估">测试评估</h3>
<p>​ 测试部分回答了以下问题：</p>
<blockquote>
<ol type="1">
<li>O2NMatcher可以提高现有1-to-1工作的表现吗？</li>
<li>与<em>Bingo</em> 和
<em>ASM2Vec</em>比较，O2NMatcher生成的SFS有多准确？</li>
<li>与现有的多标签分类工作相比，<em>ECOCCJ48</em>的表现如何？</li>
<li>O2NMatcher在训练，预测和生成SFS的时间花费如何？</li>
<li>我们选取的特征集在ICS预测上有什么贡献？</li>
</ol>
</blockquote>
<h4 id="研究背景">1. 研究背景</h4>
<h5 id="测试数据集">1.1 测试数据集</h5>
<p>​
我们从GNU项目选择了51个包，使用9种编译器、4种优化措施编译成x86-64，得到8460个二进制文件和4294478个二进制函数。这些数据包含了诸如Coreutils、OpenSSL等在二进制相似性检测工作中广泛被使用的包。如下表所示：</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116181546.png" style="zoom:80%;" /></p>
<h5 id="benchmark">1.2 Benchmark</h5>
<p>​
因为O2NMatcher是一个对其它b2s方法的补充，我们需要选择一个baseline。这里我们选择<strong>CodeCMR</strong>，一个现有工作表现最好的b2s方法。CodeCMR有一个开放工具BinaryAI，可以方便后续测试。</p>
<p>（Zeping Yu, Wenxin Zheng, Jiaqi Wang, Qiyi Tang, Sen Nie, and Shi
Wu. 2020. Codecmr: Cross-modal retrieval for function-level binary
source code matching. <em>Advances in Neural Information Processing
Systems</em> 33 (2020), 3872–3883.）</p>
<h5 id="实验设置">1.3 实验设置</h5>
<p>​
<strong>90%随机选择的训练集以及10%测试集。</strong>由于相同编译器的内联选择比较相似，这里测试集仅用两个编译器生成：gcc-2.2.0和clang-7.0。测试集包含1.1中所有的编译器生成的数据。<u>分类器在训练集上训练，然后对测试集生成SFSs</u>。为了避免误差我们重复实验10次。</p>
<p>​ 测试时，使用不带调试信息的stripped
binary，并且OSS文件不能被编译。</p>
<h5 id="评估标准">1.4 评估标准</h5>
<p>​
<strong>使用标准召回率recall@K来评估O2NMatcher准确率</strong>。（Recall@K召回率是指前topK结果中检索出的相关结果数和库中所有的相关结果数的比率，衡量的是检索系统的查全率。）在这里，recall@K代表前k个模型返回的源码函数中真正的源码函数占比。对于1-to-1匹配，真正的源码函数就是该待检测二进制函数的源码；对于我们的1-to-n匹配，在SFSs中，某个函数的根函数是真正的源码函数也可以算作阳性样本。在接下来的实验中我们会使用K
= 1、10和50来测试。</p>
<p>​ <strong>使用SFS大小（SFS size）来评估O2NMatcher成本</strong>。SFS
size是已生成的SFSs数量比上原函数集的数量。因为新增的SFSs增加了资料库的大小，故可能影响查询匹配的时间。</p>
<p>​
<strong>使用precision、recall和F1-score来评估ECOCCJ48准确率。</strong></p>
<h5 id="o2nmatcher的实现">1.5 O2NMatcher的实现</h5>
<p>​
在数据集标注工作上，我们使用<strong>Understand</strong>对源码做语法分析，使用<strong>IDA
Pro</strong>来反汇编二进制文件。在FCG构建上，我们使用<strong>Understand</strong>来提取所有函数调用点，对源码生成FCG图，使用<strong>IDA
Pro</strong>对二进制文件生成FCG图。在函数调用特征提取上，我们使用<strong>tree-sitter</strong>来提取函数体、函数定义和函数调用指令的特征，使用<strong>Understand</strong>提取函数调用次数特征。</p>
<p>​
在模型训练工作上，我们使用Python工具<strong><em>scikit-multilearn</em></strong>来实现ECOCCJ48模型和其他MCL方法。整个程序在Ubuntu
18.04、Intel Xeon Gold 6266C、1024GB DDR4 RAM、Nvidia RTX3090
GPU环境上运行。</p>
<h4 id="对问题一的回答o2nmatcher的效果">2.
对问题一的回答：O2NMatcher的效果</h4>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116190905.png" style="zoom:80%;" /></p>
<h4 id="对问题二的回答sfss的效果">3. 对问题二的回答：SFSs的效果</h4>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116191213.png" style="zoom:80%;" /></p>
<p>​ 上表比较了O2NMatcher、Bingo和ASM2Vec生成的SFSs与标准答案的结果。</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116191540.png" style="zoom:80%;" /></p>
<h4 id="对问题三的回答ecoccj48的效果">4.
对问题三的回答：ECOCCJ48的效果</h4>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116205243.png" /></p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116205306.png" style="zoom:80%;" /></p>
<h4 id="对问题四的回答o2nmatcher的成本">5.
对问题四的回答：O2NMatcher的成本</h4>
<p><img
src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116205338.png" /></p>
<h4 id="对问题五的回答特征选择的作用">6.
对问题五的回答：特征选择的作用</h4>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230116205512.png" style="zoom:80%;" /></p>
<h2 id="五问题">五、问题</h2>
<ol type="1">
<li><p>该方法模型怎么结合已有的方法？</p>
<p>原来怎么比现在就怎么比，只是从源码库变成了SFS。</p></li>
<li><p>SFSs怎么起作用？</p>
<p>将可能内联的函数体放进原函数的新代码库。</p></li>
<li><p>不平衡的数据集怎么处理的？</p>
<p>“We use ensemble methods to handle the imbalanced dataset. The
ensemble method trains the base classifiers on the randomly selected
dataset and predicts the labels by ggregating the predictions from the
base classifiers. As different base lassifiers are trained in different
corpora, they can capture the inlining patterns of some rare
labels”这部分没看懂什么意思</p></li>
<li><p>在汇总SFS时：</p>
<p>“Directly, there are two ways to aggregate the SFS: conduct inlining
for the source functions in the SFSs such as the inlining during
compilation or directly aggregate the content of all the functions in
the SFS”，这两种方式具体什么区别？</p></li>
</ol>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Binary/" rel="tag">Binary</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ML/" rel="tag">ML</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/">How Machine Learning Is Solving the Binary Function Similarity Problem</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/" class="article-date">
	  <time datetime="2022-12-08T08:20:40.777Z" itemprop="datePublished">十二月 8, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/"><img src="http://lorempixel.com/750/450/city/5" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          【论文阅读】How
Machine Learning Is Solving the Binary Function Similarity Problem

时间：2022.8
作者：Andrea Marcelli, Mariano Graziano , Xabier
Ugarte-Pedrero, Yanick Fratantonio , Mohamad Mansouri and Davide
Balzarotti(思科，欧洲电信学院)
会议：usenix 2022

ABSTRACT
人们会期望到现在为止，对于二进制相似性问题的研究，其有可能回答一些研究问题，这些问题超出了论文中提出的非常具体的技术，可以推广到整个研究领域。不幸的是，这个目标受到许多挑战，从可重复性问题到研究结果的不透明性，阻碍了研究有意义和有效地进展。
在本文，我们开始着手于对state-of-the-art做这个领域的第一个测试性研究。

首先，我们系统化了现存的研究成果；
我们选定了一些相关方法，这些方法代表了三个不同研究社区最近提出的各种解决方案；
针对现有的方案，我们重构了方法并构建了新的数据集，以便实现更为公平的对比效果。


        
          <p class="article-more-link">
            <a href="/2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Binary/" rel="tag">Binary</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ML/" rel="tag">ML</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Connect X"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/12/01/Connect%20X/">强化学习之ConnectX四子棋游戏</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/12/01/Connect%20X/" class="article-date">
	  <time datetime="2022-12-01T14:11:52.779Z" itemprop="datePublished">十二月 1, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Kaggle/">Kaggle</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/12/01/Connect%20X/"><img src="http://lorempixel.com/750/450/city/7" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          Connect X

Time: 2022.11.14
Author: Shaw
Connect X |
Kaggle
ConnectX
Getting Started | Kaggle

一、任务简介：

任务：强化学习任务，类似五子棋的规则（但每一步只能下某一列的最底端的空位），每人一步，先于对手横竖或斜角连成4个即可获胜。



        
          <p class="article-more-link">
            <a href="/2022/12/01/Connect%20X/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Kaggle/">Kaggle</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Pytorch/" rel="tag">Pytorch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RL/" rel="tag">RL</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Facial Keypoints Detection"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/11/14/Facial%20Keypoints%20Detection/">Facial Keypoints Detection</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/11/14/Facial%20Keypoints%20Detection/" class="article-date">
	  <time datetime="2022-11-14T03:24:28.500Z" itemprop="datePublished">十一月 14, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Kaggle/">Kaggle</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/11/14/Facial%20Keypoints%20Detection/"><img src="http://lorempixel.com/750/450/city/10" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          Facial Keypoints Detection

Time: 2022.11.11
Author: Shaw
Facial
Keypoints Detection | Kaggle

一、任务简介：

​ 任务：正确标注所给图片的人脸关键位置；


        
          <p class="article-more-link">
            <a href="/2022/11/14/Facial%20Keypoints%20Detection/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Kaggle/">Kaggle</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CV/" rel="tag">CV</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Pytorch/" rel="tag">Pytorch</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-【论文阅读】IFAttn Binary code similarity analysis based on interpretable features with attention"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/10/02/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91IFAttn%20Binary%20code%20similarity%20analysis%20based%20on%20interpretable%20features%20with%20attention/">IFAttn-Binary code similarity analysis based on interpretable features with attention</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/10/02/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91IFAttn%20Binary%20code%20similarity%20analysis%20based%20on%20interpretable%20features%20with%20attention/" class="article-date">
	  <time datetime="2022-10-02T06:29:22.023Z" itemprop="datePublished">十月 2, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/10/02/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91IFAttn%20Binary%20code%20similarity%20analysis%20based%20on%20interpretable%20features%20with%20attention/"><img src="http://lorempixel.com/750/450/city/7" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          【论文阅读】IFAttn-Binary
code similarity analysis based on interpretable features with
attention

时间：2021
作者：Shuai Jianga , Cai Fua , Yekui Qian（华科）
期刊：Computers &amp; Security（中科院三区）

1.ABSTRACT
二进制代码相似性分析（Binary code similarity analysis
，BCSA）是一项有意义的软件安全分析技术，包括漏洞挖掘、代码克隆检测和恶意代码检测。
尽管近年来出现了很多基于神经网络的很多BCSA研究成果，仍有一些问题未被解决。首先，大多数方法更聚焦于function
pair similarity detection task (FPSDT)，而忽略了function search task
(FST)，后者对漏洞挖掘更为重要。还有，现有方法为了提高FPSDT的准确率使用了一些无法解释的神经网络；最后，大多数现有方法无法抵抗BCSA中的交叉优化和交叉混淆。
为了解决这些问题，我们首次提出了一个结合了可解释特征工程和可学习注意力机制的适应性BCSA架构。我们设计了一个具有适应性的、富有可解释性特征的模型。测试结果表明对于FPSDT和FST的效果比state-of-the-art效果更好。
另外，我们还发现注意机制在功能语义表达方面具有突出的优势。
评估表明我们的方法可以显著提升FST在cross-architecture,
cross-optimization, cross-obfuscation and cross-compiler
binaries上的表现。

        
          <p class="article-more-link">
            <a href="/2022/10/02/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91IFAttn%20Binary%20code%20similarity%20analysis%20based%20on%20interpretable%20features%20with%20attention/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BCSA/" rel="tag">BCSA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Malware-Classifiers/" rel="tag">Malware Classifiers</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-【论文阅读】Function-level obfuscation detection method based on Graph Convolutional Networks"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/10/01/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Function-level%20obfuscation%20detection%20method%20based%20on%20Graph%20Convolutional%20Networks/">Function-level obfuscation detection method based on Graph Convolutional Networks</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/10/01/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Function-level%20obfuscation%20detection%20method%20based%20on%20Graph%20Convolutional%20Networks/" class="article-date">
	  <time datetime="2022-10-01T12:37:04.833Z" itemprop="datePublished">十月 1, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/10/01/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Function-level%20obfuscation%20detection%20method%20based%20on%20Graph%20Convolutional%20Networks/"><img src="http://lorempixel.com/750/450/city/5" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          【论文阅读】Function-level
obfuscation detection method based on Graph Convolutional Networks

时间：2021
作者：Shuai Jiang , Yao Hong, Cai Fu（华科）
期刊：Journal of Information Security and
Applications（中科院三区）

1.ABSTRACT
​
在恶意样本检测中代码混淆检测技术是一个重要的辅助手段，对于安全从业者来说，其可以在人工逆向分析前来实施自动化混淆检测，这有助于逆向工程师更具体地进行逆向分析。
​
目前存在的混淆检测方法主要作用于Android应用，并基于传统的机器学习方法。其检测颗粒度很差，总体效果不佳。为了解决这些问题，在本篇文章，我们提出了一个应用于X86汇编和Android应用的、function
level的、基于GCN的混淆检测方法。
1. 首先，我们的方法是function-level的。我们提取每个函数的CFG作为其特征（包括邻接矩阵和基本代码块的特征矩阵）；
2. 我们构建一个GCN-LSTM神经网络作为混淆检测模型；
3. 最后，对于function-level的检测我们的方法准确率是94.7575%（X86汇编）和98.9457%（安卓应用），比baseline方法好。实验证明我们的方法不论是在function-levle还是APK-level上的检测准确率都好于baseline。

        
          <p class="article-more-link">
            <a href="/2022/10/01/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Function-level%20obfuscation%20detection%20method%20based%20on%20Graph%20Convolutional%20Networks/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Malware-Classifiers/" rel="tag">Malware Classifiers</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/obfuscation/" rel="tag">obfuscation</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-决策时规划"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/07/21/%E5%86%B3%E7%AD%96%E6%97%B6%E8%A7%84%E5%88%92/">Planning at Decision Time(决策时规划)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/07/21/%E5%86%B3%E7%AD%96%E6%97%B6%E8%A7%84%E5%88%92/" class="article-date">
	  <time datetime="2022-07-21T07:46:53.321Z" itemprop="datePublished">七月 21, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Something/">Something</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/07/21/%E5%86%B3%E7%AD%96%E6%97%B6%E8%A7%84%E5%88%92/"><img src="http://lorempixel.com/750/450/city/7" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          
参考资料：

Reinforcement Learining. Second Edition. Sutton.Page 180-193
白板推导--强化学习.shuhuai008.Bilibili
Easy RL.Qi Wang.Yang Yiyuan.Ji Jiang


Planning at Decision
Time（决策时规划）
规划（Planning）至少有两种使用方式。
①一种在DP和Dyna中已经讨论过，通过从一个model（不论是sample
model或是distribution model ）中获取模拟经验（simulated
experience）的基础上来使用规划来逐渐提升一个policy或一个value
function。
然后，选择动作是一个比较当前状态的动作value问题，该value是在之前优化的表格中获取的；或者通过使用书中Part
2中考虑的近似方法来评估数学表达式。
对于任意状态St，在为其选择一个动作之前，其整个表格条目（例如Dyna-Q中的Q表）已经通过规划来优化过了。使用这种方式，规划并不是仅仅聚焦于当前的状态，我们称这种规划为background
planning，后台规划。
②另一种使用规划的方法就是在遇到每个新的状态St后再开始一个完整的规划过程，其为每个当前状态选择一个动作At，到下一个状态St+1就选择一个动作At+1，以此类推。
一个使用这种规划最简单的例子：当state
values可用时，通过比较当前model对执行每个动作后到达的新状态的value来选择一个动作。
当然，更普遍的说，这种规划的用法可以比仅仅往后看一步（上面的例子就是）看得更深，评估动作的选择导致许多不同预测状态和奖励轨迹。
不同于第一种用法，在这里，规划聚焦于一个特定的状态，我们称之为decision-time
planning，决策时规划。
这两种规划的方式可以用一种自然而有趣的方式结合在一起，不过一般二者被分开研究。
如同background
planning，我们仍可以将决策时规划看作一个从模拟经验中更新values，最后到更新policy的过程。只是基于当前状态所生成的values和policy会在做完动作选择决策后被丢弃，在很多应用场景中这么做并不算一个很大的损失，因为有非常多的状态存在，且不太可能在短时间内回到同一个状态，故重复计算导致的资源浪费会很少。
一般来说，人们可能希望将两者结合起来：规划当前状态，并将规划的结果存储起来，以便在以后回到相同的状态时能走得更远。
Decision-time
Planning，(决策时规划）在不需要快速反应的应用场景中作用最为显著。
决策时规划的常用算法有Heuristic Search（启发式搜索）、Rollout
Algorithms（Rollout 算法）和Monte Carlo Tree Search（MCTS
蒙特卡洛树搜索）三种。

        
          <p class="article-more-link">
            <a href="/2022/07/21/%E5%86%B3%E7%AD%96%E6%97%B6%E8%A7%84%E5%88%92/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Something/">Something</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RL/" rel="tag">RL</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2022/03/04/A%20Survey%20of%20Defense%20Mechanisms%20Against%20Distributed%20Denial%20of%20Service%20(DDoS)%20Flooding%20Attacks/">A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2022/03/04/A%20Survey%20of%20Defense%20Mechanisms%20Against%20Distributed%20Denial%20of%20Service%20(DDoS)%20Flooding%20Attacks/" class="article-date">
	  <time datetime="2022-03-04T08:24:55.254Z" itemprop="datePublished">三月 4, 2022</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-thumbnail">
              <a href="/2022/03/04/A%20Survey%20of%20Defense%20Mechanisms%20Against%20Distributed%20Denial%20of%20Service%20(DDoS)%20Flooding%20Attacks/"><img src="http://lorempixel.com/750/450/city/6" class="attachment-thumb-featured size-thumb-featured wp-post-image" alt=""></a>
            </div>
          
          <div class="entry-summary">
          A
Survey of Defense Mechanisms Against Distributed Denial of Service
(DDoS) Flooding Attacks

时间：2013
作者：Saman Taghavi Zargar，James Joshi， David
Tipper
期刊：IEEE COMMUNICATIONS SURVEYS &amp;
TUTORIALS（中科院一区）

ABSTRACT
​
DDoS攻击是安全专业人员最关心的问题之一，其通常是为了扰乱合法用户对服务的访问而进行的显式尝试。攻击者通常通过攻击漏洞来获取到一大批电脑，以此来组建一个网络攻击军队（也就是僵尸网络），一旦组建了攻击部队，攻击者就可以对一个或多个目标发起协调一致、大规模的攻击。开发针对已识别和预期的DDoS泛洪攻击的综合防御机制，是入侵检测和预防研究界所期望的目标。然而，这种机制的发展需要对问题和迄今为止在预防、检测和应对各种DDoS洪泛攻击方面所采用的技术有一个全面的了解。
​
在本文，我们对DDoS洪泛攻击进行分类，并根据它们在何时何地预防、检测和应对DDoS洪泛攻击对现有的对策进行分类。
​
此外，我们强调需要一种全面的分布式协同防御方法。我们的主要目的是激发研究人员开发出创造性的、有效的、高效的、综合的预防、检测和响应机制来解决实际攻击前、中和后的DDoS泛洪问题。


        
          <p class="article-more-link">
            <a href="/2022/03/04/A%20Survey%20of%20Defense%20Mechanisms%20Against%20Distributed%20Denial%20of%20Service%20(DDoS)%20Flooding%20Attacks/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DDoS/" rel="tag">DDoS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IDS/" rel="tag">IDS</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" 搜索…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="搜索">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">联系我们</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a target="_blank" rel="noopener" href="https://github.com/Shawdox" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="QQ"><i class="fa fa-qq" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a target="_blank" rel="noopener" href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a target="_blank" rel="noopener" href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a target="_blank" rel="noopener" href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a target="_blank" rel="noopener" href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a target="_blank" rel="noopener" href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a target="_blank" rel="noopener" href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>最新文章</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2023/02/12/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91How%20Machine%20Learning%20Is%20Solving%20the%20Binary%20Function%20Similarity%20Problem/">(no title)</a></h6>
              <span>二月 12, 2023</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2023/01/10/Comparing-One-with-Many-%E2%80%94-Solving-Binary2source-Function-Matching-Under-Function-Inlining/">Comparing One with Many — Solving Binary2source Function Matching Under  Function Inlining</a></h6>
              <span>一月 10, 2023</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/">How Machine Learning Is Solving the Binary Function Similarity Problem</a></h6>
              <span>十二月 8, 2022</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2022/12/01/Connect%20X/">强化学习之ConnectX四子棋游戏</a></h6>
              <span>十二月 1, 2022</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2022/11/14/Facial%20Keypoints%20Detection/">Facial Keypoints Detection</a></h6>
              <span>十一月 14, 2022</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2022/10/02/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91IFAttn%20Binary%20code%20similarity%20analysis%20based%20on%20interpretable%20features%20with%20attention/">IFAttn-Binary code similarity analysis based on interpretable features with attention</a></h6>
              <span>十月 2, 2022</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kaggle/">Kaggle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Paper/">Paper</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Something/">Something</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AD/" rel="tag">AD</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AD-training/" rel="tag">AD training</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BCSA/" rel="tag">BCSA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Binary/" rel="tag">Binary</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Botnet/" rel="tag">Botnet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CV/" rel="tag">CV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DDoS/" rel="tag">DDoS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNN/" rel="tag">DNN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDS/" rel="tag">IDS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ML/" rel="tag">ML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-Learning/" rel="tag">Machine Learning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Malware-Classifiers/" rel="tag">Malware Classifiers</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/" rel="tag">Math</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mutiagent/" rel="tag">Mutiagent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/" rel="tag">NLP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PDF/" rel="tag">PDF</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pytorch/" rel="tag">Pytorch</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RL/" rel="tag">RL</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RNN/" rel="tag">RNN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obfuscation/" rel="tag">obfuscation</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AD/" style="font-size: 20px;">AD</a> <a href="/tags/AD-training/" style="font-size: 10px;">AD training</a> <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/BCSA/" style="font-size: 10px;">BCSA</a> <a href="/tags/Binary/" style="font-size: 12px;">Binary</a> <a href="/tags/Botnet/" style="font-size: 10px;">Botnet</a> <a href="/tags/CV/" style="font-size: 10px;">CV</a> <a href="/tags/DDoS/" style="font-size: 10px;">DDoS</a> <a href="/tags/DNN/" style="font-size: 10px;">DNN</a> <a href="/tags/IDS/" style="font-size: 12px;">IDS</a> <a href="/tags/ML/" style="font-size: 12px;">ML</a> <a href="/tags/Machine-Learning/" style="font-size: 12px;">Machine Learning</a> <a href="/tags/Malware-Classifiers/" style="font-size: 18px;">Malware Classifiers</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/Mutiagent/" style="font-size: 10px;">Mutiagent</a> <a href="/tags/NLP/" style="font-size: 14px;">NLP</a> <a href="/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/tags/Pytorch/" style="font-size: 12px;">Pytorch</a> <a href="/tags/RL/" style="font-size: 16px;">RL</a> <a href="/tags/RNN/" style="font-size: 10px;">RNN</a> <a href="/tags/obfuscation/" style="font-size: 10px;">obfuscation</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">14</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2023 Shaw All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/bootstrap.js"></script>


<script src="/js/main.js"></script>








  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
