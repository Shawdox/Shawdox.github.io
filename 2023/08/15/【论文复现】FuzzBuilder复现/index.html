<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>(技术积累)FuzzBuilder复现 | Shaw</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Fuzzing" />
  
  
  
    <meta name="baidu-site-verification" content="63656ec0c686f8aaeeaad1b7243ba233" />
  
  
  <meta name="description" content="FuzzBuilder复现Use of FuzzBuilder and some technical analysis.">
<meta property="og:type" content="article">
<meta property="og:title" content="(技术积累)FuzzBuilder复现">
<meta property="og:url" content="http://example.com/2023/08/15/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91FuzzBuilder%E5%A4%8D%E7%8E%B0/index.html">
<meta property="og:site_name" content="Shaw">
<meta property="og:description" content="FuzzBuilder复现Use of FuzzBuilder and some technical analysis.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230818190723.png">
<meta property="og:image" content="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230819095110.png">
<meta property="og:image" content="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230821142419.png">
<meta property="og:image" content="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230821143411.png">
<meta property="article:published_time" content="2023-08-15T08:11:35.000Z">
<meta property="article:modified_time" content="2023-09-04T07:12:46.000Z">
<meta property="article:author" content="Shaw">
<meta property="article:tag" content="Fuzzing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230818190723.png">
  
    <link rel="alternate" href="/atom.xml" title="Shaw" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/ytre.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  


<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="124px" height="124px" alt="Hike News" src=" /css/images/ytre.jpg">
              </a>
            
          </h1>
          
          
            <div class="site-description">积沙成塔</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="/"> <a class="" href="/">首页</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="archives"> <a class="" href="/archives">归档</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="categories"> <a class="" href="/categories">分类</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="tags"> <a class="" href="/tags">标签</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="about"> <a class="" href="/about">关于</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-【论文复现】FuzzBuilder复现" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      (技术积累)FuzzBuilder复现
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2023/08/15/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91FuzzBuilder%E5%A4%8D%E7%8E%B0/" class="article-date">
	  <time datetime="2023-08-15T08:11:35.000Z" itemprop="datePublished">八月 15, 2023</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>
 
      
	<span id="busuanzi_container_page_pv">
	  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
	</span>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="FuzzBuilder复现"><a href="#FuzzBuilder复现" class="headerlink" title="FuzzBuilder复现"></a>FuzzBuilder复现</h1><p>Use of FuzzBuilder and some technical analysis.</p>
<span id="more"></span>
<h2 id="1-Tutorial"><a href="#1-Tutorial" class="headerlink" title="1. Tutorial"></a>1. Tutorial</h2><p>​    由于国内科学上网等原因（可能），<a target="_blank" rel="noopener" href="https://github.com/hksecurity/FuzzBuilder">hksecurity/FuzzBuilder (github.com)</a>给的dockerfile使用一直有问题，故这里直接使用ubuntu18.04镜像新建docker：</p>
<p>​    Due to domestic Internet access in China and other reasons (probably), the dockerfile given by <a target="_blank" rel="noopener" href="https://github.com/hksecurity/FuzzBuilder">hksecurity/FuzzBuilder (github.com)</a> has been problematic to use, so here is the direct use of the ubuntu18.04 image to create a new docker:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker pull homebrew/ubuntu18.04<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​    然后根据仓库给出的指令安装相关包：</p>
<p>​    Then follow the instructions given by the repository to install the relevant packages:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> clang-6.0 clang-6.0-dev llvm-6.0 llvm-6.0-dev
<span class="token function">ln</span> -s /usr/bin/clang-6.0 /usr/bin/clang
<span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span> <span class="token function">wget</span> build-essential cmake gcc-multilib g++-multilib gnupg <span class="token function">zip</span> autoconf automake libtool docbook2x zlib1g-dev rapidjson-dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>​    注意，这里只安装了clang没有安装clang++，故再补一个：</p>
<p>​    Note that only clang is installed here but not clang++, so another one is added:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> clang++-6.0 clang++-6.0-dev
<span class="token function">ln</span> -s /usr/bin/clang++-6.0 /usr/bin/clang++<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​    安装AFL（后期可替换为AFL++）：</p>
<p>​    Install AFL (which can be replaced with AFL++ at a later stage):</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/google/AFL.git
<span class="token builtin class-name">cd</span> AFL
<span class="token function">make</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">AFL_PATH</span><span class="token operator">=</span><span class="token environment constant">$PWD</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$PWD</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    编译FuzzBuilder：</p>
<p>​    Compile FuzzBuilder:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/hksecurity/FuzzBuilder.git
<span class="token builtin class-name">cd</span> FuzzBuilder
<span class="token builtin class-name">export</span> <span class="token assign-left variable">FuzzBuilder</span><span class="token operator">=</span><span class="token environment constant">$PWD</span>
<span class="token function">mkdir</span> -p <span class="token variable">$FuzzBuilder</span>/build <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/build
cmake build <span class="token punctuation">..</span>/src
<span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    安装emscripten:</p>
<p>​    Install emscripten:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Get the emsdk repo</span>
<span class="token function">git</span> clone https://github.com/emscripten-core/emsdk.git
<span class="token comment"># Enter that directory</span>
<span class="token builtin class-name">cd</span> emsdk
<span class="token comment"># Fetch the latest version of the emsdk (not needed the first time you clone)</span>
<span class="token function">git</span> pull
<span class="token comment"># Download and install the latest SDK tools.</span>
./emsdk <span class="token function">install</span> latest
<span class="token comment"># Make the "latest" SDK "active" for the current user. (writes .emscripten file)</span>
./emsdk activate latest
<span class="token comment"># Activate PATH and other environment variables in the current terminal</span>
<span class="token builtin class-name">source</span> ./emsdk_env.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    至此所需软件安装编译完成。</p>
<p>​    This completes the installation and compilation of the required software.</p>
<h2 id="2-Example-expat"><a href="#2-Example-expat" class="headerlink" title="2. Example: expat"></a>2. Example: expat</h2><p>​    这里利用XML解析器库expat来举例说明FuzzBuilder的使用方法。</p>
<p>​    The XML parser library expat is used here as an example to illustrate the use of FuzzBuilder.</p>
<h3 id="2-1-Seed-generation"><a href="#2-1-Seed-generation" class="headerlink" title="2.1 Seed generation"></a>2.1 Seed generation</h3><ul>
<li><strong>下载源码，并切换到指定版本（Download the source code and switch to the specified version）</strong></li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -p <span class="token variable">$FuzzBuilder</span>/exp/expat/source <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/source
<span class="token function">git</span> clone <span class="token punctuation">[</span>https://github.com/libexpat/libexpat<span class="token punctuation">]</span><span class="token punctuation">(</span>https://github.com/libexpat/libexpat<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> libexpat
<span class="token function">git</span> checkout 39e487da353b20bb3a724311d179ba0fddffc65b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>引入辅助脚本（Introducing auxiliary scripts）</strong></li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/fuzzer_main.cc ./expat
<span class="token function">cp</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/build.sh ./expat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​    <code>build.sh</code>是expat项目的编译脚本，这里将其中的CC和CXX换成了对应的afl-clang和afl-clang++。</p>
<p>​    <code>build.sh</code>is the compilation script for the expat project, where CC and CXX have been replaced with the corresponding afl-clang and afl-clang++.</p>
<ul>
<li><strong>编译项目(Compile)：</strong></li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/source/libexpat/expat
<span class="token comment"># edit CC, CXX variable with correct path</span>
<span class="token function">vi</span> ./build.sh
./build.sh seed<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    如果在运行build.sh脚本时指定了cov或者seed，则会直接执行make，否则会使用AFL_USE_ASAN=1。</p>
<p>​    编译好的项目会在build文件夹下生成一个<code>fuzzbuilder</code>可执行文件。</p>
<p>​    If <code>cov</code>or <code>seed</code>is specified when running the build.sh script, make will be executed directly, otherwise AFL_USE_ASAN=1 will be used.</p>
<p>​    The compiled project generates a fuzzbuilder executable in the build folder.</p>
<ul>
<li><strong>生成种子(Seed generation)：</strong></li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">afl-clang -emit-llvm -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c lib/xmlparse.c -fPIC -DPIC

<span class="token variable">$FuzzBuilder</span>/build/fuzzbuilder seed <span class="token variable">$FuzzBuilder</span>/exp/expat/seed.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>​    上述命令将目标库lib/xmlparse.c编译为bitcode：xmlparse.bc，<code>-m32</code>表明32位。然后使用fuzzbuilder命令从seed.conf中读取配置文件并生成种子。</p>
<p>​    The above command compiles the target library lib/xmlparse.c to bitcode: xmlparse.bc, with <code>-m32</code> indicating 32-bit. Then use the fuzzbuilder command to read the configuration file from seed.conf and generate the seed.</p>
<p>​    seed.conf是FuzzBuilder自带的文件，其指明了：</p>
<p>​    seed.conf is the file that comes with FuzzBuilder that specifies:</p>
<pre class="line-numbers language-conf" data-language="conf"><code class="language-conf">&#123;
    &quot;targets&quot; : [ [ &quot;XML_Parse&quot;, 2, 3 ]],
    &quot;files&quot; : [ &quot;xmlparse.bc&quot; ]
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    <code>target</code>表明了需要分析的函数<code>XML_Parse()</code>和fuzzer需要给该函数传递的参数，2,3代表了第二个参数用于传递input，第三个用于表示input的大小。</p>
<p>​    <code>files</code>表明了需要分析的文件，其以bitcode的形式输入。</p>
<p>​    <code>target</code>indicates the function <code>XML_Parse</code>() to be analyzed and the parameters that fuzzer needs to pass to this function, 2,3 represents the second parameter used to pass the input, and the third is used to indicate the size of the input.<br>​    <code>files</code>indicates the file to be analyzed, which is input in the form of a bitcode.</p>
<p>​    以上命令运行结果如下：</p>
<p>​    The result of running the above command is as follows:</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230818190723.png" style="zoom:67%;" /></p>
<p>​    可以看到，插桩后的文件以<code>xmlparse.bc.mod.bc</code>存在。接下来编译这个插桩后的bc文件：</p>
<p>​    As you can see, the instrumented file exists as <code>xmlparse.bc.mod.bc</code>. Next, compile this instrumented bc file:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">afl-clang -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c xmlparse.bc.mod.bc -fPIC -DPIC -o xmlparse.o
ar r lib/.libs/libexpat.a xmlparse.o
<span class="token function">rm</span> -f tests/runtests
<span class="token function">make</span> check<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    以上命令将插桩后的bc文件编译为了<code>xmlparse.o</code>，并使用ar命令将 “xmlparse.o” 文件添加到名为 “libexpat.a” 的归档文件中，以便构建完整的静态库。这样在链接时，可以使用这个静态库来提供 “xmlparse.o” 中定义的函数和符号。</p>
<p>​    The above command compiles the staked bc file to <code>xmlparse.o</code>  and uses the ar command to add the “xmlparse.o” file to an archive named “libexpat.a” in order to build the complete static library. This static library can then be used to provide the functions and symbols defined in “xmlparse.o” at link time.</p>
<p>​    接下来运行seed_maker.py脚本从已经生成的种子中提取（其中这里的<code>fuzzbuilder.collect</code>就是上一步中make check运行插桩后的单元测试时生成的种子文件）：</p>
<p>​    Next run the seed_maker.py script to extract from the seeds that have been generated (where <code>fuzzbuilder.collect</code> here is the seed file that was generated when make check ran the unit tests after instrumenting in the previous step):</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mv</span> /tmp/fuzzbuilder.collect <span class="token builtin class-name">.</span>
python <span class="token variable">$FuzzBuilder</span>/script/seed_maker.py fuzzbuilder.collect seed_fb
<span class="token function">mkdir</span> -p <span class="token variable">$FuzzBuilder</span>/exp/expat/seed/fuzzbuilder
<span class="token function">mv</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/source/libexpat/expat/seed_fb <span class="token variable">$FuzzBuilder</span>/exp/expat/seed/fuzzbuilder/org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    可以看到生成的种子库：</p>
<p>​    You can see the generated seeds:</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230819095110.png" style="zoom:80%;" /></p>
<h3 id="2-2-executable-file-generation"><a href="#2-2-executable-file-generation" class="headerlink" title="2.2 executable file generation"></a>2.2 executable file generation</h3><p>​    这里根据作者给出的两个配置文件<code>XML_Parse.conf</code>和<code>bug.conf</code>对runtest.c做插桩，生成了两个可执行文件。</p>
<p>​    Here two executables are generated by instrumenting runtest.c according to the two configuration files <code>XML_Parse.conf</code> and <code>bug.conf</code> given by the author.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#进入其自带的文件夹</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/source/libexpat/expat/tests
<span class="token comment">#将runtest.c编译为bitcode</span>
afl-clang -emit-llvm -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c runtests.c
<span class="token comment">#根据配置文件生成runtests.bc.mod.bc</span>
<span class="token variable">$FuzzBuilder</span>/build/fuzzbuilder <span class="token builtin class-name">exec</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/XML_Parse.conf
<span class="token comment">#编译生成可执行文件</span>
<span class="token variable">$AFL_PATH</span>/afl-clang -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -o runtests.o -c runtests.bc.mod.bc
<span class="token variable">$AFL_PATH</span>/afl-clang -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -fno-strict-aliasing -o XML_Parse_fuzzer runtests.o libruntests.a <span class="token punctuation">..</span>/lib/.libs/libexpat.a
<span class="token function">mkdir</span> -p <span class="token variable">$FuzzBuilder</span>/exp/expat/bin/fuzz/fuzzbuilder
<span class="token function">mv</span> XML_Parse_fuzzer <span class="token variable">$FuzzBuilder</span>/exp/expat/bin/fuzz/fuzzbuilder

<span class="token comment">#根据配置文件生成runtests.bc.mod.bc，bug.conf相较于XML_Parse.conf跳过了一些函数</span>
<span class="token variable">$FuzzBuilder</span>/build/fuzzbuilder <span class="token builtin class-name">exec</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/bug.conf
afl-clang -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -o runtests.o -c runtests.bc.mod.bc
afl-clang -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -fno-strict-aliasing -o XML_Parse_fuzzer runtests.o libruntests.a <span class="token punctuation">..</span>/lib/.libs/libexpat.a
<span class="token function">mv</span> XML_Parse_fuzzer <span class="token variable">$FuzzBuilder</span>/exp/expat/bin/fuzz/fuzzbuilder/bug_fuzzer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​    如果要成带有代码覆盖率的可执行文件：</p>
<p>​    If it is to be an executable with code coverage:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/source/libexpat/expat/tests
afl-clang -emit-llvm -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c runtests.c
<span class="token variable">$FuzzBuilder</span>/build/fuzzbuilder <span class="token builtin class-name">exec</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/XML_Parse.conf
afl-clang -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -o runtests.o -c runtests.bc.mod.bc
afl-clang -fprofile-arcs -ftest-coverage -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -m32 -g -fno-strict-aliasing -o XML_Parse_fuzzer runtests.o  libruntests.a <span class="token punctuation">..</span>/lib/.libs/libexpat.a
<span class="token function">mkdir</span> -p <span class="token variable">$FuzzBuilder</span>/exp/expat/bin/cov/fuzzbuilder
<span class="token function">mv</span> XML_Parse_fuzzer <span class="token variable">$FuzzBuilder</span>/exp/expat/bin/cov/fuzzbuilder<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-3-种子优化"><a href="#2-3-种子优化" class="headerlink" title="2.3 种子优化"></a>2.3 种子优化</h3><p>​    使用AFL自带的afl-cmin对种子库做优化：</p>
<p>​    Use afl-cmin that comes with AFL to optimize the seed library:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/exp/expat
<span class="token variable">$AFL_PATH</span>/afl-cmin -m <span class="token number">1024</span> -i seed/fuzzbuilder/org/XML_Parse -o seed/eval/XML_Parse_fuzzer/fuzzbuilder bin/fuzz/fuzzbuilder/XML_Parse_fuzzer @@<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​    下面就可以直接用生成的可执行文件和种子进行fuzzing了。</p>
<p>​    The following can be used directly for fuzzing with the generated executable and seed.</p>
<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem:"></a>Problem:</h2><p>When I try to compile expat’s test file <code>runtests.c</code> to wasm binary:</p>
<ol>
<li><p><strong>Build the expat with emscripten.</strong></p>
<p>Since the target file needs to use many of expat’s library files when linking, I think I should recompile the expat project first with emcc.So I modified the build.sh for expat:</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230821142419.png" alt="Modified build.sh for expat project"></p>
<p>As you can see, I used emcc to build the project.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/source/libexpat/expat
./build.sh wasm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p><strong>Generate seed files</strong></p>
<p>This step is the same process as described above, the only difference is that it is compiled with emcc.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">emcc -emit-llvm -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c lib/xmlparse.c -fPIC -DPIC

<span class="token variable">$FuzzBuilder</span>/build/fuzzbuilder seed <span class="token variable">$FuzzBuilder</span>/exp/expat/seed.conf

emcc -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c xmlparse.bc.mod.bc -fPIC -DPIC -o xmlparse.o
ar r lib/.libs/libexpat.a xmlparse.o
<span class="token function">rm</span> -f tests/runtests
<span class="token function">make</span> check<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>Generate executable file</strong></p>
<p>Because fuzzbuilder can only analyze the bitcode of LLVM 6.0 version, so this step can’t use emcc to compile runtests.c to bc file directly, so I choose to use clang6.0 to compile:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">clang -emit-llvm -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -c runtests.c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Then use fuzzerbuild to instrument and generate:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$FuzzBuilder</span>/build/fuzzbuilder <span class="token builtin class-name">exec</span> <span class="token variable">$FuzzBuilder</span>/exp/expat/XML_Parse.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The instrumented code is called <code>runtests.bc.mod.bc</code>, and this code is compiled into an executable file which is the fuzz target we need.</p>
<p>Here it is compiled using emcc:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">emcc -DHAVE_CONFIG_H -I. -I<span class="token punctuation">..</span> -I./<span class="token punctuation">..</span>/lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -o runtests.o -c runtests.bc.mod.bc
emcc -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -fno-strict-aliasing -o XML_Parse_fuzzer runtests.o libruntests.a <span class="token punctuation">..</span>/lib/.libs/libexpat.a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>But something went wrong:</p>
<p><img src="https://shaw-typora.oss-cn-beijing.aliyuncs.com/20230821143411.png" alt=""></p>
<blockquote>
<p><strong>Error Messages:</strong></p>
<p>[linuxbrew@708fe4a082ee:tests]$ emcc -DHAVE_CONFIG_H -I. -I.. -I./../lib -DHAVE_EXPAT_CONFIG_H -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -o runtests.o -c runtests.bc.mod.bc<br>clang++: warning: argument unused during compilation: ‘-I .’ [-Wunused-command-line-argument]<br>clang++: warning: argument unused during compilation: ‘-I ..’ [-Wunused-command-line-argument]<br>clang++: warning: argument unused during compilation: ‘-I ./../lib’ [-Wunused-command-line-argument]<br>warning: overriding the module target triple with wasm32-unknown-emscripten [-Woverride-module]<br>‘pentium4’ is not a recognized processor for this target (ignoring processor)<br>‘+fxsr’ is not a recognized feature for this target (ignoring feature)<br>‘+mmx’ is not a recognized feature for this target (ignoring feature)<br>‘+sse’ is not a recognized feature for this target (ignoring feature)<br>‘+sse2’ is not a recognized feature for this target (ignoring feature)<br>‘+x87’ is not a recognized feature for this target (ignoring feature)<br>‘pentium4’ is not a recognized processor for this target (ignoring processor)<br>‘pentium4’ is not a recognized processor for this target (ignoring processor)<br>‘+fxsr’ is not a recognized feature for this target (ignoring feature)<br>‘+mmx’ is not a recognized feature for this target (ignoring feature)<br>‘+sse’ is not a recognized feature for this target (ignoring feature)<br>‘+sse2’ is not a recognized feature for this target (ignoring feature)<br>‘+x87’ is not a recognized feature for this target (ignoring feature)<br>‘pentium4’ is not a recognized processor for this target (ignoring processor)<br>1 warning generated.<br>[linuxbrew@708fe4a082ee:tests]$ emcc -m32 -g -Wall -Wmissing-prototypes -Wstrict-prototypes -fexceptions -fno-strict-aliasing -fno-strict-aliasing -o XML_Parse_fuzzer runtests.o libruntests.a ../lib/.libs/libexpat.a<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_buffer<br>wasm-ld: error: runtests.o: undefined symbol: fuzzbuilder_size<br>wasm-ld: error: too many errors emitted, stopping now (use -error-limit=0 to see all errors)<br>emcc: error: ‘/home/linuxbrew/emsdk/upstream/bin/wasm-ld -o XML_Parse_fuzzer.wasm runtests.o libruntests.a ../lib/.libs/libexpat.a -L/home/linuxbrew/emsdk/upstream/emscripten/cache/sysroot/lib/wasm32-emscripten -lGL -lal -lhtml5 -lstubs-debug -lnoexit -lc-debug -ldlmalloc -lcompiler_rt -lc++ -lc++abi-debug -lsockets -mllvm -combiner-global-alias-analysis=false -mllvm -enable-emscripten-cxx-exceptions -mllvm -enable-emscripten-sjlj -mllvm -disable-lsr /tmp/tmppqspurs4libemscripten_js_symbols.so —export-if-defined=main —export-if-defined=<strong>get_exception_message —export-if-defined=free —export-if-defined=</strong>start_em_asm —export-if-defined=<strong>stop_em_asm —export-if-defined=</strong>start_em_lib_deps —export-if-defined=<strong>stop_em_lib_deps —export-if-defined=</strong>start_em_js —export-if-defined=<strong>stop_em_js —export-if-defined=</strong>main_argc_argv —export-if-defined=fflush —export=emscripten_stack_get_end —export=emscripten_stack_get_free —export=emscripten_stack_get_base —export=emscripten_stack_get_current —export=emscripten_stack_init —export=stackSave —export=stackRestore —export=stackAlloc —export=<strong>errno_location —export=</strong>get_temp_ret —export=<strong>set_temp_ret —export=</strong>cxa_is_pointer_type —export=<strong>cxa_can_catch —export=</strong>cxa_increment_exception_refcount —export=<strong>cxa_decrement_exception_refcount —export=setThrew —export=</strong>cxa_free_exception —export=<strong>wasm_call_ctors —export=</strong>get_exception_message —export=free —export-table -z stack-size=65536 —initial-memory=16777216 —no-entry —max-memory=16777216 —stack-first’ failed (returned 1)</p>
</blockquote>
</li>
</ol>
<p>​        </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/home/linuxbrew/myAFLpp/afl-clang++  -m32 -Werror -Wformat<span class="token operator">=</span><span class="token number">2</span> -Wsign-compare -Wwrite-strings -Wvla -Wshadow -Wtype-limits -ggdb -Wall -fvisibility<span class="token operator">=</span>hidden -fno-common -Wnewline-eof -fcolor-diagnostics -Wimplicit-fallthrough -Wmissing-declarations -Wmissing-prototypes  -m32 CMakeFiles/crypto_test_data.dir/crypto_test_data.cc.o CMakeFiles/crypto_test.dir/crypto/abi_self_test.cc.o CMakeFiles/crypto_test.dir/crypto/asn1/asn1_test.cc.o CMakeFiles/crypto_test.dir/crypto/base64/base64_test.cc.o CMakeFiles/crypto_test.dir/crypto/bio/bio_test.cc.o CMakeFiles/crypto_test.dir/crypto/blake2/blake2_test.cc.o CMakeFiles/crypto_test.dir/crypto/buf/buf_test.cc.o CMakeFiles/crypto_test.dir/crypto/bytestring/bytestring_test.cc.o CMakeFiles/crypto_test.dir/crypto/chacha/chacha_test.cc.o CMakeFiles/crypto_test.dir/crypto/cipher_extra/aead_test.cc.o CMakeFiles/crypto_test.dir/crypto/cipher_extra/cipher_test.cc.o CMakeFiles/crypto_test.dir/crypto/compiler_test.cc.o CMakeFiles/crypto_test.dir/crypto/conf/conf_test.cc.o CMakeFiles/crypto_test.dir/crypto/constant_time_test.cc.o CMakeFiles/crypto_test.dir/crypto/cpu_arm_linux_test.cc.o CMakeFiles/crypto_test.dir/crypto/crypto_test.cc.o CMakeFiles/crypto_test.dir/crypto/curve25519/ed25519_test.cc.o CMakeFiles/crypto_test.dir/crypto/curve25519/spake25519_test.cc.o CMakeFiles/crypto_test.dir/crypto/curve25519/x25519_test.cc.o CMakeFiles/crypto_test.dir/crypto/ecdh_extra/ecdh_test.cc.o CMakeFiles/crypto_test.dir/crypto/dh_extra/dh_test.cc.o CMakeFiles/crypto_test.dir/crypto/digest_extra/digest_test.cc.o CMakeFiles/crypto_test.dir/crypto/dsa/dsa_test.cc.o CMakeFiles/crypto_test.dir/crypto/err/err_test.cc.o CMakeFiles/crypto_test.dir/crypto/evp/evp_extra_test.cc.o CMakeFiles/crypto_test.dir/crypto/evp/evp_test.cc.o CMakeFiles/crypto_test.dir/crypto/evp/pbkdf_test.cc.o CMakeFiles/crypto_test.dir/crypto/evp/scrypt_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/aes/aes_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/bn/bn_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/cmac/cmac_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/ec/ec_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/ec/p256-nistz_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/ecdsa/ecdsa_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/hkdf/hkdf_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/md5/md5_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/modes/gcm_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/rand/ctrdrbg_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/rand/fork_detect_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/service_indicator/service_indicator_test.cc.o CMakeFiles/crypto_test.dir/crypto/fipsmodule/sha/sha_test.cc.o CMakeFiles/crypto_test.dir/crypto/hpke/hpke_test.cc.o CMakeFiles/crypto_test.dir/crypto/hmac_extra/hmac_test.cc.o CMakeFiles/crypto_test.dir/crypto/hrss/hrss_test.cc.o CMakeFiles/crypto_test.dir/crypto/impl_dispatch_test.cc.o CMakeFiles/crypto_test.dir/crypto/kyber/kyber_test.cc.o CMakeFiles/crypto_test.dir/crypto/lhash/lhash_test.cc.o CMakeFiles/crypto_test.dir/crypto/obj/obj_test.cc.o CMakeFiles/crypto_test.dir/crypto/pem/pem_test.cc.o CMakeFiles/crypto_test.dir/crypto/pkcs7/pkcs7_test.cc.o CMakeFiles/crypto_test.dir/crypto/pkcs8/pkcs8_test.cc.o CMakeFiles/crypto_test.dir/crypto/pkcs8/pkcs12_test.cc.o CMakeFiles/crypto_test.dir/crypto/poly1305/poly1305_test.cc.o CMakeFiles/crypto_test.dir/crypto/pool/pool_test.cc.o CMakeFiles/crypto_test.dir/crypto/rand_extra/rand_test.cc.o CMakeFiles/crypto_test.dir/crypto/rand_extra/getentropy_test.cc.o CMakeFiles/crypto_test.dir/crypto/refcount_test.cc.o CMakeFiles/crypto_test.dir/crypto/rsa_extra/rsa_test.cc.o CMakeFiles/crypto_test.dir/crypto/self_test.cc.o CMakeFiles/crypto_test.dir/crypto/stack/stack_test.cc.o CMakeFiles/crypto_test.dir/crypto/siphash/siphash_test.cc.o CMakeFiles/crypto_test.dir/crypto/thread_test.cc.o CMakeFiles/crypto_test.dir/crypto/test/file_test_gtest.cc.o CMakeFiles/crypto_test.dir/crypto/test/gtest_main.cc.o CMakeFiles/crypto_test.dir/crypto/trust_token/trust_token_test.cc.o CMakeFiles/crypto_test.dir/crypto/x509/x509_test.cc.o CMakeFiles/crypto_test.dir/crypto/x509/x509_time_test.cc.o CMakeFiles/crypto_test.dir/crypto/x509v3/tab_test.cc.o <span class="token operator">|</span> libtest_support_lib.a libboringssl_gtest.a crypto/libcrypto.a <span class="token operator">||</span> crypto/libcrypto.a crypto_test_data libboringssl_gtest.a libtest_support_lib.a  -o crypto_test  libtest_support_lib.a libboringssl_gtest.a crypto/libcrypto.a -lpthread
<span class="token builtin class-name">cd</span> /home/linuxbrew/FuzzBuilder/exp/boringssl/source/boringssl
/usr/bin/cmake -E make_directory /home/linuxbrew/FuzzBuilder/exp/boringssl/source/boringssl/crypto
/usr/bin/cmake -E copy /home/linuxbrew/FuzzBuilder/exp/boringssl/source/boringssl/crypto_test /home/linuxbrew/FuzzBuilder/exp/boringssl/source/boringssl/crypto<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Paper/">Paper</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fuzzing/" rel="tag">Fuzzing</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/09/04/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Security-Risks-of-Porting-C-Programs-to-WebAssembly/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          (论文阅读)Security Risks of Porting C Programs to WebAssembly
        
      </div>
    </a>
  
  
    <a href="/2023/08/03/%E3%80%90%E6%8A%80%E6%9C%AF%E7%A7%AF%E7%B4%AF%E3%80%91AFL++-Instrumention-for-WAVM/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">(技术积累)AFL++ Instrumention for WAVM</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
      <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#FuzzBuilder%E5%A4%8D%E7%8E%B0"><span class="nav-number">1.</span> <span class="nav-text">FuzzBuilder复现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Tutorial"><span class="nav-number">1.1.</span> <span class="nav-text">1. Tutorial</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Example-expat"><span class="nav-number">1.2.</span> <span class="nav-text">2. Example: expat</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Seed-generation"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 Seed generation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-executable-file-generation"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 executable file generation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E7%A7%8D%E5%AD%90%E4%BC%98%E5%8C%96"><span class="nav-number">1.2.3.</span> <span class="nav-text">2.3 种子优化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Problem"><span class="nav-number">1.3.</span> <span class="nav-text">Problem:</span></a></li></ol></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    
<footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2023 Shaw All Rights Reserved.
        
          <span id="busuanzi_container_site_pv">
            本站总访问量<span id="busuanzi_value_site_pv"></span>次
          </span>
          <span class="post-meta-divider">|</span>
          <span id="busuanzi_container_site_uv" style='display:none'>
            本站访客数<span id="busuanzi_value_site_uv"></span>人
          </span>
          <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>

  
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/bootstrap.js"></script>


<script src="/js/main.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'true', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<!-- Gaug.es Analytics -->
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', 'true');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
<!-- End Gaug.es Analytics -->




  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>



	<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2439014eb270056ee1808a49956fe114";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>




<!-- Tencent Analytics -->
	<script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId={{ theme.tencent_analytics }}";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
<!-- End Tencent Analytics -->


  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
