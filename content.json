{"meta":{"title":"Shaw","subtitle":"@hust","description":"ç§¯æ²™æˆå¡”","author":"Shaw","url":"http://example.com","root":"/"},"pages":[{"title":"All archives","date":"2021-09-03T03:39:45.000Z","updated":"2021-09-03T03:40:04.450Z","comments":true,"path":"archives/index.html","permalink":"http://example.com/archives/index.html","excerpt":"","text":""},{"title":"About","date":"2023-07-07T12:45:59.798Z","updated":"2023-07-07T12:45:59.798Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"é‚®ç®±ï¼šasdiop123321@qq.comï¼› @åä¸­ç§‘æŠ€å¤§å­¦ ç½‘ç»œç©ºé—´å®‰å…¨å­¦é™¢ Email: asdiop123321@qq.com ï¼› @ School of Cyberspace Security, Huazhong University of science and technology"},{"title":"All categories","date":"2021-09-03T03:22:06.577Z","updated":"2021-09-03T03:22:06.577Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"å‹é“¾","date":"2021-06-14T09:40:37.000Z","updated":"2021-06-14T09:55:02.256Z","comments":true,"path":"friends/index.html","permalink":"http://example.com/friends/index.html","excerpt":"","text":""},{"title":"","date":"2022-07-15T07:39:37.754Z","updated":"2022-07-15T07:39:37.754Z","comments":true,"path":"book/menu.html","permalink":"http://example.com/book/menu.html","excerpt":"","text":"Home Changelog h Categories Elements Excerpts Gallery Post Hello World Images Untitled Link Post Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam justo turpis, tincidunt ac convallis id. Untitled Tag Plugins Tags Videos ä¸­æ–‡æ¸¬è©¦ æ—¥æœ¬èªãƒ†ã‚¹ãƒˆ"},{"title":"All tags","date":"2021-06-14T09:39:05.000Z","updated":"2021-09-03T03:22:24.928Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"contact","date":"2021-06-14T09:40:01.000Z","updated":"2021-06-14T09:40:14.806Z","comments":true,"path":"contact/index.html","permalink":"http://example.com/contact/index.html","excerpt":"","text":""},{"title":"","date":"2022-07-15T07:10:17.486Z","updated":"2022-07-15T07:10:17.486Z","comments":true,"path":"book/home.html","permalink":"http://example.com/book/home.html","excerpt":"","text":"More is differentï¼Œå®è§‚ä¸å¾®è§‚çš„å®¡è§†å“²å­¦ï¼Œé‡å˜äº§ç”Ÿè´¨å˜ã€‚ â€‹ ----Shawçš„ï¼Œä¸€äº›è®°å½•ï¼Œä¸€äº›éšæ‰‹å†™ã€‚"}],"posts":[{"title":"(è®ºæ–‡å¤ç°)CompDiff","slug":"ã€è®ºæ–‡å¤ç°ã€‘Finding-Unstable-Code-via-Compiler-Driven-Differential-Testing","date":"2023-07-28T13:25:50.845Z","updated":"2023-07-29T07:13:26.016Z","comments":true,"path":"2023/07/28/ã€è®ºæ–‡å¤ç°ã€‘Finding-Unstable-Code-via-Compiler-Driven-Differential-Testing/","link":"","permalink":"http://example.com/2023/07/28/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91Finding-Unstable-Code-via-Compiler-Driven-Differential-Testing/","excerpt":"(è®ºæ–‡å¤ç°)Finding Unstable Code via Compiler-Driven Differential Testing â€‹ å¯¹è®ºæ–‡ã€ŠFinding Unstable Code via Compiler-Driven Differential Testingã€‹çš„è¿‡ç¨‹å¤ç°+ä»£ç åˆ†æã€‚","text":"(è®ºæ–‡å¤ç°)Finding Unstable Code via Compiler-Driven Differential Testing â€‹ å¯¹è®ºæ–‡ã€ŠFinding Unstable Code via Compiler-Driven Differential Testingã€‹çš„è¿‡ç¨‹å¤ç°+ä»£ç åˆ†æã€‚ ä»£ç ç»“æ„ â€‹ CompDiffçš„ä»£ç ç»“æ„å¦‚ä¸‹ï¼š . â”œâ”€â”€ aflpp (AFL++ 3.1.5aç‰ˆæœ¬é­”æ”¹-&gt;å¼•å…¥å¤šforkserver) â”‚ â”œâ”€â”€ custom_mutators â”‚ â”œâ”€â”€ dictionaries â”‚ â”œâ”€â”€ docs â”‚ â”œâ”€â”€ frida_mode â”‚ â”œâ”€â”€ include â”‚ â”œâ”€â”€ instrumentation â”‚ â”œâ”€â”€ qemu_mode â”‚ â”œâ”€â”€ src â”‚ â”œâ”€â”€ test â”‚ â”œâ”€â”€ testcases â”‚ â”œâ”€â”€ unicorn_mode â”‚ â””â”€â”€ utils â”œâ”€â”€ compilers ï¼ˆç”¨AFLå®˜æ–¹çš„warpperå¯¹c,cxx,clangä¸‰ç§ç¼–è¯‘å™¨è¿›è¡ŒåŒ…è£…ï¼Œç”¨äºåç»­ç¼–è¯‘ï¼‰ â”‚ â””â”€â”€ compiler-base â””â”€â”€ examples â”œâ”€â”€ libtiff â””â”€â”€ xpdf â€‹ å…¶ä¸­ï¼š å®éªŒå¤ç° 1. ç”ŸæˆåŒ…è£…ç¼–è¯‘å™¨ â€‹ ä»ä»“åº“ä¸‹è½½ä»£ç ï¼Œè¿è¡Œ./diff-build.shè„šæœ¬ï¼š #!/bin/bash set -e #run ./diff-build.sh clean if [ \"$1\" = \"clean\" ]; then cd \"./aflpp\" CC=clang make clean cd ../compilers make clean exit 0 fi #build modified AFL++ 3.15a cd \"./aflpp\" CC=clang make source-only CC=clang make -C utils/aflpp_driver cd .. #build different compilers(10 by default) cd \"./compilers\" source build.sh cd .. â€‹ è¯¥è„šæœ¬ä¼šç¼–è¯‘é­”æ”¹ç‰ˆçš„AFLå’Œcompilersï¼Œcompilersåˆ©ç”¨äº†AFL++æä¾›çš„ç¼–è¯‘å™¨åŒ…è£…å™¨ï¼ˆwarpperï¼‰ç”Ÿæˆä¸åŒé…ç½®çš„åŒ…è£…åçš„ç¼–è¯‘å™¨ï¼š â€‹ å¯¹äºCCå’ŒCXXï¼Œå„æœ‰10ä¸ªç”Ÿæˆï¼Œå…¶åˆ†åˆ«å¯¹åº”ç”¨gccå’Œclangä½¿ç”¨-O0, -O1,-O2,-O3, å’Œ-Os5ç§ä¼˜åŒ–é€‰é¡¹ï¼Œ2Ã—5 = 10ã€‚å…·ä½“é€»è¾‘å¯è§/compdiff/compilers/build.shï¼š #!/bin/bash # This is the building script for different compiler configurations. make clean if [ \"$1\" = \"clean\" ]; then exit 0 fi forksrv=202 id=0 compiler_id=0 for _ in $(seq 1 `jq \"[.][0] | length\" config`); do for config in `jq \"[[.][0][$&#123;compiler_id&#125;].configs][0][]\" config`; do export DIFF_CC=`jq \"[.][0][$&#123;compiler_id&#125;].CC\" config` export DIFF_CXX=`jq \"[.][0][$&#123;compiler_id&#125;].CXX\" config` export DIFF_ID=$&#123;id&#125; printf \"#define FORKSRV_FD $&#123;forksrv&#125; \\n #define DIFF_ID $&#123;DIFF_ID&#125; \\n #define DIFF_CC $&#123;DIFF_CC&#125; \\n #define DIFF_CXX $&#123;DIFF_CXX&#125; \\n #define DIFF_CONFIG $&#123;config&#125; \" > ./compiler-base/diff-config.h make id=$((id+1)) forksrv=$((forksrv+4)) done compiler_id=$((compiler_id+1)) done â€‹ å…¶ä¸­ï¼ŒFORKSRV_FDæ˜¯å¯¹åº”åœ¨AFLä¸­æ‰“å¼€çš„forkserverä¸­ä½¿ç”¨çš„æ–‡ä»¶æè¿°ç¬¦ï¼›DIFF_CONFIGå°±æ˜¯å¯¹åº”çš„ä¼˜åŒ–é€‰é¡¹ï¼Œä¾‹å¦‚-O1ã€-O2ç­‰ï¼›DIFF_IDç”¨äºåŒºåˆ†ä¸åŒçš„ç¼–è¯‘é…ç½®ï¼ˆç¼–è¯‘å™¨+ä¼˜åŒ–é€‰é¡¹ï¼‰ï¼Œå…¶åºå·åœ¨/compdiff/compilers/configä¸­å¯¹åº”å¦‚ä¸‹ï¼š â€‹ åœ¨forå¾ªç¯ä¸­ä»configè·å–è¿™äº›ç¼–è¯‘é€‰é¡¹å‚æ•°åï¼Œé€šè¿‡printfå‡½æ•°å°†å¯¹åº”è®¾ç½®å†™å…¥åˆ°./compiler-base/diff-config.hæ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶ä¼šè¢«åŒæ–‡ä»¶å¤¹ä¸‹çš„config.hæ–‡ä»¶åŒ…å«ï¼Œå¹¶æœ€ç»ˆè¢«diff-cc.cåŒ…è£…å™¨å¼•ç”¨ï¼Œæœ€ç»ˆç”Ÿæˆæˆ‘ä»¬æ‰€éœ€çš„10ç§ç¼–è¯‘å™¨ã€‚ â€‹ åœ¨åç»­çš„è¿‡ç¨‹ä¸­ï¼Œè¿™10ä¸­ä¸åŒçš„ç¼–è¯‘å™¨å°†ä¼šç”¨æ¥ç¼–è¯‘å¾…æµ‹è¯•é¡¹ç›®/æ–‡ä»¶ã€‚ 2. ç¼–è¯‘é¡¹ç›® â€‹ è¿™é‡Œä»¥libtiffä¸ºä¾‹ï¼Œç”¨ä½œè€…å·²ç»ç»™å‡ºçš„ç¼–è¯‘è„šæœ¬ç¼–è¯‘ï¼ˆåç»­å¯ä»¥å†™è‡ªå·±çš„ï¼‰ï¼š ./diff-instrument.sh ./examples/libtiff/build.sh â€‹ å¯ä»¥çœ‹åˆ°è„šæœ¬è‡ªåŠ¨ä¸‹è½½äº†libtiffå¹¶ç¼–è¯‘ï¼Œç„¶åç”¨ä¸Šä¸€æ­¥ç”Ÿæˆçš„ç¼–è¯‘å™¨ç¼–è¯‘äº†10ä¸ªä¸åŒçš„ç‰ˆæœ¬å’Œä¸€ä¸ªåŸç”Ÿç‰ˆæœ¬ï¼š PS:ç”±äºä½œè€…ç»™å‡ºçš„shellè„šæœ¬éƒ½æ˜¯ç›´æ¥ä»githubä»“åº“ä¸‹è½½æœ€æ–°ç‰ˆçš„è½¯ä»¶ï¼Œæœ€æ–°ç‰ˆæœ¬çš„xpdfæ ·ä¾‹(2023.7.29)åœ¨æˆ‘çš„è™šæ‹Ÿæœºä¸Šå­˜åœ¨QTsoåº“ä¸å…¼å®¹é—®é¢˜ï¼Œä½†è¿™ä¸ªbugä¸é‡è¦ï¼Œæ•…é¿å…æµªè´¹æ—¶é—´è§è¿™é‡Œä½¿ç”¨libtiffåšæ¼”ç¤ºã€‚ 3. Fuzzing â€‹ ç›´æ¥è¿è¡Œé­”æ”¹åçš„AFLå³å¯ï¼š $ ./aflpp/afl-fuzz -y 10 -i examples/libtiff/seeds -o examples/libtiff/findings -Y \"out.file\" -- ./examples/libtiff/bin/tiffcp -M -i @@ out.file â€‹ ä½†å…¶ç”±äºéœ€è¦å°†ç¨‹åºç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå¤§é‡çš„I/Oæ“ä½œä»¥åŠæ¯è½®éœ€è¦è¿è¡Œ10+1ä¸ªforkserverï¼Œå¯¼è‡´å…¶é€Ÿåº¦è¿˜ä¸å¦‚æ­£å¸¸çš„1/10ï¼š â€‹ å½“ç„¶ï¼Œè¿™æ˜¯åœ¨è™šæ‹Ÿæœºå†…è·‘çš„ç»“æœï¼Œå®é™…ç‰©ç†æœºä¼šç•¥å¿«ä¸€äº›ï¼Œä½†ä¸ä¼šå¿«å¤ªå¤šã€‚ â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)â˜…Finding Unstable Code via Compiler-Driven Differential Testing","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Finding-Unstable-Code-via-Compiler-Driven-Differential-Testing","date":"2023-07-27T07:43:41.893Z","updated":"2023-07-27T13:24:04.540Z","comments":true,"path":"2023/07/27/ã€è®ºæ–‡é˜…è¯»ã€‘Finding-Unstable-Code-via-Compiler-Driven-Differential-Testing/","link":"","permalink":"http://example.com/2023/07/27/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Finding-Unstable-Code-via-Compiler-Driven-Differential-Testing/","excerpt":"Finding Unstable Code via Compiler-Driven Differential Testing æ—¶é—´ï¼š2023 ä½œè€…ï¼šShaohua Liã€Zhendong Suï¼ˆè‹é»ä¸–è”é‚¦ç†å·¥ï¼‰ ä¼šè®®ï¼šASPLOSï¼ˆCCF-Aï¼‰ å¼€æºï¼šshao-hua-li/compdiff (github.com) Abstract â€‹ ä¸ç¨³å®šçš„ä»£ç æ˜¯æŒ‡ç”±äºç¨‹åºä¸­å­˜åœ¨æœªå®šä¹‰è¡Œä¸ºï¼ˆUBï¼‰ï¼Œå¯¼è‡´è¿è¡Œæ—¶è¯­ä¹‰ä¸ä¸€è‡´æˆ–ä¸ç¨³å®šçš„ä»£ç ã€‚ç¼–è¯‘å™¨é€šè¿‡å‡è®¾æœªå®šä¹‰è¡Œä¸ºæ°¸è¿œä¸ä¼šå‘ç”Ÿæ¥åˆ©ç”¨UBï¼Œä»è€Œç”Ÿæˆé«˜æ•ˆä½†æ½œåœ¨è¯­ä¹‰ä¸ä¸€è‡´çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å®è·µè€…ä»¬åœ¨è®¾è®¡åŠ¨æ€å·¥å…·ï¼ˆä¾‹å¦‚sanitizersï¼‰æ¥å¤„ç†å¸¸è§çš„UBé—®é¢˜æ—¶å·²ä»˜å‡ºäº†å¤§é‡ç ”ç©¶å’Œå·¥ç¨‹åŠªåŠ›ã€‚ç„¶è€Œï¼Œç›®å‰çš„æŠ€æœ¯ä»é¢ä¸´ä¸€ä¸ªé‡å¤§æŒ‘æˆ˜ï¼Œå³å¦‚ä½•æ£€æµ‹é‚£äº›è¶…å‡ºå½“å‰æŠ€æœ¯èŒƒå›´çš„UBé—®é¢˜ã€‚ â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ç§åä¸ºCompiler-driven differential testingï¼ˆCompDiffï¼‰çš„ç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•ï¼Œç”¨äºå‘ç°C/C++ç¨‹åºä¸­çš„ä¸ç¨³å®šä»£ç ã€‚CompDiffåˆ©ç”¨äº†ä¸€ä¸ªäº‹å®ï¼Œå³å½“ç¼–è¯‘ä¸ç¨³å®šä»£ç æ—¶ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å®ç°å¯èƒ½ä¼šç”Ÿæˆè¯­ä¹‰ä¸Šä¸ä¸€è‡´çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æˆ‘ä»¬çš„ä¸»è¦æ–¹æ³•æ˜¯æ£€æŸ¥ç›¸åŒè¾“å…¥ä¸Šä¸åŒäºŒè¿›åˆ¶æ–‡ä»¶çš„è¾“å‡ºã€‚è¾“å‡ºçš„å·®å¼‚å¯èƒ½è¡¨æ˜å­˜åœ¨ä¸ç¨³å®šçš„ä»£ç ã€‚ä¸ºäº†åœ¨å®é™…ç¨‹åºä¸­æ£€æµ‹ä¸ç¨³å®šä»£ç ï¼Œæˆ‘ä»¬è¿˜å°†CompDiffé›†æˆåˆ°AFL++ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸ç”¨ä¸”ç§¯æç»´æŠ¤çš„é€šç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ã€‚ â€‹ å°½ç®¡CompDiffçš„æ–¹æ³•ç®€å•ï¼Œä½†å®è·µä¸­éå¸¸æœ‰æ•ˆï¼šåœ¨JulietåŸºå‡†ç¨‹åºä¸Šï¼Œç›¸æ¯”äºsanitizersï¼ŒCompDiffç‹¬ç‰¹åœ°æ£€æµ‹åˆ°1,409ä¸ªé”™è¯¯ï¼›åœ¨23ä¸ªæµè¡Œçš„å¼€æºC/C++é¡¹ç›®ä¸­ï¼ŒCompDiff-AFL++å‘ç°äº†78ä¸ªæ–°é”™è¯¯ï¼Œå…¶ä¸­52ä¸ªå·²ç»è¢«å¼€å‘äººå‘˜ä¿®å¤ï¼Œè€Œ36ä¸ªæ— æ³•é€šè¿‡sanitizersæ£€æµ‹å‡ºæ¥ã€‚æˆ‘ä»¬çš„è¯„ä¼°è¿˜æ­ç¤ºäº†ä¸€ä¸ªäº‹å®ï¼Œå³CompDiffçš„è®¾è®¡å¹¶ä¸æ˜¯ä¸ºäº†å–ä»£å½“å‰çš„UBæ£€æµ‹å·¥å…·ï¼Œè€Œæ˜¯ä¸ºå®ƒä»¬æä¾›è¡¥å……ã€‚","text":"Finding Unstable Code via Compiler-Driven Differential Testing æ—¶é—´ï¼š2023 ä½œè€…ï¼šShaohua Liã€Zhendong Suï¼ˆè‹é»ä¸–è”é‚¦ç†å·¥ï¼‰ ä¼šè®®ï¼šASPLOSï¼ˆCCF-Aï¼‰ å¼€æºï¼šshao-hua-li/compdiff (github.com) Abstract â€‹ ä¸ç¨³å®šçš„ä»£ç æ˜¯æŒ‡ç”±äºç¨‹åºä¸­å­˜åœ¨æœªå®šä¹‰è¡Œä¸ºï¼ˆUBï¼‰ï¼Œå¯¼è‡´è¿è¡Œæ—¶è¯­ä¹‰ä¸ä¸€è‡´æˆ–ä¸ç¨³å®šçš„ä»£ç ã€‚ç¼–è¯‘å™¨é€šè¿‡å‡è®¾æœªå®šä¹‰è¡Œä¸ºæ°¸è¿œä¸ä¼šå‘ç”Ÿæ¥åˆ©ç”¨UBï¼Œä»è€Œç”Ÿæˆé«˜æ•ˆä½†æ½œåœ¨è¯­ä¹‰ä¸ä¸€è‡´çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å®è·µè€…ä»¬åœ¨è®¾è®¡åŠ¨æ€å·¥å…·ï¼ˆä¾‹å¦‚sanitizersï¼‰æ¥å¤„ç†å¸¸è§çš„UBé—®é¢˜æ—¶å·²ä»˜å‡ºäº†å¤§é‡ç ”ç©¶å’Œå·¥ç¨‹åŠªåŠ›ã€‚ç„¶è€Œï¼Œç›®å‰çš„æŠ€æœ¯ä»é¢ä¸´ä¸€ä¸ªé‡å¤§æŒ‘æˆ˜ï¼Œå³å¦‚ä½•æ£€æµ‹é‚£äº›è¶…å‡ºå½“å‰æŠ€æœ¯èŒƒå›´çš„UBé—®é¢˜ã€‚ â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ç§åä¸ºCompiler-driven differential testingï¼ˆCompDiffï¼‰çš„ç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•ï¼Œç”¨äºå‘ç°C/C++ç¨‹åºä¸­çš„ä¸ç¨³å®šä»£ç ã€‚CompDiffåˆ©ç”¨äº†ä¸€ä¸ªäº‹å®ï¼Œå³å½“ç¼–è¯‘ä¸ç¨³å®šä»£ç æ—¶ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å®ç°å¯èƒ½ä¼šç”Ÿæˆè¯­ä¹‰ä¸Šä¸ä¸€è‡´çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æˆ‘ä»¬çš„ä¸»è¦æ–¹æ³•æ˜¯æ£€æŸ¥ç›¸åŒè¾“å…¥ä¸Šä¸åŒäºŒè¿›åˆ¶æ–‡ä»¶çš„è¾“å‡ºã€‚è¾“å‡ºçš„å·®å¼‚å¯èƒ½è¡¨æ˜å­˜åœ¨ä¸ç¨³å®šçš„ä»£ç ã€‚ä¸ºäº†åœ¨å®é™…ç¨‹åºä¸­æ£€æµ‹ä¸ç¨³å®šä»£ç ï¼Œæˆ‘ä»¬è¿˜å°†CompDiffé›†æˆåˆ°AFL++ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸ç”¨ä¸”ç§¯æç»´æŠ¤çš„é€šç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ã€‚ â€‹ å°½ç®¡CompDiffçš„æ–¹æ³•ç®€å•ï¼Œä½†å®è·µä¸­éå¸¸æœ‰æ•ˆï¼šåœ¨JulietåŸºå‡†ç¨‹åºä¸Šï¼Œç›¸æ¯”äºsanitizersï¼ŒCompDiffç‹¬ç‰¹åœ°æ£€æµ‹åˆ°1,409ä¸ªé”™è¯¯ï¼›åœ¨23ä¸ªæµè¡Œçš„å¼€æºC/C++é¡¹ç›®ä¸­ï¼ŒCompDiff-AFL++å‘ç°äº†78ä¸ªæ–°é”™è¯¯ï¼Œå…¶ä¸­52ä¸ªå·²ç»è¢«å¼€å‘äººå‘˜ä¿®å¤ï¼Œè€Œ36ä¸ªæ— æ³•é€šè¿‡sanitizersæ£€æµ‹å‡ºæ¥ã€‚æˆ‘ä»¬çš„è¯„ä¼°è¿˜æ­ç¤ºäº†ä¸€ä¸ªäº‹å®ï¼Œå³CompDiffçš„è®¾è®¡å¹¶ä¸æ˜¯ä¸ºäº†å–ä»£å½“å‰çš„UBæ£€æµ‹å·¥å…·ï¼Œè€Œæ˜¯ä¸ºå®ƒä»¬æä¾›è¡¥å……ã€‚ Background â€‹ å¯¹äºåŒ…å«æœªå®šä¹‰è¡Œä¸ºçš„ä»£ç ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å®ç°å¯èƒ½ä¼šç”Ÿæˆè¯­ä¹‰ä¸åŒçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä¹‹å‰çš„ç ”ç©¶ [47, 48] è¡¨æ˜ï¼Œæœªå®šä¹‰è¡Œä¸ºå¯èƒ½ä¼šå¯¼è‡´ä¼˜åŒ–ä¸ç¨³å®šä»£ç ï¼Œå³ç¼–è¯‘å™¨ä¼˜åŒ–å¯èƒ½ä¼šæ„å¤–ä¸¢å¼ƒçš„ä»£ç ã€‚ â€‹ å¦‚ä¸Šå›¾Line9çš„ifè¯­å¥å°è¯•å¤„ç†å¯èƒ½å‡ºç°çš„æ•´æ•°æº¢å‡ºï¼Œè¯¥è¯­å¥ï¼ˆoffset+len &lt; offsetï¼‰åªæœ‰åœ¨æ•´æ•°æº¢å‡ºæ—¶æ‰å¯èƒ½æˆç«‹ã€‚ä½†æ˜¯ï¼Œç¼–è¯‘å™¨å¯ä»¥åœ¨å‡è®¾æœªå®šä¹‰è¡Œä¸ºä»æœªå‘ç”Ÿçš„æƒ…å†µä¸‹è¿›è¡Œä»»æ„ä¼˜åŒ–æ“ä½œï¼Œç»“æœå°±æ˜¯åœ¨clang -O2å‚æ•°ä¸‹ç§»é™¤äº†9-11è¡Œä»£ç ï¼Œåœ¨-O0ä¸‹åˆ™ä¸ä¼šã€‚ â€‹ ä¸€æ–¹é¢ï¼Œè¿™ä¸ªé—®é¢˜ä¼šå¯¼è‡´ä¼˜åŒ–åçš„äºŒè¿›åˆ¶æ–‡ä»¶å‡ºç°å®‰å…¨æ¼æ´ï¼Œå› ä¸ºå¤§é‡éæ³•å†…å­˜æ•°æ®å¯èƒ½ä¼šè¢«è½¬å‚¨ã€‚å¦ä¸€æ–¹é¢ï¼Œå®ƒç ´åäº†ä»£ç çš„åŠŸèƒ½æ­£ç¡®æ€§ï¼Œå› ä¸ºç”±ä¸åŒç¼–è¯‘å™¨ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„è¾“å‡ºç»“æœã€‚ Contribution æˆ‘ä»¬æå‡ºçš„ CompDiff æ˜¯ä¸€ç§ç®€å•ã€ç›´æ¥ä½†æœ‰æ•ˆçš„æŸ¥æ‰¾ä¸ç¨³å®šä»£ç çš„æ–¹æ³•; æˆ‘ä»¬å°† CompDiff é›†æˆåˆ°AFL++ä¸­; æˆ‘ä»¬åœ¨åŸºå‡†ç¨‹åºå’Œå®é™…ç¨‹åºä¸Šå¯¹ CompDiff è¿›è¡Œäº†è¯„ä¼°ï¼Œç»“æœè¡¨æ˜ï¼ŒCompDiff å¯¹sanitizeræœ‰æ˜æ˜¾çš„è¡¥å……ä½œç”¨ã€‚ Examples Example 1: Invalid pointer comparison â€‹ ä¸Šå›¾æ˜¯CompDiffåœ¨Binutilsä¸­æ‰¾åˆ°çš„ä¸ç¨³å®šä»£ç æ ·ä¾‹ï¼ŒæŒ‡é’ˆlook_forå’Œsaved_startåˆ†åˆ«æŒ‡å‘ä¸åŒçš„å¯¹è±¡ã€‚ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦å¯¹æŒ‡å‘ä¸åŒçš„å¯¹è±¡è¿›è¡Œæ¯”è¾ƒæ˜¯ä¸€ä¸ªæœªå®šä¹‰è¡Œä¸ºï¼Œå¹¶ä¸”å·²æœ‰çš„sanitizerå¹¶ä¸èƒ½å¯¹å…¶è¿›è¡Œæ£€æµ‹ï¼Œå› ä¸ºæ²¡åŠæ³•è®¾è®¡ä¸€ä¸ªåˆç†çš„ç›‘æµ‹æœºåˆ¶ã€‚ â€‹ ä½†CompDiff å¯ä»¥è½»æ¾æ£€æµ‹åˆ°è¿™ä¸€é—®é¢˜ï¼Œå› ä¸ºä¸åŒç¼–è¯‘å™¨å®ç°å¯¹ifè¯­å¥çš„è¯„ä¼°æ–¹å¼ä¸åŒï¼Œå› æ­¤ä¼šè§‚å¯Ÿåˆ°ä¸åŒçš„è¾“å‡ºç»“æœã€‚ Example 2: Evaluation order of subexpressions with conflict side effects â€‹ ä¸Šå›¾æ˜¯ä»Tcpdumpä¸­æ‰¾åˆ°çš„ä¸ç¨³å®šä»£ç æ ·ä¾‹ï¼Œç¬¬ä¹è¡Œé€šè¿‡è°ƒç”¨DP_PRINTå‡½æ•°æ¥dumpä¿¡æ¯ï¼Œå¹¶ä¸”è¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°æ˜¯å‡½æ•°GET_LINKADDR_STRINGçš„è¿”å›å€¼ã€‚ â€‹ é¦–å…ˆï¼Œå‡½æ•°GET_LINKADDR_STRINGä½¿ç”¨é™æ€å­—ç¬¦æ•°ç»„ç¼“å†²åŒºæ¥å­˜å‚¨ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œç¼“å†²åŒºæŒ‡å‘çš„å†…å­˜åŒºåŸŸå°†åœ¨å‡½æ•°è°ƒç”¨ä¸­å…±äº«ã€‚ç”±äºè¯¥å‡½æ•°æœ‰ä¸¤æ¬¡è°ƒç”¨ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨å­˜å‚¨åœ¨ç¼“å†²åŒºä¸­çš„ç»“æœå°†è¢«ç¬¬äºŒæ¬¡è°ƒç”¨è¦†ç›–ã€‚å› æ­¤ï¼Œåœ¨è½¬å‚¨çš„å­—ç¬¦ä¸²ä¸­ï¼Œwho-is å’Œ tell è¿™ä¸¤ä¸ªå­—æ®µæ€»æ˜¯ç›¸åŒçš„ã€‚ â€‹ å…¶æ¬¡ï¼Œç”±äºè¯­è¨€è§„èŒƒå¯¹å‡½æ•°å‚æ•°çš„è¯„ä¼°é¡ºåºæ²¡æœ‰é™åˆ¶ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å¯èƒ½ä¼šä»¥ä¸åŒçš„é¡ºåºè¯„ä¼°è¿™ä¸¤æ¬¡ GET_LINKADDR_STRING è°ƒç”¨ã€‚å¦‚æœæˆ‘ä»¬åˆ†åˆ«ç”¨ gcc å’Œ clang ç¼–è¯‘ Tcpdumpï¼Œå¾—åˆ°çš„ä¸¤ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¼šä»¥ç›¸åçš„é¡ºåºè¯„ä¼° ND_PRINT çš„å‚æ•°ï¼Œä»è€Œå¯¼è‡´è½¬å‚¨å­—ç¬¦ä¸²ä¸ä¸€è‡´ã€‚å…·ä½“æ¥è¯´ï¼Œclang ä¼šä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªè¯„ä¼°å‚æ•°ï¼Œå³ p2 ä¼šåŒæ—¶è½¬å‚¨åˆ° who-is å’Œ tellï¼›è€Œ gcc ä¼šä»æœ€åä¸€ä¸ªåˆ°ç¬¬ä¸€ä¸ªè¯„ä¼°å‚æ•°ï¼Œå³ p1 ä¼šåŒæ—¶è½¬å‚¨åˆ°ä¸¤ä¸ªå±æ€§ã€‚ â€‹ ç›®å‰å·²æœ‰çš„sanitizeræ²¡æ³•å‘ç°è¿™ä¸ªé—®é¢˜ï¼Œè¦æ‰©å±•sanitizerä»¥æ”¯æŒæ­¤ç±»æ£€æµ‹ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªæ–°çš„æ£€æŸ¥å™¨ï¼Œæ£€æŸ¥å¤šä¸ªå­è¡¨è¾¾å¼æ˜¯å¦ä¼šå¯¹å†²çªå†…å­˜åŒºåŸŸäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä½†å¦‚ä½•å®ç°è¿™æ ·çš„æ£€æŸ¥å™¨ä»æ˜¯æœªçŸ¥æ•°ã€‚ Example 3: Uninitialized memory usage â€‹ ä¸Šå›¾ç»™å‡ºäº†ä¸€ä¸ªç”±äºä½¿ç”¨äº†æœªåˆå§‹åŒ–å˜é‡è€Œå¯¼è‡´ä¸ç¨³å®šçš„ä»£ç ç‰‡æ®µã€‚å¼€å‘äººå‘˜å¯èƒ½ä¼šè®¤ä¸ºï¼Œè™½ç„¶å˜é‡læœªåˆå§‹åŒ–ï¼Œä½†å…¶åˆå§‹éšæœºå€¼åº”åœ¨ç¬¬ 6 è¡Œè¢« isä¸­çš„å†…å®¹è¦†ç›–ã€‚ç„¶è€Œï¼Œåœ¨ isä¸ºç©ºå­—ç¬¦ä¸²çš„æƒ…å†µä¸‹ï¼Œå˜é‡ lå°†ä¿æŒä¸å˜ï¼Œç„¶åï¼Œæœªåˆå§‹åŒ–çš„å€¼å°†ç”¨äºå‰©ä½™çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨æœ¬ä¾‹ä¸­å°†æ‰“å°è¾“å‡ºåˆ° ostreamã€‚ â€‹ è™½ç„¶MemorySanitizeræ”¯æŒæ£€æµ‹æœªåˆå§‹åŒ–å†…å­˜çš„ä½¿ç”¨ï¼Œå…¶ä¸­æœªåˆå§‹åŒ–å€¼å¿…é¡»ç”¨äºç¡®å®šä»£ç åˆ†æ”¯ï¼Œä¾‹å¦‚ï¼Œifè¯­å¥ä¾èµ–äºæœªåˆå§‹åŒ–å€¼ã€‚ä¸ºé¿å…è¯¯æŠ¥ï¼Œå®ƒä¸æ”¯æŒç¤ºä¾‹ä¸­æ‰€ç¤ºçš„æƒ…å†µã€‚ä½†CompDiff-AFL++ å¯ä»¥æ£€æµ‹åˆ°è¿™ä¸€é—®é¢˜ï¼Œå› ä¸ºï¼š â€‹ 1ï¼‰åç«¯ AFL++å¯ä»¥ç”Ÿæˆå¯¼è‡´å˜é‡ä¸ºç©ºçš„æµ‹è¯•æ ·ä¾‹ï¼Œä»è€Œä½¿ä¸åŒäºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„ lä¸åŒï¼› â€‹ 2ï¼‰CompDiff å¯ä»¥æ•è·ä¸åŒçš„è¾“å‡ºã€‚ Model Workflow of CompDiff æ‰¾åˆ°ä¸€äº›è‡ªèº«å®Œå–„çš„ç¼–è¯‘å™¨Ciï¼› ç”¨è¿™äº›ç¼–è¯‘å™¨ç¼–è¯‘ç¨‹åºPå¾—åˆ°å¤šä¸ªäºŒè¿›åˆ¶æ–‡ä»¶Biï¼› æ‰¾åˆ°ä¸€ä¸ªè¾“å…¥é›†Lï¼› åœ¨æ¯ä¸ªBiä¸Šè¿è¡ŒLï¼Œå¾—åˆ°è¾“å‡ºOiï¼Œæ¯”è¾ƒå…¶å¼‚åŒã€‚ :star:CompDiff-AFL++ â€‹ åœ¨CompDiffç»“åˆAFL++çš„è¿‡ç¨‹ä¸­ï¼Œä»ä¸€ä»½å¾…æµ‹è¯•æºç ç¼–è¯‘äº†è‹¥å¹²ä¸ªäºŒè¿›åˆ¶ç¨‹åºï¼Œå…¶ä¸­ä¸€ä¸ª\\(B_{fuzz}\\)æ˜¯ç”¨AFLè‡ªå¸¦çš„ç¼–è¯‘å™¨æ’æ¡©ç¼–è¯‘å®Œæˆçš„ï¼Œå…¶å°±æ˜¯æ­£å¸¸ä½¿ç”¨AFL++æ—¶çš„å·¥ä½œæµç¨‹ï¼Œç¼–è¯‘å™¨ï¼ˆå¦‚afl-clang-fastï¼‰ä¼šåœ¨äºŒè¿›åˆ¶ç¨‹åºä¸­æ’å…¥forkserverã€è¦†ç›–ç‡åé¦ˆä»¥åŠå¯é€‰çš„sanitizeråŠŸèƒ½ã€‚å…¶ä½™çš„äºŒè¿›åˆ¶ç¨‹åºéƒ½æ˜¯ä»å¾…æµ‹è¯•ç¼–è¯‘å™¨ä¸­ç¼–è¯‘è€Œæ¥çš„æ™®é€šäºŒè¿›åˆ¶ç¨‹åºï¼Œä¸ºäº†å¿«é€Ÿè¿è¡Œï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­æ’å…¥äº†AFLçš„forkserveråŠŸèƒ½ã€‚ Instrumentation on â„¬ğ‘– â€‹ æ¯ä¸ªBiç”±ä¸åŒçš„ï¼ˆç¼–è¯‘å™¨+ä¼˜åŒ–å‚æ•°ï¼‰é…ç½®ç¼–è¯‘è€Œæˆï¼Œå¹¶å¯¹å…¶è¿›è¡Œä»£ç æ’æ¡©ä»¥å®ç°forkserverï¼Œforkserverçš„å…·ä½“æœºåˆ¶è§ï¼š(æŠ€æœ¯ç§¯ç´¯)How does AFL++ run a program? | Shaw (shawdox.github.io) Output examination â€‹ é»˜è®¤æƒ…å†µä¸‹AFL++ä¼šä¸¢å¼ƒå¾…æµ‹è¯•ç¨‹åºçš„è¾“å‡ºï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨dup2()å‡½æ•°å°†å…¶é‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶ï¼Œç„¶åé€šè¿‡æ£€æŸ¥è¾“å‡ºæ–‡ä»¶çš„checksumæ¥åˆ¤æ–­æ˜¯å¦æœ‰discrepancyã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†AFL++æ”¯æŒçš„MurmurHash3å“ˆå¸Œå‡½æ•°æ¥è®¡ç®—checksumã€‚ Bug-triggering inputs â€‹ æˆ‘ä»¬ä¼šå°†å¼•å‘è¾“å‡ºdiscrepancyçš„æ‰€æœ‰è¾“å…¥ä¿å­˜åˆ°ä¸€ä¸ªå•ç‹¬çš„ç›®å½• \"diffs/\"ä¸­ï¼Œä»¥ä¾¿å°†æ¥è¿›è¡Œè¯Šæ–­ã€‚ä¸æ™®é€šfuzzingä¸­çš„å´©æºƒè§¦å‘è¾“å…¥ç±»ä¼¼ï¼Œæœ‰è®¸å¤šè¾“å…¥ä¼šè§¦å‘ç›¸åŒçš„é”™è¯¯ï¼Œè‡ªåŠ¨è¯†åˆ«ç‹¬ç‰¹çš„å·®å¼‚å¹¶éæ˜“äº‹ï¼Œå°¤å…¶æ˜¯åœ¨differential testingçš„æƒ…å†µä¸‹ã€‚ç›®å‰ï¼Œæˆ‘ä»¬ä¾é äººå·¥åˆ†ææŠ¥å‘Šçš„å·®å¼‚æ¥åˆ†æµé”™è¯¯æŠ¥å‘Šã€‚ Evaluation 1. æµ‹è¯•ç¯å¢ƒ ç‰ˆæœ¬ä¿¡æ¯ï¼š â€‹ åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­ï¼Œä½¿ç”¨äº†gcc 11.1.0å’Œclang 13.0.1ï¼ˆå½“æ—¶æœ€æ–°çš„ç‰ˆæœ¬ï¼‰ä½œä¸ºæµ‹è¯•çš„åç«¯ç¼–è¯‘å™¨ï¼Œåœ¨æ¯ä¸ªç¼–è¯‘å™¨ä¸­éƒ½ä¼šæµ‹è¯•-O0, -O1,-O2,-O3, å’Œ-Osä¼˜åŒ–é€‰é¡¹ï¼Œæ•…ä¸€å…±æœ‰10ä¸­ä¸åŒçš„ç¼–è¯‘é…ç½®é€‰é¡¹ã€‚AFL++çš„ç‰ˆæœ¬æ˜¯3.15aã€‚ æ•°æ®é›†ï¼š Juliet test suite 23 ä¸ªç»´æŠ¤è‰¯å¥½çš„å¼€æº C/C++ é¡¹ç›® å¯¹æ¯”ï¼š 3ç§å¹¿æ³›ä½¿ç”¨çš„é™æ€åˆ†æå·¥å…·ï¼šCoverity [40]ã€Cppcheck [12] å’Œ Infer [31]ï¼› Sanitizersï¼šASanã€UBSanã€MSanï¼› 2. æµ‹è¯•ç»“æœ â€‹ æµ‹è¯•åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šåœ¨Juliet test suiteä¸Šæµ‹è¯•ç”¨äºæµ‹è¯•CompDiffçš„effectivenessï¼›åœ¨çœŸå®çš„é¡¹ç›®ä¸Šæµ‹è¯•å…¶æ£€æµ‹bugçš„èƒ½åŠ›ã€‚ 2.1 Effectiveness of CompDiff in Benchmark Programs ä¸ CompDiff ç›¸æ¯”ï¼Œé™æ€å·¥å…·çš„false positiveä¸å¯å¿½ç•¥ï¼Œå¹¶ä¸”é”™è¯¯æ£€æµ‹ç‡ç›¸å¯¹è¾ƒä½ã€‚ CompDiff å¯ä»¥å‘ç°è®¸å¤šé¢å¤–çš„é”™è¯¯ï¼Œæ˜¯å¯¹sanitizerçš„è¡¥å……ï¼› ä¸æ¯ç§sanitizerç›¸æ¯”ï¼ŒCompDiff çš„bugè¦†ç›–ç‡æœ€é«˜; CompDiff ä¼šé—æ¼æŸäº›ç±»å‹çš„é”™è¯¯; CompDiff æ²¡æœ‰false postiveã€‚ 2.2 The bug detection capability of CompDiffAFL++ in real-world software åœ¨çœŸå®çš„C/C++é¡¹ç›®ä¸Šä½¿ç”¨CompDiffï¼Œå…¶ç›´æ¥åˆ©ç”¨å…¶Unit testä½œä¸ºåˆå§‹ç§å­è¿›è¡Œfuzzingï¼š å°è®° CompDiffæ–‡ç« çš„ä¼˜ç‚¹ï¼š æ•°æ®åˆ†æååˆ†è¯¦å°½ï¼Œåˆ©ç”¨Juliet test suiteæµ‹è¯•å…¶effectivenessï¼Œåˆ©ç”¨å¼€æºé¡¹ç›®æµ‹è¯•å…¶å‘ç°bugçš„çœŸå®èƒ½åŠ›ï¼Œå¹¶å¯¹å…¶å‘ç°bugçš„èƒ½åŠ›ã€è¯¯æŠ¥ç‡ã€ä¸å…¶å®ƒå·¥å…·çš„å¯¹æ¯”ã€ä¸åŒç¼–è¯‘é€‰é¡¹çš„å½±å“éƒ½åˆ†æçš„ååˆ†åˆ°ä½ï¼Œå›¾è¡¨æ¸…æ™°æ˜äº†ï¼Œåˆ†ææ•°æ®è¯¦å®ï¼Œå¾ˆæœ‰è¯´æœåŠ›ï¼› ideaç«‹æ„å¾ˆå¥½ï¼Œé€šè¿‡exampleså¾ˆå¥½çš„è¯´æ˜äº†ä¸ºä»€ä¹ˆå·²æœ‰çš„å·¥å…·æ²¡æ³•è§£å†³ä¸€äº›æœªå®šä¹‰è¡Œä¸ºï¼Œè€ŒCompDiffå¯ä»¥ï¼Œçªå‡ºäº†å…¶ä¼˜ç‚¹ï¼› [å¾…æ›´æ–°]","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)UTOPIA-Automatic Generation of Fuzz Driver using Unit Tests","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘UTOPIA-Automatic-Generation-of-Fuzz-Driver-using-Unit-Tests","date":"2023-07-24T05:51:56.821Z","updated":"2023-07-24T06:55:42.832Z","comments":true,"path":"2023/07/24/ã€è®ºæ–‡é˜…è¯»ã€‘UTOPIA-Automatic-Generation-of-Fuzz-Driver-using-Unit-Tests/","link":"","permalink":"http://example.com/2023/07/24/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91UTOPIA-Automatic-Generation-of-Fuzz-Driver-using-Unit-Tests/","excerpt":"UTOPIA: Automatic Generation of Fuzz Driver using Unit Tests æ—¶é—´ï¼š2022 ä½œè€…ï¼šBokdeuk Jeongã€Joonun Jangï¼ˆSamsung Researchï¼‰ã€Taesoo Kimï¼ˆä½æ²»äºšç†å·¥ï¼‰ ä¼šè®®ï¼šS&amp;P'2023 å¼€æºï¼šhttps://github.com/Samsung/UTopia Abstract â€‹ Fuzzingå¯ä»¥è¯´æ˜¯æ£€æµ‹è½¯ä»¶å®‰å…¨æ¼æ´çš„æœ€å®ç”¨æ–¹æ³•ï¼Œä½†é‡‡ç”¨è¿™ç§æ–¹æ³•éœ€è¦ä»˜å‡ºä¸å°çš„åŠªåŠ›ã€‚è¦æƒ³å–å¾—æˆæ•ˆï¼Œé«˜è´¨é‡çš„fuzz driverç¨‹åºåº”é¦–å…ˆåº”å½“åŒ…å«é€‚å½“çš„ API åºåˆ—ï¼Œä»¥ä¾¿è¯¦å°½åœ°æ¢ç´¢ç¨‹åºçŠ¶æ€ã€‚ä¸ºå‡è½»è¿™ä¸€è´Ÿæ‹…ï¼Œç°æœ‰è§£å†³æ–¹æ¡ˆè¯•å›¾é€šè¿‡ä»ç”¨æˆ·ä»£ç ï¼ˆå³ API çš„å®é™…ä½¿ç”¨ï¼‰ä¸­æ¨æ–­å‡ºæœ‰æ•ˆçš„ API åºåˆ—ï¼Œæˆ–ç›´æ¥ä»æ ·æœ¬æ‰§è¡Œä¸­æå– API åºåˆ—æ¥ç”Ÿæˆfuzz driverç¨‹åºã€‚é—æ†¾çš„æ˜¯ï¼Œæ‰€æœ‰ç°æœ‰æ–¹æ³•éƒ½å­˜åœ¨ä¸€ä¸ªå…±åŒé—®é¢˜ï¼šè§‚å¯Ÿåˆ°çš„ API åºåˆ—ï¼ˆæ— è®ºæ˜¯é™æ€æ¨æ–­è¿˜æ˜¯åŠ¨æ€ç›‘æ§ï¼‰éƒ½ä¸è‡ªå®šä¹‰åº”ç”¨ç¨‹åºé€»è¾‘æ··æ‚åœ¨ä¸€èµ·ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œå•å…ƒæµ‹è¯•æ˜¯ç”±åº”ç”¨ç¨‹åºæ¥å£çš„å®é™…è®¾è®¡è€…ç²¾å¿ƒåˆ¶ä½œçš„ï¼Œä»¥éªŒè¯å…¶æ­£ç¡®ä½¿ç”¨ï¼Œè€Œä¸”é‡è¦çš„æ˜¯ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ç¼–å†™å•å…ƒæµ‹è¯•æ˜¯ä¸€ç§å¸¸è§åšæ³•ï¼ˆä¾‹å¦‚ï¼Œè¶…è¿‡ 70% çš„æµè¡Œ GitHub é¡¹ç›®ï¼‰ã€‚ â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å¼€æºå·¥å…·å’Œåˆ†æç®—æ³•--UTOPIAï¼Œå®ƒå¯ä»¥ä»ç°æœ‰çš„å•å…ƒæµ‹è¯•ä¸­è‡ªåŠ¨åˆæˆæœ‰æ•ˆçš„fuzz driverç¨‹åºï¼Œå‡ ä¹ä¸éœ€è¦äººå·¥å‚ä¸ã€‚ä¸ºäº†è¯æ˜å…¶æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬å°† UTOPIA åº”ç”¨äº 55 ä¸ªå¼€æºé¡¹ç›®åº“ï¼ŒåŒ…æ‹¬ Tizen å’Œ Node.jsï¼Œå¹¶ä» 8K ä¸ªåˆæ ¼çš„å•å…ƒæµ‹è¯•ä¸­è‡ªåŠ¨ç”Ÿæˆäº† 5K ä¸ªfuzz driverç¨‹åºã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªå†…æ ¸ä¸Šæ‰§è¡Œäº†çº¦ 500 ä¸‡å°æ—¶ç”Ÿæˆçš„fuzzerï¼Œå‘ç°äº† 123 ä¸ªé”™è¯¯ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ2.4K ä¸ªç”Ÿæˆçš„fuzz driverç¨‹åºè¢«Tizené¡¹ç›®çš„æŒç»­é›†æˆæµç¨‹é‡‡ç”¨ï¼Œè¿™è¡¨æ˜äº†åˆæˆfuzz driverç¨‹åºçš„è´¨é‡ã€‚ä¸ºäº†è®©ç ”ç©¶äººå‘˜å’Œä»ä¸šäººå‘˜æ›´å¹¿æ³›åœ°é‡‡ç”¨ï¼Œæˆ‘ä»¬å…¬å¼€å¹¶ç»´æŠ¤äº†æ‰€æå‡ºçš„å·¥å…·å’Œç»“æœã€‚","text":"UTOPIA: Automatic Generation of Fuzz Driver using Unit Tests æ—¶é—´ï¼š2022 ä½œè€…ï¼šBokdeuk Jeongã€Joonun Jangï¼ˆSamsung Researchï¼‰ã€Taesoo Kimï¼ˆä½æ²»äºšç†å·¥ï¼‰ ä¼šè®®ï¼šS&amp;P'2023 å¼€æºï¼šhttps://github.com/Samsung/UTopia Abstract â€‹ Fuzzingå¯ä»¥è¯´æ˜¯æ£€æµ‹è½¯ä»¶å®‰å…¨æ¼æ´çš„æœ€å®ç”¨æ–¹æ³•ï¼Œä½†é‡‡ç”¨è¿™ç§æ–¹æ³•éœ€è¦ä»˜å‡ºä¸å°çš„åŠªåŠ›ã€‚è¦æƒ³å–å¾—æˆæ•ˆï¼Œé«˜è´¨é‡çš„fuzz driverç¨‹åºåº”é¦–å…ˆåº”å½“åŒ…å«é€‚å½“çš„ API åºåˆ—ï¼Œä»¥ä¾¿è¯¦å°½åœ°æ¢ç´¢ç¨‹åºçŠ¶æ€ã€‚ä¸ºå‡è½»è¿™ä¸€è´Ÿæ‹…ï¼Œç°æœ‰è§£å†³æ–¹æ¡ˆè¯•å›¾é€šè¿‡ä»ç”¨æˆ·ä»£ç ï¼ˆå³ API çš„å®é™…ä½¿ç”¨ï¼‰ä¸­æ¨æ–­å‡ºæœ‰æ•ˆçš„ API åºåˆ—ï¼Œæˆ–ç›´æ¥ä»æ ·æœ¬æ‰§è¡Œä¸­æå– API åºåˆ—æ¥ç”Ÿæˆfuzz driverç¨‹åºã€‚é—æ†¾çš„æ˜¯ï¼Œæ‰€æœ‰ç°æœ‰æ–¹æ³•éƒ½å­˜åœ¨ä¸€ä¸ªå…±åŒé—®é¢˜ï¼šè§‚å¯Ÿåˆ°çš„ API åºåˆ—ï¼ˆæ— è®ºæ˜¯é™æ€æ¨æ–­è¿˜æ˜¯åŠ¨æ€ç›‘æ§ï¼‰éƒ½ä¸è‡ªå®šä¹‰åº”ç”¨ç¨‹åºé€»è¾‘æ··æ‚åœ¨ä¸€èµ·ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œå•å…ƒæµ‹è¯•æ˜¯ç”±åº”ç”¨ç¨‹åºæ¥å£çš„å®é™…è®¾è®¡è€…ç²¾å¿ƒåˆ¶ä½œçš„ï¼Œä»¥éªŒè¯å…¶æ­£ç¡®ä½¿ç”¨ï¼Œè€Œä¸”é‡è¦çš„æ˜¯ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ç¼–å†™å•å…ƒæµ‹è¯•æ˜¯ä¸€ç§å¸¸è§åšæ³•ï¼ˆä¾‹å¦‚ï¼Œè¶…è¿‡ 70% çš„æµè¡Œ GitHub é¡¹ç›®ï¼‰ã€‚ â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å¼€æºå·¥å…·å’Œåˆ†æç®—æ³•--UTOPIAï¼Œå®ƒå¯ä»¥ä»ç°æœ‰çš„å•å…ƒæµ‹è¯•ä¸­è‡ªåŠ¨åˆæˆæœ‰æ•ˆçš„fuzz driverç¨‹åºï¼Œå‡ ä¹ä¸éœ€è¦äººå·¥å‚ä¸ã€‚ä¸ºäº†è¯æ˜å…¶æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬å°† UTOPIA åº”ç”¨äº 55 ä¸ªå¼€æºé¡¹ç›®åº“ï¼ŒåŒ…æ‹¬ Tizen å’Œ Node.jsï¼Œå¹¶ä» 8K ä¸ªåˆæ ¼çš„å•å…ƒæµ‹è¯•ä¸­è‡ªåŠ¨ç”Ÿæˆäº† 5K ä¸ªfuzz driverç¨‹åºã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªå†…æ ¸ä¸Šæ‰§è¡Œäº†çº¦ 500 ä¸‡å°æ—¶ç”Ÿæˆçš„fuzzerï¼Œå‘ç°äº† 123 ä¸ªé”™è¯¯ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ2.4K ä¸ªç”Ÿæˆçš„fuzz driverç¨‹åºè¢«Tizené¡¹ç›®çš„æŒç»­é›†æˆæµç¨‹é‡‡ç”¨ï¼Œè¿™è¡¨æ˜äº†åˆæˆfuzz driverç¨‹åºçš„è´¨é‡ã€‚ä¸ºäº†è®©ç ”ç©¶äººå‘˜å’Œä»ä¸šäººå‘˜æ›´å¹¿æ³›åœ°é‡‡ç”¨ï¼Œæˆ‘ä»¬å…¬å¼€å¹¶ç»´æŠ¤äº†æ‰€æå‡ºçš„å·¥å…·å’Œç»“æœã€‚ Background â€‹ æœ€è¿‘ï¼Œç ”ç©¶äººå‘˜ä¸€ç›´åœ¨æ¢ç´¢ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡è‡ªåŠ¨ç”Ÿæˆæˆ–åˆæˆfuzz driverç¨‹åºæ¥å‡è½»library fuzzingäººå·¥é›†æˆçš„è´Ÿæ‹…[12, 16, 18, 28]ã€‚ä»–ä»¬é€šè¿‡éšæœºæ¨æ–­æºä»£ç ä¸­çš„åº”ç”¨ç¨‹åºæ¥å£ä¾èµ–å…³ç³»[12, 16]ï¼Œæˆ–é€šè¿‡è¿è¡Œæ—¶è§‚å¯Ÿåˆ°çš„æ‰§è¡Œè½¨è¿¹[18, 28]ï¼Œä¸ºfuzzingåˆ¶å®šäº†é€‚å½“çš„åº”ç”¨ç¨‹åºæ¥å£åºåˆ—ã€‚ â€‹ æ›´å…·ä½“åœ°è¯´ï¼Œæœ€åˆçš„é¡¹ç›®ä¹‹ä¸€ Fudge[12]ï¼Œä¾§é‡äºä»æ¶ˆè´¹è€…ä»£ç ä¸­ç›´æ¥è¿˜åŸé€‚å½“çš„ API è°ƒç”¨åºåˆ—ï¼Œå…¶ä¸­ API ä½¿ç”¨å’Œè‡ªå®šä¹‰åº”ç”¨ç¨‹åºé€»è¾‘ç›¸äº’äº¤ç»‡ã€‚åç»­é¡¹ç›®FuzzGen[16]é€šè¿‡å¯¹æ•´ä¸ªç¨‹åºè¿›è¡Œåˆ†æï¼Œä»å¤šä¸ªæ¶ˆè´¹è€…ä»£ç ä¸­æ¨ç†å‡º API çš„ä¾èµ–å…³ç³»ï¼Œç†è®ºä¸Šå¯ä»¥äº§ç”Ÿåˆç†æœ‰æ•ˆçš„fuzz driverç¨‹åºï¼ˆå³æ¨æ–­å‡ºæœ‰æ•ˆçš„ API è°ƒç”¨åºåˆ—ï¼‰ã€‚å°½ç®¡è¿™äº›æ–¹æ³•å…·æœ‰é€šç”¨æ€§å’Œå¹¿æ³›é€‚ç”¨æ€§ï¼Œä½†å®ƒä»¬æ‰€ä¾èµ–çš„ç”¨æˆ·ä»£ç å´å­˜åœ¨æ ¹æœ¬æ€§çš„å±€é™ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ··åˆä»£ç æœ€ç»ˆå¯èƒ½ä¼šç”Ÿæˆè¿‡äºç®€å•çš„ API åºåˆ—/è¯­ä¹‰ä¸Šæ— æ•ˆçš„çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªä»£ç ä¸­åˆ†é…ï¼Œè€Œåœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼‰ã€‚ä»æ¶ˆè´¹è€…ä»£ç çš„ç»Ÿè®¡èšåˆä¸­æ¨æ–­æœ‰æ•ˆçš„ API åºåˆ—å’Œä¾èµ–å…³ç³»ï¼Œä¼šäº§ç”Ÿåˆ»æ¿çš„æƒ…å†µï¼Œè¿™å¯¹äºå¯»æ‰¾æ— æ•ˆã€ä¸å¸¸è§è¾“å…¥çš„æ¨¡ç³Šå™¨æ¥è¯´å¹¶ä¸ç†æƒ³ã€‚ â€‹ ä¸è¯•å›¾æ¨æ–­ API ä¾èµ–å…³ç³»çš„ç°æœ‰é¡¹ç›®ä¸åŒï¼Œæˆ‘ä»¬åœ¨å•å…ƒæµ‹è¯• (UT) ä¸­ä½¿ç”¨äº†å‡†ç¡®çš„ API è°ƒç”¨é¡ºåºï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼š ç°æœ‰çš„UTæ˜ç¡®è¡¨è¾¾äº†å¼€å‘äººå‘˜æ‰€å…³å¿ƒçš„ API çš„è¿™ç§ä¾èµ–æ€§ï¼› UTæ£€æŸ¥libraryæ‰€æä¾›åŠŸèƒ½çš„å„ä¸ªæ–¹é¢ï¼Œå…¶APIï¼ˆå¦‚å†…éƒ¨APIï¼‰å¤šäºæ¶ˆè´¹è€…ä»£ç ï¼› è®¸å¤šç°æœ‰é¡¹ç›®å·²ç»æœ‰äº†å†™å¾—å¾ˆå¥½çš„UT--åœ¨æ¥è‡ª Githubã€Android å¤–éƒ¨å’Œ OSS-Fuzzçš„é¡¹ç›®ä¸­å æ¯”73%ã€‚ â€‹ Contribution â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†UTOPIAï¼Œåˆ©ç”¨å„ç§æŠ€æœ¯ï¼Œä»¥è‡ªåŠ¨åŒ–å’Œå¯æ‰©å±•çš„æ–¹å¼å°†ç°æœ‰çš„UTè½¬æ¢ä¸ºæœ‰æ•ˆçš„fuzz driverç¨‹åºï¼ŒUTOPIAèƒŒåçš„ä¸»è¦æ€æƒ³æ˜¯ï¼š åˆ©ç”¨UTçš„ç‰¹å®šå±æ€§æ¥æ­ç¤ºUTåˆ†æçš„å¤æ‚æ€§ï¼› æ‰§è¡Œroot-definition analysisï¼ˆä¸€ç§æ–°å¼•å…¥çš„æŠ€æœ¯ï¼‰æ¥è¿½æº¯APIå‚æ•°çš„æºå¤´ï¼Œä»¥è¿›è¡Œé€‚å½“çš„fuzz inputæ³¨å…¥ï¼Œä»è€Œä¿æŒå¼€å‘äººå‘˜æ‰€å¸Œæœ›çš„ç¨‹åºé—´å…³ç³»å’Œæ•°æ®æµï¼› åœ¨fuzz inputçªå˜ä¸­åæ˜ å¯¹æ¯ä¸ªå‚æ•°åœ¨å…¶APIå†…éƒ¨å¯èƒ½äº§ç”Ÿçš„å½±å“çš„åˆ†æã€‚è¿™æ ·ï¼ŒUTOPIA å°±èƒ½æ·±å…¥æ¢ç´¢ä»£ç ç©ºé—´ï¼Œé¿å…å› æ— æ•ˆ API ä½¿ç”¨è€Œå¯¼è‡´å´©æºƒã€‚å› æ­¤ï¼ŒUTOPIA å¯ä»¥æä¾›ä¸€ä¸ªpush-buttonå¼è§£å†³æ–¹æ¡ˆï¼Œåœ¨æ²¡æœ‰äººå·¥å‚ä¸çš„æƒ…å†µä¸‹è‡ªåŠ¨åˆæˆé«˜è´¨é‡çš„fuzz driverç¨‹åºã€‚ â€‹ æœ¬æ–‡çš„è´¡çŒ®å¦‚ä¸‹ï¼š æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„fuzz driverç¨‹åºåˆæˆæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åŒ…å«ç°æœ‰çš„å•å…ƒæµ‹è¯•ï¼Œå¯è‡ªåŠ¨ç”Ÿæˆfuzz driverç¨‹åºï¼› æˆ‘ä»¬åˆ©ç”¨ gtest å’Œ boost UT æ¡†æ¶ï¼Œä¸º C/C++ åº“å®æ–½äº†æœ¬æ–¹æ³•çš„åŸå‹ UTOPIAï¼Œå¹¶é€šè¿‡ç»éªŒéªŒè¯ï¼Œæœ¬æ–¹æ³•å¯æˆåŠŸåœ°å°†äº”åƒå¤šçš„UTè½¬åŒ–ä¸º 55 ä¸ªå¼€æºé¡¹ç›®åº“çš„æœ‰æ„ä¹‰çš„fuzz driverç¨‹åºï¼› æˆ‘ä»¬æŠ¥å‘Šäº† 123 ä¸ªæ–°æ¼æ´ï¼Œå…¶ä¸­ 70 ä¸ªåœ¨è´£ä»»æŠ«éœ²è¿‡ç¨‹ä¸­å¾—åˆ°ç¡®è®¤ã€‚ Model 1. æŒ‘æˆ˜ C1. ç”Ÿæˆæœ‰æ•ˆçš„APIåºåˆ—ï¼› C2. ç”Ÿæˆæœ‰æ•ˆçš„APIå‚æ•°ã€‚ â€‹ åœ¨fuzz driverä¸­ï¼Œlibraryä¸ä»…å¯ä»¥å› ä¸ºbugå´©æºƒï¼Œä¹Ÿå¯ä»¥æ˜¯å› ä¸ºAPIçš„ä¸å½“ä½¿ç”¨ï¼ˆå¦‚C1ã€C2ï¼‰ï¼Œè¿™ç§å´©æºƒä¼šä¸¥é‡å½±å“fuzzingçš„è¿›ç¨‹ã€‚ â€‹ ä¸Šå›¾æ˜¯ä¸€ä¸ªç”¨OpenCVåº“è¯»/å†™raw dataçš„UTï¼ŒUTOPIA é€šè¿‡å¯¹åŸå§‹ UT ä»£ç è¿›è¡Œç»†å¾®ä¿®æ”¹ï¼Œå°† UT è½¬æ¢ä¸ºfuzz driverç¨‹åºï¼Œä»¥ä¾¿å°†fuzz inputåˆ†é…ç»™è¢«åˆ†æä¸ºAPIå‚æ•°æ¥æºçš„ç°æœ‰å˜é‡ã€‚ â€‹ ä¸Šå›¾å¯ä»¥è§‚å¯Ÿåˆ°UTOPIAå¯¹UTæ‰€åšçš„æ”¹åŠ¨ï¼Œå…¶å°†ä¸€äº›å¸¸æ•°å€¼å˜ä¸ºäº†å˜é‡ä»¥å°†å…¶åˆ†é…ç»™fuzzerè¿›è¡Œæ”¹åŠ¨ï¼ˆæ–‡ç« é‡Œçš„è¯´æ³•çœŸå·§å¦™å•Š:cupid:ï¼‰ 2. æ–¹æ³• 2.1 ç”Ÿæˆæœ‰æ•ˆçš„APIåºåˆ— 2.1.1 å…ˆå‰å·¥ä½œçš„é—®é¢˜ â€‹ å¦‚æœè¦åƒä»¥å‰çš„ç ”ç©¶é‚£æ ·ï¼Œå¯¹ä»»ä½•ç‰¹å®šçš„æ¶ˆè´¹è€…ä»£ç è¿›è¡Œåˆ†æï¼Œåˆ™åº”å†³å®šå¯¹æ¶ˆè´¹è€…ä»£ç åšåˆ†æçš„ç¨‹åºã€‚ â€‹ ä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯å¯¹æ•´ä¸ªæ¶ˆè´¹è€…ä»£ç è¿›è¡Œåˆ†æï¼Œä»è€Œæå–æ¶ˆè´¹è€…å†…éƒ¨çš„æ•´ä¸ª API ä½¿ç”¨æ¨¡å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœé‡åˆ°å¤æ‚çš„æ¶ˆè´¹è€…ä»£ç ï¼Œå…¶ä¸­æœ‰å¤§é‡ API è°ƒç”¨åˆ†æ•£åœ¨å¤æ‚çš„æ§åˆ¶æµä¸­ï¼Œæå–çš„æ¨¡å¼å¯èƒ½ä¼šå˜å¾—è‡ƒè‚¿ã€‚è¿™ä¼šå¯¼è‡´é©±åŠ¨ç¨‹åºè°ƒç”¨æ•°åæˆ–æ•°ç™¾æ¬¡ API è°ƒç”¨ï¼Œç”±äºæ¥è‡ªä¼—å¤š API çš„è¾“å…¥ç©ºé—´è¿‡äºè‡ƒè‚¿ï¼Œè¿™ä¼šé˜»ç¢é©±åŠ¨ç¨‹åºçš„fuzzingå·¥ä½œã€‚ â€‹ ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä¸€ç§æ–¹æ³•æ˜¯é™åˆ¶ç”Ÿæˆå•ä¸ªfuzz driverç¨‹åºæ—¶æ‰€éœ€è¦åˆ†æçš„ç”¨æˆ·ä»£ç é‡ï¼ˆä¾‹å¦‚ï¼Œå…ˆå‰çš„å·¥ä½œ[12, 16]ä»…å¯¹åŒä¸€ç¼–è¯‘å•å…ƒè¿›è¡Œåˆ†æï¼Œä»¥æå–åº“ API è°ƒç”¨çš„ä½¿ç”¨æƒ…å†µï¼‰ã€‚è™½ç„¶è¿™ç¼“è§£äº†ä¹‹å‰åºåˆ—è‡ƒè‚¿çš„é—®é¢˜ï¼Œä½†ç”±äºä¸€äº›å¿…è¦çš„ API è°ƒç”¨å­˜åœ¨äºä¸åŒçš„æºæ–‡ä»¶ä¸­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´è·å–çš„ API åºåˆ—ä¸å®Œæ•´ã€‚æ­¤å¤–ï¼Œä»è¿™æ ·çš„åºåˆ—ç”Ÿæˆfuzz driverç¨‹åºå¯èƒ½ä¼šäº§ç”Ÿè™šå‡å´©æºƒã€‚ 2.1.2 æˆ‘ä»¬çš„æ–¹æ³• â€‹ ä»¥å‰çš„ç ”ç©¶ä¾§é‡äºä»ä»»ä½•ç»™å®šçš„æ¶ˆè´¹è€…ä¸­æ­£ç¡®é‡å»ºæœ‰æ•ˆçš„ API åºåˆ—ï¼Œä¸æ­¤ä¸åŒï¼Œæˆ‘ä»¬åˆ©ç”¨å•å…ƒæµ‹è¯•ä¸­ç¼–å†™çš„æ˜¾å¼ API åºåˆ—ï¼Œå®Œå…¨é¿å¼€äº†ä¸Šè¿° API åºåˆ—åˆæˆçš„éš¾é¢˜ã€‚ â€‹ ä½¿ç”¨UTæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š åœ¨UTä¸­ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ˜ç¡®æ„å»ºåº“çŠ¶æ€ï¼Œè¿™æ„å‘³ç€åœ¨ç”Ÿæˆæ¨¡ç³Šé©±åŠ¨ç¨‹åºæ—¶æ— éœ€è¿›è¡Œåº”ç”¨ç¨‹åºæ¥å£æ¨¡å¼æ¨ç†æˆ–æå–ï¼› è¿™ä¸fuzz driverç¨‹åºçš„ç›®çš„æ˜¯ä¸€è‡´çš„ï¼Œå³æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åŠå…¶æ‰€åŒ…å«çš„APIåºåˆ—ï¼Œéƒ½æ˜¯ä¸ºäº†æµ‹è¯•åº“å¼€å‘äººå‘˜è®¤ä¸ºå¿…ä¸å¯å°‘çš„åº“çš„ç‰¹å®šå±æ€§/å˜é‡è€Œè®¾è®¡çš„ã€‚ â€‹ åœ¨æˆ‘ä»¬è¿è¡Œçš„ç¤ºä¾‹ä¸­ï¼Œè¿™ç§æ–¹æ³•ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä»£ç ä¸­ä¿æŒæ‰€æœ‰çš„ API é¡ºåºå…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä¼šæ”¹å˜ä»»ä½•è°ƒç”¨ã€‚æ­¤å¤–ï¼Œç”±äºUTåªåŒ…å«æµ‹è¯•åº“ç‰¹å®šå±æ€§æ‰€éœ€çš„ç®€çŸ­APIåºåˆ—ï¼ŒUTOPIAä¸å®¹æ˜“ç”Ÿæˆè‡ƒè‚¿çš„APIåºåˆ—ã€‚ 2.2 ç”Ÿæˆæœ‰æ•ˆçš„APIå‚æ•° 2.2.1 Inferring inter-API semantics â€‹ æœ‰æ•ˆè¯­ä¹‰çš„APIä¹‹é—´çš„ä¸»è¦å…³ç³»æ˜¯ï¼š out-to-in: ä¸€ä¸ªAPIçš„è¾“å‡ºæ˜¯å¦ä¸€ä¸ªAPIçš„è¾“å…¥ï¼› fixed: æ¯ä¸ª API ä¸­çš„å‚æ•°åœ¨æ‰€æœ‰ API è°ƒç”¨ä¸­éƒ½åº”ç›¸åŒï¼› relative: ä¸åŒAPIçš„å‚æ•°ç”±åŒä¸€å€¼ç”Ÿæˆï¼ˆx=f(y)ï¼›API_1(x)ï¼›z=x+g(y); API_2(z);ï¼‰ã€‚ â€‹ ä½¿ç”¨ä¼ ç»Ÿçš„ç¨‹åºå†…æ•°æ®æµåˆ†ææ–¹æ³•ï¼Œæ— æ³•ä»ä¸€èˆ¬æ¶ˆè´¹è€…ä»£ç çš„ä½¿ç”¨ä¸­å‡†ç¡®åˆ†æå‡ºåº”ç”¨ç¨‹åºé—´çš„å…³ç³»ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬åœ¨è¾“å…¥fuzz inputæ—¶ä¸è€ƒè™‘ç¨‹åºé—´çš„æ•°æ®æµï¼Œå°±å¯èƒ½ä¼šå¿½ç•¥å¼€å‘è€…çš„é¢„æœŸæ•°æ®æµï¼Œä¾‹å¦‚ï¼š var a = 3; b = func(a); Target_API(b); â€‹ åä¹‹ï¼Œå¦‚æœåªä¾èµ–ç¨‹åºå†…åˆ†æï¼Œåˆ™ä¼šå°†fuzz inputåˆ†é…ç»™ bï¼Œè€Œä¸æ˜¯ aã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡APIä¹‹é—´çš„å‚æ•°ç±»å‹åˆ«åæ¥æ¨æ–­è¿™ç§å…³ç³»[16]ï¼Œä½†æ— æ³•ç¡®å®šå®ƒä»¬æ˜¯å¦æŒ‡çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„fuzz driverç¨‹åºæ— æ³•åæ˜ å‚æ•°ä¹‹é—´çš„ API é—´å…³ç³»ã€‚ 2.2.2 Inferring intra-API semantics â€‹ æ­¤å¤–ï¼Œè¿˜åº”è€ƒè™‘åŒä¸€ API ä¸­å‚æ•°ä¹‹é—´çš„å…³ç³»ï¼Œæœ€å¸¸è§çš„è€ƒè™‘å› ç´ åŒ…æ‹¬ä¸æ•°ç»„æœ‰å…³çš„å› ç´ ï¼š arrayâ†”ï¸length: è¾“å…¥å‚æ•°è¡¨ç¤ºå¦ä¸€ä¸ªè¾“å…¥æ•°ç»„å‚æ•°çš„é•¿åº¦ï¼› arrayâ†”ï¸index: è¾“å…¥å‚æ•°æ˜¯å¦ä¸€ä¸ªæ•°ç»„è¾“å…¥å‚æ•°çš„ç´¢å¼•ã€‚ â€‹ ä¾‹å¦‚ï¼ŒMat ç±»æ„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆå›¾ 1 ä¸­ç¬¬ 14 è¡Œï¼‰è¦æ±‚ä¸ç¬¬äºŒä¸ªå’Œç¬¬å››ä¸ªå‚æ•°ä¸­æ‰€è¿°æ•°ç»„çš„å¤§å°ç›¸å¯¹åº”ã€‚å¦‚æœå¯¹è¿™ä¸¤ä¸ªå‚æ•°è¿›è¡Œéšæœºfuzzingï¼Œé©±åŠ¨ç¨‹åºå¤§å¤šä¼šå¯¼è‡´æ•…éšœï¼ˆå‚æ•°å¤§å°å¤§äºæ•°ç»„å®é™…å¤§å°ï¼‰æˆ–æµªè´¹ç²¾åŠ›æ›´æ”¹æœªä½¿ç”¨çš„fuzz inputå­—èŠ‚ï¼ˆå‚æ•°å¤§å°å°äºæ•°ç»„å®é™…å¤§å°ï¼‰ã€‚ â€‹ å¦‚æœå°† Fudge [12] åŸºäºç±»å‹çš„æ¨¡å¼åŒ¹é…æ–¹æ³•åº”ç”¨äºè¿™ä¸ªç¤ºä¾‹ï¼Œå®ƒå°†æ— æ³•åŒ¹é…ç¬¬ä¸€ä¸ªå‚æ•°å’Œç¬¬å››ä¸ªå‚æ•°ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œå› ä¸ºè¿™ç§å…³ç³»å¹¶æ²¡æœ‰æ˜ç¡®åœ°æš´éœ²åœ¨æ¶ˆè´¹è€…ä»£ç ä¸­ã€‚è™½ç„¶ FuzzGen [16] çš„å€¼é›†æ–¹æ³•å¯ä»¥å¯¹åº”ç”¨ç¨‹åºæ¥å£çš„å†…éƒ¨ç»“æ„è¿›è¡Œåˆ†æï¼Œä½†ç”±äºå®ƒæ¨æ–­çš„æ˜¯å•ä¸ªå‚æ•°çš„ç±»å‹å’Œå€¼é›†ï¼Œè€Œä¸æ˜¯å‚æ•°ä¹‹é—´çš„å…³ç³»ï¼Œå› æ­¤åœ¨è¡¨ç¤ºä¸‰ä¸ªå‚æ•°ä¹‹é—´çš„å…³ç³»æ—¶å®¹æ˜“å¤±è´¥ã€‚ 2.2.3 Detrimental input for fuzzing â€‹ è™½ç„¶ä¸å±äºæ»¥ç”¨APIï¼Œä½†æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæœ‰äº›å‚æ•°åœ¨ä¸ç»æ„åœ°è¿›è¡Œfuzzingæ—¶ï¼Œä¼šé™ä½fuzzingçš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸä¸ªå‚æ•°ç”¨äºå†…å­˜åˆ†é…æˆ–å¾ªç¯è®¡æ•°ï¼Œè¿‡å¤§çš„æ•°å€¼ç»å¸¸ä¼šåˆ†åˆ«å¯¼è‡´å†…å­˜ä¸è¶³æˆ–è¶…æ—¶é”™è¯¯ã€‚è™½ç„¶è¿™äº›å¹¶ä¸æ˜¯è™šå‡å´©æºƒï¼Œä½†å¾€å¾€åŒæ ·ä¼šé˜»ç¢è¿›ä¸€æ­¥çš„æ¨¡ç³Šæ¢ç´¢ã€‚ â€‹ ä¸ºäº†ä¿æŒæœ‰æ•ˆçš„å‚æ•°è¯­ä¹‰ï¼ŒUTOPIA ä¿ç•™äº† UT ä¸­çš„åŸå§‹æ•°æ®æµï¼Œå¹¶é€šè¿‡é™æ€åˆ†ææ‰¾åˆ°æ³¨å…¥fuzz inputï¼ˆå³fuzz targetï¼‰çš„ä½ç½®ä»¥åŠå®ƒä»¬åº”è¯¥å¦‚ä½•å˜å¼‚ï¼ˆAPI å±æ€§ï¼‰ã€‚ä¸ºäº†è¯†åˆ«æ³¨å…¥fuzz inputçš„åˆé€‚ä½ç½®ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ–°çš„root-definition analysisï¼Œå³ç”¨å¸¸é‡å®šä¹‰å˜é‡çš„èµ‹å€¼è¯­å¥ã€‚é€šè¿‡åªåœ¨root-definitionå¤„åˆ†é…fuzz inputï¼Œæˆ‘ä»¬å¯ä»¥ä¿ç•™åŸæœ‰çš„æ•°æ®æµï¼Œå¹¶è‡ªç„¶åœ°éµå¾ªç°æœ‰çš„åº”ç”¨ç¨‹åºæ¥å£é—´è¯­ä¹‰ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºæ¥å£å‚æ•°ä¹‹é—´çš„æµåŠ¨æ˜¯ä¸é—´æ–­çš„ã€‚åœ¨å›¾ 1 ä¸­ï¼ŒUTOPIA é€šè¿‡åœ¨root-definitionï¼ˆç¬¬ 23 è¡Œï¼‰ä¸­åˆ†é…fuzz inputï¼Œå°†fuzz inputä¼ é€’ç»™å†™åŸå§‹æ•°æ®ï¼ˆwriteRaw() APIï¼‰ä¸­çš„ç¬¬ä¸‰ä¸ªå‚æ•° rawdataï¼ˆç¬¬ 31 è¡Œï¼‰ï¼Œåœ¨æ ¹å®šä¹‰ä¸­ï¼Œrawdata å‘é‡çš„æ¯ä¸ªå…ƒç´ éƒ½è¢«åˆ†é…äº†å¸¸æ•°ã€‚ â€‹ æ‰¾åˆ°æ ¹å®šä¹‰åï¼ŒUTOPIA ä¼šæ ¹æ®ä»æ ¹å®šä¹‰ä¸­è·å–å€¼çš„ API å‚æ•°çš„å±æ€§åˆ†ææ³¨å…¥æ¨¡ç³Šè¾“å…¥ï¼ˆç¡®å®šå±æ€§çš„ API é™æ€åˆ†æè¯¦è§ç¬¬ä¸‰èŠ‚ Bï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ Mat ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼ˆå›¾ 1 ä¸­çš„ç¬¬ 18 è¡Œï¼‰ï¼ŒUTOPIA æ¨æ–­å‡ºäº†æ•°ç»„â†”ï¸é•¿åº¦å…³ç³»ï¼Œå¹¶å°† dim çš„å¤§å°ï¼ˆæ•°ç»„å±æ€§ï¼‰åˆ†é…ç»™ç¬¬ 18 è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆArrayLength å±æ€§ï¼‰å’Œç¬¬ 17 è¡Œçš„æ¯ä¸ªå¸¦æœ‰æ¨¡ç³Šè¾“å…¥çš„å…ƒç´ ã€‚ 2.3 ä½¿ç”¨å•å…ƒæµ‹è¯•çš„ç‹¬ç‰¹æŒ‘æˆ˜ â€‹ ç„¶è€Œï¼Œç®€å•åœ°å°† UT ä½œä¸ºæ¶ˆè´¹è€…æä¾›ç»™ç°æœ‰æ–¹æ³•å¹¶ä¸åˆé€‚ï¼Œå› ä¸ºä½¿ç”¨ UT ä¼šå¸¦æ¥è‡ªèº«çš„ä¸€ç³»åˆ—æŒ‘æˆ˜ (UT-C)ã€‚ â€‹ [â€¦â€¦è¿™é‡Œå¾…æ›´æ–°ï¼Œç¬”è®°ç€é‡äº†è§£fuzzingè¿‡ç¨‹]","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(æŠ€æœ¯ç§¯ç´¯)How does AFL++ run a program?","slug":"ã€æŠ€æœ¯ç§¯ç´¯ã€‘How does AFL++ run a program","date":"2023-07-23T07:14:56.830Z","updated":"2023-07-28T06:55:00.277Z","comments":true,"path":"2023/07/23/ã€æŠ€æœ¯ç§¯ç´¯ã€‘How does AFL++ run a program/","link":"","permalink":"http://example.com/2023/07/23/%E3%80%90%E6%8A%80%E6%9C%AF%E7%A7%AF%E7%B4%AF%E3%80%91How%20does%20AFL++%20run%20a%20program/","excerpt":"(æŠ€æœ¯ç§¯ç´¯)How does AFL++ run a program? å‰æï¼šä½¿ç”¨AFL++å¯¹å¼€æºç¨‹åºfuzzingã€‚ â€‹ å½“å¯¹ç›®æ ‡ç¨‹åºæ’æ¡©å®Œæ¯•åï¼Œåœ¨ä¸€æ¬¡è¿è¡Œä¸­AFL++ï¼š å¦‚ä½•å‡†å¤‡è¿è¡Œçš„ç¯å¢ƒï¼Ÿ å¦‚ä½•è·å¾—ç¨‹åºçš„è¾“å…¥ï¼Ÿ å¦‚ä½•åˆ¤æ–­ç¨‹åºæ˜¯å¦å´©æºƒ/å¯¹åº”sanitizeræ˜¯å¦è§¦å‘ï¼Ÿ å¦‚ä½•è·å–è¿™ä¸€æ¬¡çš„ä»£ç è¦†ç›–ç‡å¹¶è®°å½•ç»“æœï¼Ÿ","text":"(æŠ€æœ¯ç§¯ç´¯)How does AFL++ run a program? å‰æï¼šä½¿ç”¨AFL++å¯¹å¼€æºç¨‹åºfuzzingã€‚ â€‹ å½“å¯¹ç›®æ ‡ç¨‹åºæ’æ¡©å®Œæ¯•åï¼Œåœ¨ä¸€æ¬¡è¿è¡Œä¸­AFL++ï¼š å¦‚ä½•å‡†å¤‡è¿è¡Œçš„ç¯å¢ƒï¼Ÿ å¦‚ä½•è·å¾—ç¨‹åºçš„è¾“å…¥ï¼Ÿ å¦‚ä½•åˆ¤æ–­ç¨‹åºæ˜¯å¦å´©æºƒ/å¯¹åº”sanitizeræ˜¯å¦è§¦å‘ï¼Ÿ å¦‚ä½•è·å–è¿™ä¸€æ¬¡çš„ä»£ç è¦†ç›–ç‡å¹¶è®°å½•ç»“æœï¼Ÿ Using child process â€‹ ä½¿ç”¨Fuzzingæœ€ç®€å•çš„æ€æƒ³å°±æ˜¯è°ƒç”¨execve()å‡½æ•°ï¼Œå…¶ä¼šåŠ è½½æ–°çš„å­è¿›ç¨‹æ¥è¿è¡ŒæŒ‡å®šçš„ç¨‹åºï¼Œè®¾ç½®å¥½å¯¹åº”çš„è¿è¡Œç¯å¢ƒã€‚ä½†è¿™ä¹ˆåšçš„é—®é¢˜æ˜¯æ¯æ¬¡è¿è¡Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨ç­‰å¾…execve()åŠ è½½ç¯å¢ƒã€è½½å…¥ç›®æ ‡æ–‡ä»¶å’Œåº“ã€è§£æç¬¦å·åœ°å€ç­‰é‡å¤æ€§å·¥ä½œä¸Šï¼Œè¿™ç§é‡å¤çš„æ“ä½œå¹¶ä¸ä¼šä¸ºfuzzingå¸¦æ¥å¥½å¤„ï¼Œåè€Œä¸¥é‡å¢åŠ äº†æˆæœ¬ã€‚ â€‹ AFLä¸­ä½¿ç”¨äº†ä¸€ç§å·§å¦™çš„æ‰‹æ®µæ¥é¿å…å¼•å…¥execve()å¯¼è‡´çš„æ—¶é—´æˆæœ¬å¢åŠ ï¼Œå…¶é€šè¿‡ä»£ç æ’æ¡©ä¸forkç»“åˆçš„æ–¹å¼ï¼Œè®©ç¨‹åºåœç•™åœ¨åˆé€‚çš„ä½ç½®ä»¥å°†ç®—åŠ›èšç„¦äºéé‡å¤æ“ä½œä¸Šã€‚ 1. Some functions exec åœ¨Linuxä¸­ï¼Œå¹¶ä¸å­˜åœ¨ä¸€ä¸ªexec()çš„å‡½æ•°å½¢å¼ï¼ŒexecæŒ‡çš„æ˜¯ä¸€ç»„å‡½æ•°ï¼Œä¸€å…±æœ‰6ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼šexeclã€execlpã€execleã€execvã€execvpã€execveã€‚execve()ï¼ˆæ‰§è¡Œæ–‡ä»¶ï¼‰åœ¨çˆ¶è¿›ç¨‹ä¸­forkä¸€ä¸ªå­è¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨execå‡½æ•°å¯åŠ¨æ–°çš„ç¨‹åºã€‚ fork() forkç³»ç»Ÿè°ƒç”¨ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œç§°ä¸ºå­è¿›ç¨‹ï¼Œå®ƒä¸è¿›ç¨‹ï¼ˆç§°ä¸ºç³»ç»Ÿè°ƒç”¨forkçš„è¿›ç¨‹ï¼‰åŒæ—¶è¿è¡Œï¼Œæ­¤è¿›ç¨‹ç§°ä¸ºçˆ¶è¿›ç¨‹ã€‚åˆ›å»ºæ–°çš„å­è¿›ç¨‹åï¼Œä¸¤ä¸ªè¿›ç¨‹å°†æ‰§è¡Œforkï¼ˆï¼‰ç³»ç»Ÿè°ƒç”¨ä¹‹åçš„ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚å­è¿›ç¨‹ä½¿ç”¨ç›¸åŒçš„pcï¼Œç›¸åŒçš„CPUå¯„å­˜å™¨ï¼Œåœ¨çˆ¶è¿›ç¨‹ä¸­ä½¿ç”¨çš„ç›¸åŒæ‰“å¼€æ–‡ä»¶ã€‚ äºŒè€…åŒºåˆ«å¦‚ä¸‹ï¼š struct sigaction signal() &gt;void (*signal(int sig, void (*func)(int)))(int) å‚æ•°ï¼š sigï¼šä¿¡å·ç ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š å® ä¿¡å· SIGABRT (Signal Abort) ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ã€‚ SIGFPE (Signal Floating-Point Exception) ç®—æœ¯è¿ç®—å‡ºé”™ï¼Œå¦‚é™¤æ•°ä¸º 0 æˆ–æº¢å‡ºï¼ˆä¸ä¸€å®šæ˜¯æµ®ç‚¹è¿ç®—ï¼‰ã€‚ SIGILL (Signal Illegal Instruction) éæ³•å‡½æ•°æ˜ è±¡ï¼Œå¦‚éæ³•æŒ‡ä»¤ï¼Œé€šå¸¸æ˜¯ç”±äºä»£ç ä¸­çš„æŸä¸ªå˜ä½“æˆ–è€…å°è¯•æ‰§è¡Œæ•°æ®å¯¼è‡´çš„ã€‚ SIGINT (Signal Interrupt) ä¸­æ–­ä¿¡å·ï¼Œå¦‚ ctrl-Cï¼Œé€šå¸¸ç”±ç”¨æˆ·ç”Ÿæˆã€‚ SIGSEGV (Signal Segmentation Violation) éæ³•è®¿é—®å­˜å‚¨å™¨ï¼Œå¦‚è®¿é—®ä¸å­˜åœ¨çš„å†…å­˜å•å…ƒã€‚ SIGTERM (Signal Terminate) å‘é€ç»™æœ¬ç¨‹åºçš„ç»ˆæ­¢è¯·æ±‚ä¿¡å·ã€‚ funcï¼šä¿¡å·å¤„ç†å‡½æ•°æŒ‡é’ˆï¼Œå¯ä»¥ç”¨é¢„å®šä¹‰çš„SIG_IGNï¼ˆå¿½ç•¥ï¼‰ã€SIG_DFLï¼ˆç³»ç»Ÿé»˜è®¤ï¼‰ã€SIG_ERRï¼ˆè¿”å›é”™è¯¯ï¼‰ sigaction() >int sigaction(int signum, const struct sigaction *act,struct sigaction *oldact) å‚æ•°ï¼š signumï¼šè¦æ•è·çš„ä¿¡å· actï¼šæ¥æ”¶åˆ°ä¿¡å·ä¹‹åå¯¹ä¿¡å·è¿›è¡Œå¤„ç†çš„ç»“æ„ä½“ oldactï¼šæ¥æ”¶åˆ°ä¿¡å·ä¹‹åï¼Œä¿å­˜åŸæ¥å¯¹æ­¤ä¿¡å·å¤„ç†çš„å„ç§æ–¹å¼ä¸ä¿¡å·ï¼ˆå¯ç”¨æ¥åšå¤‡ä»½ï¼‰ã€‚å¦‚æœä¸éœ€è¦å¤‡ä»½ï¼Œæ­¤å¤„å¯ä»¥å¡«NULL è¿”å›å€¼ï¼š æˆåŠŸæ—¶ï¼šè¿”å›0 å‡ºé”™æ—¶ï¼šè¿”å›-1ï¼Œå¹¶å°†errnoè®¾ç½®ä¸ºæŒ‡ç¤ºé”™è¯¯ struct sigaction >struct sigaction&#123; >void(*sa_handler)(int);// æ—§çš„ä¿¡å·å¤„ç†å‡½æ•° >void(*sa_sigaction)(int,siginfo_t *,void *);// æ–°çš„ä¿¡å·å¤„ç†å‡½æ•° >sigset_t sa_mask;// ä¿¡å·é˜»å¡é›† >int sa_flags;// ä¿¡å·çš„å¤„ç†æ–¹å¼ >void(*sa_restorer)(void);// å·±å¼ƒç”¨ >&#125; sa_handler,sa_sigactionï¼š ä¿¡å·å¤„é‡å‡½æ•°æŒ‡é’ˆï¼Œå’Œsignal()é‡Œçš„å‡½æ•°æŒ‡é’ˆç”¨æ³•ä¸€æ ·ï¼Œåº”æ ¹æ®sa_sigaction, sa_handler ä¸¤è€…ä¹‹ä¸€èµ‹å€¼ï¼Œå…¶å–å€¼å¦‚ï¼šSIG_IGN å¿½ç•¥è¯¥ä¿¡å·ã€SIG_DEL æ‰§è¡Œç³»ç»Ÿé»˜è®¤åŠ¨ä½œï¼› sa_maskï¼š ä¿¡å·é˜»å¡é›†ï¼Œåœ¨ä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸´æ—¶å±è”½æŒ‡å®šä¿¡å·ï¼› sa_flagsï¼š ç”¨äºæŒ‡å®šä¿¡å·å¤„ç†çš„è¡Œä¸ºï¼Œé€šå¸¸è®¾ä¸º0ï¼Œè¡¨é»˜è®¤å±æ€§ï¼Œå®ƒå¯ä»¥æ˜¯ä»¥ä¸‹å€¼çš„æŒ‰ä½ä¸ç»„åˆ 2. Fuzzing without execve() â€‹ AFLçš„æ€è·¯æ˜¯ï¼š é€šè¿‡å¯¹ç¨‹åºæ’æ¡©ï¼Œè®©ç¨‹åºåœ¨åˆé€‚çš„ä½ç½®åœä¸‹ç­‰å¾…fuzzerçš„æŒ‡ä»¤ è¿™æ—¶ç¨‹åºæ‰€éœ€çš„è¿è¡Œç¯å¢ƒå·²ç»åŠ è½½å®Œæ¯•ï¼Œä½†æ²¡æœ‰å¼€å§‹è·å–è¾“å…¥ï¼› æŒ‡å®šç¯å¢ƒå˜é‡LD_BIND_NOW=1ï¼Œå½“LD_BIND_NOWè¢«è®¾ç½®ä¸ºéç©ºå€¼æ—¶ï¼ŒåŠ¨æ€é“¾æ¥å™¨ä¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶ç«‹å³è§£ææ‰€æœ‰çš„ç¬¦å·ã€‚è¿™æ„å‘³ç€ç¬¦å·è§£æå·¥ä½œä¸ä¼šå»¶è¿Ÿåˆ°å®é™…ç”¨åˆ°è¯¥ç¬¦å·çš„æ—¶å€™ï¼Œè€Œæ˜¯åœ¨ç¨‹åºåŠ è½½æ—¶å°±ä¼šå®Œæˆï¼š // from afl-forkserver.c /* This should improve performance a bit, since it stops the linker from doing extra work post-fork(). */ if (!getenv(\"LD_BIND_LAZY\")) &#123; setenv(\"LD_BIND_NOW\", \"1\", 1); &#125; ç›¸åï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®LD_BIND_NOWç¯å¢ƒå˜é‡ï¼ŒåŠ¨æ€é“¾æ¥å™¨ä¼šä½¿ç”¨lazy bindingçš„æ–¹å¼è¿›è¡Œç¬¦å·è§£æã€‚lazy bindingæ˜¯ä¸€ç§å»¶è¿Ÿç¬¦å·è§£æçš„æœºåˆ¶ï¼Œåœ¨å®é™…ä½¿ç”¨åˆ°æŸä¸ªç¬¦å·æ—¶å†è¿›è¡Œè§£æå’Œç»‘å®šï¼Œè¿™æ ·å¯ä»¥èŠ‚çœç¨‹åºå¯åŠ¨æ—¶çš„æ—¶é—´å’Œèµ„æºå¼€é”€ï¼› è¿™ä¸ªåˆé€‚çš„ä½ç½®é€šå¸¸æ˜¯å¾…æµ‹ç¨‹åºçš„mainå‡½æ•°ã€‚ å½“æ”¶åˆ°fuzzerçš„ç›¸å…³æ‰§è¡ŒæŒ‡ä»¤åï¼Œä½¿ç”¨fork()åˆ›å»ºå­è¿›ç¨‹ fork()ä¼šå¯¹å·²ç»åŠ è½½å®Œæˆçš„ç¨‹åºåˆ›å»ºå®Œå…¨ç›¸åŒçš„å­è¿›ç¨‹å‰¯æœ¬ï¼Œç”±å­è¿›ç¨‹è¿è¡Œç¨‹åºï¼› å¾—ç›Šäºâ€œcopy-on-writeâ€å†™æ—¶å¤åˆ¶æœºåˆ¶ï¼Œå¯¹è¿›ç¨‹çš„å¤åˆ¶æ˜¯å¾ˆå¿«å¹¶ä¸”éš”ç¦»æ€§å¾ˆå¥½ï¼› åœ¨çˆ¶è¿›ç¨‹ä¸­ï¼Œä¼šå°†æ–°åŠ å…¥è¿›ç¨‹çš„ PID è½¬å‘ç»™fuzzerï¼Œç„¶åè¿”å›å‘½ä»¤ç­‰å¾…å¾ªç¯ â€‹ å½“å¼€å¯persistent modeåï¼ŒAFL++ ä¼šåœ¨å•ä¸ªforkè¿›ç¨‹ä¸­å¯¹ç›®æ ‡è¿›è¡Œå¤šæ¬¡fuzzingæµ‹è¯•ï¼Œè€Œä¸æ˜¯ä¸ºæ¯æ¬¡æ‰§è¡Œéƒ½åˆ†å‰ä¸€ä¸ªæ–°è¿›ç¨‹ã€‚è¿™æ˜¯æœ€æœ‰æ•ˆçš„æ¨¡ç³Šæ–¹æ³•ï¼Œå› ä¸ºé€Ÿåº¦å¯ä»¥è½»æ¾å¿« 10 å€æˆ– 20 å€ï¼Œè€Œæ²¡æœ‰ä»»ä½•ç¼ºç‚¹ï¼Œæ‰€æœ‰ä¸“ä¸šçš„fuzzingéƒ½ä¼šä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚ 3. Deep into the code 3.1 AFL++çš„ä¸»ä½“æ˜¯afl-fuzz.cï¼Œå…³äºforkserverï¼Œå…¶è´Ÿè´£çš„åŠŸèƒ½æœ‰ï¼š åœ¨mainå‡½æ•°çš„å¼€å¤´åˆå§‹åŒ–forkserverï¼š afl_fsrv_init(&amp;afl->fsrv); â€‹ è¯¥å‡½æ•°å¯¹fsrvæ•°æ®ç»“æ„ä¸­çš„ç›¸å…³å€¼è¿›è¡Œäº†åˆå§‹åŒ–ã€‚ å¯åŠ¨ä¸€ä¸ªforkserverï¼š é¦–å…ˆï¼Œè¿è¡Œfuzzæ—¶ä¼šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¡Œå‚æ•°ï¼š alf-fuzz -i input_dir -o output_dir -- ./to_be_test @@ â€‹ åœ¨whileå¾ªç¯ä¸­ä½¿ç”¨getopt()å‡½æ•°è¯»å–å‘½ä»¤è¡Œå‚æ•°åï¼Œ(argv+optind)æŒ‡é’ˆä¼šæŒ‡å‘./to_be_testã€‚åç»­çš„ä»£ç ä¼šå°†afl-&gt;fsrv.target_pathè®¾ç½®ä¸ºargv[optind]ï¼Œç„¶åä»input_dirè¯»å–å®Œtest caseåè¿è¡Œï¼š //from afl.fuzz.c // afl_fsrv_get_mapsize()å‡½æ•°ä¼šstartä¸€ä¸ªforkserver // ç„¶åè¿”å›è¿™ä¸ªforkserverçš„fsrv->map_sizeå±æ€§ u32 new_map_size = afl_fsrv_get_mapsize( &amp;afl->fsrv, afl->argv, &amp;afl->stop_soon, afl->afl_env.afl_debug_child); â€‹ afl_fsrv_get_mapsize()å‡½æ•°ä¼šé¦–å…ˆè°ƒç”¨afl_fsrv_start()ï¼Œå¯åŠ¨ä¸€ä¸ªforkserverï¼š //from afl.fuzz.c afl_fsrv_start(&amp;afl->fsrv, afl->argv, &amp;afl->stop_soon, afl->afl_env.afl_debug_child); â€‹ è¯¥å‡½æ•°ä¼šæ£€æŸ¥ç›¸å…³ç®¡é“è®¾ç½®ï¼Œé‡å®šå‘è¿›ç¨‹çš„0ã€1ã€2å·æ–‡ä»¶æè¿°ç¬¦ï¼Œç„¶åforkä¸€ä¸ªè¿›ç¨‹ï¼Œç„¶åè¿™ä¸ªè¿›ç¨‹execv targetBinary ï¼ŒtargetBinaryä¸­ä¹Ÿå¯åŠ¨çš„äº†forkï¼ˆï¼‰ï¼Œç›¸å½“äºfuzzerç¨‹åºæ˜¯å®é™…è¢«forkç¨‹åºçš„ç¥–ç¥–çˆ¶è¿›ç¨‹ã€‚ forkserverè®¾è®¡ 3.2 åœ¨forkserver.hä¸forkserver.cæ–‡ä»¶ä¸­ï¼Œå…¶å®šä¹‰äº†ç›¸å…³æ•°æ®ç»“æ„afl_forkserverï¼š â€‹ forkserverçš„å…³é”®å‡½æ•°æ˜¯afl_fsrv_start()ï¼š // è®¾ç½®çŠ¶æ€ç®¡é“st_pipeå’Œæ§åˆ¶ç®¡é“ctl_pipe if (pipe(st_pipe) || pipe(ctl_pipe)) &#123; PFATAL(\"pipe() failed\"); &#125; //last_run_timed_out ä¸º u32ï¼Œä»¥ 4 å­—èŠ‚æ•°ç»„çš„å½¢å¼å‘é€ç»™å­è¿›ç¨‹ fsrv->last_run_timed_out = 0; // forkå‡ºä¸€ä¸ªå­è¿›ç¨‹ fsrv->fsrv_pid = fork(); // è‹¥forkæˆåŠŸï¼Œåˆ™çˆ¶è¿›ç¨‹å³ä¸ºfuzzer // å­è¿›ç¨‹å³ä¸ºç›®æ ‡ç¨‹åºè¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯fork server if (fsrv->fsrv_pid &lt; 0) &#123; PFATAL(\"fork() failed\"); &#125; if (!fsrv->fsrv_pid) &#123; // å­è¿›ç¨‹ // ...... &#125; // çˆ¶è¿›ç¨‹ // è‹¥fuzzerä»serverä¸­è¯»å–äº†å››ä¸ªå­—èŠ‚çš„hello ï¼Œ // é‚£ä¹ˆforkserverç¨‹åºå°±è®¾ç½®æˆåŠŸäº†ï¼Œå¦‚æœæ²¡æœ‰ï¼Œ // æ¥ä¸‹æ¥çš„ä»£ç å°±æ˜¯æ£€æŸ¥é”™è¯¯ã€‚ if (rlen == 4) &#123;//åˆ¤æ–­è¯»å–æ˜¯å¦æˆåŠŸ OKF(\"All right - fork server is up.\"); return; &#125; 3.2.1 å­è¿›ç¨‹â€”&gt;forkserver â€‹ å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œforkäº†ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹ä¸­ï¼Œé¦–å…ˆè®¾ç½®è¯¥è¿›ç¨‹å¯¹SIGPIPEçš„å¤„ç†æ–¹å¼ï¼š // enable terminating on sigpipe in the childs // å½“ä¸€ä¸ªè¿›ç¨‹è¯•å›¾å‘å·²å…³é—­çš„ç®¡é“å†™å…¥æ•°æ®æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå‘é€SIGPIPEä¿¡å·ç»™è¯¥è¿›ç¨‹ã€‚ struct sigaction sa; memset((char *)&amp;sa, 0, sizeof(sa)); sa.sa_handler = SIG_DFL; sigaction(SIGPIPE, &amp;sa, NULL); â€‹ ç„¶åè¿›è¡Œä¸€äº›è¯¸å¦‚å†…å­˜ã€æ–‡ä»¶æè¿°ç¬¦ä¹‹ç±»çš„èµ„æºè®¾ç½®åï¼ˆè¿™é‡Œç•¥ï¼‰ã€‚åœ¨å®Œæˆç›¸å…³ç®¡é“ã€æ–‡ä»¶æè¿°ç¬¦çš„é…ç½®åï¼Œafl_fsrv_start()å‡½æ•°ä¼šåœ¨å­è¿›ç¨‹å†…ä½¿ç”¨setsid()å‡½æ•°ä½¿å­è¿›ç¨‹ç‹¬ç«‹ï¼Œç„¶ååœ¨å­è¿›ç¨‹å†…ç›´æ¥è¿è¡Œå¾…æµ‹è¯•ç¨‹åº: /* Isolate the process and configure standard descriptors. If out_file is specified, stdin is /dev/null; otherwise, out_fd is cloned instead. */ // åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ setsid(); if (!(debug_child_output)) &#123; // å¦‚æœæ²¡æœ‰æŒ‡å®šdebug_child_outputï¼Œåˆ™ // é‡å®šå‘æ–‡ä»¶æè¿°ç¬¦1å’Œ2åˆ°dev_null_fd // å› ä¸ºdev_null_fd=-1ï¼Œå­è¿›ç¨‹å°†ä¸è¾“å‡º dup2(fsrv->dev_null_fd, 1); dup2(fsrv->dev_null_fd, 2); &#125; // å¦‚æœæŒ‡å®šäº†out_fileï¼Œåˆ™æ–‡ä»¶æè¿°ç¬¦0é‡å®šå‘åˆ°dev_null_fdï¼Œå¦åˆ™é‡å®šå‘åˆ°out_fd if (!fsrv->use_stdin) &#123; dup2(fsrv->dev_null_fd, 0); &#125; else &#123; dup2(fsrv->out_fd, 0); close(fsrv->out_fd); &#125; â€‹ è®¾ç½®ç®¡é“ï¼Œå¹¶å…³é—­ä¸€äº›ä¸å¿…è¦çš„ç®¡é“å’Œæ–‡ä»¶æè¿°ç¬¦ï¼š // è®¾ç½®æ§åˆ¶å’ŒçŠ¶æ€ç®¡é“ï¼Œå…³é—­ä¸€äº›ä¸éœ€è¦çš„æ–‡ä»¶æè¿°ç¬¦ // FORKSRV_FD = 198 // 198å·fdç”¨äºctlç®¡é“è¯»æ“ä½œ // 199å·fdç”¨äºstç®¡é“å†™æ“ä½œ if (dup2(ctl_pipe[0], FORKSRV_FD) &lt; 0) &#123; PFATAL(\"dup2() failed\"); &#125; if (dup2(st_pipe[1], FORKSRV_FD + 1) &lt; 0) &#123; PFATAL(\"dup2() failed\"); &#125; close(ctl_pipe[0]); close(ctl_pipe[1]); close(st_pipe[0]); close(st_pipe[1]); close(fsrv->out_dir_fd); close(fsrv->dev_null_fd); close(fsrv->dev_urandom_fd); â€‹ å¦‚æœLD_BIND_LAZYä¸ä¸º1åˆ™è®¾ç½®ä¸º1ï¼ˆåŸå› å‚è€ƒä¸Šæ–‡ï¼‰ï¼š if (!getenv(\"LD_BIND_LAZY\")) &#123; setenv(\"LD_BIND_NOW\", \"1\", 1); &#125; â€‹ ç„¶åä½¿ç”¨execvè¿è¡Œç¨‹åºï¼š // init_child_func == fsrv_exec_child fsrv->init_child_func(fsrv, argv); /* Use a distinctive bitmap signature to tell the parent about execv() falling through. */ // è¿è¡Œå¤±è´¥è¿™æ®µä»£ç å°±ä¼šæ‰§è¡Œ // è¿è¡ŒæˆåŠŸåˆ™ä¸ä¼š *(u32 *)fsrv->trace_bits = EXEC_FAIL_SIG; FATAL(\"Error: execv to target failed\\n\"); â€‹ init_child_funcå®šä¹‰å¦‚ä¸‹ï¼š static void fsrv_exec_child(afl_forkserver_t *fsrv, char **argv) &#123; if (fsrv->qemu_mode || fsrv->cs_mode) &#123; setenv(\"AFL_DISABLE_LLVM_INSTRUMENTATION\", \"1\", 0); &#125; // è¿è¡Œtarget_pathå¤„çš„ç¨‹åº execv(fsrv->target_path, argv); WARNF(\"Execv failed in forkserver.\"); &#125; â€‹ fsrv.target_pathå°±æ˜¯è¦fuzzçš„ç¨‹åºçš„åœ°å€ï¼Œå…¶ç»è¿‡check_binary()å‡½æ•°åˆå§‹åŒ–ã€‚ 3.2.2 çˆ¶è¿›ç¨‹â€”&gt;fuzzer â€‹ çˆ¶è¿›ç¨‹ä¼šè®¾ç½®ç›¸å…³ç®¡é“ï¼Œå¹¶ä½¿ç”¨read_s32_timed()å‡½æ•°ä»å­è¿›ç¨‹ä¸­è¯»å–ä¿¡æ¯ï¼ŒåŒæ—¶è¿›è¡Œç›¸å…³è¶…æ—¶å¤„ç†ï¼š /* Wrapper for select() and read(), reading a 32 bit var. Returns the time passed to read. If the wait times out, returns timeout_ms + 1; Returns 0 if an error occurred (fd closed, signal, ...); */ static u32 __attribute__((hot)) read_s32_timed(s32 fd, s32 *buf, u32 timeout_ms, volatile u8 *stop_soon_p) &#123; // é…ç½®ç›¸å…³å˜é‡ // ...... // set exceptfds as well to return when a child exited/closed the pipe. restart_select: // ä½¿ç”¨selectå‡½æ•°é˜»å¡è¿›ç¨‹ï¼Œä»readfdsä¸­è¯»å–ä¿¡æ¯ sret = select(fd + 1, &amp;readfds, NULL, NULL, &amp;timeout); if (likely(sret > 0)) &#123; restart_read: if (*stop_soon_p) &#123; // Early return - the user wants to quit. return 0; &#125; len_read = read(fd, (u8 *)buf, 4); // ...... if (likely(len_read == 4)) &#123; // for speed we put this first // ensure to report 1 ms has passed (0 is an error) return exec_ms > 0 ? exec_ms : 1; &#125; else if (unlikely(len_read == -1 &amp;&amp; errno == EINTR)) &#123; goto restart_read; &#125; else if (unlikely(len_read &lt; 4)) &#123; return 0; &#125; &#125; else if (unlikely(!sret)) &#123; *buf = -1; return timeout_ms + 1; &#125; else if (unlikely(sret &lt; 0)) &#123; if (likely(errno == EINTR)) goto restart_select; *buf = -1; return 0; &#125; return 0; // not reached &#125; â€‹ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœè¿”å›0ä»£è¡¨å‡ºé”™ï¼Œè¿”å›timeout_ms + 1ä»£è¡¨è¶…æ—¶ã€‚ â€‹ æ¥ç€åˆ¤æ–­ä»å­è¿›ç¨‹è¯»å–åˆ°çš„ä¿¡æ¯çš„é•¿åº¦ï¼Œå¦‚æœè¯»å–åˆ°4å­—èŠ‚çš„helloä¿¡æ¯åˆ™ä»£è¡¨forkserveråˆå§‹åŒ–æˆåŠŸï¼Œçˆ¶è¿›ç¨‹å‡½æ•°ç›´æ¥è¿”å›ï¼Œç»§ç»­æ‰§è¡Œfuzzerï¼Œå­è¿›ç¨‹ä¿ç•™è¿è¡Œç­‰å¾…fuzzeræŒ‡ä»¤ï¼š if (rlen == 4) &#123; // é”™è¯¯/è¶…æ—¶å¤„ç† if ((status &amp; FS_OPT_ERROR) == FS_OPT_ERROR) report_error_and_exit(FS_OPT_GET_ERROR(status))&#123; //...... &#125; if ((status &amp; FS_OPT_ENABLED) == FS_OPT_ENABLED)&#123; //...... &#125; // å¦‚æœforkserveråˆå§‹åŒ–æˆåŠŸï¼Œç›´æ¥é€€å‡ºçˆ¶å‡½æ•° // å› ä¸ºå­è¿›ç¨‹é‡Œè®¾ç½®äº†setsidï¼Œæ•…å…¶ä»ç„¶ç»§ç»­è¿è¡Œ return; &#125; if (fsrv-last_run_time_out)&#123; // è¯»å–è¶…æ—¶å¤„ç† &#125; // ç›¸å…³é”™è¯¯å¤„ç† // ...... â€‹ æ³¨æ„åˆ°ï¼Œforkserverä¸å¾…æµ‹è¯•ç¨‹åºä¹‹é—´çš„å…³ç³»å¹¶ä¸æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ç¨‹åºï¼Œforkserveræ˜¯ç»è¿‡ä»£ç æ’æ¡©ä»¥åçš„å¾…æµ‹è¯•ç¨‹åºï¼Œå…¶å¯ä»¥åœ¨ç›¸å…³ç¬¦å·åŠ è½½å®Œæˆåç­‰å¾…fuzzerçš„æŒ‡ä»¤ï¼Œç„¶ååœ¨å¾ªç¯ä¸­ä¸æ–­forkæ‰§è¡Œç¨‹åºã€‚ 3.3 ä»£ç æ’æ¡© â€‹ å½“forkserveråˆå§‹åŒ–åï¼Œç”±äºä½¿ç”¨execvç›´æ¥è¿è¡Œå¾…æµ‹è¯•ç¨‹åºï¼ŒæŒ‰ç†æ¥è¯´å…¶åº”è¯¥ç›´æ¥æ‰§è¡Œï¼Œå¹¶ä¸ä¼šæœ‰forkserverçš„åŠŸèƒ½ã€‚ä½†åœ¨ç¨‹åºç¼–è¯‘æ—¶è¿›è¡Œäº†ä»£ç æ’æ¡©ï¼Œexecvåçš„å­è¿›ç¨‹å…¶ä¼šåœ¨mainå‡½æ•°åœæ­¢ï¼Œç­‰å¾…fuzzerçš„å‘½ä»¤ï¼Œå…·ä½“çš„æ’æ¡©åˆ†æè§Reference:star:ã€‚ Get the input/output Dry run â€‹ åœ¨å°†test caseä»input dirè¯»å–åˆ°afl-&gt;queueä¸­åï¼Œè¿›è¡Œæ­£å¼çš„fuzzingä¹‹å‰ï¼ŒAFLé€šä¼šå¯¹æ‰€æœ‰çš„test casesè¿›è¡Œä¸€æ¬¡æ‰§è¡Œï¼Œä»¥ç¡®ä¿æ’é™¤ä¸€äº›å¤æ€ªçš„ã€æœ‰é—®é¢˜çš„test caseï¼ŒAFLæºç ä¸­ç®¡è¿™ä¸ªè¿‡ç¨‹å«Calibrateã€‚å¯¹input_dirè¿›è¡ŒCalibrateçš„è¿‡ç¨‹å°±æ˜¯dry runã€‚ â€‹ PSï¼šå¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡AFL_NO_STARTUP_CALIBRATIONæ¥å†³å®šæ˜¯å¦è¿›è¡Œdry runã€‚ 1. perform_dry_run() å‡½æ•°åŸå‹ï¼š void* perform_dry_run(afl_state_t **afl*) æ¥æºï¼šafl-fuzz-init.c è¢«å¼•ç”¨ï¼šafl-fuzz.c åŠŸèƒ½ç®€ä»‹ï¼šå¯¹æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹è¿›è¡Œæ¨¡æ‹Ÿè¿è¡Œï¼Œä»¥ç¡®ä¿åº”ç”¨ç¨‹åºæŒ‰é¢„æœŸæ‰§è¡Œã€‚ â€‹ é¦–å…ˆï¼Œperform_dry_run()å‡½æ•°ä¼šéå†afl-&gt;queue_bufï¼Œæ¯ä¸ªqueue_bufä¸­å­˜å‚¨ç€inputç›¸å…³ä¿¡æ¯ã€‚å‡½æ•°æ‰“å¼€inputæ–‡ä»¶ï¼Œå°†å…¶è¯»å–åˆ°ä¸€å—å†…å­˜use_memä¸­ï¼Œç„¶åè°ƒç”¨calibrate_case()å‡½æ•°è¿è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š // è·å–æ–‡ä»¶å u8 *fn = strrchr(q->fname, '/') + 1; // æ‰“å°æ–‡ä»¶å ACTF(\"Attempting dry run with '%s'...\", fn); // åªè¯»æ‰“å¼€æ–‡ä»¶ fd = open(q->fname, O_RDONLY); if (fd &lt; 0) &#123; PFATAL(\"Unable to open '%s'\", q->fname); &#125; // å°†æ–‡ä»¶è¯»å–åˆ°use_memä¸­ u32 read_len = MIN(q->len, (u32)MAX_FILE); use_mem = afl_realloc(AFL_BUF_PARAM(in), read_len); ck_read(fd, use_mem, read_len, q->fname); // å…³é—­æ–‡ä»¶ close(fd); // è¿è¡Œcase res = calibrate_case(afl, q, use_mem, 0, 1); 2. calibrate_case() å‡½æ•°åŸå‹ï¼š u8 calibrate_case(afl_state_t afl, struct* queue_entry q, u8 use_mem, u32 handicap, u8 from_queue) æ¥æºï¼šafl-fuzz-run.c è¢«å¼•ç”¨ï¼šafl-fuzz-init.c åŠŸèƒ½ç®€ä»‹ï¼šè¿è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ’é™¤æœ‰é—®é¢˜çš„æ ·ä¾‹ã€‚ 3.write_to_testcase() å‡½æ•°åŸå‹ï¼šu32 __ attribute __((hot)) write_to_testcase(afl_state_t *afl , void **mem, u32 len, u32 fix) æ¥æºï¼šafl-fuzz-run.c è¢«å¼•ç”¨ï¼šafl-fuzz-run.c åŠŸèƒ½ç®€ä»‹ï¼šå°†testcaseå†™å…¥åˆ°æ–‡ä»¶ä¸­å» 4. :star:fuzz_run_target() å‡½æ•°åŸå‹ï¼šfsrv_run_result_t __ attribute __((hot)) fuzz_run_target(afl_state_t afl, afl_forkserver_t fsrv, u32 timeout) æ¥æºï¼šafl-fuzz-run.c è¢«å¼•ç”¨ï¼šafl-fuzz-run.c åŠŸèƒ½ç®€ä»‹ï¼š è¿è¡Œç›®æ ‡å¾…æµ‹è¯•ç¨‹åº Main loop Reference Forkserver of AFL: More about AFL â€” AFL 2.53b documentation (afl-1.readthedocs.io) lcamtuf's old blog: Fuzzing random programs without execve() AFL-Unicornä¸­çš„fork serveræœºåˆ¶è¯¦è§£ CSDNåšå®¢ AFLplusplus/docs/env_variables.md at 7f17a94349830a54d2c899f56b149c0d7f9ffb9c Â· AFLplusplus/AFLplusplus (github.com) :star:[åŸåˆ›]AFL afl_fuzz.c è¯¦ç»†åˆ†æ-äºŒè¿›åˆ¶æ¼æ´-çœ‹é›ª-å®‰å…¨ç¤¾åŒº|å®‰å…¨æ‹›è˜|kanxue.com :star:AFLå†…éƒ¨å®ç°ç»†èŠ‚å°è®° - è®°äº‹æœ¬ (rk700.github.io) System processï¼š wait å’Œ waitpid è¯¦è§£åŠä»£ç ç¤ºä¾‹_-CSDNåšå®¢ forkï¼ˆå‡½æ•°ï¼‰_ç™¾åº¦ç™¾ç§‘ (baidu.com) forkå’Œexecveå’ŒLinuxå†…æ ¸çš„ä¸€èˆ¬æ‰§è¡Œè¿‡ç¨‹ - çŸ¥ä¹ (zhihu.com) LINUXä¿¡å·å¤„ç†ï¼ˆsigactionä¿¡å·æ•è·å‡½æ•°ï¼šstruct sigactionï¼‰CSDNåšå®¢ selectå‡½æ•°åŠfd_setä»‹ç» - åšå®¢å›­ Linux signal()å’Œkill()_CSDNåšå®¢ C/C++: C/C++ å‘½ä»¤è§£æï¼šgetopt æ–¹æ³•è¯¦è§£å’Œä½¿ç”¨ç¤ºä¾‹_CSDNåšå®¢ linux cè§£æå‘½ä»¤è¡Œé€‰é¡¹getoptã€optargã€optindã€opterrã€optopt - æˆ´ç£Šç¬”è®° (daileinote.com) Linux accesså‡½æ•°è®²è§£_CSDNåšå®¢ linuxç³»ç»Ÿè°ƒç”¨å‡½æ•° lstat--è·å–æ–‡ä»¶å±æ€§ CSDNåšå®¢ æ˜æ™°argc -= optind, argv += optindä¸ºä»€ä¹ˆæ˜¯è·³è¿‡å·²è¯»å–çš„å‚æ•°_CSDNåšå®¢ getcwd()å‡½æ•°çš„ç”¨æ³•_CSDNåšå®¢","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)FuzzBuilder- Automated building greybox fuzzing environment for C/C++ library","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘FuzzBuilder--Automated-building-greybox-fuzzing-environment-for-CC++-library","date":"2023-07-23T06:07:38.504Z","updated":"2023-07-23T06:35:27.454Z","comments":true,"path":"2023/07/23/ã€è®ºæ–‡é˜…è¯»ã€‘FuzzBuilder--Automated-building-greybox-fuzzing-environment-for-CC++-library/","link":"","permalink":"http://example.com/2023/07/23/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91FuzzBuilder--Automated-building-greybox-fuzzing-environment-for-CC++-library/","excerpt":"FuzzBuilder: Automated building greybox fuzzing environment for C/C++ library æ—¶é—´ï¼š2019 ä½œè€…ï¼šJoonun Jangã€Huy Kang Kimï¼ˆä¸‰æ˜Ÿç ”ç©¶é™¢ã€é¦–å°”å¤§å­¦ï¼‰ ä¼šè®®ï¼šACSAC å¼€æºï¼šhttps://github.com/hksecurity/FuzzBuilder Abstract â€‹ Fuzzingæ˜¯å‘ç°è½¯ä»¶æ¼æ´çš„ä¸€ç§æœ‰æ•ˆæ–¹æ³•ï¼Œç”±äºfuzzingå‘ç°çš„å¤§å¤šæ•°é”™è¯¯éƒ½ä¸å®‰å…¨æ¼æ´æœ‰å…³ï¼Œå› æ­¤è®¸å¤šå®‰å…¨ç¤¾åŒºéƒ½å¯¹æ¨¡ç³Šæµ‹è¯•è¿™ç§éªŒè¯è½¯ä»¶å®‰å…¨æ€§çš„è‡ªåŠ¨åŒ–æ–¹æ³•å¾ˆæ„Ÿå…´è¶£ã€‚ç„¶è€Œï¼Œå¹¶éæ‰€æœ‰è½¯ä»¶éƒ½èƒ½é€šè¿‡æ¨¡ç³Šæµ‹è¯•è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºæ¨¡ç³Šæµ‹è¯•éœ€è¦è¿è¡Œç¯å¢ƒï¼Œç‰¹åˆ«æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°±åº“è€Œè¨€ï¼Œå¤§å¤šæ•°åº“å®é™…ä¸Šéƒ½æ²¡æœ‰ç›¸å…³çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ â€‹ å› æ­¤ï¼Œæœ€å…ˆè¿›çš„fuzzeråœ¨æµ‹è¯•ä»»æ„åº“æ–¹é¢å­˜åœ¨å±€é™æ€§ï¼Œä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº† FuzzBuilderï¼Œä¸ºåº“æä¾›è‡ªåŠ¨fuzzing environmentã€‚FuzzBuilderç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¼šè°ƒç”¨åº“çš„ API å‡½æ•°ï¼Œä»è€Œå®ç°åº“æ¨¡ç³Šæµ‹è¯•ï¼Œæ­¤å¤–ï¼ŒFuzzBuilder ç”Ÿæˆçš„ä»»ä½•å¯æ‰§è¡Œæ–‡ä»¶éƒ½ä¸ AFL ç­‰ç°æœ‰æ¨¡ç³Šå™¨å…¼å®¹ã€‚ â€‹ æˆ‘ä»¬é€šè¿‡æµ‹è¯•å¼€æºåº“æ¥è¯„ä¼° FuzzBuilder çš„æ•´ä½“æ€§èƒ½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨å®ç°é«˜ä»£ç è¦†ç›–ç‡çš„åŒæ—¶å‘ç°äº†åº“ä¸­çš„æœªçŸ¥é”™è¯¯ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼ŒFuzzBuilder å¯ä»¥å¸®åŠ©å®‰å…¨ç ”ç©¶äººå‘˜èŠ‚çœåº“æ¨¡ç³Šæµ‹è¯•çš„è®¾ç½®æˆæœ¬å’Œå­¦ä¹ æˆæœ¬ã€‚","text":"FuzzBuilder: Automated building greybox fuzzing environment for C/C++ library æ—¶é—´ï¼š2019 ä½œè€…ï¼šJoonun Jangã€Huy Kang Kimï¼ˆä¸‰æ˜Ÿç ”ç©¶é™¢ã€é¦–å°”å¤§å­¦ï¼‰ ä¼šè®®ï¼šACSAC å¼€æºï¼šhttps://github.com/hksecurity/FuzzBuilder Abstract â€‹ Fuzzingæ˜¯å‘ç°è½¯ä»¶æ¼æ´çš„ä¸€ç§æœ‰æ•ˆæ–¹æ³•ï¼Œç”±äºfuzzingå‘ç°çš„å¤§å¤šæ•°é”™è¯¯éƒ½ä¸å®‰å…¨æ¼æ´æœ‰å…³ï¼Œå› æ­¤è®¸å¤šå®‰å…¨ç¤¾åŒºéƒ½å¯¹æ¨¡ç³Šæµ‹è¯•è¿™ç§éªŒè¯è½¯ä»¶å®‰å…¨æ€§çš„è‡ªåŠ¨åŒ–æ–¹æ³•å¾ˆæ„Ÿå…´è¶£ã€‚ç„¶è€Œï¼Œå¹¶éæ‰€æœ‰è½¯ä»¶éƒ½èƒ½é€šè¿‡æ¨¡ç³Šæµ‹è¯•è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºæ¨¡ç³Šæµ‹è¯•éœ€è¦è¿è¡Œç¯å¢ƒï¼Œç‰¹åˆ«æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°±åº“è€Œè¨€ï¼Œå¤§å¤šæ•°åº“å®é™…ä¸Šéƒ½æ²¡æœ‰ç›¸å…³çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ â€‹ å› æ­¤ï¼Œæœ€å…ˆè¿›çš„fuzzeråœ¨æµ‹è¯•ä»»æ„åº“æ–¹é¢å­˜åœ¨å±€é™æ€§ï¼Œä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº† FuzzBuilderï¼Œä¸ºåº“æä¾›è‡ªåŠ¨fuzzing environmentã€‚FuzzBuilderç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¼šè°ƒç”¨åº“çš„ API å‡½æ•°ï¼Œä»è€Œå®ç°åº“æ¨¡ç³Šæµ‹è¯•ï¼Œæ­¤å¤–ï¼ŒFuzzBuilder ç”Ÿæˆçš„ä»»ä½•å¯æ‰§è¡Œæ–‡ä»¶éƒ½ä¸ AFL ç­‰ç°æœ‰æ¨¡ç³Šå™¨å…¼å®¹ã€‚ â€‹ æˆ‘ä»¬é€šè¿‡æµ‹è¯•å¼€æºåº“æ¥è¯„ä¼° FuzzBuilder çš„æ•´ä½“æ€§èƒ½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨å®ç°é«˜ä»£ç è¦†ç›–ç‡çš„åŒæ—¶å‘ç°äº†åº“ä¸­çš„æœªçŸ¥é”™è¯¯ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼ŒFuzzBuilder å¯ä»¥å¸®åŠ©å®‰å…¨ç ”ç©¶äººå‘˜èŠ‚çœåº“æ¨¡ç³Šæµ‹è¯•çš„è®¾ç½®æˆæœ¬å’Œå­¦ä¹ æˆæœ¬ã€‚ Background â€‹ ç¼–å†™åº“fuzzingä»£ç æ—¶ï¼Œé¦–å…ˆè¦é€‰æ‹©ä¸€ä¸ªåŸºæœ¬å‡½æ•°ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦è°ƒç”¨ä¸åŸºç¡€å‡½æ•°ç›¸å…³çš„å…¶ä»–å‡½æ•°ï¼Œä»¥å®ç°è¶³å¤Ÿçš„ä»£ç è¦†ç›–ç‡ã€‚ä¾‹å¦‚ï¼Œåº“ä¸­ç‰¹å®šåŠŸèƒ½çš„å®ç°å¯åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ã€‚æ­¤å¤–ï¼Œå¦‚æœå‡½æ•°éœ€è¦å…¶ä»–å‡½æ•°çš„è¿”å›å€¼ï¼Œåˆ™ä¸èƒ½å•ç‹¬æµ‹è¯•åº“ä¸­çš„ç‰¹å®šå‡½æ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è”åˆæµ‹è¯•æ‰€æœ‰ç›¸å…³å‡½æ•°ã€‚å› æ­¤ï¼Œåœ¨ç¼–å†™åº“fuzzingä»£ç æ—¶ï¼Œåº”è€ƒè™‘è°ƒç”¨å‡½æ•°åºåˆ—è€Œä¸æ˜¯å•ä¸ªå‡½æ•°ã€‚Han ç­‰äºº[18]åœ¨ä»–ä»¬çš„å†…æ ¸æ¨¡ç³Šå™¨ä¸­å¼•å…¥äº†ç±»ä¼¼çš„ API æ¨¡å‹æ¦‚å¿µï¼Œå…¶ä¸­åŒ…æ‹¬ä¸¤ç±»ä¾èµ–å…³ç³»ï¼šæ’åºä¾èµ–å…³ç³»å’Œå€¼ä¾èµ–å…³ç³»ã€‚ â€‹ æœ¬æ–‡å°†å‡½æ•°åºåˆ—å®šä¹‰ä¸ºä¸€ç»„éœ€è¦è”åˆæµ‹è¯•çš„å‡½æ•°ã€‚å›¾ 2 æ˜¾ç¤ºäº†ç¼–å†™åº“æ¨¡ç³Šæµ‹è¯•ä»£ç éœ€è¦å‡½æ•°åºåˆ—çš„åŸå› : â€‹ ä¾æ¬¡è°ƒç”¨init - insert - parse_A, and init - insert - parse_Bå¯ä»¥è·å¾—æœ€é«˜çš„è¦†ç›–ç‡ã€‚ã€ â€‹ å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§é€šè¿‡ä½¿ç”¨å•å…ƒæµ‹è¯•ä¸­å‡†å¤‡å¥½çš„å‡½æ•°åºåˆ—å’Œæµ‹è¯•è¾“å…¥æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶å’Œç§å­çš„æ–¹æ³•ã€‚è™½ç„¶è¿™ç§æ–¹æ³•è¦æ±‚é¡¹ç›®å¿…é¡»æœ‰å•å…ƒæµ‹è¯•ï¼Œä½†å¦‚è¡¨ 2 æ‰€ç¤ºï¼Œè¿™ç§æ–¹æ³•éå¸¸å®ç”¨ï¼Œå› ä¸ºå¤§å¤šæ•°é¡¹ç›®å·²ç»æœ‰äº†å•å…ƒæµ‹è¯•ã€‚ Contribution æˆ‘ä»¬æå‡ºäº†ä¸€ç§è‡ªåŠ¨ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ä»¥å¯¹libraryåšfuzzingçš„æ–°æ–¹æ³•ï¼› ä¸ºå®ç”¨èµ·è§ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸ AFL ç­‰å„ç§ç°ç›’fuzzerå…¼å®¹ï¼› æˆ‘ä»¬å°†è¿™ç§æ–¹æ³•ä½œä¸ºåŸºäº LLVM æ¡†æ¶çš„å·¥å…· FuzzBuilder æ¥å®ç°ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)RULF-Rust Library Fuzzing via API Dependency Graph Traversal","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘RULF-Rust-Library-Fuzzing-via-API-Dependency-Graph-Traversal","date":"2023-07-22T13:47:37.043Z","updated":"2023-07-23T05:48:23.018Z","comments":true,"path":"2023/07/22/ã€è®ºæ–‡é˜…è¯»ã€‘RULF-Rust-Library-Fuzzing-via-API-Dependency-Graph-Traversal/","link":"","permalink":"http://example.com/2023/07/22/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91RULF-Rust-Library-Fuzzing-via-API-Dependency-Graph-Traversal/","excerpt":"RULF: Rust Library Fuzzing via API Dependency Graph Traversal æ—¶é—´ï¼š2021 ä½œè€…ï¼šJianfeng Jiangã€Hui Xuã€Yangfan Zhouï¼ˆå¤æ—¦å¤§å­¦ï¼‰ ä¼šè®®ï¼šASE å¼€æºï¼šhttps://github.com/Artisan-Lab/RULF Abstract â€‹ é²æ£’æ€§æ˜¯ Rust åº“å¼€å‘çš„ä¸€ä¸ªå…³é”®é—®é¢˜ï¼Œå› ä¸º Rust æ‰¿è¯ºï¼Œå¦‚æœå¼€å‘äººå‘˜åªä½¿ç”¨å®‰å…¨çš„ APIï¼Œå°±ä¸ä¼šå‡ºç°æœªå®šä¹‰è¡Œä¸ºçš„é£é™©ã€‚Fuzzingæ˜¯æ£€æŸ¥ç¨‹åºé²æ£’æ€§çš„ä¸€ç§å®ç”¨æ–¹æ³•ï¼Œç„¶è€Œï¼Œç”±äºç¼ºä¹ç›®æ ‡ï¼Œç°æœ‰çš„fuzzingå·¥å…·å¹¶ä¸èƒ½ç›´æ¥é€‚ç”¨äºlibrary APIã€‚æ•…è¿™é¡¹å·¥ä½œä¸»è¦ä¾é äººå·¥é€ä¸ªè®¾è®¡fuzzing targetï¼Œè€—è´¹å¤§é‡äººåŠ›ç‰©åŠ›ã€‚ â€‹ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°é¢–çš„è‡ªåŠ¨fuzzingç›®æ ‡ç”Ÿæˆæ–¹æ³•ï¼Œé€šè¿‡éå† API ä¾èµ–å›¾æ¥fuzzing Rust åº“ã€‚æˆ‘ä»¬ç¡®å®šäº†library fuzzingçš„å‡ ä¸ªåŸºæœ¬è¦æ±‚ï¼ŒåŒ…æ‹¬targetçš„æœ‰æ•ˆæ€§ã€é«˜ API è¦†ç›–ç‡å’Œfuzzingçš„æ•ˆç‡ã€‚ä¸ºäº†æ»¡è¶³è¿™äº›è¦æ±‚ï¼Œæˆ‘ä»¬é¦–å…ˆé‡‡ç”¨äº†å¸¦æœ‰å‰ªæåŠŸèƒ½çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œä»¥æ‰¾åˆ°é•¿åº¦ä½äºé˜ˆå€¼çš„ API åºåˆ—ï¼Œç„¶ååå‘æœç´¢æ›´é•¿çš„åºåˆ—ä»¥æŸ¥æ‰¾æœªè¦†ç›–çš„ APIï¼Œæœ€åå°†åºåˆ—é›†ä½œä¸ºé›†åˆè¦†ç›–é—®é¢˜è¿›è¡Œä¼˜åŒ–ã€‚ â€‹ æˆ‘ä»¬å®ç°äº†fuzz targetç”Ÿæˆå™¨ï¼Œå¹¶ä½¿ç”¨ AFL++ åœ¨å¤šä¸ªç°å®ä¸–ç•Œä¸­æµè¡Œçš„ Rust é¡¹ç›®ä¸Šè¿›è¡Œäº†fuzzingå®éªŒã€‚æˆ‘ä»¬çš„å·¥å…·æœ€ç»ˆä¸ºæ¯ä¸ªåº“ç”Ÿæˆäº† 7 åˆ° 118 ä¸ªfuzzing targetï¼ŒAPI è¦†ç›–ç‡é«˜è¾¾ 0.92ã€‚æˆ‘ä»¬ä»¥ 24 å°æ—¶ä¸ºé˜ˆå€¼å¯¹æ¯ä¸ªç›®æ ‡è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä»ä¸ƒä¸ªåº“ä¸­å‘ç°äº† 30 ä¸ªä»¥å‰æœªçŸ¥çš„é”™è¯¯ã€‚","text":"RULF: Rust Library Fuzzing via API Dependency Graph Traversal æ—¶é—´ï¼š2021 ä½œè€…ï¼šJianfeng Jiangã€Hui Xuã€Yangfan Zhouï¼ˆå¤æ—¦å¤§å­¦ï¼‰ ä¼šè®®ï¼šASE å¼€æºï¼šhttps://github.com/Artisan-Lab/RULF Abstract â€‹ é²æ£’æ€§æ˜¯ Rust åº“å¼€å‘çš„ä¸€ä¸ªå…³é”®é—®é¢˜ï¼Œå› ä¸º Rust æ‰¿è¯ºï¼Œå¦‚æœå¼€å‘äººå‘˜åªä½¿ç”¨å®‰å…¨çš„ APIï¼Œå°±ä¸ä¼šå‡ºç°æœªå®šä¹‰è¡Œä¸ºçš„é£é™©ã€‚Fuzzingæ˜¯æ£€æŸ¥ç¨‹åºé²æ£’æ€§çš„ä¸€ç§å®ç”¨æ–¹æ³•ï¼Œç„¶è€Œï¼Œç”±äºç¼ºä¹ç›®æ ‡ï¼Œç°æœ‰çš„fuzzingå·¥å…·å¹¶ä¸èƒ½ç›´æ¥é€‚ç”¨äºlibrary APIã€‚æ•…è¿™é¡¹å·¥ä½œä¸»è¦ä¾é äººå·¥é€ä¸ªè®¾è®¡fuzzing targetï¼Œè€—è´¹å¤§é‡äººåŠ›ç‰©åŠ›ã€‚ â€‹ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°é¢–çš„è‡ªåŠ¨fuzzingç›®æ ‡ç”Ÿæˆæ–¹æ³•ï¼Œé€šè¿‡éå† API ä¾èµ–å›¾æ¥fuzzing Rust åº“ã€‚æˆ‘ä»¬ç¡®å®šäº†library fuzzingçš„å‡ ä¸ªåŸºæœ¬è¦æ±‚ï¼ŒåŒ…æ‹¬targetçš„æœ‰æ•ˆæ€§ã€é«˜ API è¦†ç›–ç‡å’Œfuzzingçš„æ•ˆç‡ã€‚ä¸ºäº†æ»¡è¶³è¿™äº›è¦æ±‚ï¼Œæˆ‘ä»¬é¦–å…ˆé‡‡ç”¨äº†å¸¦æœ‰å‰ªæåŠŸèƒ½çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œä»¥æ‰¾åˆ°é•¿åº¦ä½äºé˜ˆå€¼çš„ API åºåˆ—ï¼Œç„¶ååå‘æœç´¢æ›´é•¿çš„åºåˆ—ä»¥æŸ¥æ‰¾æœªè¦†ç›–çš„ APIï¼Œæœ€åå°†åºåˆ—é›†ä½œä¸ºé›†åˆè¦†ç›–é—®é¢˜è¿›è¡Œä¼˜åŒ–ã€‚ â€‹ æˆ‘ä»¬å®ç°äº†fuzz targetç”Ÿæˆå™¨ï¼Œå¹¶ä½¿ç”¨ AFL++ åœ¨å¤šä¸ªç°å®ä¸–ç•Œä¸­æµè¡Œçš„ Rust é¡¹ç›®ä¸Šè¿›è¡Œäº†fuzzingå®éªŒã€‚æˆ‘ä»¬çš„å·¥å…·æœ€ç»ˆä¸ºæ¯ä¸ªåº“ç”Ÿæˆäº† 7 åˆ° 118 ä¸ªfuzzing targetï¼ŒAPI è¦†ç›–ç‡é«˜è¾¾ 0.92ã€‚æˆ‘ä»¬ä»¥ 24 å°æ—¶ä¸ºé˜ˆå€¼å¯¹æ¯ä¸ªç›®æ ‡è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä»ä¸ƒä¸ªåº“ä¸­å‘ç°äº† 30 ä¸ªä»¥å‰æœªçŸ¥çš„é”™è¯¯ã€‚ Background â€‹ æœ¬æ–‡æ—¨åœ¨å¼¥è¡¥ Rust åº“fuzzingä¸ç°æœ‰fuzzingå·¥å…·ä¹‹é—´çš„å·®è·ï¼ŒRust åº“fuzzingé¢ä¸´çš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯ç¼ºä¹æ¨¡ç³Šç›®æ ‡ã€‚ â€‹ Fuzz targetä»£è¡¨ç€ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œä½œä¸ºæ‰§è¡Œç”±æŸäº›åº“ API ç»„æˆçš„ç¨‹åºçš„è¾“å…¥[14]ï¼Œfuzzerå¯ä»¥æ›´æ”¹fuzz targetçš„è¾“å…¥ï¼Œä»¥æ¢ç´¢ä¸åŒçš„è·¯å¾„ã€‚ç°æœ‰çš„fuzzingå·¥å…·ï¼Œå¦‚ AFL [15]ã€honggfuzz [16] å’Œ libFuzzer [17]ï¼Œéƒ½éœ€è¦fuzz targetæ¥å¯¹ç›®æ ‡åº“è¿›è¡Œfuzzingæµ‹è¯•ï¼Œè€Œç¼–å†™fuzz targetä¸»è¦ä¾é äººåŠ›ã€‚ Fudge [18] ï¼ˆFSE/ESEC'2019ï¼‰æ˜¯æœ€è¿‘æå‡ºçš„ä¸€ç§ç”¨äº C/C++ ç¨‹åºçš„fuzz targetç”Ÿæˆå™¨ï¼Œå®ƒä»è°·æ­Œä»£ç åº“ä¸­æå–ä»£ç ç‰‡æ®µï¼Œç„¶è€Œï¼Œå®ƒçš„æœ‰æ•ˆæ€§åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºåº“çš„ä½¿ç”¨æƒ…å†µï¼Œå¹¶ä¸”å­˜åœ¨å¾ˆå¤§çš„å±€é™æ€§ã€‚ä¾‹å¦‚ï¼Œå®ƒä¸é€‚ç”¨äºæ–°å‘å¸ƒçš„åº“æˆ– APIï¼›æˆ–è€…å®ƒæ— æ³•ä¸ºæœªä½¿ç”¨çš„ API ç”Ÿæˆæ¨¡ç³Šç›®æ ‡ï¼Œä½†é”™è¯¯å¯èƒ½ä¸å¾ˆå°‘ä½¿ç”¨çš„åŠŸèƒ½æœ‰å…³ï¼› FuzzGen [31]ï¼ˆUSENIX Security'2020ï¼‰ä»ç³»ç»Ÿä¸­å·²æœ‰ä½¿ç”¨åº“çš„ä»£ç å‡ºå‘ï¼Œé€šè¿‡å¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œåˆ†æï¼Œæ•´ç†å‡ºæŠ½è±¡APIä¾èµ–å›¾(A2DG)ï¼Œå¹¶åŸºäºä¾èµ–å›¾ç”ŸæˆlibFuzzerçš„æ¡©ä»£ç ï¼Œä»è€Œè¿›è¡Œä¸éœ€äººå·¥å¹²é¢„ã€èƒ½è¾ƒå¥½åœ°å¹³è¡¡å®½åº¦å’Œæ·±åº¦çš„fuzz; Contirbution â€‹ æœ¬æ–‡ç ”ç©¶äº†ä¸€ç§è‡ªåŠ¨fuzzing targetç”Ÿæˆæ–¹æ³•ï¼Œæˆ‘ä»¬çš„æ–¹æ³•è¿½æ±‚å››ä¸ªç›®æ ‡ï¼šValidityï¼Œå³ç¨‹åºåº”èƒ½æˆåŠŸç¼–è¯‘ï¼›effectivenessï¼Œå³æ¨¡ç³Šç›®æ ‡åº”ä¾¿äºæ¨¡ç³Šå·¥å…·å®ç°é«˜ä»£ç è¦†ç›–ç‡æˆ–é”™è¯¯æŸ¥æ‰¾ï¼›è¦†ç›–ç‡å’Œæ•ˆç‡ï¼Œå³æ¨¡ç³Šç›®æ ‡åº”è¦†ç›–å°½å¯èƒ½å¤šçš„åº”ç”¨ç¨‹åºæ¥å£ï¼Œå…¶é›†åˆåº”å°½å¯èƒ½å°ã€‚ â€‹ ä¸ºç¡®ä¿validityï¼Œæˆ‘ä»¬æ ¹æ®ç»™å®šåº“çš„ API ä¾èµ–å…³ç³»å›¾æ¥ç»„æˆfuzzing targetã€‚ç”±äºæ¯ä¸ªfuzzing targetéƒ½å¯ä»¥çœ‹ä½œæ˜¯ API è°ƒç”¨çš„ä¸€ä¸ªåºåˆ—ï¼Œå› æ­¤æˆ‘ä»¬ä¼šåœ¨APIä¾èµ–å›¾çš„é•¿åº¦é˜ˆå€¼ä¸‹å¯¹ API åºåˆ—è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚å¯¹äºç”±äºé•¿åº¦é™åˆ¶è€Œæœªè¢«å‘ç°çš„ APIï¼ˆæ·±å±‚ APIï¼‰ï¼Œæˆ‘ä»¬ä¼šåå‘æœç´¢å…¶ä¾èµ–çš„ API åºåˆ—ã€‚æœ€åï¼Œæˆ‘ä»¬å¯¹åºåˆ—é›†è¿›è¡Œç»†åŒ–ï¼Œä»¥è·å¾—æ¶µç›–ç›¸åŒ API é›†çš„æœ€å°å­é›†ã€‚ â€‹ æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªfuzzing targetç”Ÿæˆå™¨RULFã€‚æ ¹æ® Rust åº“çš„ API è§„èŒƒï¼Œå®ƒå¯ä»¥ç”Ÿæˆä¸€ç»„fuzzing targetï¼Œå¹¶ä¸ AFL++ [19] æ— ç¼é›†æˆï¼Œç”¨äºæ¨¡ç³Šæµ‹è¯•ã€‚æˆ‘ä»¬å¯¹ 14 ä¸ªæµè¡Œçš„ Rust åº“è¿›è¡Œäº†å®éªŒï¼Œå…¶ä¸­åŒ…æ‹¬ä¸‰ä¸ªæ¥è‡ª GitHub çš„åº“å’Œ 11 ä¸ªæ¥è‡ª crates çš„åº“ã€‚ç”±äº BFS çš„æ·±åº¦çº¦æŸä¸º 3ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªåº“ç”Ÿæˆäº† 7-118 ä¸ªæ¨¡ç³Šç›®æ ‡ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»¬ä»¥ 24 å°æ—¶çš„é¢„ç®—å¯¹æ¯ä¸ªç›®æ ‡è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ï¼Œåœ¨ä¸ƒä¸ªåº“ä¸­å‘ç°äº† 30 ä¸ªä»¥å‰æœªçŸ¥çš„é”™è¯¯ã€‚ ä¸º Rust åº“è‡ªåŠ¨ç”Ÿæˆfuzzing targetçš„è¯•ç‚¹ç ”ç©¶ã€‚å®ƒæ‰©å±•äº†ç°æœ‰fuzzingæŠ€æœ¯çš„é€‚ç”¨æ€§ï¼Œè€Œè€ƒè™‘åˆ° Rust å¯¹æœªå®šä¹‰è¡Œä¸ºçš„ä¸å®¹å¿ï¼Œè¿™ç§æ‰©å±•æ­£æ˜¯ Rust æ‰€è¿«åˆ‡éœ€è¦çš„; æˆ‘ä»¬æå‡ºçš„æ–¹æ³•åˆ©ç”¨äº†ä¸€ç§å¤æ‚çš„éå†ç®—æ³•ï¼Œåªéœ€å°‘é‡æµ…å±‚fuzzing targetå³å¯å®ç°è¾ƒé«˜çš„ API è¦†ç›–ç‡ã€‚è¿™ç§æ–¹æ³•è¢«è¯æ˜æ˜¯æœ‰æ•ˆå’Œé«˜æ•ˆçš„ã€‚å®ƒå¯ä»¥ä¸ºè¿›ä¸€æ­¥ç ”ç©¶ä»£ç éå†æä¾›å¯ç¤ºï¼› æˆ‘ä»¬ä¸º Rust åº“å®ç°äº†ä¸€ä¸ªå¼€æºçš„fuzzing targetç”Ÿæˆå™¨RULFï¼Œåˆ©ç”¨è¯¥å·¥å…·ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åœ¨ 7 ä¸ªæµè¡Œçš„ Rust åº“ä¸­å‘ç°äº† 30 ä¸ªä»¥å‰æœªçŸ¥çš„æ¼æ´ã€‚ Reference ã€è®ºæ–‡æ€»ç»“ã€‘Fuzz Driver Generation - çŸ¥ä¹ (zhihu.com)","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)GraphFuzz-Library API Fuzzing with Lifetime-aware Dataflow Graphs","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘GraphFuzz-Library-API-Fuzzing-with-Lifetime-aware-Dataflow-Graphs","date":"2023-07-22T06:23:23.676Z","updated":"2023-07-22T13:14:35.154Z","comments":true,"path":"2023/07/22/ã€è®ºæ–‡é˜…è¯»ã€‘GraphFuzz-Library-API-Fuzzing-with-Lifetime-aware-Dataflow-Graphs/","link":"","permalink":"http://example.com/2023/07/22/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91GraphFuzz-Library-API-Fuzzing-with-Lifetime-aware-Dataflow-Graphs/","excerpt":"GraphFuzz: Library API Fuzzing with Lifetime-aware Dataflow Graphs æ—¶é—´ï¼š2022 ä½œè€…ï¼šHarrison Greenã€Thanassis Avgerinos ä¼šè®®ï¼šICSE å¼€æºï¼šhttps://github.com/ForAllSecure/GraphFuzz Abstract â€‹ æå‡ºäº†ä¸€ç§æ–°fuzzerï¼šGraphFuzzï¼Œèƒ½å¤Ÿè‡ªåŠ¨æµ‹è¯•low-level Library APIsã€‚ä¸å…¶ä»–fuzzerä¸åŒçš„æ˜¯ï¼ŒGraphFuzz å°†å·²æ‰§è¡Œå‡½æ•°çš„åºåˆ—å»ºæ¨¡ä¸ºæ•°æ®æµå›¾ï¼Œå› æ­¤èƒ½å¤Ÿåœ¨dataå’Œexecutionè·Ÿè¸ªçº§åˆ«æ‰§è¡Œgraph-based mutationsã€‚GraphFuzz è‡ªå¸¦è‡ªåŠ¨è§„èŒƒç”Ÿæˆå™¨ï¼Œå¯æœ€å¤§é™åº¦åœ°å‡å°‘å¼€å‘äººå‘˜çš„é›†æˆå·¥ä½œã€‚ â€‹ æˆ‘ä»¬ä½¿ç”¨ GraphFuzz å¯¹ Skiaï¼ˆç»è¿‡ä¸¥æ ¼æµ‹è¯•çš„ Google Chrome æµè§ˆå™¨å›¾å½¢åº“ï¼‰è¿›è¡Œåˆ†æï¼Œå¹¶å°† GraphFuzz ç”Ÿæˆçš„fuzzing harnessesä¸æ‰‹å·¥ä¼˜åŒ–ã€ç²¾å¿ƒç¼–å†™çš„ libFuzzer harnessesè¿›è¡Œæ¯”è¾ƒã€‚æˆ‘ä»¬å‘ç°ï¼ŒGraphFuzzç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¹³å‡ä»£ç è¦†ç›–ç‡æé«˜äº†2-3å€ï¼Œè€Œå¼€å‘å·¥ä½œé‡å´å¾ˆå°ï¼Œè€Œä¸”åœ¨æ­¤è¿‡ç¨‹ä¸­è¿˜å‘ç°äº†ä»¥å‰æœªçŸ¥çš„ç¼ºé™·ã€‚æˆ‘ä»¬é€šè¿‡åˆ†æå¦å¤–å››ä¸ªå¼€æºåº“ï¼Œå‘ç°äº†æ•°åä¸ªä»¥å‰æœªçŸ¥çš„ç¼ºé™·ï¼Œä»è€Œè¯æ˜äº† GraphFuzz åœ¨low-level Library APIsä¸Šçš„é€‚ç”¨æ€§ã€‚å¼€å‘äººå‘˜å·²ç»æŠ¥å‘Šå¹¶ä¿®å¤äº†æ‰€æœ‰ä¸å®‰å…¨ç›¸å…³çš„å‘ç°ã€‚","text":"GraphFuzz: Library API Fuzzing with Lifetime-aware Dataflow Graphs æ—¶é—´ï¼š2022 ä½œè€…ï¼šHarrison Greenã€Thanassis Avgerinos ä¼šè®®ï¼šICSE å¼€æºï¼šhttps://github.com/ForAllSecure/GraphFuzz Abstract â€‹ æå‡ºäº†ä¸€ç§æ–°fuzzerï¼šGraphFuzzï¼Œèƒ½å¤Ÿè‡ªåŠ¨æµ‹è¯•low-level Library APIsã€‚ä¸å…¶ä»–fuzzerä¸åŒçš„æ˜¯ï¼ŒGraphFuzz å°†å·²æ‰§è¡Œå‡½æ•°çš„åºåˆ—å»ºæ¨¡ä¸ºæ•°æ®æµå›¾ï¼Œå› æ­¤èƒ½å¤Ÿåœ¨dataå’Œexecutionè·Ÿè¸ªçº§åˆ«æ‰§è¡Œgraph-based mutationsã€‚GraphFuzz è‡ªå¸¦è‡ªåŠ¨è§„èŒƒç”Ÿæˆå™¨ï¼Œå¯æœ€å¤§é™åº¦åœ°å‡å°‘å¼€å‘äººå‘˜çš„é›†æˆå·¥ä½œã€‚ â€‹ æˆ‘ä»¬ä½¿ç”¨ GraphFuzz å¯¹ Skiaï¼ˆç»è¿‡ä¸¥æ ¼æµ‹è¯•çš„ Google Chrome æµè§ˆå™¨å›¾å½¢åº“ï¼‰è¿›è¡Œåˆ†æï¼Œå¹¶å°† GraphFuzz ç”Ÿæˆçš„fuzzing harnessesä¸æ‰‹å·¥ä¼˜åŒ–ã€ç²¾å¿ƒç¼–å†™çš„ libFuzzer harnessesè¿›è¡Œæ¯”è¾ƒã€‚æˆ‘ä»¬å‘ç°ï¼ŒGraphFuzzç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¹³å‡ä»£ç è¦†ç›–ç‡æé«˜äº†2-3å€ï¼Œè€Œå¼€å‘å·¥ä½œé‡å´å¾ˆå°ï¼Œè€Œä¸”åœ¨æ­¤è¿‡ç¨‹ä¸­è¿˜å‘ç°äº†ä»¥å‰æœªçŸ¥çš„ç¼ºé™·ã€‚æˆ‘ä»¬é€šè¿‡åˆ†æå¦å¤–å››ä¸ªå¼€æºåº“ï¼Œå‘ç°äº†æ•°åä¸ªä»¥å‰æœªçŸ¥çš„ç¼ºé™·ï¼Œä»è€Œè¯æ˜äº† GraphFuzz åœ¨low-level Library APIsä¸Šçš„é€‚ç”¨æ€§ã€‚å¼€å‘äººå‘˜å·²ç»æŠ¥å‘Šå¹¶ä¿®å¤äº†æ‰€æœ‰ä¸å®‰å…¨ç›¸å…³çš„å‘ç°ã€‚ A fuzzing harness is a test case or a particular test target. Background â€‹ å°½ç®¡è¿‘æ¥fuzzingç ”ç©¶æ–¹å…´æœªè‰¾ï¼Œä½†èƒ½å¤Ÿå¯¹ C/C++ åº“è¿›è¡Œæ¨¡ç³Šæµ‹è¯•çš„ç³»ç»Ÿå´æ˜æ˜¾ä¸è¶³ã€‚ ç°æœ‰çš„greybox-fuzzingï¼ˆå¦‚ libFuzzer [3]ï¼‰ç‰¹åˆ«é€‚åˆä¸€æ¬¡fuzzä¸€ä¸ªæˆ–ä¸¤ä¸ªç«¯ç‚¹ï¼Œä½†è¦åŒæ—¶fuzzå¤šä¸ªç«¯ç‚¹ï¼Œåˆ™éœ€è¦äººå·¥æ“ä½œï¼ˆå¦‚ä½¿ç”¨ FDPï¼‰ï¼› CSmith [6] å¯ä»¥åˆæˆé€¼çœŸçš„ C ä»£ç ï¼Œä½†å½“ç›®æ ‡æ˜¯ C åº“è€Œä¸æ˜¯ C ç¼–è¯‘å™¨æ—¶ï¼Œæ¯æ¬¡è¿­ä»£æ—¶é‡æ–°ç¼–è¯‘çš„ä»£ä»·éƒ½å¾ˆé«˜ï¼› FUDGE [7] æ˜¯ä¸€ç§å¾ˆæœ‰å‰é€”çš„meta-fuzzingæŠ€æœ¯ï¼Œå®ƒé€šè¿‡åˆ†æå’Œåˆ‡åˆ†å®¢æˆ·ç«¯ä»£ç çš„ç§å­è¯­æ–™åº“æ¥è‡ªåŠ¨ç”Ÿæˆharnessesï¼Œä½†æ˜¯ï¼Œå®ƒä¾èµ–äºè°·æ­Œçš„å†…éƒ¨åŸºç¡€è®¾æ–½ï¼Œå¹¶ä¸æ˜¯å¼€æºçš„ã€‚ API Fuzzing Methods Method 1:Harness â€‹ Standard grey-box harnesså¯é€šè¿‡æ‰‹åŠ¨é…ç½®å……å½“ API fuzzerï¼Œä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡åœ¨for-loopå’Œ/æˆ–switchè¯­å¥ä¸­ç¨‹åºåŒ–åœ°è°ƒç”¨å‡½æ•°ï¼Œå¯¹C++åº“è¿›è¡Œfuzzingã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¥è‡ªéç»“æ„åŒ–æ¨¡ç³Šå™¨çš„åŸå§‹å­—èŠ‚åºåˆ—è¢«ç”¨æ¥åˆå§‹åŒ–è¿™äº›ä¼ªéšæœºå€¼ã€‚ â€‹ åŒæ ·ï¼Œå¯ä»¥å°† libProtobuf-mutator (LPM) [5] ä¸ libFuzzer [3] ç­‰coveraged-based fuzzerç»“åˆä½¿ç”¨ï¼Œæ„å»ºtree-based API fuzzerã€‚ä¾‹å¦‚ï¼Œåœ¨ Chromium çš„ AppCache fuzzer[12]ä¸­ï¼ŒProtocol Bufferå®ä¾‹ä»£è¡¨äº† IPC çš„è°ƒç”¨åºåˆ—ã€‚ Method 2:Code-gen â€‹ ä¸€äº›API fuzzeråˆæˆå¹¶è¿è¡Œç¨‹åºæºä»£ç æ¥æµ‹è¯•APIï¼Œè¿™ç§æ–¹æ³•æœ€é€‚ç”¨äº JavaScript å’Œ Ruby ç­‰åŸºäºè„šæœ¬çš„è¯­è¨€ï¼Œå› ä¸ºå®ƒä»¬åœ¨æ‰§è¡Œå‰ä¸éœ€è¦æ˜‚è´µçš„ç¼–è¯‘æ­¥éª¤[6]ã€‚ â€‹ è™½ç„¶è¿™äº›fuzzerå¯ä»¥é€šè¿‡ä½¿ç”¨context-free grammarsæˆ–ç±»ä¼¼æ¨¡å‹ç”Ÿæˆé€¼çœŸçš„è¯­æ³•æ¨¡å¼ï¼Œä½†å®ƒä»¬å¾€å¾€æ— æ³•ç”Ÿæˆé«˜çº§çš„ã€è¯­ä¹‰ä¸Šæœ‰æ„ä¹‰çš„ä»£ç ã€‚ä¾‹å¦‚ï¼ŒHan ç­‰äºº[13]æŒ‡å‡ºï¼Œjsfunfuzz [9]ï¼ˆä¸€ç§æµè¡Œçš„ JavaScript fuzzerï¼‰99% çš„æµ‹è¯•ç”¨ä¾‹ä»…åœ¨ 3 æ¡è¯­å¥åå°±ä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ã€‚ Method 3:Harness-gen â€‹ ç›¸è¾ƒäºæ‰‹å·¥ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€‚ IMF[14]è·Ÿè¸ªç³»ç»Ÿè°ƒç”¨æ—¥å¿—ä»¥è¯†åˆ«ä¾èµ–å…³ç³»ï¼Œå¹¶åˆæˆå¯å¯¹è¿™äº›ç³»ç»Ÿè°ƒç”¨è¿›è¡Œfuzzingçš„ Cè¯­è¨€æµ‹è¯•ç”¨ä¾‹ï¼› FUDGE[7]å’ŒFuzzGen[15]åˆ†æäº†å¤§é‡å®¢æˆ·ç«¯C/C++ä»£ç åº“ï¼Œå¹¶æå–ä»£ç ç‰‡æ®µæ¥åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼› â€‹ è™½ç„¶ä¸Šè¿°è¿™äº›ç³»ç»Ÿå¯ä»¥ç”Ÿæˆä¸åŒçš„harnessesï¼Œä½†å•ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­çš„åº”ç”¨ç¨‹åºAPIè°ƒç”¨ç»“æ„åœ¨fuzzingæ—¶æ˜¯é™æ€çš„ï¼Œåªæœ‰å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚ Method 3:Dynamic â€‹ åœ¨ API fuzzingçš„åŠ¨æ€æ–¹æ³•ä¸­ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„ API äº¤äº’åºåˆ—ã€‚FuzzeråŠ¨æ€å¤„ç†æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œé€ä¸ªè°ƒç”¨ç«¯ç‚¹ã€‚ â€‹ åŠ¨æ€fuzzerä¸code-gençš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œåœ¨åŠ¨æ€fuzzerä¸­ï¼ŒAPIäº¤äº’çš„ç»“æ„æ˜¯åœ¨fuzzingæ—¶æŒ‡å®šçš„ï¼ˆä½œä¸ºæµ‹è¯•ç”¨ä¾‹çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œè¿™ä½¿å¾—fuzzerå¯ä»¥æ§åˆ¶APIè°ƒç”¨çš„å€¼å’Œç»“æ„ã€‚Code-gen fuzzerä¹Ÿå¯ä»¥åœ¨fuzzingæ—¶é€šè¿‡é‡æ–°ç¼–è¯‘ï¼ˆå¦‚ CSmith [6]ï¼‰æ”¹å˜ API è°ƒç”¨çš„ç»“æ„ï¼Œè€Œ Syzkaller [16] å’Œ GraphFuzzï¼ˆæœ¬ä½œå“ï¼‰ç­‰åŠ¨æ€fuzzeråˆ™ç»•è¿‡äº†è¿™ä¸€é«˜æˆæœ¬çš„é‡æ–°ç¼–è¯‘æ­¥éª¤ã€‚ Contribution â€‹ ä¸ºäº†å¼¥è¡¥è¿™ä¸€ä¸è¶³ï¼Œæˆ‘ä»¬å¼•å…¥äº†dataflow graphbased fuzzingï¼Œå³ç”¨æ•°æ®æµå›¾æ¥è¡¨ç¤ºåº“åº”ç”¨ç¨‹åºAPIçš„äº¤äº’ã€‚æˆ‘ä»¬ä»‹ç»äº† C/C++ åº“ä¸­æ•°æ®æµå›¾çªå˜ã€ç”Ÿæˆå’Œæ‰§è¡Œçš„ç®—æ³•ï¼Œåœ¨è®¸å¯åè®®ä¸‹å¼€æºäº†åŸºäºæ•°æ®æµå›¾çš„æ¨¡ç³Šæµ‹è¯•å®ç°ï¼ˆåä¸º GraphFuzzï¼‰ï¼Œå¹¶é€šè¿‡æŸ¥æ‰¾çœŸå®ä¸–ç•Œç›®æ ‡ä¸­çš„é”™è¯¯æ¥è¯æ˜å…¶æœ‰æ•ˆæ€§ï¼ŒåŒæ—¶å°†å…¶æ€§èƒ½ä¸ Skia å›¾å½¢åº“ä¸­æœ€å…ˆè¿›çš„å·¥å…·è¿›è¡Œé‡åŒ–æ¯”è¾ƒã€‚ Model-based API Fuzzer Survey: å¯¹è¿„ä»Šä¸ºçš„model-based fuzzersè¿›è¡Œäº†åˆ†ç±»ï¼Œå¹¶å±•ç¤ºäº† GraphFuzz åœ¨è®¾è®¡é¢†åŸŸçš„ä¼˜åŠ¿ï¼› Dataflow graph-based fuzzing: æˆ‘ä»¬æ­£å¼å®šä¹‰äº†dataflow graphbased fuzzingï¼Œå¹¶ä»‹ç»äº†åœ¨åŸºäºcoverageçš„fuzzingä¸­æ‰§è¡Œå›¾çªå˜å’Œç”Ÿæˆçš„ç®—æ³•ï¼› GraphFuzz for C/C++: ä»‹ç»äº†åä¸º GraphFuzz çš„dataflow graphbased fuzzingå¼€æºå®ç°ï¼Œå®ƒèƒ½å¤Ÿå¯¹ C å’Œ C++ åº“è¿›è¡ŒåŠè‡ªåŠ¨æ¨¡ç³Šæµ‹è¯•ã€‚æˆ‘ä»¬é€šè¿‡å‘ç°ç°å®ä¸–ç•Œä¸­çš„é”™è¯¯æ¥éªŒè¯è¿™é¡¹æŠ€æœ¯ï¼Œå¹¶å°†å…¶æ€§èƒ½ä¸å½“å‰æœ€å…ˆè¿›çš„harnessesè¿›è¡Œé‡åŒ–æ¯”è¾ƒã€‚ Model 1. ä¸€äº›é—®é¢˜ï¼š low-level library APIs ä¸­çš„â€œlow-levelâ€ä»£è¡¨ä»€ä¹ˆï¼Ÿ â€œA low-level API, also known as a system-level or hardware-level API, refers to an interface provided by an operating system or software library that allows direct interaction with the underlying system or hardware components. It provides a way for developers to access and control the lower-level functionalities of a system, such as hardware devices, system calls, and system resources.â€ dataflow graphbased fuzzingä¸­çš„â€œgraphbaesdâ€ä»£è¡¨ä»€ä¹ˆï¼Ÿ ä¸€ä¸ªtest caseä¸­æœ‰å¤šä¸ªä¸ªAPIè°ƒç”¨ï¼Œè¿™äº›è°ƒç”¨ç»„æˆä¸€ä¸ªAPIåºåˆ—ï¼Œä»¥æ•°æ®æµå›¾çš„æ–¹å¼è¡¨ç¤ºã€‚ 2. Dataflow graph â€‹ ä¸‹å›¾æ˜¯ä¸€ä¸ªè§¦å‘UAFæ¼æ´çš„C++ä»£ç ç‰‡æ®µï¼š â€‹ ä¸‹å›¾å°†è¿™ä¸ªBugè¡¨ç¤ºä¸ºäº†dataflow graphï¼Œæ•°æ®æµå›¾ï¼Œå‡½æ•°æ˜¯é¡¶ç‚¹ï¼Œå¯¹è±¡æ˜¯è¾¹ï¼š â€‹ GraphFuzz çš„å…³é”®æ˜¯è¿™ä¸¤ç§è¡¨ç¤ºæ³•æ˜¯ç­‰ä»·çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–è¯‘å’Œè¿è¡Œå›¾ 1 ä¸­çš„ C++ ä»£ç æˆ–åŠ¨æ€æ‰§è¡Œå›¾ 2 ä¸­çš„æ•°æ®æµå›¾æ¥è°ƒç”¨æ­¤æµ‹è¯•ç”¨ä¾‹ã€‚ 2.1 Graph Mutations â€‹ å¦‚ä½•å¯¹æ•°æ®æµå›¾åšmutateï¼› 2.2 Graph Completion â€‹ å¦‚ä½•è¡¥å…¨å›¾ï¼Œä»¥é˜²æ­¢å› ä¸ºç”Ÿæˆå›¾æœ¬èº«çš„é—®é¢˜è€Œåœ¨fuzzingä¸­å¯¼è‡´çš„å‡é˜³æ€§ã€‚ 2.3 Graph Minimization â€‹ åªä¿ç•™é‚£äº›è¡¨ç°å‡ºç›¸åŒå´©æºƒä¸”è¾ƒå°çš„graphï¼Œæˆ‘ä»¬å°±èƒ½è·å¾—æ¥è¿‘æ‰‹å·¥æœ€å°åŒ–ç¤ºä¾‹å¤§å°çš„æ•°æ®æµå›¾ã€‚ 3. Graphfuzz for C/C++ â€‹ GraphFuzzåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šlibgraphfuzzï¼ˆä¸€ä¸ªç”¨C++å†™çš„å¯¹æ•°æ®æµå›¾åšçªå˜çš„å·¥å…·ï¼‰å’Œgfuzzï¼ˆPython å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºç”Ÿæˆharnessæ–‡ä»¶å¹¶æ‰§è¡Œå›¾æœ€å°åŒ–å’Œè‡ªåŠ¨æ¨¡å¼æå–ç­‰å…¶ä»–ä»»åŠ¡ã€‚ï¼‰ â€‹ Graphfuzz harnessçš„æ ¸å¿ƒæ˜¯schemaï¼Œschemaæ˜¯ä¸€ä¸ªç”¨YAMLå†™çš„å¯è¯»æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†API endpointsï¼Œobject typesç­‰ä¿¡æ¯ï¼ŒGraphFuzzé€šè¿‡ä½¿ç”¨schemaæ¥è‡ªåŠ¨ç”Ÿæˆexecå’Œwrite fuzzer harnessesã€‚ â€‹ schemaæ ·ä¾‹ï¼š â€‹ ç”Ÿæˆharnessçš„è¿‡ç¨‹ï¼š Instrumentationï¼šä½¿ç”¨ç°æœ‰çš„fuzzer coverage sanitizerå¯¹ç›®æ ‡libraryåšæ’æ¡©ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨Clangæ˜¯ä½¿ç”¨-fsanitize=fuzzerï¼› Schema Inference(å¯é€‰)ï¼šå¯ä»¥ä½¿ç”¨ä½¿ç”¨ gfuzz è¿è¡Œshcemaæå–å·¥å…·ï¼Œä»libraryæºä»£ç ä¸­è‡ªåŠ¨æå–ç±»ã€ç»“æ„ä½“ã€æšä¸¾ã€ç±»å‹å®šä¹‰å’Œæ–¹æ³•åˆ°shcemaä¸­ï¼Œç”Ÿæˆçš„schemaå¯ä»¥ä½œä¸ºäººå·¥ä¿®æ”¹çš„åŸºç¡€ï¼› Manual Revisionï¼šæ ¹æ®å¯¹APIçš„ç†è§£ï¼Œé€šè¿‡æ·»åŠ /åˆ é™¤ç±»ã€æ·»åŠ å‡½æ•°æˆ–é‡æ–°å®šä¹‰å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºç±»å‹ï¼Œæ‰‹åŠ¨ä¿®å¤schemaï¼› Harness Generationï¼šè¿è¡Œgfuzzå·¥å…·æ¥è‡ªåŠ¨åŒ–ç”Ÿæˆä¸¤ç§harnessï¼šfuzzExecï¼ˆè¿è¡Œæ•°æ®æµå›¾ï¼‰å’ŒfuzzWriteï¼ˆå°†æ•°æ®æµå›¾è½¬æ¢ä¸ºæ™®é€šC/C++ä»£ç ï¼Œä½¿æµ‹è¯•æ ·ä¾‹å¯ä»¥è¢«å¤–éƒ¨ç»§ç»­ç¼–è¯‘ï¼‰ï¼› Compilation/Linkingï¼š å°†ç”Ÿæˆçš„ä¸¤ç§hanesses linkåˆ°ç›®æ ‡åº“ä¸­æ¥ç”ŸæˆlibFuzzerå¯æ‰§è¡Œæ–‡ä»¶ã€‚ â€‹ GraphFuzz æ˜¯åœ¨ libFuzzer åŸºç¡€ä¸Šä½œä¸ºè‡ªå®šä¹‰çªå˜å¼•æ“å®ç°çš„ï¼ˆå¥½å·§å¦™çš„å†™æ³•hhhï¼‰ï¼Œfuzzingçš„è¿‡ç¨‹å°±å¦‚æ™®é€šfuzzerä¸€æ ·ï¼Œåªæ˜¯Mutationçš„è¿‡ç¨‹å˜æˆäº†ä½œè€…è‡ªå®šä¹‰çš„graph-level mutaitonsã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)Everything Old is New Again- Binary Security of WebAssembly","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Everything-Old-is-New-Again--Binary-Security-of-WebAssembly","date":"2023-07-04T03:35:50.683Z","updated":"2023-07-08T07:53:04.210Z","comments":true,"path":"2023/07/04/ã€è®ºæ–‡é˜…è¯»ã€‘Everything-Old-is-New-Again--Binary-Security-of-WebAssembly/","link":"","permalink":"http://example.com/2023/07/04/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Everything-Old-is-New-Again--Binary-Security-of-WebAssembly/","excerpt":"Everything Old is New Again: Binary Security of WebAssembly æ—¶é—´ï¼š2020 ä½œè€…ï¼šDaniel Lehmannï¼ˆå¾·å›½æ–¯å›¾åŠ ç‰¹å¤§å­¦ï¼‰ï¼ŒJohannes Kinderï¼ˆæ…•å°¼é»‘è”é‚¦å›½é˜²å¤§å­¦ï¼‰ ä¼šè®®ï¼šUSENIX'2020 Abstract â€‹ WebAssemblyæ˜¯ä¸€ç§è¶Šæ¥è¶Šæµè¡Œçš„ç¼–è¯‘ç›®æ ‡ï¼Œå…¶æ—¨åœ¨é€šè¿‡ä¸¥æ ¼åˆ†ç¦»ä»£ç å’Œæ•°æ®ã€å¼ºåˆ¶æ‰§è¡Œç±»å‹å’Œé™åˆ¶é—´æ¥æ§åˆ¶æµï¼Œåœ¨æµè§ˆå™¨å’Œå…¶ä»–å¹³å°ä¸Šå®‰å…¨å¯é åœ°è¿è¡Œä»£ç ã€‚ä¸è¿‡ï¼Œå†…å­˜ä¸å®‰å…¨çš„æºè¯­è¨€çš„æ¼æ´ä»ç„¶å¯ä»¥è½¬åŒ–ä¸ºWebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶çš„æ¼æ´ã€‚ â€‹ åœ¨æ–‡æœ¬ä¸­ï¼Œæˆ‘ä»¬åˆ†æäº†ä»€ä¹ˆæ ·çš„æ¼æ´åœ¨WASMäºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ˜¯å¯åˆ©ç”¨çš„ï¼Œä»¥åŠå…¶ä¸æœ¬åœ°ä»£ç çš„æ¯”è¾ƒã€‚æˆ‘ä»¬å‘ç°ï¼Œè®¸å¤šç»å…¸çš„æ¼æ´ï¼Œç”±äºå¸¸è§çš„ç¼“è§£æªæ–½ï¼Œåœ¨æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ä¸å†å¯åˆ©ç”¨ï¼Œä½†åœ¨WebAssemblyä¸­å´å®Œå…¨æš´éœ²ã€‚å¦å¤–ï¼ŒWebAssemblyèƒ½å¤Ÿå®ç°ä¸€äº›ç‹¬ç‰¹çš„æ”»å‡»ï¼Œä¾‹å¦‚è¦†ç›–æ‰€è°“çš„å¸¸é‡æ•°æ®æˆ–ä½¿ç”¨å †æ ˆæº¢å‡ºæ“çºµå †ã€‚ â€‹ æˆ‘ä»¬æå‡ºäº†ä¸€å¥—æ”»å‡»åŸè¯­ï¼Œä½¿æ”»å‡»è€…(i)èƒ½å¤Ÿå†™å…¥ä»»æ„å†…å­˜ï¼Œ(ii)èƒ½å¤Ÿè¦†ç›–æ•æ„Ÿæ•°æ®ï¼Œä»¥åŠ(iii)èƒ½å¤Ÿé€šè¿‡è½¬ç§»æ§åˆ¶æµæˆ–æ“çºµä¸»æœºç¯å¢ƒæ¥è§¦å‘æ„å¤–è¡Œä¸ºã€‚æˆ‘ä»¬æä¾›äº†ä¸€å¥—æ˜“å—æ”»å‡»çš„POCåº”ç”¨ç¨‹åºï¼Œä»¥åŠå®Œæ•´çš„ç«¯åˆ°ç«¯æ¼æ´ï¼Œå…¶ä¸­æ¶µç›–äº†ä¸‰ä¸ªWebAssemblyå¹³å°ã€‚å¯¹çœŸå®ä¸–ç•Œçš„äºŒè¿›åˆ¶æ–‡ä»¶å’ŒSPEC CPUç¨‹åºç¼–è¯‘æˆWebAssemblyçš„ç»éªŒæ€§é£é™©è¯„ä¼°è¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ”»å‡»åŸè¯­åœ¨å®è·µä¸­å¯èƒ½æ˜¯å¯è¡Œçš„ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„å‘ç°è¡¨æ˜ï¼ŒWebAssemblyç¼ºä¹äºŒè¿›åˆ¶çš„å®‰å…¨æ€§ï¼Œè¿™ä¹Ÿè®¸æ˜¯ä»¤äººæƒŠè®¶çš„ï¼Œæˆ‘ä»¬è®¨è®ºäº†æ½œåœ¨çš„ä¿æŠ¤æœºåˆ¶ï¼Œä»¥å‡è½»ç”±æ­¤äº§ç”Ÿçš„é£é™©ã€‚","text":"Everything Old is New Again: Binary Security of WebAssembly æ—¶é—´ï¼š2020 ä½œè€…ï¼šDaniel Lehmannï¼ˆå¾·å›½æ–¯å›¾åŠ ç‰¹å¤§å­¦ï¼‰ï¼ŒJohannes Kinderï¼ˆæ…•å°¼é»‘è”é‚¦å›½é˜²å¤§å­¦ï¼‰ ä¼šè®®ï¼šUSENIX'2020 Abstract â€‹ WebAssemblyæ˜¯ä¸€ç§è¶Šæ¥è¶Šæµè¡Œçš„ç¼–è¯‘ç›®æ ‡ï¼Œå…¶æ—¨åœ¨é€šè¿‡ä¸¥æ ¼åˆ†ç¦»ä»£ç å’Œæ•°æ®ã€å¼ºåˆ¶æ‰§è¡Œç±»å‹å’Œé™åˆ¶é—´æ¥æ§åˆ¶æµï¼Œåœ¨æµè§ˆå™¨å’Œå…¶ä»–å¹³å°ä¸Šå®‰å…¨å¯é åœ°è¿è¡Œä»£ç ã€‚ä¸è¿‡ï¼Œå†…å­˜ä¸å®‰å…¨çš„æºè¯­è¨€çš„æ¼æ´ä»ç„¶å¯ä»¥è½¬åŒ–ä¸ºWebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶çš„æ¼æ´ã€‚ â€‹ åœ¨æ–‡æœ¬ä¸­ï¼Œæˆ‘ä»¬åˆ†æäº†ä»€ä¹ˆæ ·çš„æ¼æ´åœ¨WASMäºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ˜¯å¯åˆ©ç”¨çš„ï¼Œä»¥åŠå…¶ä¸æœ¬åœ°ä»£ç çš„æ¯”è¾ƒã€‚æˆ‘ä»¬å‘ç°ï¼Œè®¸å¤šç»å…¸çš„æ¼æ´ï¼Œç”±äºå¸¸è§çš„ç¼“è§£æªæ–½ï¼Œåœ¨æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ä¸å†å¯åˆ©ç”¨ï¼Œä½†åœ¨WebAssemblyä¸­å´å®Œå…¨æš´éœ²ã€‚å¦å¤–ï¼ŒWebAssemblyèƒ½å¤Ÿå®ç°ä¸€äº›ç‹¬ç‰¹çš„æ”»å‡»ï¼Œä¾‹å¦‚è¦†ç›–æ‰€è°“çš„å¸¸é‡æ•°æ®æˆ–ä½¿ç”¨å †æ ˆæº¢å‡ºæ“çºµå †ã€‚ â€‹ æˆ‘ä»¬æå‡ºäº†ä¸€å¥—æ”»å‡»åŸè¯­ï¼Œä½¿æ”»å‡»è€…(i)èƒ½å¤Ÿå†™å…¥ä»»æ„å†…å­˜ï¼Œ(ii)èƒ½å¤Ÿè¦†ç›–æ•æ„Ÿæ•°æ®ï¼Œä»¥åŠ(iii)èƒ½å¤Ÿé€šè¿‡è½¬ç§»æ§åˆ¶æµæˆ–æ“çºµä¸»æœºç¯å¢ƒæ¥è§¦å‘æ„å¤–è¡Œä¸ºã€‚æˆ‘ä»¬æä¾›äº†ä¸€å¥—æ˜“å—æ”»å‡»çš„POCåº”ç”¨ç¨‹åºï¼Œä»¥åŠå®Œæ•´çš„ç«¯åˆ°ç«¯æ¼æ´ï¼Œå…¶ä¸­æ¶µç›–äº†ä¸‰ä¸ªWebAssemblyå¹³å°ã€‚å¯¹çœŸå®ä¸–ç•Œçš„äºŒè¿›åˆ¶æ–‡ä»¶å’ŒSPEC CPUç¨‹åºç¼–è¯‘æˆWebAssemblyçš„ç»éªŒæ€§é£é™©è¯„ä¼°è¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ”»å‡»åŸè¯­åœ¨å®è·µä¸­å¯èƒ½æ˜¯å¯è¡Œçš„ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„å‘ç°è¡¨æ˜ï¼ŒWebAssemblyç¼ºä¹äºŒè¿›åˆ¶çš„å®‰å…¨æ€§ï¼Œè¿™ä¹Ÿè®¸æ˜¯ä»¤äººæƒŠè®¶çš„ï¼Œæˆ‘ä»¬è®¨è®ºäº†æ½œåœ¨çš„ä¿æŠ¤æœºåˆ¶ï¼Œä»¥å‡è½»ç”±æ­¤äº§ç”Ÿçš„é£é™©ã€‚ é—®é¢˜èƒŒæ™¯ 1. WebAssemblyçš„å®‰å…¨åˆ†ä¸ºä¸¤ä¸ªæ–¹é¢ï¼š Host securityï¼šruntimeç¯å¢ƒåœ¨ä¿æŠ¤ä¸»æœºç³»ç»Ÿå…å—æ¶æ„WebAssemblyä»£ç ä¾µå®³æ–¹é¢çš„æœ‰æ•ˆæ€§ï¼› å¯¹host securityçš„æ”»å‡»ä¾èµ–äºæ‰§è¡Œé”™è¯¯[16, 59]ï¼Œå› æ­¤é€šå¸¸æ˜¯èšç„¦äºä¸€ä¸ªç‰¹å®šçš„è™šæ‹Ÿæœºï¼ˆVMï¼‰ã€‚ Binary securityï¼šå†…ç½®æ•…éšœéš”ç¦»æœºåˆ¶åœ¨é˜²æ­¢å…¶ä»–è‰¯æ€§çš„WebAssemblyä»£ç è¢«åˆ©ç”¨æ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚ é’ˆå¯¹binary securityçš„æ”»å‡»--æœ¬æ–‡çš„é‡ç‚¹--æ˜¯é’ˆå¯¹æ¯ä¸ªWebAssemblyç¨‹åºåŠå…¶ç¼–è¯‘å™¨å·¥å…·é“¾çš„æ”»å‡»ï¼ŒWebAssemblyçš„è®¾è®¡åŒ…æ‹¬å„ç§åŠŸèƒ½ï¼Œä»¥ç¡®ä¿äºŒè¿›åˆ¶å®‰å…¨ã€‚ä¾‹å¦‚ï¼Œç”±WebAssemblyç¨‹åºç»´æŠ¤çš„å†…å­˜ä¸å®ƒçš„ä»£ç ã€æ‰§è¡Œå †æ ˆå’Œåº•å±‚è™šæ‹Ÿæœºçš„æ•°æ®ç»“æ„æ˜¯åˆ†å¼€çš„ï¼›ä¸ºäº†é˜²æ­¢ä¸typeæœ‰å…³çš„å´©æºƒå’Œæ”»å‡»ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶è¢«è®¾è®¡æˆå®¹æ˜“è¿›è¡Œç±»å‹æ£€æŸ¥çš„æ–¹å¼ï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œå‰é™æ€æ£€æŸ¥ç±»å‹ï¼›æ­¤å¤–ï¼ŒWebAssemblyç¨‹åºåªèƒ½è·³è½¬åˆ°æŒ‡å®šçš„ä»£ç ä½ç½®ï¼Œè¿™ç§æ•…éšœéš”ç¦»çš„å½¢å¼å¯ä»¥é˜²æ­¢è®¸å¤šç»å…¸çš„æ§åˆ¶æµæ”»å‡»ã€‚ â€‹ ç»¼åˆWasmçš„å®‰å…¨æœºåˆ¶ï¼Œä»¥åŠWasmçš„æºè¯­è¨€ï¼ˆC/C++/Rustï¼‰ä¸€èˆ¬éƒ½æ˜¯ä¼šå¯¹å†…å­˜è¿›è¡Œæ“ä½œçš„ï¼Œå¼•å‡ºäº†å¦‚ä¸‹é—®é¢˜ï¼šå†…å­˜æ¼æ´å¯¹WasmäºŒè¿›åˆ¶å®‰å…¨æ€§æœ‰ä½•å½±å“ï¼Ÿ â€‹ Wasmçš„åŸå§‹è®ºæ–‡è¯´ï¼šâ€œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœ‰é”™è¯¯çš„æˆ–è¢«åˆ©ç”¨çš„WebAssemblyç¨‹åºä¼šæŠŠå®ƒè‡ªå·±å†…å­˜ä¸­çš„æ•°æ®å¼„å¾—ä¸€å›¢ç³Ÿâ€ï¼›Wasmçš„å®˜æ–¹æ–‡æ¡£è¯´ï¼šâ€œå¸¸è§çš„ç¼“è§£æªæ–½ï¼Œå¦‚æ•°æ®æ‰§è¡Œé¢„é˜²ï¼ˆDEPï¼‰å’Œå †æ ˆç²‰ç¢ä¿æŠ¤ï¼ˆSSPï¼‰ï¼Œåœ¨WebAssemblyç¨‹åºä¸­å¹¶ä¸éœ€è¦â€ã€‚ 2. Wasmçš„æ§åˆ¶æµï¼š â€‹ ä¸æœ¬åœ°ä»£ç æˆ–Javaå­—èŠ‚ç ä¸åŒï¼ŒWebAssemblyåªæœ‰ç»“æ„åŒ–çš„æ§åˆ¶æµã€‚ä¸€ä¸ªå‡½æ•°ä¸­çš„æŒ‡ä»¤è¢«ç»„ç»‡æˆè‰¯å¥½çš„åµŒå¥—å—ï¼Œåˆ†æ”¯åªèƒ½è·³åˆ°å‘¨å›´å—çš„æœ«å°¾ï¼Œè€Œä¸”åªèƒ½åœ¨å½“å‰å‡½æ•°å†…ï¼Œå¹¶ä¸”å¤šåˆ†æ”¯åªèƒ½æŒ‡å‘åœ¨åˆ†æ”¯è¡¨ä¸­é™æ€æŒ‡å®šçš„å—ï¼Œä¸å—é™åˆ¶çš„gotoæˆ–è·³è½¬åˆ°ä»»æ„åœ°å€æ˜¯ä¸å¯èƒ½çš„ã€‚ç‰¹åˆ«æ˜¯ï¼Œäººä»¬ä¸èƒ½æŠŠå†…å­˜ä¸­çš„æ•°æ®ä½œä¸ºå­—èŠ‚ç æŒ‡ä»¤æ¥æ‰§è¡Œã€‚å› æ­¤ï¼Œè®¸å¤šç»å…¸çš„æ”»å‡»åœ¨WebAssemblyä¸­è¢«æ’é™¤äº†ï¼Œä¾‹å¦‚ï¼Œæ³¨å…¥shellcodeæˆ–æ»¥ç”¨æ— é™åˆ¶çš„é—´æ¥è·³è½¬ï¼Œå¦‚x86ä¸­çš„jmp *%regã€‚ 3. Wasmçš„é—´æ¥è·³è½¬ï¼š â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé—´æ¥è°ƒç”¨ï¼ˆç›®æ ‡å‡½æ•°çš„åœ°å€ä¸ç¡®å®šï¼Œå­˜å‚¨åœ¨å˜é‡æˆ–è€…å¯„å­˜å™¨ä¸­ï¼‰éœ€è¦é€šè¿‡table sectioæ¥å®Œæˆï¼Œå·¦è¾¹çš„call_indirectæŒ‡ä»¤ä»å †æ ˆä¸­å¼¹å‡ºä¸€ä¸ªå€¼ï¼Œç”¨æ¥ç´¢å¼•table sectionï¼Œtable sectionå°†è¿™ä¸ªç´¢å¼•æ˜ å°„åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œéšåè¢«è°ƒç”¨ã€‚å› æ­¤ï¼Œåªæœ‰å½“ä¸€ä¸ªå‡½æ•°å‡ºç°åœ¨tableä¸­æ—¶æ‰èƒ½è¢«é—´æ¥è°ƒç”¨ã€‚ä¸ºäº†ç¡®ä¿ç±»å‹çš„æ­£ç¡®æ€§ï¼Œè™šæ‹Ÿæœºåœ¨æ‰§è¡Œè°ƒç”¨å‰ä¼šæ£€æŸ¥ç›®æ ‡å‡½æ•°æ˜¯å¦ä¸é—´æ¥è°ƒç”¨æŒ‡ä»¤ä¸­é™æ€å£°æ˜çš„ç±»å‹å…¼å®¹ï¼Œå¦åˆ™å°±ä¼šç»ˆæ­¢æ‰§è¡Œã€‚ â€‹ è´¡çŒ® å¯¹WebAssemblyçš„çº¿æ€§å†…å­˜å’Œä»Cã€C++å’ŒRustç­‰è¯­è¨€ç¼–è¯‘çš„ç¨‹åºçš„ä½¿ç”¨è¿›è¡Œäº†æ·±å…¥çš„å®‰å…¨åˆ†æï¼ŒWebAssemblyç¼ºå°‘å“ªäº›å¸¸è§çš„å†…å­˜ä¿æŠ¤ï¼Œä»¥åŠè¿™å¦‚ä½•ä½¿ä¸€äº›ä»£ç æ¯”ç¼–è¯‘æˆæœ¬åœ°äºŒè¿›åˆ¶æ—¶æ›´ä¸å®‰å…¨ï¼ˆç¬¬ä¸‰èŠ‚ï¼‰ï¼› ä¸€ç»„ä»æˆ‘ä»¬çš„åˆ†æä¸­å¾—åˆ°çš„æ”»å‡»åŸè¯­ï¼Œä»¥åŠå¯¹WebAssemblyç”Ÿæ€ç³»ç»Ÿæ‰€æä¾›æˆ–ä¸æä¾›çš„ç¼“è§£æªæ–½çš„è®¨è®ºï¼› ä¸€ç»„æ˜“å—æ”»å‡»çš„åº”ç”¨ç¨‹åºå’Œç«¯åˆ°ç«¯çš„exploitå®ä¾‹ï¼Œæ˜¾ç¤ºäº†æˆ‘ä»¬åœ¨ä¸‰ä¸ªä¸åŒçš„WebAssemblyå¹³å°ä¸Šçš„æ”»å‡»ç»“æœï¼› ç»éªŒè¯æ˜ï¼Œæ•°æ®æµå’Œæ§åˆ¶æµæ”»å‡»éƒ½å¯èƒ½æ˜¯å¯è¡Œçš„ï¼Œå¯¹æ¥è‡ªçœŸå®ä¸–ç•Œç½‘ç»œåº”ç”¨çš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶ä»¥åŠä»å¤§å‹Cå’ŒC++ç¨‹åºä¸­ç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶è¿›è¡Œäº†æµ‹è¯•ï¼› è®¨è®ºå¯èƒ½çš„ç¼“è§£æªæ–½ï¼Œä»¥åŠ å›ºWebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶å¯¹æ‰€è¿°çš„æ”»å‡»çš„é˜²å¾¡ï¼ˆç¬¬7èŠ‚ï¼‰ã€‚æˆ‘ä»¬å…¬å¼€äº†æˆ‘ä»¬çš„æ”»å‡»åŸè¯­ã€ç«¯åˆ°ç«¯æ¼æ´å’Œåˆ†æå·¥å…·ï¼Œä»¥å¸®åŠ©è¿™ä¸ªè¿‡ç¨‹ã€‚ â€‹ å¯¹Wasmçº¿æ€§å†…å­˜çš„å®‰å…¨åˆ†æ 3.1 Managed vs. Unmanaged Data Managed Dataï¼šå³å±€éƒ¨å˜é‡ã€å…¨å±€å˜é‡ã€è¯„ä¼°å †æ ˆä¸Šçš„å€¼å’Œè¿”å›åœ°å€ï¼Œä½äºç”±è™šæ‹Ÿæœºç›´æ¥å¤„ç†ã€‚ WebAssemblyä»£ç åªèƒ½é€šè¿‡æŒ‡ä»¤ä¸managed dataè¿›è¡Œéšå¼äº¤äº’ï¼Œä½†ä¸èƒ½ç›´æ¥ä¿®æ”¹å…¶åº•å±‚å­˜å‚¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨local.get 0è¯»å–local 0ï¼Œä½†åœ¨ä»»ä½•æ—¶å€™ï¼Œç¨‹åºéƒ½æ— æ³•çœ‹åˆ°localçš„å®é™…åº•å±‚åœ°å€ã€‚ Unmanaged Dataï¼šæ‰€æœ‰é©»ç•™åœ¨çº¿æ€§å†…å­˜ä¸­çš„æ•°æ®ï¼Œå®ƒä»¬å®Œå…¨åœ¨ç¨‹åºçš„æ§åˆ¶ä¹‹ä¸‹ï¼Œé€šå¸¸ç”±ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ç»„ç»‡ã€‚ å°†unmanaged dataæ”¾åœ¨çº¿æ€§å†…å­˜ä¸­æœ‰å‡ ä¸ªåŸå› ï¼Œå› ä¸ºWebAssemblyåªæœ‰å››ç§æ•°æ®ç±»å‹ï¼Œè€Œä¸”managed dataåªèƒ½å®¹çº³è¿™äº›åŸå§‹ç±»å‹çš„å®ä¾‹ï¼Œæ‰€æœ‰éæ ‡é‡æ•°æ®ï¼Œå¦‚å­—ç¬¦ä¸²ã€æ•°ç»„æˆ–åˆ—è¡¨ï¼Œéƒ½å¿…é¡»å­˜å‚¨åœ¨çº¿æ€§å†…å­˜ä¸­; å› ä¸ºmanaged dataæ²¡æœ‰åœ°å€ï¼Œæ‰€ä»¥ä»»ä½•åœ¨æºç¨‹åºä¸­æ›¾ç»è¢«ä½¿ç”¨åœ°å€çš„å˜é‡ï¼Œä¾‹å¦‚ï¼Œout parametersï¼ˆä½¿ç”¨å‚æ•°æŒ‡é’ˆè€Œä¸æ˜¯è¿”å›å€¼æ¥è¿”å›ç»“æœï¼‰ï¼Œä¹Ÿå¿…é¡»å­˜å‚¨åœ¨çº¿æ€§å­˜å‚¨å™¨ä¸­ã€‚ ç”±äºè®¸å¤šéæ ‡é‡ç±»å‹åœ¨æºç¨‹åºä¸­ä½œä¸ºå‡½æ•°èŒƒå›´çš„æ•°æ®ï¼Œå…·æœ‰åŠ¨æ€å¯¿å‘½ï¼Œç¼–è¯‘å™¨åœ¨çº¿æ€§å†…å­˜ä¸­ä¸ºcall stackã€heapå’Œstatic dataåˆ›å»ºäº†ä¸€å—åŒºåŸŸã€‚æˆ‘ä»¬å°†æŠŠç¼–è¯‘å™¨åœ¨çº¿æ€§å†…å­˜ä¸­åˆ›å»ºçš„call stackç§°ä¸ºunmanaged stackï¼Œä»¥åŒºåˆ«äºmanaged evaluation stackï¼ˆå­˜æ”¾æŒ‡ä»¤çš„ä¸­é—´å€¼ï¼‰å’Œmanaged call stackï¼ˆå­˜æ”¾localså’Œè¿”å›åœ°å€ï¼‰ã€‚é‡è¦çš„æ˜¯ï¼Œè¿™æ„å‘³ç€å¤§é‡çš„æ•°æ®ä½äºunmanageddçš„çº¿æ€§å†…å­˜ä¸­ï¼Œä¸åœ¨è™šæ‹Ÿæœºçš„ä¿æŠ¤ä¹‹ä¸‹ï¼Œè€Œæ˜¯åœ¨ç¨‹åºä¸­å†…å­˜å†™å…¥æŒ‡ä»¤çš„å®Œå…¨æ§åˆ¶ä¹‹ä¸‹ã€‚ 3.2 Memory layout â€‹ Memory layoutæŒ‡çš„æ˜¯stackã€heapå’Œdataåœ¨linear memoryä¸­çš„é¡ºåºã€‚åœ¨linear memoryä¸­ï¼Œä¸ºäº†ä¿è¯heapå¯ä»¥åŠ¨æ€ç”Ÿé•¿ï¼Œheapå¿…é¡»æ˜¯æ”¾åœ¨æœ€åçš„ã€‚Heapä¸‹é¢æ˜¯stackå’Œé™æ€æ•°æ®ï¼Œç”±äºåœ¨WebAssemblyä¸­æ²¡æœ‰åªè¯»å†…å­˜ï¼ˆåœ¨ä¸‹ä¸€èŠ‚ä¼šæœ‰æ›´å¤šçš„ä»‹ç»ï¼‰ï¼Œæ‰€ä»¥åœ¨.dataå’Œ.rodataä¹‹é—´æ²¡æœ‰åŒºåˆ«ï¼Œè€Œä¸”ç”±äºå†…å­˜æ€»æ˜¯é›¶åˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¸“é—¨çš„.bsséƒ¨åˆ†ã€‚æ¢å¥è¯è¯´ï¼Œ.dataã€.rodataå’Œ.bssåœ¨WebAssemblyä¸­æ²¡æœ‰æ˜ç¡®çš„åŒºåˆ†ã€‚ â€‹ åœ¨ä¸‹æ–‡ä¸­ï¼Œå½“æˆ‘ä»¬æåˆ°linear memoryä¸­çš„data sectionæ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯æ‰€æœ‰è¿™äº›åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æœ‰æ•ˆçš„æ•°æ®ï¼Œä¾‹å¦‚ï¼Œé™æ€åˆå§‹åŒ–çš„å­—ç¬¦ä¸²å¸¸é‡ã€å…¨å±€æ•°ç»„æˆ–é›¶å­—èŠ‚èŒƒå›´ã€‚ â€‹ ä¸åŒç¼–è¯‘å™¨ç”Ÿæˆçš„WASMå†…å­˜å¸ƒå±€å¦‚ä¸‹ï¼š â€‹ å¦‚å›¾æ‰€ç¤ºï¼Œæ³¨æ„åˆ°Heapçš„ç”Ÿé•¿æ–¹å‘éƒ½æ˜¯å‘ä¸Šçš„ï¼Œä½†Stackä¸ä¸€å®šï¼Œå…¶æ ¹æ®ä¸åŒå¸ƒå±€ç”Ÿé•¿æ–¹å‘ä¸åŒã€‚åœ¨Emscriptenå’ŒClangä¸­ï¼Œstatic dataé»˜è®¤æ˜¯ç¬¬ä¸€ä½çš„ï¼Œä½†ä½¿ç”¨Rustå’ŒClangçš„é“¾æ¥å™¨é€‰é¡¹-stack-firstï¼Œå°±å¯ä»¥ä½¿stackä½äºç¬¬ä¸€ï¼Œdataä½äºstackå’Œheapä¹‹é—´ã€‚ 3.3 Memory Protections WebAssemblyçš„çº¿æ€§å†…å­˜æ˜¯ä¸€ä¸ªå•ä¸€çš„ã€è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•ç©ºéš™ï¼Œæ‰€ä»¥æ¯ä¸ªæŒ‡é’ˆâˆˆ[0, max_mem]éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œåªè¦æ”»å‡»è€…ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œä»»ä½•è¯»å†™æ“ä½œéƒ½ä¼šæˆåŠŸã€‚å› ä¸ºä¸èƒ½åœ¨static dataã€unmanaged stackå’Œheapä¸Šå®‰è£…guard pagesï¼Œä¸€ä¸ªsectionçš„æº¢å‡ºä¼šæ— å£°åœ°ç ´åç›¸é‚»sectionçš„æ•°æ®ï¼ˆç¬¬4èŠ‚æ˜¾ç¤ºï¼Œç¼“å†²åŒºå’Œå †æ ˆæº¢å‡ºå› æ­¤æ˜¯WebAssemblyä¸­éå¸¸å¼ºå¤§çš„æ”»å‡»åŸè¯­ï¼‰ï¼› åœ¨WebAssemblyä¸­ï¼Œçº¿æ€§å†…å­˜åœ¨è®¾è®¡ä¸Šæ˜¯ä¸å¯æ‰§è¡Œçš„ï¼Œæ•…ç›´æ¥jumpåˆ°çº¿æ€§å†…å­˜ä¸­æ²¡ç”¨ã€‚ç„¶è€Œï¼ŒWebAssemblyä¸å…è®¸å°†å†…å­˜æ ‡è®°ä¸ºåªè¯»ï¼Œç›¸åï¼Œçº¿æ€§å†…å­˜ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å¯å†™çš„ã€‚è¿™æ˜¯çº¿æ€§å†…å­˜çš„å¦ä¸€ä¸ªç›¸å½“ä»¤äººæƒŠè®¶çš„é™åˆ¶ï¼Œå¹¶ä½¿æˆ‘ä»¬åœ¨ç¬¬4èŠ‚ä¸­çš„ä¸€ä¸ªæ”»å‡»åŸè¯­æˆä¸ºå¯èƒ½ï¼› åœ¨WebAssemblyä¸­ï¼Œæ²¡æœ‰ASLRã€‚WebAssemblyçº¿æ€§å†…å­˜çš„æ’åˆ—æ˜¯ç¡®å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œstackå’Œheapçš„ä½ç½®æ˜¯å¯ä»¥ä»ç¼–è¯‘å™¨å’Œç¨‹åºä¸­é¢„æµ‹çš„ã€‚å³ä½¿åœ¨WebAssemblyä¸­åŠ å…¥æŸç§å½¢å¼çš„ASLRï¼Œçº¿æ€§å†…å­˜ä¹Ÿæ˜¯ç”±32ä½æŒ‡é’ˆæ¥å¯»å€çš„ï¼Œè¿™å¾ˆå¯èƒ½æ²¡æœ‰æä¾›è¶³å¤Ÿçš„ç†µæ¥è¿›è¡Œå¼ºæœ‰åŠ›çš„ä¿æŠ¤ã€‚ Attack Primitivesï¼Œæ”»å‡»åŸè¯­ â€‹ æœ¬èŠ‚ä»‹ç»äº†å¯ç”¨äºåˆ©ç”¨ç¼–è¯‘ä¸ºWebAssemblyçš„ä»£ç ä¸­çš„æ¼æ´çš„æ”»å‡»åŸè¯­ï¼ŒåŸè¯­æ¨ªè·¨ä¸‰ä¸ªæ–¹é¢ï¼š è·å–å†™æ“ä½œåŸè¯­ï¼Œå³æ”»å‡»è€…åˆ©ç”¨ä¸€ä¸ªæ¼æ´æ¥å®ç°å¯¹å†…å­˜çš„æ„å¤–å†™å…¥çš„èƒ½åŠ›ï¼› èƒ½å¤Ÿè¦†ç›–æ•æ„Ÿæ•°æ®ï¼› è¦†ç›–æ•°æ®æ¥è§¦å‘ç ´åå®‰å…¨çš„è¡Œä¸ºã€‚ â€‹ åŸåˆ™ä¸Šï¼Œè¿™ä¸‰ä¸ªç»´åº¦çš„åŸè¯­å¯ä»¥è‡ªç”±ç»„åˆã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªç»´åº¦çš„å†™åŸè¯­å¯ä»¥è¦†ç›–ç¬¬äºŒä¸ªç»´åº¦çš„ä»»ä½•æ•°æ®ï¼Œä»¥è§¦å‘ç¬¬ä¸‰ä¸ªç»´åº¦çš„ä»»ä½•ç±»å‹çš„é”™è¯¯è¡Œä¸ºã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ‰“å‰çš„é˜²å¾¡æªæ–½è¡¨æ˜å…¶åœ¨åŸç”Ÿå¹³å°ä¸‹ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ä½†åœ¨WASMå¹³å°ç”¨ä¸äº†ã€‚è¿™é‡Œçš„ä¸€äº›æ”»å‡»åœ¨åŸç”Ÿå¹³å°ä¸‹å­˜åœ¨ï¼Œè¿™é‡Œå…³æ³¨çš„é‡ç‚¹æ˜¯æ˜¯å¦å¯ä»¥è¿ç§»åˆ°WASMå¹³å°ä¸Šï¼›å¦å¤–ä¸€äº›æ”»å‡»åŸè¯­åœ¨åŸç”Ÿå¹³å°ä¸‹æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œä½†åœ¨WASMä¸‹æˆä¸ºäº†å¯èƒ½ã€‚ 4.1 Obtaining a Write Primitive â€‹ è¿™é‡Œï¼Œæˆ‘ä»¬è®¨è®ºäº†é‚£äº›åœ¨åŸç”Ÿå¹³å°ä¸Šæœ‰æœ‰æ•ˆç¼“è§£æªæ–½ï¼Œä½†åœ¨WebAssemblyä¸­æ²¡æœ‰çš„æ”»å‡»ç±»å‹ã€‚ï¼ˆæˆ‘ä»¬ä¸è®¨è®ºé‚£äº›åœ¨WebAssemblyä¸­å¯èƒ½å­˜åœ¨çš„ã€ä½†æ—¢ä¸æ–°é¢–ä¹Ÿä¸ä¸“é—¨é’ˆå¯¹è¯¥å¹³å°çš„æ”»å‡»åŸè¯­ã€‚ä¾‹å¦‚ï¼Œæ•´æ•°æº¢å‡ºå­˜åœ¨äºWebAssemblyï¼Œå°±åƒå®ƒä»¬å­˜åœ¨äºx86æˆ–ARMä¸­é‚£æ ·ã€‚ï¼‰ 4.1.1 Stack-based Buffer Overflow â€‹ ä¸ç›®å‰çš„çœ‹æ³•ç›¸åï¼ŒåŸºäºå †æ ˆçš„ç¼“å†²åŒºæº¢å‡ºåœ¨WebAssemblyä¸­æ˜¯å¯ä»¥åˆ©ç”¨çš„ã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç”±äºline 9æ²¡åšè¾¹ç•Œæ£€æŸ¥å¯¼è‡´bufferå¯ä»¥è¢«æº¢å‡ºå†™å…¥ã€‚ â€‹ å› ä¸ºWebAssemblyè™šæ‹Ÿæœºéš”ç¦»äº†managed dataï¼Œç‰¹åˆ«æ˜¯ç¨‹åºçš„è¿”å›åœ°å€ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è®©äººäº§ç”Ÿå¼ºçƒˆçš„ï¼ˆå’Œé”™è¯¯çš„ï¼‰å®‰å…¨æ„Ÿï¼Œæ­£å¦‚ç¬¬1èŠ‚ä¸­å¼•ç”¨çš„WebAssemblyå®˜æ–¹è®¾è®¡æ–‡æ¡£æ‰€è¯´æ˜çš„é‚£æ ·ã€‚ç„¶è€Œï¼Œç¼“å†²åŒºæº¢å‡ºä¼šæŸå®³WebAssemblyä¸­çš„æ•°æ®ï¼Œå› ä¸ºCè¯­è¨€ä¸­çš„éƒ¨åˆ†funcion-scopeçš„æ•°æ®æ˜¯å­˜å‚¨åœ¨çº¿æ€§å†…å­˜çš„unmanaged stackä¸­çš„(å¦‚è¿™é‡Œçš„frameæ•°ç»„)ã€‚ â€‹ å¦‚å›¾cæ‰€ç¤ºï¼Œé¡¶éƒ¨æ˜¯çº¿æ€§å†…å­˜ä¸­çš„unmanaged stackï¼Œåº•éƒ¨æ˜¯VMå†…éƒ¨å­˜å‚¨managed dataçš„åŒºåŸŸã€‚è™½ç„¶åº•éƒ¨çš„managed dataå—åˆ°äº†VMçš„ä¿æŠ¤ï¼Œä½†unmanaged stackå¹¶æ²¡æœ‰å—åˆ°ä¿æŠ¤ã€‚ äº‹å®ä¸Šï¼Œåœ¨å†™è¿›unmanaged stackçš„å±€éƒ¨å˜é‡ï¼ˆå¦‚bufferï¼‰æ—¶çš„æº¢å‡ºï¼Œå¯èƒ½ä¼šè¦†ç›–åŒä¸€å †æ ˆä¸­çš„å…¶ä»–å±€éƒ¨å˜é‡ï¼Œç”šè‡³æ˜¯å‘ä¸Šçš„å…¶ä»–å †æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡ï¼Œå¦‚parent_frameã€‚å› ä¸ºæº¢å‡ºä¹Ÿå¯ä»¥å†™åˆ°çˆ¶å‡½æ•°ä¸­çš„æ•°æ®ï¼ˆå¦‚æˆ‘ä»¬ä¸Šé¢æ‰€ç¤ºï¼‰ï¼Œç”šè‡³å†™åˆ°å…¶ä»–å†…å­˜éƒ¨åˆ†ï¼ˆå¦‚æˆ‘ä»¬åé¢æ‰€ç¤ºï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªåŸè¯­æ¯”ä»¥å‰æ„è¯†åˆ°çš„æ›´å¼ºå¤§ï¼Œstack canaryçš„ä½¿ç”¨ä¼šæ›´é‡è¦ã€‚ 4.1.2 Stack Overflow â€‹ å¦ä¸€ç§å†™åŸè¯­æ˜¯stack overflowsï¼Œå…¶ç”±äºè¿‡åˆ†æˆ–æ— é™åˆ¶çš„é€’å½’æ“ä½œï¼Œæˆ–åœ¨stackä¸Šåˆ†é…å¯å˜å¤§å°çš„æœ¬åœ°bufferæ—¶ï¼Œä¾‹å¦‚ä½¿ç”¨allocaï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚å¦‚æœæ”»å‡»è€…æ§åˆ¶äº†stackåˆ†é…çš„å¤§å°ï¼Œæˆ–è€…æä¾›äº†è¿åé€’å½’å‡½æ•°å†…éƒ¨å‡è®¾çš„åæ•°æ®ï¼Œå°±å¯èƒ½è§¦å‘å †æ ˆæº¢å‡ºã€‚ åœ¨åŸç”Ÿå¹³å°ï¼Œstack overflowsä¼šå¯¼è‡´æ ˆç”Ÿé•¿è§¦ç¢°ç‰¹æ®Šçš„guard pageä¿æŠ¤é¡µï¼Œæ¥ç€å¯¼è‡´ç¨‹åºcrashï¼›ä½†åœ¨WebAssemblyä¸­ï¼Œè¿™ç§ä¿æŠ¤æªæ–½ä¸å­˜åœ¨äºunmanaged stackä¸­ï¼Œæ‰€ä»¥æ”»å‡»è€…æ§åˆ¶çš„stack overflowå¯ä»¥ç”¨æ¥è¦†ç›–stackä¸­çš„æ½œåœ¨æ•æ„Ÿæ•°æ®ã€‚ 4.1.3 Heap Metadata Corruption â€‹ Heap Metadata CorruptionæŒ‡çš„æ˜¯å¯¹å †å—ä¸­ç‰¹æ®Šæ•°æ®çš„ç ´åï¼ˆå¦‚prevå’ŒnextæŒ‡é’ˆï¼‰ã€‚ â€‹ å› ä¸ºåœ¨WebAssemblyä¸­ï¼Œhostç¯å¢ƒæ²¡æœ‰æä¾›é»˜è®¤çš„åˆ†é…å™¨ï¼Œç¼–è¯‘å™¨ä¼šåŒ…å«ä¸€ä¸ªå†…å­˜åˆ†é…å™¨ä½œä¸ºç¼–è¯‘å¥½çš„ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚ç”±äºWebAssembly moduleé€šå¸¸è¦åœ¨æ‰§è¡Œå‰ä»ç½‘ä¸Šä¸‹è½½ï¼Œåˆ†é…å™¨çš„ä»£ç é‡å¤§å°æ˜¯ä¸€ä¸ªé‡è¦çš„è€ƒè™‘å› ç´ ï¼ŒEmscriptenä¼šè®©å¼€å‘è€…è‡ªå·±åœ¨é»˜è®¤çš„åˆ†é…å™¨ï¼ˆåŸºäºdlmallocï¼‰å’Œç‰¹å®šçš„åˆ†é…å™¨ï¼ˆemmallocï¼Œå…¶å¯ä»¥å‡å°‘æœ€ç»ˆçš„ä»£ç å¤§å°ï¼‰ä¸­é—´é€‰æ‹©ã€‚ç±»ä¼¼åœ°ï¼ŒRustç¨‹åºä¹Ÿå¯ä»¥åœ¨ç¼–è¯‘ä¸ºWasmæ—¶é€‰æ‹©ä¸€ä¸ªè½»é‡çº§çš„åˆ†é…å™¨ï¼ˆwee_allocï¼‰ã€‚ â€‹ è™½ç„¶æ ‡å‡†çš„åˆ†é…å™¨ï¼Œå¦‚dlmallocï¼Œå·²ç»é’ˆå¯¹å„ç§å…ƒæ•°æ®ç ´åæ”»å‡»è¿›è¡Œäº†åŠ å›ºï¼Œä½†ç®€åŒ–å’Œè½»é‡çº§çš„åˆ†é…å™¨å¾€å¾€å®¹æ˜“å—åˆ°ä¼ ç»Ÿæ”»å‡»çš„å½±å“ã€‚æˆ‘ä»¬å‘ç°emmallocå’Œwee_allocéƒ½å®¹æ˜“å—åˆ°å…ƒæ•°æ®ç ´åçš„æ”»å‡»ï¼Œä¸‹é¢å¯¹emmallocçš„ä¸€ä¸ªç‰ˆæœ¬è¿›è¡Œè¯´æ˜ã€‚ â€‹ å½“é€šè¿‡è°ƒç”¨freeæ¥é‡Šæ”¾ä¸€ä¸ªå†…å­˜å—æ—¶ï¼Œåˆ†é…å™¨ä¼šè¯•å›¾å°†å°½å¯èƒ½å¤šçš„ç›¸é‚»freeå—åˆå¹¶åˆ°ä¸€ä¸ªæ›´å¤§çš„å†…å­˜å—ä¸­ï¼Œä»¥é¿å…ç¢ç‰‡åŒ–å†…å­˜ã€‚è¿™å°±å¯¼è‡´äº†ç»å…¸çš„å †æº¢å‡ºunlinkæ¼æ´ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé€šè¿‡å°†ç›¸é‚»å †å—æº¢å‡ºï¼Œè¦†ç›–å…¶metadataæŒ‡é’ˆã€‚ â€‹ ç”±äºemmallocæ˜¯ä¸€ä¸ªfirst-fitåˆ†é…å™¨ï¼Œå®ƒå°†è¿”å›ç©ºé—²åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªè¶³ä»¥æ»¡è¶³åˆ†é…è¯·æ±‚çš„å¤§å—ï¼Œå› æ­¤ï¼Œä¸¤ä¸ªç›´æ¥è·Ÿéšçš„åˆ†é…è¯·æ±‚åœ¨å†…å­˜ä¸­å°±ä¼šäº§ç”Ÿä¸¤ä¸ªç›¸é‚»çš„å—ï¼Œå¦‚å›¾6aä¸­çš„alloc1å’Œalloc2ã€‚å›¾6cä¸­emmallocæºä»£ç çš„ç¬¬1åˆ°9è¡Œæ˜¾ç¤ºï¼Œæ¯ä¸ªå—çš„metadataå¼€å§‹äºä¸€ä¸ªè¡¨ç¤ºå½“å‰å—æ˜¯å¦ç©ºé—²çš„ä½ï¼ˆusedï¼‰ï¼Œè¯¥å—çš„å¤§å°ï¼ˆsizeï¼‰ï¼Œä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªå—çš„æŒ‡é’ˆï¼ˆ*prevï¼‰ï¼Œæœ€åæ˜¯payloadæˆ–ä¸€ä¸ªFreeInfoç»“æ„ã€‚åœ¨ä¸€ä¸ªæ­£å¸¸çš„åˆ†é…æ“ä½œä¸­ï¼Œè¯¥å—æ˜¯ç©ºé—²å—çš„åŒé“¾åˆ—è¡¨çš„ä¸€éƒ¨åˆ†ã€‚ â€‹ å°†alloc1ä¸­çš„æ•°æ®æº¢å‡ºï¼ˆä¾‹å¦‚ï¼Œç”±äºé•¿åº¦é”™è¯¯çš„memcpyï¼‰ï¼Œæ”»å‡»è€…å¯ä»¥å†™åˆ°ç›´æ¥ç›¸é‚»çš„alloc2ï¼Œä»¥æ¸…é™¤usedä½å¹¶å»ºç«‹ä¸€ä¸ª \"å‡çš„ \"FreeInfoç»“æ„ï¼ˆå›¾6bï¼‰ã€‚æœ€åï¼Œå½“alloc1è¢«é‡Šæ”¾æ—¶ï¼Œåˆ†é…å™¨æ£€æŸ¥æ˜¯å¦æœ‰æœºä¼šå°†æ–°é‡Šæ”¾çš„å—ä¸ç›¸é‚»çš„è‡ªç”±å—åˆå¹¶ï¼Œalloc2ä¼šè¢«è¯†åˆ«ä¸ºå·²ç»freeäº†ï¼Œåˆ†é…å™¨è°ƒç”¨removeFromFreeListæ¥è§£é™¤å®ƒçš„é“¾æ¥ï¼Œä»¥å‡†å¤‡åˆå¹¶è¿™ä¸¤ä¸ªå—ã€‚ â€‹ åœ¨å›¾6cçš„ç¬¬13è¡Œï¼Œemmallocåœ¨alloc2ä¸Šæ‰§è¡Œunlinkä»£ç ï¼Œç„¶åå°†æ”»å‡»è€…æ§åˆ¶çš„ä¸‹ä¸€ä¸ªå­—æ®µçš„å€¼å†™å…¥å¦ä¸€ä¸ªFreeInfoç»“æ„çš„ä¸‹ä¸€ä¸ªå­—æ®µï¼ˆå³ï¼Œåç§»é‡ä¸º4å­—èŠ‚ï¼‰ï¼Œåœ¨æ”»å‡»è€…æ§åˆ¶çš„prevä¸­çš„åœ°å€ã€‚åœ¨ç¬¬14è¡Œï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªé•œåƒå†™åˆ°Nextæ‰€æŒ‡å‘çš„ä½ç½®ã€‚å› æ­¤ï¼Œä¸ºäº†é¿å…è¿è¡Œæ—¶é”™è¯¯ç»ˆæ­¢æ‰§è¡Œï¼Œprevå’Œnextéƒ½å¿…é¡»æ˜¯æœ‰æ•ˆçš„æŒ‡é’ˆã€‚ ç”±äºEmscriptenåˆ†é…çš„é»˜è®¤å †æ ˆå¤§å°ä¸º5MBï¼Œä½äº5Ã—220çš„å€¼å¾ˆå¯èƒ½å¯ä»¥å®‰å…¨å†™å…¥ã€‚è¿™å¯¹äºè¦†ç›–å‡½æ•°è¡¨ç´¢å¼•ï¼ˆè§ç¬¬4.3.1èŠ‚ï¼‰æ¥è¯´æ˜¯ç»°ç»°æœ‰ä½™çš„ï¼Œè¿™äº›ç´¢å¼•æœ€å¤šåªæœ‰å‡ åƒçš„èŒƒå›´ã€‚ â€‹ å…¶ä»–å¯èƒ½çš„æ”»å‡»å¯èƒ½åˆ©ç”¨æ ¼å¼å­—ç¬¦ä¸²æ¼æ´ã€UAFå’ŒåŒé‡é‡Šæ”¾æ¼æ´ã€å•å­—èŠ‚ç¼“å†²åŒºæº¢å‡ºï¼Œæˆ–å¯¹å†…å­˜ç®¡ç†è¿›è¡Œæ›´å¤æ‚çš„æ”»å‡»ã€‚ 4.2 Overwriting Data â€‹ å½“ç»™å‡ºä¸€ä¸ªå†™æ“ä½œåŸè¯­ï¼Œè¿™é‡Œè®¨è®ºäº†ä»€ä¹ˆæ ·çš„æ•°æ®å¯ä»¥è¢«è¦†ç›–ã€‚ 4.2.1 Overwriting Stack Data â€‹ çº¿æ€§å†…å­˜ä¸­çš„unmanaged stackä¸­çš„function-scopedæ•°æ®åŒ…å«ï¼šå¦‚æ•°ç»„ã€ç»“æ„ä½“æˆ–è€…ä½¿ç”¨åœ°å€çš„å˜é‡ã€‚é€šè¿‡ä¸€ä¸ªç»™å®šçš„å®Œå…¨çµæ´»çš„å†™æ“ä½œåŸè¯­ï¼Œæ”»å‡»è€…å¯ä»¥è¦†ç›–ä»»ä½•æ½œåœ¨çš„å…³é”®æœ¬åœ°æ•°æ®ï¼ŒåŒ…æ‹¬ä½œä¸ºå‡½æ•°è¡¨ç´¢å¼•çš„å‡½æ•°æŒ‡é’ˆæˆ–å®‰å…¨å…³é”®å‡½æ•°çš„å‚æ•°ã€‚ â€‹ ä¸åŸç”Ÿå¹³å°ä¸åŒçš„æ˜¯ï¼Œunmanaged stackä¸Šæ²¡æœ‰è¿”å›åœ°å€ï¼Œæ•…ç®€å•çš„buffer overflowå¹¶ä¸å¥½ç›´æ¥å½±å“æ§åˆ¶æµã€‚ç„¶è€Œï¼Œå¦‚æœå †æ ˆå‘ä¸‹å¢é•¿ï¼Œæº¢å‡ºæ“ä½œå¯ä»¥è¾¾åˆ°æ‰€æœ‰å½“å‰æ´»åŠ¨çš„è°ƒç”¨å¸§ã€‚å› ä¸ºæ²¡æœ‰è¿”å›åœ°å€æˆ–å †æ ˆcanaryï¼Œæº¢å‡ºå¯ä»¥è¦†ç›–æ‰€æœ‰è°ƒç”¨å‡½æ•°çš„æœ¬åœ°æ•°æ®ï¼Œåå€’æ²¡æœ‰å› ä¸ºè¿”å›åœ°å€å¼‚å¸¸æå‰ç»ˆæ­¢çš„é£é™©ã€‚ 4.2.2 Overwriting Heap Data â€‹ Heapé€šå¸¸åŒ…å«æœ‰è¾ƒé•¿å¯¿å‘½çš„æ•°æ®ï¼Œå¹¶ä¼šåœ¨ä¸åŒçš„å‡½æ•°ä¸­å­˜å‚¨å¤æ‚çš„æ•°æ®ç»“æ„ã€‚åœ¨WebAssemblyä¸­ï¼Œç”±äºå®Œå…¨ç¡®å®šçš„å†…å­˜åˆ†é…ï¼Œå¯¹heapæ•°æ®çš„å®šå‘å†™å…¥æ˜¯å¾ˆç®€å•çš„ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå³ä½¿æ˜¯è¶³å¤Ÿé•¿çš„åŸºäºstackçš„çº¿æ€§ç¼“å†²åŒºæº¢å‡ºä¹Ÿä¼šç ´åå †æ•°æ®ï¼ˆå› ä¸ºheapä½äºæœ€ä¸Šæ–¹ï¼‰ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•æœºåˆ¶ï¼Œå¦‚ä¿æŠ¤é¡µï¼Œå¯ä»¥é˜»æ­¢è¿™ç§æ–¹æ³•ã€‚ â€‹ å¯¹äºå•ä¸€çš„çº¿æ€§å†…å­˜ï¼Œæ²¡æœ‰åŠæ³•é¿å…stackæº¢å‡ºæˆ–åŸºäºstackçš„ç¼“å†²åŒºæº¢å‡ºã€‚å¦‚æœstackæœ¬èº«å‘ä¸Šå¢é•¿ï¼Œstackæº¢ä¼šæ— å£°åœ°ç ´åheapçš„æ•°æ®ã€‚å³ä½¿æ˜¯stackå‘ä¸‹å¢é•¿ï¼ˆè¿œç¦»heapæ–¹å‘ï¼‰ï¼Œä½†ç”±äºç¼“å†²åŒºæº¢å‡ºçš„æ–¹å‘æ˜¯å‘ä¸Šçš„ï¼ŒStack-based Buffer Overflowå°±æ˜¯ç½ªé­ç¥¸é¦–ã€‚ 4.2.3 Overwriting â€œConstantâ€ Data â€‹ åœ¨åŸç”Ÿå¹³å°ä¸‹ï¼Œè¦†ç›–å¸¸æ•°åŸºæœ¬æ˜¯ä¸å¯èƒ½çš„ã€‚å°†æ•°æ®å£°æ˜ä¸ºâ€œconstantâ€æœ¬èº«å°±æ˜¯è®¸å¤šå¹³å°ä¿æŠ¤æ•°æ®ä¸è¢«è¦†ç›–çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¸¸æ•°ä¼šè¢«æ”¾åœ¨åªè¯»çš„å†…å­˜ä¸­ã€‚ â€‹ ç”±äºWebAssemblyæ²¡æœ‰åŠæ³•ä½¿æ•°æ®åœ¨çº¿æ€§å†…å­˜ä¸­ä¿æŒä¸å˜ï¼Œä¸€ä¸ªä»»æ„çš„å†™åŸè¯­å°±å¯ä»¥æ”¹å˜ç¨‹åºä¸­ä»»ä½•éæ ‡é‡å¸¸æ•°çš„å€¼ï¼Œä¾‹å¦‚æ‰€æœ‰çš„å­—ç¬¦ä¸²ã€‚ç”šè‡³æ›´å¤šçš„å—é™åˆ¶çš„å†™åŸè¯­å…è®¸ä¿®æ”¹å¸¸é‡ï¼šå›¾4bçš„å†…å­˜å¸ƒå±€çš„å †æ ˆæº¢å‡ºå¯ä»¥å†™å…¥æ’å®šæ•°æ®ï¼›åŒæ ·ï¼ŒStack-based Buffer Overflowå¯ä»¥è¾¾åˆ°å›¾4cçš„å†…å­˜å¸ƒå±€ä¸­çš„æ’å®šæ•°æ®ï¼Œå› æ­¤ï¼Œå…·æœ‰è¿™ä¸¤ç§èƒ½åŠ›çš„æ”»å‡»è€…å¯ä»¥è¦†ç›–ä»»ä½•æ‰€è°“çš„å¸¸é‡æ•°æ®ã€‚ 4.3 Triggering Unexpected Behavior â€‹ ç»™å‡ºå†™åŸè¯­ã€éœ€è¦è¦†ç›–çš„æ•°æ®ï¼Œæœ‰è®¸å¤šæ–¹æ³•å¯ä»¥è®©æ”»å‡»è€…è§¦å‘ç¨‹åºçš„å¼‚å¸¸è¡Œä¸ºã€‚ 4.3.1 Redirecting Indirect Calls â€‹ åœ¨WebAssemblyä¸­ï¼Œä¸æœ¬åœ°æ§åˆ¶æµæ”»å‡»æœ€æ¥è¿‘çš„æ”»å‡»æ–¹æ³•æ˜¯é—´æ¥å‡½æ•°è°ƒç”¨çš„é‡å®šå‘ï¼Œè¿™ç§ç±»å‹çš„æ”»å‡»å…è®¸æ‰§è¡Œé€šå¸¸ä¸ä¼šåœ¨ç‰¹å®šç¯å¢ƒä¸‹æ‰§è¡Œçš„ä»£ç ã€‚ â€‹ åœ¨ç¬¬2èŠ‚ï¼Œæˆ‘ä»¬å·²ç»è¯´æ˜äº†WebAssemblyä¸­çš„é—´æ¥å‡½æ•°è°ƒç”¨ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡è¦†ç›–é—´æ¥è°ƒç”¨æŒ‡ä»¤ä½¿ç”¨çš„ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°ç”¨ä½œtable sectionä¸­çš„ä¸€ä¸ªç´¢å¼•ï¼Œæ¥é‡å®šå‘ä¸€ä¸ªé—´æ¥è°ƒç”¨ã€‚æ­£å¦‚ç¬¬4.2èŠ‚æ‰€è¿°ï¼Œè¿™ä¸ªæ•´æ•°å€¼å¯èƒ½æ˜¯unmanaged stackçš„å±€éƒ¨å˜é‡ï¼Œheapå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨vtableä¸­ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªæ‰€è°“çš„å¸¸é‡å€¼ã€‚ â€‹ WebAssemblyæœ‰ä¸¤ç§æœºåˆ¶é™åˆ¶æ”»å‡»è€…é‡å®šå‘é—´æ¥è°ƒç”¨ï¼š é¦–å…ˆï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å®šä¹‰åœ¨WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶ä¸­æˆ–å¯¼å‡ºåˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å‡½æ•°éƒ½å‡ºç°åœ¨é—´æ¥è°ƒç”¨è¡¨ä¸­ï¼Œè€Œåªæ˜¯é‚£äº›å¯èƒ½è¢«é—´æ¥è°ƒç”¨çš„å‡½æ•°åœ¨tableä¸­ï¼› å…¶æ¬¡ï¼Œæ‰€æœ‰çš„è°ƒç”¨ï¼ŒåŒ…æ‹¬ç›´æ¥å’Œé—´æ¥è°ƒç”¨ï¼Œéƒ½è¦è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚å› æ­¤ï¼Œæ”»å‡»è€…åªèƒ½åœ¨ç›¸åŒç±»å‹çš„å‡½æ•°çš„ç­‰ä»·ç±»ä¸­é‡å®šå‘è°ƒç”¨ï¼Œç±»ä¼¼äºåŸºäºç±»å‹çš„CFI[15]ã€‚åœ¨ç¬¬6èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¡¡é‡è¿™äº›æœºåˆ¶åœ¨å¤šå¤§ç¨‹åº¦ä¸Šå‡å°‘äº†æ”»å‡»è€…å¯ä»¥é€‰æ‹©çš„å¯ç”¨è°ƒç”¨ç›®æ ‡ã€‚ 4.3.2 Code Injection into Host Environment â€‹ WebAssemblyæ¨¡å—å¯ä»¥é€šè¿‡å„ç§æ–¹å¼ä¸ä»–ä»¬çš„hostç¯å¢ƒäº’åŠ¨ï¼Œä»¥å¼•èµ·å¤–éƒ¨å¯è§çš„æ•ˆæœã€‚å…¶ä¸­ä¸€ç§æ–¹å¼æ˜¯è°ƒç”¨JavaScriptä¸»æœºç¯å¢ƒä¸­è‡­åæ˜­è‘—çš„evalå‡½æ•°ï¼Œå®ƒå°†ç»™å®šçš„å­—ç¬¦ä¸²è§£é‡Šä¸ºä»£ç ï¼Œä¸ºäº†è®¿é—®evalï¼Œé€šè¿‡Emscriptenç¼–è¯‘çš„WebAssemblyæ¨¡å—å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼Œemscripten_run_scriptï¼ˆå®ƒåœ¨hostç¯å¢ƒä¸­æ‰§è¡ŒJavaScriptä»£ç ï¼Œæ— è®ºæ˜¯åœ¨æµè§ˆå™¨ä¸­è¿˜æ˜¯åœ¨åŸºäºNode.jsçš„æœåŠ¡å™¨ç«¯ä»£ç ä¸­ï¼‰ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œä»»ä½•å…è®¸å‘æ–‡æ¡£æ·»åŠ ä»£ç çš„å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œdocument.writeï¼‰éƒ½å¯ä»¥ä½œä¸ºevalå‡½æ•°çš„ç­‰ä»·ç‰©ï¼›åœ¨Node.jsä¸­ï¼ŒAPIçš„ä½çº§ç‰¹æ€§ä¸ºä»£ç æ³¨å…¥æä¾›äº†æ›´å¤šçš„é€‰æ‹©ï¼Œä¾‹å¦‚ï¼Œchild_processæ¨¡å—çš„execå‡½æ•°ã€‚ â€‹ ä½¿ç”¨ç¬¬4.1èŠ‚å’Œç¬¬4.2èŠ‚ä¸­æè¿°çš„åŸè¯­ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡é‡å†™ä¼ é€’ç»™ç±»ä¼¼evalçš„å‡½æ•°çš„å‚æ•°æ¥æ³¨å…¥æ¶æ„ä»£ç ã€‚ä¾‹å¦‚ï¼Œå‡è®¾WebAssemblyé€šå¸¸ç”¨ä¸€ä¸ªå­˜å‚¨åœ¨çº¿æ€§å†…å­˜ä¸­çš„ \"å¸¸é‡ \"ä»£ç ä¸²æ¥è°ƒç”¨evalï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥ç”¨æ¶æ„ä»£ç è¦†ç›–è¯¥å¸¸é‡ã€‚ 4.3.3 Application-specific Data Overwrite â€‹ æ ¹æ®ä¸åŒçš„åº”ç”¨ç¨‹åºï¼Œè¿˜å¯ä»¥æœ‰å…¶ä»–æ•æ„Ÿçš„æ•°æ®è¦†ç›–ç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé€šè¿‡å¯¼å…¥çš„å‡½æ•°å‘å‡ºç½‘ç»œè¯·æ±‚çš„WebAssemblyæ¨¡å—ï¼Œå¯ä»¥é€šè¿‡è¦†ç›–ç›®æ ‡å­—ç¬¦ä¸²ä½¿å…¶ä¸ä¸åŒçš„ä¸»æœºè”ç³»ï¼Œä»¥å¯åŠ¨cookieçªƒå–ã€‚ä½œä¸ºè¿›ä¸€æ­¥çš„ä¾‹å­ï¼Œä¸€äº›è§£é‡Šå™¨å’Œruntimeå·²ç»è¢«ç¼–è¯‘æˆWebAssemblyï¼Œä¾‹å¦‚ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰§è¡ŒCIL/.NETä»£ç [5]ã€‚è¿™ç±»ç¯å¢ƒåŒ…å«äº†è®¸å¤šæ˜¾è‘—æ”¹å˜ç¨‹åºè¡Œä¸ºçš„æœºä¼šï¼Œä¾‹å¦‚ï¼Œé€šè¿‡è¦†ç›–ç„¶åç”±è¿è¡Œæ—¶è§£é‡Šçš„å­—èŠ‚ç ã€‚ 5. ç«¯åˆ°ç«¯æ”»å‡»æ–¹æ³• 5.1 End-to-End Attacks â€‹ è¿™ä¸€æ”»å‡»è¡¨æ˜ï¼Œå°†ç¼–è¯‘ä¸ºWebAssemblyçš„æ˜“å—æ”»å‡»çš„ä»£ç çº³å…¥å®¢æˆ·ç«¯Webåº”ç”¨ç¨‹åºï¼Œå¯ä»¥å®ç°åŸºäºJavaScriptçš„åº”ç”¨ç¨‹åºçš„å·²çŸ¥æ”»å‡»ï¼Œå¦‚è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰ã€‚ â€‹ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå›¾ç‰‡æœåŠ¡ç½‘ç«™ï¼Œè¯¥æœåŠ¡æä¾›äº†ä¸€ä¸ªç½‘ç»œåº”ç”¨ï¼Œå…¶åœ¨å®¢æˆ·ç«¯è½¬æ¢ä¸åŒæ ¼å¼çš„å›¾åƒï¼Œä½¿ç”¨ç¼–è¯‘ä¸ºWebAssemblyçš„libpngå›¾åƒç¼–è§£ç åº“ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå…¶å¯ä»¥å°†ä¸€ä¸ªç”¨æˆ·ä¸Šä¼ çš„PNMæ ¼å¼å›¾åƒåœ¨æœ¬åœ°è½¬æ¢ä¸ºä¸€ä¸ªPNGæ ¼å¼å›¾åƒï¼Œåœ¨è½¬æ¢å®Œæˆåï¼Œé€šè¿‡DOM æ“ä½œå‡½æ•°ï¼ˆå¦‚document.writeï¼‰å±•ç¤ºè¯¥å›¾ç‰‡ã€‚ â€‹ ç„¶è€Œï¼Œ1.6.35ç‰ˆæœ¬çš„libpngåº“æœ‰ä¸€ä¸ªè‘—åçš„buffer overflowæ¼æ´ï¼ˆCVE-2018-14550ï¼‰ï¼Œå½“è¿›è¡Œå›¾ç‰‡æ ¼å¼PNM-&gt;PNGè½¬æ¢æ—¶å¯ä»¥è¢«è§¦å‘ã€‚åœ¨åŸç”Ÿå¹³å°ä¸‹ï¼Œè¿™ä¸ªæ¼æ´å¯ä»¥è¢«stack canariesç¦æ­¢ï¼Œä½†åœ¨WASMå¹³å°ä¸‹ï¼Œè¿™ä¸ªæ¼æ´å¯ä»¥ä¸è¢«é™åˆ¶çš„è¢«åˆ©ç”¨ã€‚ â€‹ å…·ä½“åˆ©ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š æ”»å‡»è€…æä¾›ç»™å…¶ä»–ç”¨æˆ·ä¸€ä¸ªæ¶æ„å›¾ç‰‡ï¼Œå…¶è¢«ä½¿ç”¨ä¸€ä¸ªwebåº”ç”¨è¾“å…¥å¹¶å±•ç¤ºï¼ˆå¦‚ä¸Šå›¾dï¼‰ï¼š åœ¨ä¸Šå›¾Line 3ï¼Œå…¶ä½¿ç”¨pnm2pngå‡½æ•°è½¬æ¢æ ¼å¼ï¼› åœ¨ä¸Šå›¾Line 4ï¼Œå°†pngæ–‡ä»¶ç¼–ç ä¸ºbase64æ ¼å¼ï¼Œå¹¶æ·»åŠ åˆ°img_tagä¸­ï¼› åœ¨ä¸Šå›¾Line 5ï¼Œå°†img_tagåŠ å…¥documentï¼› åœ¨Wasmä¸­ï¼Œå­—ç¬¦ä¸²img_tagå­˜å‚¨åœ¨heapä¸­ï¼Œé€šè¿‡stack-baesd buffer overflowå¯ä»¥ä¿®æ”¹å®ƒï¼š æ”»å‡»è€…å¯ä»¥åˆ©ç”¨æº¢å‡ºå°†img_tagä¿®æ”¹ä¸ºä¸€ä¸ªscriptè„šæœ¬ï¼› æ¶æ„è„šæœ¬ä¼šåœ¨Line 5è¢«å†™å…¥documentï¼› å–å†³äºæ•°æ®å¦‚ä½•è¢«ä¸Šä¼ ï¼Œä¸Šè¿°æ”»å‡»å¯èƒ½å¯¼è‡´åå°„å‹ï¼ˆéæŒä¹…ï¼‰XSSå’ŒæŒä¹…å‹XSSï¼Œæ”»å‡»è€…å¯ä»¥é€‰æ‹©è‡ªå·±ä¸Šä¼ æ¶æ„è„šæœ¬æˆ–è€…è®©ç”¨æˆ·ä¸Šä¼ ï¼Œå·²è¾¾åˆ°ä¸åŒçš„ç›®çš„ã€‚ 5.2 Remote Code Execution in Node.js â€‹ æˆ‘ä»¬è¯æ˜äº†åœ¨åŸºäºNode.jsçš„åº”ç”¨ç¨‹åºä¸­åŒ…å«æœ‰æ¼æ´çš„WebAssemblyå¯ä»¥å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚ â€‹ å‡è®¾æœ‰ä¸€ä¸ªè®°å½•å¯¹æŸäº›äº§å“æ»¡æ„æˆ–ä¸æ»¡æ„çš„å®¢æˆ·çš„IDçš„æœåŠ¡å™¨ç¨‹åºï¼ˆå¦‚aï¼‰ï¼Œhandle_request()å‡½æ•°æ¥å—ä¸‰ä¸ªinputï¼Œå…¶éƒ½å¯ä»¥è¢«æ”»å‡»è€…æ§åˆ¶ï¼š input1è¡¨æ˜é¡¾å®¢æ˜¯å¦happyï¼› input2è¡¨æ˜è¡¨æ˜input1çš„é•¿åº¦ï¼› input3è¡¨æ˜é¡¾å®¢çš„idã€‚ â€‹ æ ¹æ®é¡¾å®¢çš„å¿«ä¹ç¨‹åº¦ï¼Œä»£ç è°ƒç”¨log_happyæˆ–log_unhappyï¼Œå…¶é€šè¿‡å°†å„è‡ªçš„å‡½æ•°åˆ†é…ç»™å‡½æ•°æŒ‡é’ˆfuncæ¥é€‰æ‹©ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ˆLine 9ï¼‰ï¼Œå…¶é€šè¿‡memcpyå‡½æ•°æ¥å°†input1çš„å€¼å¤åˆ¶è¿›happinessæ•°ç»„ä¸­ï¼Œä½†ç”±äºinput2é•¿åº¦æ”»å‡»è€…å¯æ§ï¼Œå°±å¯ä»¥é…åˆLine 12çš„freeå‡½æ•°å®ç°unlink exploitã€‚é€šè¿‡è¿™ä¹ˆæ“ä½œï¼Œæ”»å‡»è€…è·å¾—äº†ä¸€æ¬¡å†™åŸè¯­ã€‚ â€‹ ç”±äºå…¶é€šè¿‡å‡½æ•°æŒ‡é’ˆæ¥å†³å®šè¿è¡Œå“ªä¸ªå‡½æ•°ï¼Œæ•…å‡½æ•°æŒ‡é’ˆfuncæ˜¯å­˜å‚¨åœ¨unmanaged stackä¸­çš„ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªå†™åŸè¯­æ¥ä¿®æ”¹funcçš„é—´æ¥è·³è½¬ç›®æ ‡ã€‚å› ä¸ºWasmæ²¡æœ‰ASLRï¼Œæ•…æ‰€æœ‰å‡½æ•°çš„åœ°å€éƒ½æ˜¯ç¡®å®šçš„ï¼Œè¿™æ ·çš„æ”»å‡»éå¸¸å®¹æ˜“å®ç°ï¼Œå¦‚å›¾bæ‰€ç¤ºï¼Œå› ä¸ºtypeç±»å‹ç›¸åŒï¼Œæ”»å‡»è€…å®Œå…¨å¯ä»¥å°†æ§åˆ¶æµå¯¼å‘execå‡½æ•°ï¼Œå¹¶åœ¨è¦†ç›–funcåœ°å€æ—¶å‘å †ä¸­æ³¨å…¥ä¸€ä¸ªåˆé€‚çš„å‘½ä»¤ï¼Œç„¶åå°†è¯¥å‘½ä»¤çš„åœ°å€ä»¥input3ä¼ å…¥ï¼Œå³å¯è¿è¡Œè¯¥å‘½ä»¤ã€‚ 5.3 Arbitrary File Write in Stand-alone VM â€‹ å°½ç®¡ç‹¬ç«‹çš„WebAssembly VMè¢«å®£ä¼ ä¸ºæ‰§è¡ŒC/C++ä»£ç çš„å®‰å…¨å¹³å°ï¼Œä½†WebAssemblyç›®å‰å¯ä»¥å®ç°ç°ä»£æœ¬åœ°æ‰§è¡Œå¹³å°ä¸­ä¸å¯èƒ½å®ç°çš„æ”»å‡»ã€‚ â€‹ ä¸Šå›¾å±•ç¤ºäº†ä¸€ä¸ªå°†å¸¸é‡å­—ç¬¦ä¸²åŠ å…¥ä¸€ä¸ªé™æ€å·²çŸ¥æ–‡ä»¶çš„ç¨‹åºï¼Œåªçœ‹Line 1-4ï¼Œè¯¥åŠŸèƒ½æ˜æ˜¾æ˜¯æ— å®³çš„ã€‚å³ä½¿ç¨‹åºä¸­æœ‰å…¶ä»–buffer overflowæ¼æ´ï¼ˆLine 6-8ï¼‰ï¼Œåœ¨åŸç”Ÿå¹³å°ä¸­ï¼Œå…¶ä¹Ÿæ˜¯æ— å®³çš„ï¼Œå› ä¸ºåƒâ€œfile.txtâ€è¿™ç§å­—ç¬¦ä¸²å¸¸é‡åœ¨x86ä¸­æ˜¯å­˜å‚¨åœ¨åªè¯»å†…å­˜éƒ¨åˆ†çš„ï¼Œä¸å¯èƒ½è¢«æ›´æ”¹ã€‚ â€‹ å½“è¿è¡Œä¸€ä¸ªWASM VMæ—¶ï¼š â€œfile.txtâ€ï¼Œâ€œAppend constant text.â€ç­‰å­—ç¬¦ä¸²éƒ½æ˜¯å­˜å‚¨åœ¨unmanagedçº¿æ€§å†…å­˜ä¸­çš„data sectionï¼ˆå›¾bï¼‰ï¼› å…¶å¯ä»¥è¢«buffer overflowä¿®æ”¹ï¼Œæ•…fopenå‡½æ•°å°±å¯ä»¥æ‰“å¼€ä»»æ„æ–‡ä»¶ï¼Œå¹¶ä»¥ä»»æ„æ¨¡å¼å†™å…¥ä»»æ„å†…å®¹ã€‚ 6. é‡åŒ–è¯„ä¼° â€‹ ä¸ºäº†æ›´å¥½åœ°äº†è§£åˆ°ç›®å‰ä¸ºæ­¢æ‰€æè¿°çš„æ”»å‡»åœ¨å®è·µä¸­çš„çœŸå®æ€§ï¼Œæˆ‘ä»¬ç°åœ¨å¯¹çœŸå®ä¸–ç•Œçš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œäº†å®šé‡è¯„ä¼°ã€‚æˆ‘ä»¬è§£å†³äº†ä»¥ä¸‹ç ”ç©¶é—®é¢˜ï¼š RQ1ï¼šæœ‰å¤šå°‘æ•°æ®æ˜¯å­˜å‚¨åœ¨unmanaged stackä¸Šçš„ï¼Ÿ Unmanaged stackæ—¢å¯ä½œä¸ºè·å¾—å†™åŸè¯­çš„å…¥å£ç‚¹ï¼Œä¾‹å¦‚é€šè¿‡stack-based buffer overflowï¼Œä¹Ÿå¯ä½œä¸ºè¦†å†™çš„ç›®æ ‡ï¼Œä¾‹å¦‚æ“çºµæ•æ„Ÿæ•°æ®ã€‚ RQ2ï¼šé—´æ¥è°ƒç”¨æœ‰å¤šå¸¸è§ï¼Ÿæœ‰å¤šå°‘å‡½æ•°å¯ä»¥è¢«é—´æ¥è°ƒç”¨æ¶‰åŠï¼Ÿ è¿™ä¸ªé—®é¢˜è¡¨æ˜äº†é€šè¿‡é‡å®šå‘é—´æ¥è°ƒç”¨å¯¼è‡´æ§åˆ¶æµè¢«ä¿®æ”¹çš„é£é™©æœ‰å¤šå¤§ã€‚ RQ3ï¼šä¸ç›®å‰çš„CFIç›¸æ¯”ï¼ŒWebAssemblyçš„typeæ£€æŸ¥CFIé˜²å¾¡æ•ˆæœå¦‚ä½•ï¼Ÿ ç”±äºWebAssembly VMå¯¹é—´æ¥è°ƒç”¨ç›®æ ‡è¿›è¡Œçš„è¿è¡Œæ—¶éªŒè¯ä¸CFIé˜²å¾¡ç›¸ä¼¼ï¼Œæˆ‘ä»¬åœ¨CFIç­‰ä»·ç±»å’Œç±»å¤§å°æ–¹é¢å¯¹ä¸¤è€…è¿›è¡Œäº†æ¯”è¾ƒã€‚ 6.1 Experimental Setup and Analysis Process Program Corpus æµ‹è¯•ä½¿ç”¨çš„äºŒè¿›åˆ¶ç¨‹åºåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š çœŸå®ä¸–ç•Œçš„9ä¸ªå·²éƒ¨ç½²çš„ç¨‹åºï¼š åç§° æè¿° Adobeâ€™s Document Cloud View SDK7 renders å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ¸²æŸ“å’Œæ³¨é‡ŠPDF Figma8 ä¸€ä¸ªåˆä½œçš„ç”¨æˆ·ç•Œé¢è®¾è®¡ç½‘ç»œåº”ç”¨ 1Password X 1.17 æµè§ˆå™¨æ‰©å±•æ’ä»¶ï¼ŒåŒ…å«ä¸€ä¸ªç”¨äºç”Ÿæˆå¯†ç çš„WebAssemblyç»„ä»¶ã€‚ Doom 3ï¼ˆã€Šæ¯ç­æˆ˜å£«ã€‹ç³»åˆ—ï¼‰ ä¸€ä¸ªå¤§å‹æ¸¸æˆå¼•æ“ç§»æ¤åˆ°WebAssemblyä¸Š ä¸€ç»„ç¼–è§£ç å™¨ï¼ˆwebp, mozjpeg, optipng, hqxï¼‰ ç”¨äºæµè§ˆå™¨å†…çš„å›¾åƒè½¬æ¢ è¿™äº›äºŒè¿›åˆ¶ç¨‹åºè¢«åº”ç”¨åœ¨ä¸åŒçš„é¢†åŸŸï¼ˆæ–‡æ¡£ç¼–è¾‘ã€æ¸¸æˆã€ç¼–ç è§£ç ç­‰ï¼‰ï¼Œä»¥åŠä¸åŒçš„è¯­è¨€ï¼ˆCã€C++ã€Rustï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›¸ä¿¡è¿™äº›æ ·æœ¬æ˜¯å¯¹çœŸå®Wasmæ ·æœ¬åˆ†å¸ƒçš„ä¸€ä¸ªå¾ˆå¥½çš„åˆæ­¥è¿‘ä¼¼ã€‚ SPEC CPU 2017åŸºå‡†å¥—ä»¶ä¸­çš„17ä¸ªCå’ŒC++ç¨‹åºï¼Œå…¶è¢«ç¼–è¯‘ä¸ºWebAssemblyï¼š SPEC CPUä»¥å‰æ›¾è¢«ç”¨æ¥ç ”ç©¶WebAssemblyçš„æ€§èƒ½[37]ï¼Œå®ƒä¹Ÿè¢«ç”¨æ¥è¯„ä¼°åŸç”Ÿä»£ç çš„CFIæŠ€æœ¯çš„å®‰å…¨æ€§[21, 69]ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè§£å†³RQ3ã€‚è¿™äº›ç¨‹åºæ¥è‡ªäºè®¡ç®—é‡å¤§çš„é¢†åŸŸï¼ˆç¼–ç¨‹è¯­è¨€çš„å®ç°ã€æ¨¡æ‹Ÿã€è§†é¢‘ç¼–è§£ç å™¨ã€å‹ç¼©ï¼‰ï¼Œä¸WebAssemblyçš„åŸå§‹ç”¨ä¾‹ç›¸åŒ¹é…ã€‚ Static Analysis ä¸ºäº†è§£å†³æˆ‘ä»¬çš„ç ”ç©¶é—®é¢˜ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªè½»é‡é™æ€åˆ†æå·¥å…·ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œå®ƒæ˜¯ç¬¬ä¸€ä¸ªç”¨äºWebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶çš„å®‰å…¨åˆ†æå·¥å…·ï¼Œå…¶æ˜¯ç”¨Rustè¯­è¨€ç¼–å†™çš„ï¼Œå¹¶ä¸”å¯ä»¥åšåˆ°ï¼š æå–ç¨‹åºçš„ä¸€èˆ¬ä¿¡æ¯ï¼Œå¦‚æŒ‡ä»¤æ•°ã€å‡½æ•°æ•°å’Œå®ƒä»¬çš„ç±»å‹ç­‰ï¼› é€šè¿‡æ¨æ–­å“ªä¸ªglobalæ˜¯stackæŒ‡é’ˆï¼Œå“ªä¸ªå‡½æ•°å¯ä»¥è®¿é—®å®ƒï¼Œä»¥åŠstackæŒ‡é’ˆå¦‚ä½•å¢å‡æ¥åˆ†æunmanaged stackï¼› åˆ†ætable sectionå’Œå…¶é™æ€åˆå§‹åŒ–ï¼Œæ¥æŸ¥æ‰¾å“ªäº›å‡½æ•°åœ¨å…¶ä¸­è¡¨ç¤ºï¼Œä»¥åŠæ¯ä¸ªåˆå§‹åŒ–tableç´¢å¼•çš„å‡½æ•°ç±»å‹ï¼› åˆ†æé—´æ¥è°ƒç”¨edgesï¼Œä»¥æå–å…è®¸call_indirectç›®æ ‡çš„é™æ€ç¼–ç ç±»å‹ï¼Œæœ‰å¤šå°‘å‡½æ•°ç¬¦åˆè¯¥ç±»å‹ï¼Œå¯¹è°ƒç”¨ç›®æ ‡çš„é¢å¤–é™åˆ¶ï¼Œä»¥åŠCFIç­‰ä»·ç±»åŠå…¶å¤§å°ã€‚ 6.2 Measuring Unmanaged Stack Usage â€‹ è¿™ä¸€èŠ‚å›ç­”é—®é¢˜RQ1ï¼Œæœ‰å¤šå°‘ç¨‹åºæ•°æ®å­˜å‚¨åœ¨unmanaged stackä¸­ã€‚ 6.2.1 Stack Analysis â€‹ æˆ‘ä»¬çš„é™æ€åˆ†ææµ‹é‡æ¯ä¸ªéimportå‡½æ•°åœ¨unmanaged stackä¸Šçš„æ ˆå¸§çš„å¤§å°ï¼Œè¯¥åˆ†æåœ¨æ²¡æœ‰è°ƒè¯•ä¿¡æ¯çš„ä¼˜åŒ–ã€å‰¥ç¦»çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šè¿è¡Œï¼Œå°±åƒç°å®ä¸­çš„æ”»å‡»è€…ä¸€æ ·ï¼Œå› æ­¤å¿…é¡»ç›´æ¥ä»å­—èŠ‚ç ä¸­æ¨æ–­å‡ºunmanaged stackçš„ä½¿ç”¨ã€‚ â€‹ é¦–å…ˆï¼Œåˆ†æéœ€è¦ç¡®å®šstackæŒ‡é’ˆã€‚ä¸æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸åŒï¼Œè¿™é‡Œä¸èƒ½ä½¿ç”¨å›ºå®šå¯„å­˜å™¨ï¼ˆå¦‚x86ä¸Šçš„rspï¼Œåœ¨WebAssemblyä¸­ä¸å­˜åœ¨ï¼‰æˆ–å…¨å±€å˜é‡ä½œä¸ºstackæŒ‡é’ˆã€‚ç›¸åï¼Œåˆ†æä¼šæå–æ‰€æœ‰ä¿®æ”¹globalsçš„æŒ‡ä»¤ï¼Œå¹¶é€‰æ‹©æœ€ç»å¸¸è¢«è¯»å†™çš„æŒ‡ä»¤ã€‚äººå·¥åˆ†æè¯å®ï¼Œè¿™ç§å¯å‘å¼æ–¹æ³•å¯é åœ°æ‰¾åˆ°äº†stackæŒ‡é’ˆã€‚ä»ç¡®å®šçš„å…¨å±€çš„é™æ€åˆå§‹åŒ–ä¸­ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“äº†çº¿æ€§å†…å­˜ä¸­unmanaged stackçš„åŸºå€ã€‚ å…¶æ¬¡ï¼Œå¯¹äºæ¯ä¸ªå‡½æ•°ï¼Œåˆ†ææ¨æ–­å‡ºunmanaged stackä¸Šçš„æ ˆå¸§çš„å¤§å°ã€‚åœ¨æ‰€æœ‰è¢«åˆ†æçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œå…ˆå‰ç¡®å®šçš„stackæŒ‡é’ˆè¢«ä¿®æ”¹ï¼Œå…¶åè®®ç±»ä¼¼äºæœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„**function prologue**å’Œ**function epilogue**ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„åˆ†æä¼šåŒ¹é…ä¸ä¸‹é¢çš„æŒ‡ä»¤åºåˆ—ï¼Œå¹¶æå–`delta`å€¼ï¼Œç„¶åå¾—å‡ºæ ˆå¸§å¤§å°ï¼š â€‹ ä¸Šå›¾é¦–å…ˆä»å…¨å±€å˜é‡$iè¯»å–å½“å‰çš„æ ˆæŒ‡é’ˆï¼Œç„¶åå¢åŠ æˆ–å‡å°‘å®ƒï¼ˆå–å†³äºå †æ ˆæ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹å¢é•¿ï¼Œè§ç¬¬3.2èŠ‚ï¼‰ï¼Œå¯ä»¥é€‰æ‹©å°†å®ƒä¿å­˜åˆ°ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼ˆç±»ä¼¼äºä¸€ä¸ªåŸºæœ¬æŒ‡é’ˆï¼‰ï¼Œæœ€åå°†ä¿®æ”¹åçš„å€¼å†™å›å»ã€‚ function prologueï¼šå‡½æ•°å¼€å¤´çš„å‡ è¡Œæ±‡ç¼–ä»£ç ï¼Œå®ƒä¸ºå †æ ˆå’Œå¯„å­˜å™¨åšå‡†å¤‡ï¼Œä»¥ä¾¿åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚ function epilogueï¼šå‡ºç°åœ¨å‡½æ•°çš„æœ«å°¾çš„æ±‡ç¼–ä»£ç ï¼Œå°†å †æ ˆå’Œå¯„å­˜å™¨æ¢å¤åˆ°å‡½æ•°è¢«è°ƒç”¨å‰çš„çŠ¶æ€ã€‚ 6.2.2 Results â€‹ ä¸‹å›¾æ˜¾ç¤ºäº†æ‰€æœ‰è¢«åˆ†æçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ ˆå¸§å¤§å°çš„åˆ†å¸ƒï¼ŒåŒ…æ‹¬ç›´æ–¹å›¾ï¼ˆå›¾10aï¼‰å’Œç´¯ç§¯åˆ†å¸ƒï¼ˆå›¾10bï¼‰ï¼š 1/3ï¼ˆ32,651ï¼‰çš„å‡½æ•°åœ¨unmanaged stackä¸­å­˜å‚¨æ•°æ®ï¼Œæœ€å°çš„æ ˆå¸§ä¸º16å­—èŠ‚ï¼Œç”±13620ä¸ªå‡½æ•°ï¼ˆå æ‰€æœ‰å‡½æ•°çš„14%ï¼‰åˆ†é…ï¼› æ ˆå¸§çš„å¤§å°è·¨è¶Šä»16å­—èŠ‚åˆ°1MBçš„æ•´ä¸ªèŒƒå›´ï¼Œ1MBæ˜¯æœ€å¤§çš„é™æ€stackåˆ†é…ã€‚ä»å›¾10bçš„ç´¯ç§¯åˆ†å¸ƒä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°6%ï¼ˆ6127ï¼‰çš„å‡½æ•°åœ¨unmanaged stackä¸Šåˆ†é…äº†128å­—èŠ‚æˆ–æ›´å¤šï¼Œ1.3%ï¼ˆ1232ï¼‰çš„å‡½æ•°åˆ†é…äº†è‡³å°‘1KiBï¼› æ€»çš„æ¥è¯´ï¼Œè®¸å¤šå‡½æ•°ä½¿ç”¨äº†unmanaged stackï¼Œè¿™ä¸ä»…å®¹æ˜“å—åˆ°ä»»æ„å†…å­˜å†™å…¥çš„å½±å“ï¼Œä¹Ÿå®¹æ˜“å—åˆ°ç¼“å†²åŒºæº¢å‡ºçš„å½±å“ã€‚è¿™æ„å‘³ç€ï¼Œéšç€è°ƒç”¨æ·±åº¦çš„å¢åŠ ï¼Œæ”»å‡»è€…è‡³å°‘æ‰¾åˆ°ä¸€äº›æ•°æ®è¿›è¡Œè¦†ç›–çš„æœºä¼šä¹Ÿä¼šè¿…é€Ÿå¢åŠ ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæœ‰10ä¸ªåµŒå¥—è°ƒç”¨ï¼ˆå‡è®¾å‡½æ•°åˆ†å¸ƒå‡åŒ€ï¼‰ï¼Œåœ¨unmanaged stackä¸Šä¼šæœ‰ä¸€äº›æ•°æ®çš„æ¦‚ç‡ä¸º\\(1-((1-0.33)^{10}) â‰ˆ 98.2\\%\\)ã€‚ â€‹ æˆ‘ä»¬çš„ç»“è®ºæ˜¯ï¼š â€‹ ï¼ˆ1ï¼‰Wasm ä¸­å­˜åœ¨å¤§é‡çš„stackæ•°æ®å®¹æ˜“è¢«ç¼“å†²åŒºæº¢å‡ºå’Œä»»æ„å†™åŸè¯­è¦†ç›–ï¼› â€‹ ï¼ˆ2ï¼‰åœ¨unmanaged stackä¸Šéš”ç¦»å †æ ˆå¸§æ˜¯å¾ˆé‡è¦çš„ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨canariesã€‚ 6.3 Measuring Indirect Calls and Targets â€‹ è¿™ä¸€èŠ‚å›ç­”é—®é¢˜RQ2ï¼Œåˆ†æäº†é—´æ¥è°ƒç”¨ã€‚ 6.3.1 Indirect Calls â€‹ æˆ‘ä»¬å¯¹è¡¨2ä¸­çš„æ‰€æœ‰äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œäº†åæ±‡ç¼–ï¼Œå¹¶å¯¹call_indirect æŒ‡ä»¤çš„æ•°é‡è¿›è¡Œäº†ç»Ÿè®¡ã€‚é—´æ¥è°ƒç”¨åœ¨æ‰€æœ‰è°ƒç”¨ä¸­å çš„ç™¾åˆ†æ¯”åœ¨ä¸åŒçš„ç¨‹åºä¸­å·®å¼‚å¾ˆå¤§ï¼Œå…¶åˆ†å¸ƒä»0.6%åˆ°31.3%éƒ½æœ‰ã€‚ â€‹ æˆ‘ä»¬è¿˜å‘ç°ï¼Œé—´æ¥è°ƒç”¨çš„æ¯”ä¾‹ä¸æºè¯­è¨€æ˜¯Cè¿˜æ˜¯C++æ— å…³ï¼Œä»æ‰€æœ‰26ä¸ªç¨‹åºçš„å¹³å‡å€¼æ¥çœ‹ï¼Œ9.8%çš„è°ƒç”¨æŒ‡ä»¤æ˜¯é—´æ¥è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‡ ä¹æ¯åä¸ªè°ƒç”¨éƒ½æœ‰å¯èƒ½è¢«è½¬ç§»åˆ°å…¶ä»–å‡½æ•°ä¸Šã€‚ 6.3.2 Indirectly Callable Functions â€‹ æƒ³è¦æˆåŠŸåœ°é€šè¿‡é—´æ¥è°ƒç”¨æ”¹å˜æ§åˆ¶æµï¼Œä¸ä»…éœ€è¦é—´æ¥è°ƒç”¨æŒ‡ä»¤ï¼Œè¿˜éœ€è¦æ‰¾åˆ°åˆé€‚çš„targetå‡½æ•°ï¼ˆtypeç›¸åŒï¼Œå…¶è¯¥å‡½æ•°å¿…é¡»ä½äºtableä¸­ï¼‰ã€‚ â€‹ æˆ‘ä»¬çš„é™æ€åˆ†æå·¥å…·åœ¨ç¨‹åºå¯åŠ¨æ—¶å‘ç°å“ªäº›å‡½æ•°åœ¨tableä¸­è¢«åˆå§‹åŒ–ã€‚Tableä¸­çš„æ¡ç›®ä¸èƒ½è¢«WebAssemblyç¨‹åºæœ¬èº«æ‰€æ“çºµï¼ŒåŸåˆ™ä¸Šï¼Œhostç¯å¢ƒï¼Œå¦‚æµè§ˆå™¨ä¸­çš„JavaScriptï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤æ¡ç›®ã€‚æˆ‘ä»¬æ‰‹åŠ¨éªŒè¯äº†ç”±Emscriptenç”Ÿæˆçš„JavaScriptä»£ç ä¸ä¼šä¿®æ”¹è¯¥è¡¨ï¼Œå› æ­¤å‡è®¾æˆ‘ä»¬çš„åˆ†æç²¾ç¡®åœ°æµ‹é‡äº†é—´æ¥è°ƒç”¨çš„æ½œåœ¨ç›®æ ‡ã€‚ â€‹ è¡¨2ä¸­çš„â€œIndirectly Callableâ€è¡¨æ˜äº†æœ‰å¤šå°‘å‡½æ•°åœ¨tableä¸­çš„åŒæ—¶è‡³å°‘è·Ÿä¸€ä¸ªcall_indirectæŒ‡ä»¤çš„typeç›¸å»åˆã€‚å¯é—´æ¥è°ƒç”¨çš„å‡½æ•°çš„ç™¾åˆ†æ¯”ä»5%åˆ°77.3%ä¸ç­‰ï¼Œå¹³å‡å ç¨‹åºcorpusä¸­æ‰€æœ‰å‡½æ•°çš„49.2%ã€‚ 6.2.4 Function Pointers in Memory â€‹ ä¸Šè¿°åˆ†æç»™å‡ºäº†é€šè¿‡é—´æ¥è°ƒç”¨æ¥åŠ«æŒæ§åˆ¶æµçš„â€œä¸Šé™â€ï¼Œä½†åœ¨å®è·µä¸­ï¼Œå¦‚æœä¼ é€’ç»™call_indirectçš„tableç´¢å¼•æ¥è‡ªä¸€ä¸ªå±€éƒ¨å˜é‡ã€å…¨å±€å˜é‡ã€æˆ–è€…æ˜¯ä¸€è¿ä¸²æŒ‡ä»¤è¿è¡Œçš„ç»“æœï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥é€‰æ‹©çš„ç´¢å¼•å¯èƒ½ä¼šæ›´å—é™åˆ¶ã€‚ â€‹ ä¸ºäº†æ‰¾å‡ºè¿™ç§æ”»å‡»æ–¹å¼çš„â€œä¸‹é™â€ï¼Œæˆ‘ä»¬è¿˜æµ‹é‡äº†æœ‰å¤šå°‘table indexæ˜¯ç›´æ¥ä»å†…å­˜ä¸­è¯»å–çš„ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹é—´æ¥è°ƒç”¨ä¹‹å‰çš„æŒ‡ä»¤è¿›è¡Œé™æ€åˆ†ææ¥è·å¾—è¿™ä¸ªæ•°å­—ã€‚è¡¨2ä¸­çš„\"Idx.from mem. \"åˆ—æ˜¾ç¤ºäº†ç±»å‹å…¼å®¹å’Œè¡¨å†…å‡½æ•°çš„æ•°é‡ï¼Œå…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªé—´æ¥è°ƒç”¨ç›´æ¥ä»çº¿æ€§å†…å­˜ä¸­è·å–å…¶table indexã€‚ â€‹ å¯¹äºæ¯ä¸ªè¿™æ ·çš„å‡½æ•°ï¼Œç»™å®šä¸€ä¸ªä»»æ„çš„å†™å…¥çº¿æ€§å†…å­˜çš„åŸè¯­ï¼Œä¸€ä¸ªé—´æ¥è°ƒç”¨å°±å¯ä»¥è¢«è½¬ç§»ä»¥åˆ°è¯¥å‡½æ•°ã€‚ä¹Ÿè®¸ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œè¿™ä¸ªå¯è¾¾å‡½æ•°çš„â€œä¸‹é™â€ä¸â€œä¸Šé™â€éå¸¸æ¥è¿‘ï¼š å¹³å‡æ¥è¯´ï¼Œ48.1%çš„å‡½æ•°å¯ä»¥é€šè¿‡ä»çº¿æ€§å†…å­˜ä¸­è·å–å‚æ•°çš„é—´æ¥è°ƒç”¨æ¥è¾¾åˆ°ã€‚ â€‹ æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬å¯¹é—´æ¥è°ƒç”¨ç›®æ ‡çš„åˆ†ææ˜¾ç¤ºäº†æ§åˆ¶æµåŠ«æŒæ”»å‡»çš„å·¨å¤§æ½œåŠ›ã€‚è®¸å¤šå‡½æ•°æ˜¯å¯ä»¥é—´æ¥è°ƒç”¨çš„ï¼ˆå¹³å‡49.2%ï¼‰ï¼Œè€Œä¸”å¤§å¤šæ•°å‡½æ•°å¯ä»¥é€šè¿‡ç®€å•åœ°è¦†ç›–å­˜å‚¨åœ¨çº¿æ€§å†…å­˜ä¸­çš„ç´¢å¼•æ¥è¾¾åˆ°ï¼ˆ48.1%ï¼‰ã€‚æˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œé—´æ¥å‡½æ•°è°ƒç”¨å¯¹WebAssemblyä¸­æ§åˆ¶æµçš„å®Œæ•´æ€§æ„æˆä¸¥é‡å¨èƒã€‚ â€‹ 6.4 Comparing with Existing CFI Policies â€‹ Wasmå¯¹äºé—´æ¥è°ƒç”¨çš„typeæ£€æŸ¥å¯ä»¥çœ‹åšä¸€ç§CFIï¼Œè¿™é‡Œå°†WebAssemblyçš„ç±»å‹æ£€æŸ¥ä¸æœ€å…ˆè¿›çš„æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶çš„CFIé˜²å¾¡è¿›è¡Œæ¯”è¾ƒï¼ˆRQ3ï¼‰ã€‚ 6.4.1 Equivalence Classes â€‹ æŒ‰ç…§å…ˆå‰å…³äºCFIçš„å·¥ä½œ[21]ï¼Œæˆ‘ä»¬é€šè¿‡åˆ†æä¸€ä¸ªé—´æ¥è½¬ç§»å¯èƒ½ï¼ˆæ ¹æ®CFIæœºåˆ¶ï¼‰è¢«è½¬ç§»åˆ°çš„ç›®æ ‡é›†åˆæ¥è¡¡é‡å…¶æœ‰æ•ˆæ€§ï¼Œè¿™ä¸ªé›†åˆå°±æ˜¯CFI equivalence classã€‚ä¸ºäº†è¯„ä¼°CFIé˜²å¾¡çš„æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªè¡¡é‡æ ‡å‡†ï¼š ç±»çš„æ•°é‡ï¼Œå³å­˜åœ¨å¤šå°‘ä¸ªä¸åŒçš„ç±»ï¼› ç±»çš„æ•°é‡å¦‚æœå¾ˆå°æ„å‘³ç€CFIå¯¹ç›®æ ‡çš„åŒºåˆ†å¾ˆå°ï¼Œç»™äº†æ”»å‡»è€…æ›´å¤šæ§åˆ¶æµè½¬ç§»çš„é€‰æ‹©ã€‚ ç±»çš„å¤§å°ï¼Œå³æ¯ä¸ªç±»ä¸­æœ‰å¤šå°‘ä¸ªç›®æ ‡ï¼› ç±»çš„å¤§å°å¦‚æœå¾ˆå¤§æ„å‘³ç€å¤§é‡çš„targetéƒ½å¯ä»¥ç”±ä¸€ä¸ªé—´æ¥è°ƒç”¨æŒ‡ä»¤åˆ°è¾¾ï¼Œä¹Ÿæ˜¯ä¸å®‰å…¨çš„ã€‚ â€‹ å¯¹äºWebAssemblyï¼Œæˆ‘ä»¬é€šè¿‡åˆ†æå¯é—´æ¥è°ƒç”¨çš„å‡½æ•°çš„ç±»å‹ç­¾åæ¥è¡¡é‡CFIçš„ç­‰ä»·ç±»ï¼Œå°†æ‰€æœ‰å…·æœ‰ç›¸åŒç±»å‹ç­¾åçš„å‡½æ•°åˆ†é…åˆ°ä¸€ä¸ªç­‰ä»·ç±»ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜åˆ†æäº†é—´æ¥è°ƒç”¨ä¹‹å‰çš„æŒ‡ä»¤ï¼Œä»¥ç¡®å®šå®ƒä»¬æ˜¯å¦å°†è¡¨çš„ç´¢å¼•é™åˆ¶åœ¨è¾ƒå°çš„èŒƒå›´å†…ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡æ¯”ç‰¹æ©ç ã€‚ â€‹ è¡¨2çš„æœ€åä¸€åˆ—æ˜¾ç¤ºäº†åˆ†æç»“æœï¼Œå¹³å‡æ¥è¯´ï¼Œæ¯ä¸ªç¨‹åºæœ‰62ä¸ªç­‰ä»·ç±»ï¼Œæ¯ä¸ªç±»åŒ…å«33.2ä¸ªå‡½æ•°ã€‚æœ€å¤§çš„ç­‰ä»·ç±»ï¼Œåœ¨Blenderç¨‹åºä¸­ï¼ŒåŒ…å«è¶…è¿‡5300ä¸ªå‡½æ•°ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™è¡¨æ˜æ”»å‡»è€…æœ‰å¤§é‡çš„è°ƒç”¨ç›®æ ‡å¯ä»¥é€‰æ‹©ã€‚ 6.4.2 Comparing with Native CFI Defenses â€‹ ä¸ºäº†æ­£ç¡®çœ‹å¾…å…³äºç­‰ä»·ç±»çš„ç»“æœï¼Œæˆ‘ä»¬å°†å…¶ä¸æœ¬åœ°CFIçš„ç»“æœè¿›è¡Œæ¯”è¾ƒ[21]ã€‚ â€‹ å¦‚ä¸‹å›¾11aå’Œå›¾11bä¸­çš„è¡¨æ ¼åˆ†åˆ«æ¯”è¾ƒäº†ç­‰ä»·ç±»çš„æ•°é‡å’Œå¤§å°ã€‚ä¾‹å¦‚ï¼ŒMCFI[48]å’ŒÏ€CFI[49]å°†xalancbmkçš„æ§åˆ¶æµç›®æ ‡åˆ†åˆ«åˆ’åˆ†ä¸º1534å’Œ1200ä¸ªç±»ï¼Œè€ŒWebAssemblyçš„é—´æ¥è°ƒç”¨ç›®æ ‡é™åˆ¶åªäº§ç”Ÿ77ä¸ªè¿™æ ·çš„ç±»ã€‚å…³äºç­‰ä»·ç±»çš„å¤§å°ï¼ŒWebAssemblyå¯¹omnetppå’Œxalancbmkçš„ç­‰ä»·ç±»ç‰¹åˆ«å¤§ï¼Œè€Œå¯¹å…¶ä»–ç¨‹åºçš„ç­‰ä»·ç±»å¤§å°ä¸æœ¬åœ°é˜²å¾¡ç›¸ä¼¼ã€‚ â€‹ æœ‰è¶£çš„æ˜¯ï¼Œomnetppå’Œxalancbmkæ˜¯å¤§é‡ä½¿ç”¨è™šæ‹Ÿå‡½æ•°çš„é¢å‘å¯¹è±¡ç¼–ç¨‹çš„C++ç¨‹åºã€‚æºç çº§çš„ç±»å‹ä¿¡æ¯ï¼Œä¾‹å¦‚å…³äºç±»çš„å±‚æ¬¡ç»“æ„ï¼Œå¯ä»¥å¸®åŠ©åŸºäºç¼–è¯‘å™¨çš„CFIæ–¹æ³•è¯†åˆ«æ›´ç²¾ç¡®çš„ï¼Œä»è€Œé™åˆ¶çš„ç­‰ä»·ç±»ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒWebAssemblyçš„ç±»å‹æ£€æŸ¥åªæœ‰å››ç§ä½çº§åŸå§‹ç±»å‹ï¼ˆç»„åˆï¼‰æ¥å¤„ç†ï¼Œè¿™å¯èƒ½è§£é‡Šäº†ä¸æœ¬åœ°æ–¹æ¡ˆçš„æ˜æ˜¾åŒºåˆ«ã€‚ â€‹ æ€»çš„æ¥è¯´ï¼ŒWebAssemblyçš„ç±»å‹æ£€æŸ¥å¾€å¾€ä¸å¦‚æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶çš„ç°ä»£CFIé˜²å¾¡æªæ–½æœ‰æ•ˆã€‚å°½ç®¡ä¸æ²¡æœ‰ä»»ä½•CFIé˜²å¾¡æªæ–½ç›¸æ¯”ï¼Œç±»å‹æ£€æŸ¥çš„é—´æ¥è°ƒç”¨å½“ç„¶æ˜¯ä¸€ä¸ªè¿›æ­¥ï¼Œä½†é€‚åº”æ›´å¤æ‚çš„CFIé˜²å¾¡æªæ–½å¯ä»¥å¤§å¤§åŠ å¼ºç›®å‰ç”Ÿäº§çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼ŒClangçš„CFIæ–¹æ¡ˆä½¿ç”¨æºç çº§ä¿¡æ¯ï¼Œåœ¨ç¼–è¯‘æˆWebAssemblyæ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’-fsanitize=cfiæ¥ä½¿ç”¨ã€‚ 7. å…³äºç¼“è§£æªæ–½çš„è®¨è®º â€‹ ä¸‹é¢è®¨è®ºäº†å‡ ç§å¯ä»¥å‡»è´¥æœ¬æ–‡æå‡ºçš„æ”»å‡»çš„ç¼“è§£æªæ–½ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡ä¿®æ”¹è¯­è¨€è§„èŒƒã€æ›´æ–°ç¼–è¯‘å™¨ï¼Œæˆ–è€…ç”±åº”ç”¨ç¨‹åºå’Œåº“çš„å¼€å‘è€…æ¥å®ç°ã€‚ 7.1 WebAssembly Language â€‹ ä¸€äº›å…³äºæ‰©å±•æ ¸å¿ƒWebAssemblyè¯­è¨€çš„å»ºè®®å¯ä»¥è§£å†³æˆ‘ä»¬çš„ä¸€äº›æ”»å‡»åŸè¯­ã€‚ å¤šå­˜å‚¨å™¨æ–¹æ¡ˆ[54]ç»™äº†ä¸€ä¸ªæ¨¡å—æ‹¥æœ‰å¤šä¸ªçº¿æ€§å†…å­˜çš„é€‰æ‹©ã€‚åœ¨è¯¥æè®®ä¸‹ï¼Œå†…å­˜æ“ä½œé™æ€åœ°ç¼–ç å®ƒä»¬æ“ä½œçš„å†…å­˜ï¼Œä¾‹å¦‚ï¼Œi32.load $mem2æŒ‡ä»¤åªèƒ½ä»å†…å­˜2åŠ è½½æ•°æ®ã€‚å¤šä¸ªå†…å­˜å°†ä½¿å †æ ˆã€å †å’Œå¸¸é‡æ•°æ®åˆ†ç¦»ã€‚å› æ­¤ï¼Œä¸€ä¸ªå†…å­˜éƒ¨åˆ†çš„æº¢å‡ºå°†ä¸å†å½±å“å¦ä¸€ä¸ªå†…å­˜çš„æ•°æ®ã€‚ å¦å¤–ï¼ŒæŒ‡å‘heapçš„æŒ‡é’ˆä¸èƒ½å†è¢«ä¼ªé€ æˆæŒ‡å‘stackï¼Œåä¹‹äº¦ç„¶ã€‚æœ€åï¼Œå¦‚æœç¼–è¯‘å™¨åªå¯¹ä¸€ä¸ªç‰¹å®šçš„å†…å­˜åŒºå‘å‡ºåŠ è½½æŒ‡ä»¤ï¼Œå®ƒå°±ä¼šå˜æˆæœ‰æ•ˆçš„åªè¯»åŒºåŸŸï¼Œå› ä¸ºå¯¹å…¶ä»–å†…å­˜çš„å­˜å‚¨ä¸èƒ½ä¿®æ”¹å®ƒï¼Œè¿™å°†é˜²æ­¢å¯¹å¸¸é‡çš„ä¿®æ”¹ã€‚è¿™ä¸ªå»ºè®®çš„ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ï¼Œå¯¹å¤šä¸ªå†…å­˜è¿›è¡Œç¼–è¯‘å¹¶ä¸ç®€å•ã€‚ç”±äºå†…å­˜è®¿é—®è¢«é™æ€åœ°é™åˆ¶åœ¨æŸä¸ªå†…å­˜ä¸­ï¼Œå¿…é¡»å¤„ç†ä¸åŒåŒºåŸŸæŒ‡é’ˆçš„ä»£ç å¿…é¡»åœ¨å†…å­˜ä¹‹é—´é‡å¤æˆ–æ˜ç¡®åœ°å¤åˆ¶å¯¹è±¡ã€‚ å‚è€ƒç±»å‹æ–¹æ¡ˆ[55]å…è®¸æ¨¡å—æœ‰å¤šä¸ªè¡¨ç”¨äºé—´æ¥è°ƒç”¨ã€‚æˆ‘ä»¬çš„è°ƒç”¨é‡å®šå‘æ”»å‡»ä¹‹æ‰€ä»¥å¼ºå¤§ï¼Œåªæ˜¯å› ä¸ºç›®å‰æ‰€æœ‰å¯é—´æ¥è°ƒç”¨çš„å‡½æ•°éƒ½åœ¨åŒä¸€ä¸ªè¡¨ä¸­ã€‚å¤šä¸ªtableå¯ä»¥å®ç°æ›´ç»†åŒ–çš„é˜²å¾¡ï¼Œä¸€ç§é€‰æ‹©æ˜¯å®šä¹‰ä¸åŒçš„ä¿æŠ¤åŸŸï¼Œä¾‹å¦‚ï¼Œæ¯ä¸ªé™æ€é“¾æ¥åº“ä¸€ä¸ªï¼Œå¹¶ä¸ºæ¯ä¸ªä¿æŠ¤åŸŸä¿ç•™ä¸€ä¸ªå•ç‹¬çš„è¡¨ï¼›å¦ä¸€ä¸ªé€‰æ‹©æ˜¯å°†è°ƒç”¨ç›®æ ‡åˆ†æˆç­‰ä»·ç±»ï¼Œç±»ä¼¼äºç°æœ‰çš„æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶çš„CFIæŠ€æœ¯ï¼Œå¹¶ä¸ºæ¯ä¸ªç­‰ä»·ç±»ä¿ç•™ä¸€ä¸ªå•ç‹¬çš„è¡¨ã€‚ MS-Wasmæ–¹æ¡ˆ[26]æ˜ç¡®åœ°é’ˆå¯¹å†…å­˜å®‰å…¨ï¼Œå®ƒå»ºè®®åœ¨WebAssemblyä¸­å¢åŠ æ‰€è°“çš„æ®µï¼ˆsegmentï¼‰ï¼Œå³å…·æœ‰å®šä¹‰çš„å¤§å°å’Œå¯¿å‘½çš„å†…å­˜åŒºåŸŸã€‚è¿›å…¥è¿™äº›æ®µçš„å¤„ç†ç¨‹åºè¢«æå‡ä¸ºç¬¬ä¸€ç±»ç±»å‹ï¼Œæœ‰è‡ªå·±çš„åˆ†é…å’Œåˆ†ç‰‡æ“ä½œï¼Œè¿™éœ€è¦ä¸»æœºçš„ä¸€äº›å®ç°å·¥ä½œï¼Œé™¤éæä¾›å†…å­˜å®‰å…¨çš„ç¡¬ä»¶æ”¯æŒï¼Œå¦åˆ™å¯èƒ½ä¼šäº§ç”Ÿæ€§èƒ½å¼€é”€ã€‚ 7.2 Compilers and Tooling â€‹ é˜²æ­¢æˆ‘ä»¬è®¸å¤šæ”»å‡»åŸè¯­çš„æœ€ç®€å•æ–¹æ³•æ˜¯å¯¹ç¼–è¯‘å™¨æ’æ¡©ï¼Œä½¿ç¼–è¯‘å™¨ã€é“¾æ¥å™¨å’Œåˆ†é…å™¨æ”¯æŒå·²ç»ä¸ºæœ¬åœ°ç¼–è¯‘ç›®æ ‡æä¾›çš„å®‰å…¨åŠŸèƒ½ã€‚å‡ åå¹´æ¥å¯¹äºŒè¿›åˆ¶å®‰å…¨çš„ç ”ç©¶[61]å·²ç»äº§ç”Ÿäº†ä¸€äº›å¯ä»¥åº”ç”¨äºWebAssemblyçš„ç¼“è§£æªæ–½ã€‚æœ‰åˆ©äº WebAssembly ç¼–è¯‘å™¨çš„ä¾‹å­æ˜¯ç±»ä¼¼ FORTIFY_SOURCE çš„ä»£ç é‡å†™ã€å †æ ˆcanariesã€CFI é˜²å¾¡å’Œå†…å­˜åˆ†é…å™¨ä¸­çš„å®‰å…¨unlinkã€‚ç‰¹åˆ«æ˜¯å¯¹äºå †æ ˆcanarieså’Œoverwirteé€šå¸¸è¢«åˆ©ç”¨çš„Cè¯­è¨€å­—ç¬¦ä¸²å‡½æ•°ï¼Œæˆ‘ä»¬è®¤ä¸ºåœ¨éƒ¨ç½²ä¸Šæ²¡æœ‰åŸåˆ™æ€§çš„éšœç¢ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒä»¬èƒ½åœ¨æœªæ¥è¢«ç¼–è¯‘å™¨å®ç°ï¼Œå› ä¸ºå®ƒä»¬èƒ½ä»¥ç›¸å¯¹è¾ƒå°‘çš„å˜åŒ–ç»™ç”Ÿæ€ç³»ç»Ÿå¸¦æ¥è‰¯å¥½çš„å®‰å…¨æ•ˆç›Šï¼Œè€Œä¸åƒè¯­è¨€å˜åŒ–é‚£æ ·ã€‚ â€‹ ç¼–è¯‘å™¨ä¸­çš„ä¸€ä¸ªè¾ƒé•¿æœŸçš„ç¼“è§£æªæ–½æ˜¯ä½¿ç”¨ä¸Šé¢è®¨è®ºçš„WebAssemblyè¯­è¨€æ‰©å±•ï¼Œä¸€æ—¦å®ƒä»¬å¯ç”¨ã€‚ä¾‹å¦‚ï¼Œå½“æŠŠC/C++ç¼–è¯‘æˆWebAssemblyæ—¶ï¼Œå¤šä¸ªå†…å­˜å¯ä»¥æ¨¡ä»¿æœ¬åœ°ä»£ç ä¸­é¡µé¢ä¿æŠ¤æ‰€æä¾›çš„ä¸€äº›å®‰å…¨åŠŸèƒ½ã€‚ 7.3 Application and Library Developers â€‹ WebAssemblyåº”ç”¨ç¨‹åºçš„å¼€å‘è€…å¯ä»¥é€šè¿‡å°½å¯èƒ½å°‘åœ°ä½¿ç”¨ \"ä¸å®‰å…¨ \"è¯­è¨€ï¼ˆå¦‚Cï¼‰çš„ä»£ç æ¥é™ä½é£é™©ã€‚ä¸ºäº†å‡å°‘æ”»å‡»é¢ï¼Œå¼€å‘è€…è¿˜åº”è¯¥ç¡®ä¿åªä»ä¸»æœºç¯å¢ƒä¸­å¯¼å…¥é‚£äº›ç»å¯¹å¿…è¦çš„APIã€‚ä¾‹å¦‚ï¼Œè°ƒç”¨å…³é”®çš„ä¸»æœºå‡½æ•°ï¼Œå¦‚evalæˆ–execæ˜¯ä¸å¯èƒ½çš„ï¼Œé™¤éè¿™äº›å‡½æ•°åœ¨WebAssemblyæ¨¡å—ä¸­è¢«å¯¼å…¥ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)Fuzzm-Finding Memory Bugs through Binary-Only Instrumentation and Fuzzing of WebAssembly","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Fuzzm-Finding-Memory-Bugs-through-Binary-Only-Instrumentation-and-Fuzzing-of-WebAssembly","date":"2023-07-04T03:06:36.336Z","updated":"2023-07-04T03:35:30.593Z","comments":true,"path":"2023/07/04/ã€è®ºæ–‡é˜…è¯»ã€‘Fuzzm-Finding-Memory-Bugs-through-Binary-Only-Instrumentation-and-Fuzzing-of-WebAssembly/","link":"","permalink":"http://example.com/2023/07/04/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Fuzzm-Finding-Memory-Bugs-through-Binary-Only-Instrumentation-and-Fuzzing-of-WebAssembly/","excerpt":"Fuzzm: Finding Memory Bugs through Binary-Only Instrumentation and Fuzzing of WebAssembly æ—¶é—´ï¼š2021 ä½œè€…ï¼šDaniel Lehmannï¼ˆå¾·å›½æ–¯å›¾åŠ ç‰¹å¤§å­¦ï¼‰ï¼ŒMartin Toldam Torpï¼ˆä¸¹éº¦å¥¥èƒ¡æ–¯å¤§å­¦ï¼‰ Abstract â€‹ WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶é€šå¸¸æ˜¯ç”±å†…å­˜ä¸å®‰å…¨çš„è¯­è¨€ï¼Œå¦‚Cå’ŒC++ç¼–è¯‘è€Œæˆã€‚ç”±äºWebAssemblyçš„çº¿æ€§å†…å­˜å’Œç¼ºå¤±çš„ä¿æŠ¤åŠŸèƒ½ï¼Œä¾‹å¦‚å †æ ˆcanariesï¼Œæºç çº§çš„å†…å­˜æ¼æ´åœ¨ç¼–è¯‘çš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ˜¯å¯ä»¥åˆ©ç”¨çš„ï¼Œæœ‰æ—¶ç”šè‡³æ¯”æœ¬åœ°ä»£ç æ›´å®¹æ˜“ã€‚ â€‹ æœ¬æ–‡é€šè¿‡ç¬¬ä¸€ä¸ªåªé’ˆå¯¹WebAssemblyçš„äºŒè¿›åˆ¶fuzzeræ¥è§£å†³æ£€æµ‹æ­¤ç±»æ¼æ´çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„æ–¹æ³•è¢«ç§°ä¸ºFuzzmï¼Œå®ƒç»“åˆäº†æ£€æµ‹å †æ ˆå’Œå †çš„æº¢å‡ºçš„canariesæ’æ¡©ã€æœ‰æ•ˆçš„ä»£ç è¦†ç›–ç‡æ’æ¡©ã€WebAssemblyè™šæ‹Ÿæœºå’Œä¸€ä¸ªæµè¡Œçš„AFL fuzzerçš„è¾“å…¥ç”Ÿæˆç®—æ³•ã€‚é™¤äº†ä½œä¸ºfuzzerçš„oracleï¼Œæˆ‘ä»¬çš„canaryè¿˜å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„äºŒè¿›åˆ¶åŠ å›ºæŠ€æœ¯ï¼Œä»¥é˜²æ­¢ç”Ÿäº§ä¸­çš„è„†å¼±äºŒè¿›åˆ¶æ–‡ä»¶è¢«åˆ©ç”¨ã€‚ â€‹ æˆ‘ä»¬ç”¨28ä¸ªçœŸå®ä¸–ç•Œçš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶æ¥è¯„ä¼°Fuzzmï¼Œå…¶ä¸­ä¸€äº›æ˜¯ä»æºä»£ç ç¼–è¯‘çš„ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯åœ¨é‡å¤–å‘ç°çš„ï¼Œæ²¡æœ‰æºä»£ç ã€‚è¯¥fuzzeræ¢ç´¢äº†æ•°ä»¥åƒè®¡çš„æ‰§è¡Œè·¯å¾„ï¼Œè§¦å‘äº†å‡ åæ¬¡å´©æºƒï¼Œæ¯ç§’æ‰§è¡Œæ•°ç™¾æ¬¡ç¨‹åºæ‰§è¡Œã€‚å½“ç”¨äºäºŒè¿›åˆ¶åŠ å›ºæ—¶ï¼Œè¯¥æ–¹æ³•å¯ä»¥é˜²æ­¢å…ˆå‰å…¬å¸ƒçš„é’ˆå¯¹è„†å¼±çš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶çš„æ¼æ´ï¼ŒåŒæ—¶æ–½åŠ è¾ƒä½çš„è¿è¡Œæ—¶é—´å¼€é”€ã€‚","text":"Fuzzm: Finding Memory Bugs through Binary-Only Instrumentation and Fuzzing of WebAssembly æ—¶é—´ï¼š2021 ä½œè€…ï¼šDaniel Lehmannï¼ˆå¾·å›½æ–¯å›¾åŠ ç‰¹å¤§å­¦ï¼‰ï¼ŒMartin Toldam Torpï¼ˆä¸¹éº¦å¥¥èƒ¡æ–¯å¤§å­¦ï¼‰ Abstract â€‹ WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶é€šå¸¸æ˜¯ç”±å†…å­˜ä¸å®‰å…¨çš„è¯­è¨€ï¼Œå¦‚Cå’ŒC++ç¼–è¯‘è€Œæˆã€‚ç”±äºWebAssemblyçš„çº¿æ€§å†…å­˜å’Œç¼ºå¤±çš„ä¿æŠ¤åŠŸèƒ½ï¼Œä¾‹å¦‚å †æ ˆcanariesï¼Œæºç çº§çš„å†…å­˜æ¼æ´åœ¨ç¼–è¯‘çš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ˜¯å¯ä»¥åˆ©ç”¨çš„ï¼Œæœ‰æ—¶ç”šè‡³æ¯”æœ¬åœ°ä»£ç æ›´å®¹æ˜“ã€‚ â€‹ æœ¬æ–‡é€šè¿‡ç¬¬ä¸€ä¸ªåªé’ˆå¯¹WebAssemblyçš„äºŒè¿›åˆ¶fuzzeræ¥è§£å†³æ£€æµ‹æ­¤ç±»æ¼æ´çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„æ–¹æ³•è¢«ç§°ä¸ºFuzzmï¼Œå®ƒç»“åˆäº†æ£€æµ‹å †æ ˆå’Œå †çš„æº¢å‡ºçš„canariesæ’æ¡©ã€æœ‰æ•ˆçš„ä»£ç è¦†ç›–ç‡æ’æ¡©ã€WebAssemblyè™šæ‹Ÿæœºå’Œä¸€ä¸ªæµè¡Œçš„AFL fuzzerçš„è¾“å…¥ç”Ÿæˆç®—æ³•ã€‚é™¤äº†ä½œä¸ºfuzzerçš„oracleï¼Œæˆ‘ä»¬çš„canaryè¿˜å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„äºŒè¿›åˆ¶åŠ å›ºæŠ€æœ¯ï¼Œä»¥é˜²æ­¢ç”Ÿäº§ä¸­çš„è„†å¼±äºŒè¿›åˆ¶æ–‡ä»¶è¢«åˆ©ç”¨ã€‚ â€‹ æˆ‘ä»¬ç”¨28ä¸ªçœŸå®ä¸–ç•Œçš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶æ¥è¯„ä¼°Fuzzmï¼Œå…¶ä¸­ä¸€äº›æ˜¯ä»æºä»£ç ç¼–è¯‘çš„ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯åœ¨é‡å¤–å‘ç°çš„ï¼Œæ²¡æœ‰æºä»£ç ã€‚è¯¥fuzzeræ¢ç´¢äº†æ•°ä»¥åƒè®¡çš„æ‰§è¡Œè·¯å¾„ï¼Œè§¦å‘äº†å‡ åæ¬¡å´©æºƒï¼Œæ¯ç§’æ‰§è¡Œæ•°ç™¾æ¬¡ç¨‹åºæ‰§è¡Œã€‚å½“ç”¨äºäºŒè¿›åˆ¶åŠ å›ºæ—¶ï¼Œè¯¥æ–¹æ³•å¯ä»¥é˜²æ­¢å…ˆå‰å…¬å¸ƒçš„é’ˆå¯¹è„†å¼±çš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶çš„æ¼æ´ï¼ŒåŒæ—¶æ–½åŠ è¾ƒä½çš„è¿è¡Œæ—¶é—´å¼€é”€ã€‚ é—®é¢˜èƒŒæ™¯ â€‹ è´¡çŒ® â€‹ æ¨¡å‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)WAFL- Binary-Only WebAssembly Fuzzing with Fast Snapshots Oracle for WebAssembly","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘WAFL--Binary-Only-WebAssembly-Fuzzing-with-Fast-Snapshots-Oracle-for-WebAssembly","date":"2023-07-03T13:29:58.410Z","updated":"2023-07-28T07:24:13.044Z","comments":true,"path":"2023/07/03/ã€è®ºæ–‡é˜…è¯»ã€‘WAFL--Binary-Only-WebAssembly-Fuzzing-with-Fast-Snapshots-Oracle-for-WebAssembly/","link":"","permalink":"http://example.com/2023/07/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91WAFL--Binary-Only-WebAssembly-Fuzzing-with-Fast-Snapshots-Oracle-for-WebAssembly/","excerpt":"WAFL: Binary-Only WebAssembly Fuzzing with Fast Snapshots æ—¶é—´ï¼š2021 ä½œè€…ï¼šKeno HaÃŸlerï¼ŒDominik Maierï¼ˆæŸæ—å·¥ä¸šå¤§å­¦ï¼‰ æœŸåˆŠï¼šROOTSâ€™21 Abstract â€‹ WebAssembly æ˜¯ä¸€ç§ç”¨äºäºŒè¿›åˆ¶ä»£ç çš„å¼€æ”¾æ ‡å‡†ï¼Œæ­£åœ¨è¿…é€Ÿåœ¨ç½‘ç»œå’Œå…¶ä»–é¢†åŸŸå¾—åˆ°åº”ç”¨ã€‚ç”±äºè¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶é€šå¸¸æ˜¯ç”¨ä½çº§è¯­è¨€ï¼ˆå¦‚Cå’ŒC++ï¼‰ç¼–å†™çš„ï¼Œå®ƒä»¬å¯èƒ½å­˜åœ¨ä¸ä¼ ç»Ÿå¯¹åº”ç‰©ç›¸åŒçš„é”™è¯¯ã€‚ç›®å‰å­˜åœ¨ç€å¾ˆå°‘çš„å·¥å…·å¯ä»¥ç”¨äºå‘ç°è¿™äº› WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„é”™è¯¯ã€‚ â€‹ WAFL åœ¨ WAVMï¼ˆWebAssembly è™šæ‹Ÿæœºï¼‰ä¸­æ·»åŠ äº†ä¸€ç»„è¡¥ä¸ï¼Œä»¥ç”Ÿæˆç”¨äºæµè¡Œçš„ AFL++ æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„è¦†ç›–ç‡æ•°æ®ã€‚å€ŸåŠ©äºæå‰ç¼–è¯‘ï¼ˆAOTï¼‰çš„ WAVMï¼ŒWAFL çš„æ€§èƒ½å·²ç»éå¸¸é«˜æ•ˆã€‚WAFL è¿˜æ·»åŠ äº†è½»é‡çº§çš„è™šæ‹Ÿæœºå¿«ç…§ï¼Œé€šè¿‡ç”¨ WAFL çš„å¿«ç…§æ›¿æ¢ä¼ ç»Ÿä¸Šåœ¨ AFL++ æµ‹è¯•ä¸­ä½¿ç”¨çš„forkå‡½æ•°ï¼ŒWAFL çš„æµ‹è¯•å¯ä»¥åœ¨åŸå§‹æ¨¡ç³Šæµ‹è¯•æ€§èƒ½æ–¹é¢ç”šè‡³è¶…è¿‡å…·æœ‰ç¼–è¯‘æ—¶æ’æ¡©çš„æœ¬æœºæµ‹è¯•ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼ŒWAFL æ˜¯é¦–ä¸ªç”¨äºä»…é™äºŒè¿›åˆ¶ WebAssembly çš„è¦†ç›–ç‡å¼•å¯¼æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œè€Œæ— éœ€æºä»£ç ã€‚ â€‹ æ€»ç»“æ¥è¯´ï¼ŒWAFL æ˜¯ä¸€ç§ç”¨äºå¯¹ WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œæ¨¡ç³Šæµ‹è¯•çš„å·¥å…·ï¼Œé€šè¿‡åœ¨ WAVM ä¸­æ·»åŠ è¡¥ä¸å’Œè½»é‡çº§è™šæ‹Ÿæœºå¿«ç…§ï¼Œæä¾›äº†é«˜æ•ˆçš„è¦†ç›–ç‡å¼•å¯¼æ¨¡ç³Šæµ‹è¯•èƒ½åŠ›ã€‚","text":"WAFL: Binary-Only WebAssembly Fuzzing with Fast Snapshots æ—¶é—´ï¼š2021 ä½œè€…ï¼šKeno HaÃŸlerï¼ŒDominik Maierï¼ˆæŸæ—å·¥ä¸šå¤§å­¦ï¼‰ æœŸåˆŠï¼šROOTSâ€™21 Abstract â€‹ WebAssembly æ˜¯ä¸€ç§ç”¨äºäºŒè¿›åˆ¶ä»£ç çš„å¼€æ”¾æ ‡å‡†ï¼Œæ­£åœ¨è¿…é€Ÿåœ¨ç½‘ç»œå’Œå…¶ä»–é¢†åŸŸå¾—åˆ°åº”ç”¨ã€‚ç”±äºè¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶é€šå¸¸æ˜¯ç”¨ä½çº§è¯­è¨€ï¼ˆå¦‚Cå’ŒC++ï¼‰ç¼–å†™çš„ï¼Œå®ƒä»¬å¯èƒ½å­˜åœ¨ä¸ä¼ ç»Ÿå¯¹åº”ç‰©ç›¸åŒçš„é”™è¯¯ã€‚ç›®å‰å­˜åœ¨ç€å¾ˆå°‘çš„å·¥å…·å¯ä»¥ç”¨äºå‘ç°è¿™äº› WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„é”™è¯¯ã€‚ â€‹ WAFL åœ¨ WAVMï¼ˆWebAssembly è™šæ‹Ÿæœºï¼‰ä¸­æ·»åŠ äº†ä¸€ç»„è¡¥ä¸ï¼Œä»¥ç”Ÿæˆç”¨äºæµè¡Œçš„ AFL++ æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„è¦†ç›–ç‡æ•°æ®ã€‚å€ŸåŠ©äºæå‰ç¼–è¯‘ï¼ˆAOTï¼‰çš„ WAVMï¼ŒWAFL çš„æ€§èƒ½å·²ç»éå¸¸é«˜æ•ˆã€‚WAFL è¿˜æ·»åŠ äº†è½»é‡çº§çš„è™šæ‹Ÿæœºå¿«ç…§ï¼Œé€šè¿‡ç”¨ WAFL çš„å¿«ç…§æ›¿æ¢ä¼ ç»Ÿä¸Šåœ¨ AFL++ æµ‹è¯•ä¸­ä½¿ç”¨çš„forkå‡½æ•°ï¼ŒWAFL çš„æµ‹è¯•å¯ä»¥åœ¨åŸå§‹æ¨¡ç³Šæµ‹è¯•æ€§èƒ½æ–¹é¢ç”šè‡³è¶…è¿‡å…·æœ‰ç¼–è¯‘æ—¶æ’æ¡©çš„æœ¬æœºæµ‹è¯•ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼ŒWAFL æ˜¯é¦–ä¸ªç”¨äºä»…é™äºŒè¿›åˆ¶ WebAssembly çš„è¦†ç›–ç‡å¼•å¯¼æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œè€Œæ— éœ€æºä»£ç ã€‚ â€‹ æ€»ç»“æ¥è¯´ï¼ŒWAFL æ˜¯ä¸€ç§ç”¨äºå¯¹ WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œæ¨¡ç³Šæµ‹è¯•çš„å·¥å…·ï¼Œé€šè¿‡åœ¨ WAVM ä¸­æ·»åŠ è¡¥ä¸å’Œè½»é‡çº§è™šæ‹Ÿæœºå¿«ç…§ï¼Œæä¾›äº†é«˜æ•ˆçš„è¦†ç›–ç‡å¼•å¯¼æ¨¡ç³Šæµ‹è¯•èƒ½åŠ›ã€‚ é—®é¢˜èƒŒæ™¯ â€‹ éšç€Webçš„å‘å±•ï¼Œè¿›ä¸€æ­¥æ¨è¿›å¯ç§»æ¤æ€§çš„æƒ³æ³•ï¼Œå¼€æ”¾çš„WASIæ ‡å‡† [4] å…è®¸ç‹¬ç«‹çš„WebAssemblyç¨‹åºç”šè‡³åœ¨æµè§ˆå™¨ä¹‹å¤–è¿è¡Œã€‚å…¶ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªçœŸæ­£é€šç”¨çš„äºŒè¿›åˆ¶å¹³å°ï¼Œè™½ç„¶å›´ç»•WASIçš„åŸºç¡€è®¾æ–½è¿˜å¾ˆç¨šå«©ï¼Œä½†å·²ç»å¼€å§‹é€æ¸å¢é•¿ã€‚ä¾‹å¦‚WebAssemblyè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼ˆwapmï¼‰ [23]ï¼Œä½¿ç”¨wapmï¼Œç”¨æˆ·å¯ä»¥ä¸‹è½½åœ¨WebAssemblyç³»ç»Ÿæ¥å£ï¼ˆWASIï¼‰å¯ç”¨çš„è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä»¥WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶å½¢å¼åˆ†å‘çš„ç¨‹åºå¯ä»¥åœ¨æ¯ä¸ªå¯ç”¨è¿è¡Œæ—¶çš„å¹³å°ä¸Šè¿è¡Œã€‚ â€‹ ç”±äºWebAssemblyæ˜¯åƒå…¶ä»–ç¼–è¯‘ç›®æ ‡ä¸€æ ·çš„ç¼–è¯‘ç›®æ ‡ï¼Œå› æ­¤ä¸å®‰å…¨æºè¯­è¨€ï¼ˆå¦‚Cï¼‰ä¸­çš„å†…å­˜æ¼æ´ä¼šè¢«è½¬åŒ–ä¸ºWebAssemblyï¼Œå¹¶ä¸”ä»ç„¶å­˜åœ¨æ½œåœ¨çš„æ¼æ´ã€‚è™½ç„¶è¯¥å¹³å°åœ¨å¼€å‘æ—¶è€ƒè™‘äº†å®‰å…¨æ€§å¹¶æ”¯æŒäº†ä¸€äº›ç°ä»£çš„ç¼“è§£æªæ–½ï¼Œå…¶ä»å¯èƒ½å­˜åœ¨å¯åˆ©ç”¨çš„bugï¼Œå¹¶å¯¼è‡´æ¶æ„ä»£ç æ‰§è¡Œ[9]ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç”¨äºå‘ç°WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å†…å­˜ç ´åçš„å·¥å…·è¿˜å¾ˆæœ‰é™ã€‚ â€‹ AFLåœ¨å¯¹æœ‰å¯ç”¨æºä»£ç çš„ç¨‹åºä½¿ç”¨ç°æœ‰ç¼–è¯‘å™¨çš„åŒ…è£…å™¨ afl-cc è¿›è¡Œæ’æ¡©ï¼Œè¯¥å·¥å…·å‘gccæˆ–clangæ³¨å…¥æ‰€éœ€çš„passã€‚AFL++ä¸­åŒ…å«çš„InsTrim pass[6]é€šè¿‡åˆ†æcfgæ¥æé«˜æ’æ¡©é€Ÿåº¦ï¼Œå®ƒåªæ ‡è®°äº†åŒºåˆ†è·¯å¾„æ‰€éœ€çš„ä¸€ä¸ªå—çš„å­é›†ï¼ˆæ ¹æ®ä½œè€…çš„è¯´æ³•ï¼Œå¤§çº¦20%ï¼‰ã€‚ä½œä¸ºInsTrimä¸­ä½¿ç”¨çš„å—IDæ•£åˆ—æŠ€æœ¯å’Œä¼ ç»Ÿçš„afl-clangé€šé“çš„ä¸€ä¸ªç¼ºç‚¹ï¼Œå½“éœ€è¦æ’æ¡©çš„åŸºæœ¬å—çš„æ•°é‡å¢åŠ æ—¶ï¼Œè¿™äº›ç®—æ³•å¾ˆå¯èƒ½äº§ç”Ÿå“ˆå¸Œç¢°æ’ã€‚ â€‹ LLVMçš„SanitizerCoverage[21] passé‡‡å–äº†ä¸€ç§æ›´å¤æ‚çš„æ–¹æ³•ã€‚å®ƒä¸ºæ¯ä¸ªè¾¹åˆ†é…äº†ä¸€ä¸ªé˜²æŠ¤å˜é‡ï¼ˆguard variableï¼‰ï¼Œå¹¶æ’å…¥äº†ä¸€ä¸ªä½¿ç”¨è¯¥å˜é‡ä½œä¸ºå‚æ•°çš„å›è°ƒå‡½æ•°ã€‚guardçš„åˆå§‹åŒ–æ˜¯åœ¨ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤æ¯ä¸ªguardéƒ½å¯ä»¥è¢«è®¾ç½®ä¸ºä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ï¼Œä»è€Œä½¿å…¶å“ˆå¸Œå€¼å˜å¾—è¿‡æ—¶ã€‚AFL++ä½¿ç”¨è¿™ä¸ªpassä½œä¸ºé»˜è®¤passã€‚ â€‹ æœ¬å·¥ä½œé’ˆå¯¹ä¸¤ä¸ªfully-featured wasm runtimeï¼šWAVM å’Œ wasm3ã€‚ è´¡çŒ® â€‹ åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†WAFLï¼Œä¸€ç§ç”¨äº WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶çš„é«˜ååé‡fuzzingå·¥å…·ã€‚WAFL ä½¿ç”¨äº†è‘—åçš„ AFL++ æ¨¡ç³Šæµ‹è¯•å·¥å…·è¿›è¡Œè¾“å…¥ç”Ÿæˆï¼Œå¹¶åˆ©ç”¨è½»é‡çº§è™šæ‹Ÿæœºå¿«ç…§æ¥æé«˜æ€§èƒ½ã€‚åŸºäº WebAssembly è™šæ‹Ÿæœºï¼ˆWAVMï¼‰çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ²¡æœ‰æºä»£ç çš„æƒ…å†µä¸‹å¯¹ WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œfuzzingã€‚æˆ‘ä»¬è¯„ä¼°äº†å…¶fuzzingé€Ÿåº¦ï¼Œå¹¶å±•ç¤ºäº†ç”±äºå…¶å¿«ç…§æœºåˆ¶ï¼ŒWAFL ç”šè‡³åœ¨ x86-64 å¹³å°ä¸Šçš„æ€§èƒ½è¶…è¿‡äº†ä»æºä»£ç ç¼–è¯‘çš„ç®€å•æµ‹è¯•ç”¨ä¾‹ã€‚ æˆ‘ä»¬å¼€å‘äº†WAFLï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æºçš„ã€é’ˆå¯¹çº¯äºŒè¿›åˆ¶æ–‡ä»¶çš„WebAssembly fuzzerï¼› æˆ‘ä»¬åœ¨åŸºäºwasm3çš„åˆå§‹å®ç°çš„åŸºç¡€ä¸Šå®ç°äº†å¤šç§æ”¹è¿›ï¼Œå¹¶è¿›è¡Œäº†åŸºå‡†ï¼ˆbenchmarkï¼‰æµ‹è¯•ï¼› åœ¨å…¶æœ€ç»ˆå½¢å¼ä¸­ï¼ŒAOTç¼–è¯‘ã€åŸºäºWAVMçš„å¿«ç…§fuzzerç”šè‡³è¶…è¿‡äº†ä¼ ç»Ÿçš„ç¼–è¯‘ã€ä½¿ç”¨æ…¢é€Ÿforkç³»ç»Ÿè°ƒç”¨çš„æœ¬åœ°ä»£ç AFLã€‚ æ¨¡å‹ 1. æ‰§è¡Œ â€‹ åœ¨AFL++æœ¯è¯­ä¸­ï¼Œpersistent mode[2]æ„å‘³ç€åœ¨å¤šæ¬¡è¿­ä»£ä¸­é‡å¤ä½¿ç”¨ä¸€ä¸ªå­è¿›ç¨‹ã€‚å®ƒå…è®¸é€šè¿‡åœ¨å­è¿›ç¨‹ä¸­çš„ç›¸å…³ä»£ç åŒºåŸŸè¿›è¡Œå¾ªç¯æ¥å–ä»£æ—¶é—´å¯†é›†çš„fork()ç³»ç»Ÿè°ƒç”¨ã€‚Persistent modeå¾ˆé€‚åˆæˆ‘ä»¬çš„åº”ç”¨ï¼Œå…¶ä¸­æœ‰è¶£çš„ä»£ç æ˜¯é¢„ç¼–è¯‘çš„ç›®æ ‡ã€‚ç„¶è€Œï¼Œå¦‚æœä¸€ç›´ä¸forkï¼Œç›®æ ‡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šç§¯ç´¯çŠ¶æ€ï¼Œç”šè‡³æ³„éœ²å†…å­˜ï¼Œä»è€Œä½¿æŒä¹…æ€§çš„fuzzingå˜å¾—ä¸ç¨³å®šã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨æ²¡æœ‰fork()çš„æƒ…å†µä¸‹è¿›è¡Œfuzzingï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ¯æ¬¡æ‰§è¡Œåé‡ç½®ç›®æ ‡çŠ¶æ€ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä¸å¯¹WebAssemblyäºŒè¿›åˆ¶æ–‡ä»¶æ‰“è¡¥ä¸çš„æƒ…å†µä¸‹å®Œæˆè¿™ä¸€å·¥ä½œï¼Œæˆ–è€…è¿›ä¸€æ­¥å¯¹å…¶è¿›è¡Œæ£€æµ‹ï¼Œç‰¹åˆ«æ˜¯åœ¨ä»…æœ‰äºŒè¿›åˆ¶æ–‡ä»¶çš„æƒ…å†µä¸‹ã€‚ â€‹ WebAssemblyå®šä¹‰äº†ä¸‰ç§å¯èƒ½è¢«ç›®æ ‡ç¨‹åºæ”¹å˜çš„çŠ¶æ€å¯¹è±¡ï¼šglobalsã€tableså’Œmemories[3]ã€‚ç›®å‰ï¼Œç¼–è¯‘å™¨åªä½¿ç”¨ä¸€ç§å†…å­˜ï¼Œå³å­—èŠ‚æ•°ç»„ï¼Œåœ¨å…¶ä¸­ï¼Œä»–ä»¬åˆ›å»ºäº†ä¸€ä¸ªç†Ÿæ‚‰çš„å¸ƒå±€ï¼Œç”±Stackã€Heapå’ŒDataéƒ¨åˆ†ç»„æˆ[9]ã€‚åŸºäºè¿™ä¸€è§‚å¯Ÿï¼Œæˆ‘ä»¬å¯ä»¥å®ç°è™šæ‹Ÿæœºå¿«ç…§å’Œæ¢å¤ï¼šæˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ç›®æ ‡ä»£ç å‰ä¸ä¹…æ‹¦æˆªruntimeï¼Œè¿™æ—¶ï¼Œçº¿æ€§å†…å­˜å·²ç»è¢«è¿è¡Œæ—¶åˆå§‹åŒ–äº†ã€‚æˆ‘ä»¬å¯¹å…¶å†…å®¹å’Œå¤§å°åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼Œå½“æ§åˆ¶æµåœ¨æ¯ä¸ªå¾ªç¯è¿­ä»£åè¿”å›åˆ°è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬å°†å†…å­˜ç¼©å°åˆ°å…¶åˆå§‹å¤§å°å¹¶å†™å›å¿«ç…§ã€‚ 2. è¦†ç›–ç‡ â€‹ WAVMä½¿ç”¨LLVM-JITæ¥å°†WasmäºŒè¿›åˆ¶æ–‡ä»¶ç¿»è¯‘åˆ°å¹³å°åŸç”Ÿä»£ç ï¼Œå¹¶åœ¨å…¶ä¸Šé¢æ‰§è¡Œä¸€äº›ä¼˜åŒ–passã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)WasmFuzzer- A Fuzzer for WebAssembly Virtual Machines","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘WasmFuzzer--A-Fuzzer-for-WebAssembly-Virtual-Machines","date":"2023-07-03T12:35:37.206Z","updated":"2023-07-03T13:26:59.842Z","comments":true,"path":"2023/07/03/ã€è®ºæ–‡é˜…è¯»ã€‘WasmFuzzer--A-Fuzzer-for-WebAssembly-Virtual-Machines/","link":"","permalink":"http://example.com/2023/07/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91WasmFuzzer--A-Fuzzer-for-WebAssembly-Virtual-Machines/","excerpt":"WasmFuzzer: A Fuzzer for WebAssembly Virtual Machines æ—¶é—´ï¼š2022 ä½œè€…ï¼šBo Jiang, Zichao Liï¼ˆåŒ—èˆªï¼‰ æœŸåˆŠï¼šSEKEï¼ˆCCF-Cï¼‰ Abstract â€‹ WebAssemblyæ˜¯ä¸€ç§å¿«é€Ÿã€å®‰å…¨ã€å¯ç§»æ¤çš„ä½çº§è¯­è¨€ï¼Œé€‚ç”¨äºå„ç§åº”ç”¨åœºæ™¯ï¼ŒWebæµè§ˆå™¨æˆ–åŒºå—é“¾å¹³å°å¹¿æ³›ä½¿ç”¨WebAssemblyè™šæ‹Ÿæœºä½œä¸ºæ‰§è¡Œå¼•æ“ã€‚å½“Wasmè™šæ‹Ÿæœºçš„å®ç°å­˜åœ¨bugæ—¶ï¼ŒWebAssemblyçš„æ‰§è¡Œå¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºä¸­çš„é”™è¯¯æˆ–æ¼æ´ã€‚ç”±äºWASMè™šæ‹Ÿæœºçš„è¯­æ³•æ£€æŸ¥æœºåˆ¶ï¼ŒäºŒè¿›åˆ¶çº§åˆ«çš„fuzzingæ— æ³•æš´éœ²bugï¼Œå› ä¸ºå¤§å¤šæ•°è¾“å…¥æ— æ³•åˆ°è¾¾WASMè™šæ‹Ÿæœºçš„æ·±å±‚é€»è¾‘ã€‚ â€‹ åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†WasmFuzzerï¼Œä¸€ä¸ªç”¨äºWASMè™šæ‹Ÿæœºçš„bytecodeçº§fuzzingå·¥å…·ã€‚WasmFuzzeræå‡ºåœ¨Wasmå­—èŠ‚ç çº§åˆ«ä¸Šç”Ÿæˆåˆå§‹ç§å­è¿›è¡Œfuzzingï¼Œå¹¶è®¾è®¡äº†ä¸€å¥—ç³»ç»Ÿçš„Wasmå­—èŠ‚ç çªå˜mutation operatorsã€‚æ­¤å¤–ï¼ŒWasmFuzzerè¿˜æå‡ºäº†ä¸€ç§è‡ªé€‚åº”çš„çªå˜ç­–ç•¥ï¼Œä»¥å¯»æ‰¾é€‚ç”¨äºä¸åŒfuzzingç›®æ ‡çš„æœ€ä½³mutatorã€‚ â€‹ æˆ‘ä»¬å¯¹ä¸‰ä¸ªçœŸå®çš„Wasmè™šæ‹Ÿæœºè¿›è¡Œè¯„ä¼°ï¼Œç»“æœæ˜¾ç¤ºWasmFuzzeråœ¨ä»£ç è¦†ç›–ç‡å’Œå”¯ä¸€å´©æºƒ(unique crash)æ–¹é¢æ˜æ˜¾ä¼˜äºAFLã€‚","text":"WasmFuzzer: A Fuzzer for WebAssembly Virtual Machines æ—¶é—´ï¼š2022 ä½œè€…ï¼šBo Jiang, Zichao Liï¼ˆåŒ—èˆªï¼‰ æœŸåˆŠï¼šSEKEï¼ˆCCF-Cï¼‰ Abstract â€‹ WebAssemblyæ˜¯ä¸€ç§å¿«é€Ÿã€å®‰å…¨ã€å¯ç§»æ¤çš„ä½çº§è¯­è¨€ï¼Œé€‚ç”¨äºå„ç§åº”ç”¨åœºæ™¯ï¼ŒWebæµè§ˆå™¨æˆ–åŒºå—é“¾å¹³å°å¹¿æ³›ä½¿ç”¨WebAssemblyè™šæ‹Ÿæœºä½œä¸ºæ‰§è¡Œå¼•æ“ã€‚å½“Wasmè™šæ‹Ÿæœºçš„å®ç°å­˜åœ¨bugæ—¶ï¼ŒWebAssemblyçš„æ‰§è¡Œå¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºä¸­çš„é”™è¯¯æˆ–æ¼æ´ã€‚ç”±äºWASMè™šæ‹Ÿæœºçš„è¯­æ³•æ£€æŸ¥æœºåˆ¶ï¼ŒäºŒè¿›åˆ¶çº§åˆ«çš„fuzzingæ— æ³•æš´éœ²bugï¼Œå› ä¸ºå¤§å¤šæ•°è¾“å…¥æ— æ³•åˆ°è¾¾WASMè™šæ‹Ÿæœºçš„æ·±å±‚é€»è¾‘ã€‚ â€‹ åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†WasmFuzzerï¼Œä¸€ä¸ªç”¨äºWASMè™šæ‹Ÿæœºçš„bytecodeçº§fuzzingå·¥å…·ã€‚WasmFuzzeræå‡ºåœ¨Wasmå­—èŠ‚ç çº§åˆ«ä¸Šç”Ÿæˆåˆå§‹ç§å­è¿›è¡Œfuzzingï¼Œå¹¶è®¾è®¡äº†ä¸€å¥—ç³»ç»Ÿçš„Wasmå­—èŠ‚ç çªå˜mutation operatorsã€‚æ­¤å¤–ï¼ŒWasmFuzzerè¿˜æå‡ºäº†ä¸€ç§è‡ªé€‚åº”çš„çªå˜ç­–ç•¥ï¼Œä»¥å¯»æ‰¾é€‚ç”¨äºä¸åŒfuzzingç›®æ ‡çš„æœ€ä½³mutatorã€‚ â€‹ æˆ‘ä»¬å¯¹ä¸‰ä¸ªçœŸå®çš„Wasmè™šæ‹Ÿæœºè¿›è¡Œè¯„ä¼°ï¼Œç»“æœæ˜¾ç¤ºWasmFuzzeråœ¨ä»£ç è¦†ç›–ç‡å’Œå”¯ä¸€å´©æºƒ(unique crash)æ–¹é¢æ˜æ˜¾ä¼˜äºAFLã€‚ \"Unique crash\"ï¼ˆå”¯ä¸€å´©æºƒï¼‰æŒ‡çš„æ˜¯åœ¨è½¯ä»¶æˆ–ç³»ç»Ÿä¸­å‘ç”Ÿçš„ç‹¬ç‰¹çš„é”™è¯¯æˆ–å¼‚å¸¸æƒ…å†µï¼Œå¯¼è‡´ç¨‹åºçš„å´©æºƒæˆ–å¼‚å¸¸ç»ˆæ­¢ã€‚è¿™ç§å´©æºƒæ˜¯æŒ‡ä¸å…¶ä»–å´©æºƒä¸åŒçš„ã€ç‹¬ç‰¹çš„é”™è¯¯æƒ…å†µï¼Œå¯èƒ½ç”±äºç‰¹å®šçš„è¾“å…¥æˆ–ç‰¹å®šçš„æ‰§è¡Œè·¯å¾„å¼•èµ·ã€‚åœ¨ä¸Šè¿°æ–‡æœ¬ä¸­ï¼Œä½œè€…æåˆ°WasmFuzzeråœ¨å”¯ä¸€å´©æºƒæ–¹é¢çš„è¡¨ç°ä¼˜äºAFLï¼Œæ„å‘³ç€WasmFuzzerèƒ½å¤Ÿå‘ç°æ›´å¤šä¸åŒäºå…¶ä»–æµ‹è¯•å·¥å…·çš„ç‹¬ç‰¹é”™è¯¯æƒ…å†µã€‚ é—®é¢˜èƒŒæ™¯ â€‹ WebAssemblyæ˜¯åœ¨WebAssemblyè™šæ‹Ÿæœº[7]ä¸­æ‰§è¡Œçš„ï¼Œç°æœ‰çš„Wasmè™šæ‹Ÿæœºå®ç°åŒ…æ‹¬WAVM[8]ã€Wasmtime[9]ã€Wasmer[10]ç­‰ã€‚è™šæ‹Ÿæœºæ˜¯æ‰§è¡ŒWebAssemblyçš„åŸºç¡€è®¾æ–½ï¼Œå…¶åº”è¯¥æ­£ç¡®ã€é«˜æ•ˆã€é²æ£’åœ°å®ç°ã€‚ç„¶è€Œï¼Œå¦‚æœè™šæ‹Ÿæœºçš„å®ç°æœ‰é”™è¯¯ï¼ŒWebAssemblyçš„æ‰§è¡Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯çš„ç»“æœï¼Œæˆ–è€…ç¨‹åºä¼šå¼‚å¸¸é€€å‡ºï¼Œå…¶ä¸­ä¸€äº›é”™è¯¯ç”šè‡³ä¼šå¯¼è‡´å®‰å…¨æ¼æ´ã€‚ä¾‹å¦‚ï¼Œåœ¨2018å¹´ï¼Œæœ‰7ä¸ªCVEæŠ¥å‘Šç»™åä¸ºWAVMçš„Wasmè™šæ‹Ÿæœº[8]ï¼Œä¸ºäº†é¿å…è¿™äº›æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ¨¡ç³ŠæŠ€æœ¯[11]æ¥è¯†åˆ«è™šæ‹Ÿæœºå®ç°ä¸­çš„é”™è¯¯ã€‚ â€‹ é’ˆå¯¹Wasm VMçš„fuzzingéœ€è¦é¢å¯¹ä¸¤å¤§æŒ‘æˆ˜ï¼š é¦–å…ˆï¼ŒWasm VMç»å¸¸åœ¨æ‰§è¡Œå‰è¿›è¡ŒWasmä»£ç éªŒè¯ï¼ˆvalidationï¼‰ï¼Œè¿™ä½¿å¾—å®ƒå¾ˆéš¾äº§ç”Ÿæœ‰æ•ˆçš„è¾“å…¥ä»¥è¾¾åˆ°è™šæ‹Ÿæœºå†…çš„æ·±å±‚é€»è¾‘ã€‚è™½ç„¶ä¸»æµçš„fuzzingè½¯ä»¶AFLå¯ä»¥ç”¨æ¥æµ‹è¯•ç”¨C/C++ç¼–å†™çš„WebAssemblyè™šæ‹Ÿæœºï¼Œä½†å®ƒä»¬ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹éƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ²¡æœ‰è€ƒè™‘Wasmå­—èŠ‚ç è¯­æ³•ï¼Œå¾ˆéš¾é€šè¿‡Wasmè™šæ‹Ÿæœºé€šå¸¸è¿›è¡Œçš„ä»£ç éªŒè¯ï¼› å…¶æ¬¡ï¼ŒWASM VMæœ‰è®¸å¤šä¸åŒçš„å®ç°ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„ä»£ç ç»“æ„å’Œbugæ¨¡å¼ï¼Œä½¿ç”¨å›ºå®šçš„çªå˜ç­–ç•¥å¾ˆéš¾é€‚åº”è¿™äº›Wasm VMä¹‹é—´çš„å·®å¼‚ï¼Œä»è€Œè¾¾åˆ°æœ€ä½³çš„fuzzingæ•ˆæœã€‚ è´¡çŒ® æå‡ºäº†ä¸€ä¸ªåä¸ºWasmFuzzerçš„Wasmå­—èŠ‚ç çº§fuzzingæ¡†æ¶ï¼Œç”¨äºWasmè™šæ‹Ÿæœºï¼Œè¯¥å·¥å…·å¯ä»¥ç”Ÿæˆå’Œå˜å¼‚Wasmå­—èŠ‚ç æ¨¡å—ï¼Œä»¥è¾¾åˆ°Wasmè™šæ‹Ÿæœºçš„æ·±å±‚é€»è¾‘; æå‡ºäº†ä¸€ç§è‡ªé€‚åº”çªå˜ç­–ç•¥ï¼Œå¯ä»¥åŠ¨æ€åœ°æ›´æ–°ä¸åŒmutation operatorçš„æ¦‚ç‡ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæµ‹è¯•ç›®æ ‡ä¼˜åŒ–mutation operatorçš„é…ç½®ï¼› ç”¨WasmFuzzerå¯¹3ä¸ªç°å®ç”Ÿæ´»ä¸­çš„Wasmè™šæ‹Ÿæœºè¿›è¡Œäº†ç³»ç»Ÿçš„fuzzingæµ‹è¯•ã€‚æˆ‘ä»¬çš„è¯„ä¼°ç»“æœæ˜¾ç¤ºï¼ŒWasmFuzzeråœ¨ä»£ç è¦†ç›–ç‡å’Œé”™è¯¯æ£€æµ‹æ–¹é¢éƒ½æ¯”AFLæ›´æœ‰æ•ˆï¼Œè€Œä¸”WasmFuzzeråœ¨WAVMã€WAMRå’ŒEOS-VMä¸­æ£€æµ‹åˆ°235ä¸ªç‹¬ç‰¹çš„å´©æºƒã€‚ æ¨¡å‹ 1. The Generation of Wasm Bytecode â€‹ ä¸ºWASMæŒ‡ä»¤ç”Ÿæˆå¯¹åº”çš„å‚æ•°åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š ä»moduleä¸­é€‰æ‹©å‚æ•°ï¼šå¦‚global.set idæŒ‡ä»¤ï¼Œå…¶ä½œç”¨æ˜¯å°†ç¼–å·ä¸ºidçš„å…¨å±€å˜é‡ç½®äºæ ˆé¡¶ï¼Œæ•…å…¶å‚æ•°èŒƒå›´åªèƒ½æ˜¯moduleä¸­global arrayä¸­çš„å‚æ•°ï¼ˆå¦åˆ™å°±ä¼šéæ³•ï¼‰ï¼Œæ•…å¯¹äºè¿™ç§æŒ‡ä»¤ä»…ä»…ä»moduleä¸­é€‰æ‹©å¯¹åº”çš„å‚æ•°ï¼› ä»å¯¹åº”æ•°æ®åŸŸå†…é€‰æ‹©å‚æ•°ï¼šå¯¹äºç¡®å®šå‚æ•°typeçš„æŒ‡ä»¤ï¼Œä»å¯¹åº”çš„æ•°æ®åŸŸéšæœºé€‰æ‹©ä¸€ä¸ªæ•°å³å¯ã€‚ â€‹ WasmFuzzeræ‰©å±•äº†WebAssembly Binary Toolkitï¼ˆWABTï¼‰ä»¥å¸®åŠ©ç”Ÿæˆä¸åŒç§ç±»çš„æŒ‡ä»¤ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä½¿ç”¨WABTçš„å†…éƒ¨åŠŸèƒ½æ¥ç”Ÿæˆä¸åŒç§ç±»çš„æ“ä½œç ï¼Œè¿™äº›æ“ä½œç ä¸ç›¸åº”çš„å‚æ•°ç›¸ç»“åˆï¼Œä»¥å»ºç«‹ä¸åŒçš„æŒ‡ä»¤ã€‚æœ€åï¼Œè¿™äº›æŒ‡ä»¤è¢«è¿›ä¸€æ­¥ç»„è£…æˆå‡½æ•°å’Œæ¨¡å—ï¼Œä½œä¸ºç§å­è¾“å…¥ã€‚ 2. Mutation Operator for Wasm Bytecode 2.1 Mutation operations â€‹ Mutation operationsè¢«åˆ†ä¸ºä¸¤ç±»ï¼Œå¯¹æŒ‡ä»¤çš„å˜å¼‚å’Œå¯¹å…¶å®ƒçš„å˜å¼‚: â€‹ ä¸ºäº†ç¡®ä¿å˜å¼‚çš„WebAssemblyä»£ç èƒ½å¤Ÿé€šè¿‡Wasm VMçš„éªŒè¯[12]è¿‡ç¨‹ï¼Œæˆ‘ä»¬æ§åˆ¶ä¸åŒçš„mutatorçš„æ¦‚ç‡ï¼Œä½¿æ–°ç”Ÿæˆçš„Wasmæ¨¡å—æœ‰æ›´å¤§çš„æœºä¼šæˆä¸ºæœ‰æ•ˆçš„è¾“å…¥ã€‚ 2.2 Adaptive Random Mutation Strategy â€‹ åœ¨å˜å¼‚æ­¥éª¤ä¸­ï¼Œæ¯ä¸ªmutatoréƒ½æœ‰è¢«é€‰ä¸­çš„æ¦‚ç‡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„çªå˜ç­–ç•¥å°†é€šè¿‡åŠ¨æ€å¢åŠ mutatorçš„æ¦‚ç‡æ¥å¥–åŠ±å¯¼è‡´æ–°çš„ä»£ç è¦†ç›–ç‡æˆ–å´©æºƒçš„mutatorï¼Œè¿™æ ·ä¸€æ¥ï¼Œé‚£äº›æ›´æœ‰ \"å‰é€” \"çš„mutatorå°±æœ‰æ›´å¤§çš„æœºä¼šè¢«é€‰ä¸­ã€‚ 2.3 Test Oracle and Bug Report Generation â€‹ å½“è¢«æµ‹è¯•çš„è½¯ä»¶åœ¨fuzzingè¿‡ç¨‹ä¸­å´©æºƒæˆ–ä¸­æ­¢æ—¶ï¼Œç³»ç»Ÿå°†å‘å‡ºä¿¡å·ï¼Œå¦‚SIGSEGVæˆ–SIGABTï¼ŒWasmFuzerå°†æ•è·è¿™äº›ä¿¡å·æ¥æŠ¥å‘Šé”™è¯¯ã€‚æ­¤å¤–ï¼ŒWasmFuzzerè¿˜åˆ©ç”¨AddressSanitizer[13]æ¥æ£€æµ‹ä¸å†…å­˜æœ‰å…³çš„è½¯ä»¶é”™è¯¯ï¼Œå¦‚UAFã€ç¼“å†²åŒºæº¢å‡ºã€å †æ ˆæº¢å‡ºã€å†…å­˜æ³„æ¼ç­‰ã€‚ â€‹ å½“WasmFuzzeræ£€æµ‹åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå®ƒå°†ç”Ÿæˆé”™è¯¯æŠ¥å‘Šï¼Œä»¥æ–¹ä¾¿è¿›ä¸€æ­¥è°ƒè¯•ã€‚é”™è¯¯æŠ¥å‘ŠåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šå¼•å‘ç‹¬ç‰¹å´©æºƒçš„Wasmå­—èŠ‚ç ï¼Œä»¥åŠå¼•å‘ç‹¬ç‰¹æŒ‚èµ·çš„Wasmå­—èŠ‚ç ã€‚é€šè¿‡ \"ç‹¬ç‰¹\"ï¼Œå®ƒæ„å‘³ç€è¿™äº›Wasmå­—èŠ‚ç çš„æ‰§è¡Œå¯¼è‡´äº†ç‹¬ç‰¹çš„ä»£ç è·¯å¾„ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æµ‹é‡äº†åœ¨fuzzingè¿‡ç¨‹ä¸­å®ç°çš„ä»£ç è¦†ç›–ç‡ï¼Œä½œä¸ºå¦ä¸€ä¸ªæŒ‡æ ‡ã€‚ â€‹ 3. EVALUATION â€‹ æµ‹è¯•äº†ä¸‰ä¸ªWASM VMï¼šWAVM, WAMR, EOS VMï¼Œéƒ½æ˜¯ä½¿ç”¨C/C++ç¼–å†™ã€‚ WebAssembly virtual machineï¼ˆgithub 2.5k starredï¼‰ï¼ŒWAVMï¼Œæ˜¯ä¸€ä¸ªä¸ºéæµè§ˆå™¨WASMåº”ç”¨è®¾è®¡çš„åº”ç”¨ï¼› WebAssembly Micro Runtimeï¼ˆgithub 3.9k starredï¼‰ï¼ŒWAMRï¼Œæ˜¯ä¸€ä¸ªå°å‹WASMè™šæ‹Ÿæœºï¼Œç»å¸¸ç”¨åœ¨åµŒå…¥å¼ç³»ç»Ÿä¸­ï¼› EOS-VMï¼Œæ˜¯ä¸€ä¸ªä¸ºåŒºå—é“¾åº”ç”¨è®¾è®¡çš„WASMè™šæ‹Ÿæœºã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)Fuzzing-A Survey for Roadmap","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Fuzzing-A-Survey-for-Roadmap","date":"2023-06-30T04:50:57.795Z","updated":"2023-07-02T12:46:47.758Z","comments":true,"path":"2023/06/30/ã€è®ºæ–‡é˜…è¯»ã€‘Fuzzing-A-Survey-for-Roadmap/","link":"","permalink":"http://example.com/2023/06/30/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Fuzzing-A-Survey-for-Roadmap/","excerpt":"Fuzzing: A Survey for Roadmap æ—¶é—´ï¼š2022 ä½œè€…ï¼šXiaogang Zhuã€Sheng Wenï¼ˆæ¾³æ´²æ–¯å¨æœ¬ç§‘æŠ€å¤§å­¦ï¼‰ æœŸåˆŠï¼šACM Computing Surveysï¼ˆä¸­ç§‘é™¢ä¸€åŒºï¼‰ Abstract â€‹ æœ€è¿‘ï¼Œæ¨¡ç³Šæµ‹è¯•ï¼ˆfuzzingï¼‰åœ¨æ£€æµ‹å®‰å…¨ç¼ºé™·æ–¹é¢æœ‰ç€å¤§é‡ä½¿ç”¨ï¼Œå®ƒäº§ç”Ÿäº†å¤§é‡çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œå¹¶ç›‘æ§ç¼ºé™·çš„æ‰§è¡Œæƒ…å†µï¼Œfuzzingå·²ç»åœ¨å„ç§åº”ç”¨ç¨‹åºä¸­å‘ç°äº†æˆåƒä¸Šä¸‡çš„é”™è¯¯å’Œæ¼æ´ã€‚ â€‹ Fuzzingè™½ç„¶æœ‰æ•ˆï¼Œä½†å¯¹å…¶æ‰€é¢ä¸´çš„é—®é¢˜ç¼ºä¹ç³»ç»Ÿçš„åˆ†æã€‚ä½œä¸ºä¸€ç§ç¼ºé™·æ£€æµ‹æŠ€æœ¯ï¼Œfuzzingéœ€è¦ç¼©å°æ•´ä¸ªè¾“å…¥ç©ºé—´ï¼ˆinput spaceï¼‰å’Œç¼ºé™·ç©ºé—´ï¼ˆdefect spaceï¼‰ä¹‹é—´çš„å·®è·ã€‚å¦‚æœå¯¹ç”Ÿæˆçš„è¾“å…¥æ²¡æœ‰é™åˆ¶ï¼Œè¾“å…¥ç©ºé—´æ˜¯æ— é™çš„ï¼Œç„¶è€Œï¼Œåº”ç”¨ä¸­çš„ç¼ºé™·æ˜¯ç¨€ç–çš„ï¼Œè¿™è¡¨æ˜ç¼ºé™·ç©ºé—´è¦æ¯”æ•´ä¸ªè¾“å…¥ç©ºé—´å°å¾—å¤šã€‚æ­¤å¤–ï¼Œç”±äºfuzzingä¼šäº§ç”Ÿå¤§é‡çš„æµ‹è¯•ç”¨ä¾‹æ¥åå¤æ£€æŸ¥ç›®æ ‡ï¼Œè¿™å°±è¦æ±‚fuzzingä»¥è‡ªåŠ¨çš„æ–¹å¼è¿›è¡Œï¼Œç”±äºåº”ç”¨ç¨‹åºå’Œæ¼æ´çš„å¤æ‚æ€§ï¼Œå¯¹ä¸åŒçš„åº”ç”¨ç¨‹åºè¿›è¡Œè‡ªåŠ¨åŒ–æ‰§è¡Œå…·æœ‰æŒ‘æˆ˜æ€§ â€‹ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç³»ç»Ÿåœ°å›é¡¾å’Œåˆ†æäº†è¿™äº›gapä»¥åŠå®ƒä»¬çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶è€ƒè™‘äº†å¹¿åº¦å’Œæ·±åº¦ã€‚è¿™é¡¹è°ƒæŸ¥å¯ä»¥ä½œä¸ºåˆå­¦è€…å’Œé«˜çº§å¼€å‘äººå‘˜æ›´å¥½åœ°äº†è§£fuzzingçš„è·¯çº¿å›¾ã€‚","text":"Fuzzing: A Survey for Roadmap æ—¶é—´ï¼š2022 ä½œè€…ï¼šXiaogang Zhuã€Sheng Wenï¼ˆæ¾³æ´²æ–¯å¨æœ¬ç§‘æŠ€å¤§å­¦ï¼‰ æœŸåˆŠï¼šACM Computing Surveysï¼ˆä¸­ç§‘é™¢ä¸€åŒºï¼‰ Abstract â€‹ æœ€è¿‘ï¼Œæ¨¡ç³Šæµ‹è¯•ï¼ˆfuzzingï¼‰åœ¨æ£€æµ‹å®‰å…¨ç¼ºé™·æ–¹é¢æœ‰ç€å¤§é‡ä½¿ç”¨ï¼Œå®ƒäº§ç”Ÿäº†å¤§é‡çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œå¹¶ç›‘æ§ç¼ºé™·çš„æ‰§è¡Œæƒ…å†µï¼Œfuzzingå·²ç»åœ¨å„ç§åº”ç”¨ç¨‹åºä¸­å‘ç°äº†æˆåƒä¸Šä¸‡çš„é”™è¯¯å’Œæ¼æ´ã€‚ â€‹ Fuzzingè™½ç„¶æœ‰æ•ˆï¼Œä½†å¯¹å…¶æ‰€é¢ä¸´çš„é—®é¢˜ç¼ºä¹ç³»ç»Ÿçš„åˆ†æã€‚ä½œä¸ºä¸€ç§ç¼ºé™·æ£€æµ‹æŠ€æœ¯ï¼Œfuzzingéœ€è¦ç¼©å°æ•´ä¸ªè¾“å…¥ç©ºé—´ï¼ˆinput spaceï¼‰å’Œç¼ºé™·ç©ºé—´ï¼ˆdefect spaceï¼‰ä¹‹é—´çš„å·®è·ã€‚å¦‚æœå¯¹ç”Ÿæˆçš„è¾“å…¥æ²¡æœ‰é™åˆ¶ï¼Œè¾“å…¥ç©ºé—´æ˜¯æ— é™çš„ï¼Œç„¶è€Œï¼Œåº”ç”¨ä¸­çš„ç¼ºé™·æ˜¯ç¨€ç–çš„ï¼Œè¿™è¡¨æ˜ç¼ºé™·ç©ºé—´è¦æ¯”æ•´ä¸ªè¾“å…¥ç©ºé—´å°å¾—å¤šã€‚æ­¤å¤–ï¼Œç”±äºfuzzingä¼šäº§ç”Ÿå¤§é‡çš„æµ‹è¯•ç”¨ä¾‹æ¥åå¤æ£€æŸ¥ç›®æ ‡ï¼Œè¿™å°±è¦æ±‚fuzzingä»¥è‡ªåŠ¨çš„æ–¹å¼è¿›è¡Œï¼Œç”±äºåº”ç”¨ç¨‹åºå’Œæ¼æ´çš„å¤æ‚æ€§ï¼Œå¯¹ä¸åŒçš„åº”ç”¨ç¨‹åºè¿›è¡Œè‡ªåŠ¨åŒ–æ‰§è¡Œå…·æœ‰æŒ‘æˆ˜æ€§ â€‹ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç³»ç»Ÿåœ°å›é¡¾å’Œåˆ†æäº†è¿™äº›gapä»¥åŠå®ƒä»¬çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶è€ƒè™‘äº†å¹¿åº¦å’Œæ·±åº¦ã€‚è¿™é¡¹è°ƒæŸ¥å¯ä»¥ä½œä¸ºåˆå­¦è€…å’Œé«˜çº§å¼€å‘äººå‘˜æ›´å¥½åœ°äº†è§£fuzzingçš„è·¯çº¿å›¾ã€‚ Generating input optimization â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºä¸ºfuzzingçš„åŸºæœ¬æµç¨‹ï¼Œåœ¨ç”Ÿæˆè¾“å…¥æ—¶ï¼Œå…¶å¯ä»¥å¯¹seed set,seed schedule,byte scheduleå’Œmutation scheduleåšä¼˜åŒ–ã€‚ 1. Seed Set Selection â€‹ åœ¨ä¿éšœä»£ç è¦†ç›–ç‡çš„å‰æä¸‹ï¼Œseed setè¶Šå°è¶Šå¥½ã€‚è¿™æ˜¯å› ä¸ºå¤šä½™çš„ç§å­ä¼šæµªè´¹ç®—åŠ›ï¼Œé‡å¤æ£€æµ‹å·²ç»æ£€æµ‹è¿‡çš„ä»£ç å—ã€‚COVERSET[158]å°†æœ€å°åŒ–ç§å­é›†çš„é—®é¢˜è¡¨è¿°ä¸ºæœ€å°é›†åˆè¦†ç›–é—®é¢˜ï¼ˆMSCPï¼‰ï¼Œå®ƒæœ€å°åŒ–åŒ…å«æ‰€æœ‰å…ƒç´ çš„å­é›†ã€‚ç”±äºMSCPæ˜¯ä¸€ä¸ªNP-hardé—®é¢˜ï¼ŒCOVERSETä½¿ç”¨è´ªå¿ƒå¤šé¡¹å¼è¿‘ä¼¼ç®—æ³•æ¥è·å¾—æœ€å°é›†ã€‚ 2. Seed Schedule â€‹ åœ¨é€‰æ‹©äº†Seed setä¹‹åï¼ŒSeed Scheduleçš„ä»»åŠ¡æ˜¯ä»å…¶ä¸­é€‰æ‹©å¯¹åº”çš„ç§å­ç”¨äºåç»­æ“ä½œï¼Œå¹¶ä¸ºæ‰€é€‰ç§å­åˆ†é…å…¶å¯è¿è¡Œçš„æœ€å¤§æ—¶é—´ã€‚ â€‹ ç”±äº PUTs ä¸defectsçš„å¤æ‚æ€§ï¼Œæœªå‘ç°ä»£ç è¦†ç›–ç‡ä¸æœªå‘ç°æ¼æ´æ˜¯ä¸å¯çŸ¥çš„ï¼Œæˆ‘ä»¬æ— æ³•çŸ¥é“ä¸€ä¸ªè¾“å…¥æ˜¯å¦èƒ½è§¦å‘æ¼æ´ï¼Œç±»ä¼¼åœ°åœ¨æ£€ç´¢ä»£ç ä¹‹å‰æˆ‘ä»¬ä¹Ÿä¸èƒ½è·å¾—ç¨‹åºè¡Œä¸ºçš„æ¦‚ç‡åˆ†å¸ƒï¼Œæ•°å­¦ä¸Šå‡ ä¹ä¸å¯èƒ½æ‰¾åˆ°ä¸€ä¸ªå…¨å±€æœ€ä¼˜è§£æ³•ï¼Œå› æ­¤ç ”ç©¶äººå‘˜åŸºäºå¤šç§ä¼˜åŒ–æ–¹æ³•æ¥è¿‘ä¼¼åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 2.1 Fitness by #Bugs â€‹ Fitness == è¡¡é‡seed/inputæŒ‡æ ‡ã€‚Fitness by Bugsæ„å‘³ç€ä»¥å‘ç°bugçš„å¤šå°‘ä½œä¸ºç§å­çš„è¯„ä»·æ ‡å‡†ã€‚ ä¸ºäº†ä½¿bugæœ€å¤šï¼Œä¸€ç§æ–¹æ³•æ˜¯åœ¨éšæœºæˆ–æŒ‰é¡ºåºé€‰æ‹©ç§å­çš„åŒæ—¶ï¼Œåˆ†é…æ¯ä¸ªç§å­çš„æ—¶é—´é¢„ç®—ã€‚å¦‚æœä¸è€ƒè™‘æ‰§è¡ŒçŠ¶æ€ï¼Œæœ€å¤§åŒ–é—®é¢˜å¯ä»¥ç®€åŒ–ä¸ºæ•´æ•°çº¿æ€§è§„åˆ’ï¼ˆILPï¼‰é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒILPæ‰“ç®—åœ¨çº¿æ€§çº¦æŸæ¡ä»¶ï¼ˆä¾‹å¦‚æ¯ä¸ªç§å­çš„æ—¶é—´é¢„ç®—çš„ä¸Šé™å€¼ï¼‰ä¸‹æœ€å¤§åŒ–bugçš„æ•°é‡ã€‚é€šè¿‡è§£å†³ILPé—®é¢˜ï¼Œå¯ä»¥è‡ªåŠ¨è®¡ç®—æ¯ä¸ªç§å­çš„æ—¶é—´é¢„ç®—ã€‚ å¦ä¸€ç§è§è§£æ˜¯å°†å‘ç°bugçš„è¿‡ç¨‹è§†ä¸ºWCCPé—®é¢˜ã€‚ç»å…¸æ¦‚ç‡é—®é¢˜ï¼šä¼˜æƒ åˆ¸æ”¶é›†é—®é¢˜ - cnblogs.com ILPå’ŒWCCPéƒ½ä¼šç»™æ›´å¯èƒ½å‘ç°bugçš„ç§å­åˆ†é…æ›´å¤šå¯ç”¨æ—¶é—´ã€‚ ILPå’ŒWCCPè¿™ä¸¤ç§ç†è®ºä¸Šå¯ä»¥è®¡ç®—å‡ºå…¨å±€æœ€ä¼˜è§£çš„ç®—æ³•éœ€è¦çŸ¥é“ç¯å¢ƒçš„å…¨éƒ¨ä¿¡æ¯ï¼Œç”±äºè¿™å¹¶ä¸å¯èƒ½ï¼Œæ‰€ä»¥åŸºæœ¬æ•ˆæœéƒ½ä¸å¥½ï¼ˆä¾‹å¦‚å¼ºåŒ–å­¦ä¹ ä¸­åŠ¨æ€è§„åˆ’ç®—æ³•è™½ç„¶å¯ä»¥ç›´æ¥æ±‚å¾—å…¨å±€æœ€ä¼˜ç­–ç•¥ï¼Œä½†ç”±äºç¯å¢ƒä¿¡æ¯ä¸å¯çŸ¥æˆ–ç®—åŠ›é™åˆ¶ï¼ŒåŸºæœ¬æ²¡æœ‰å®é™…åº”ç”¨åœºæ™¯ï¼‰ï¼Œåªåœ¨æ—©æœŸä½¿ç”¨ã€‚ 2.2 Fitness by State Transition (Markov Chain) â€‹ å› ä¸ºåœ¨PUTä¸­ï¼Œbugæ˜¯ç¨€ç–çš„ï¼Œå½“ä½¿ç”¨bugçš„æ•°é‡ä½œä¸ºfitnessæ—¶ï¼Œä¼˜åŒ–è¿‡ç¨‹å°†è¿…é€Ÿæ”¶æ•›åˆ°å±€éƒ¨ä¼˜åŒ–ã€‚å› æ­¤ï¼Œå®ƒå¯èƒ½ä¼šé”™è¿‡æ¢ç´¢æ›´å¤šä»£ç è¦†ç›–çš„æœºä¼šï¼Œç”±å¤æ‚æ¡ä»¶åŒ…è£¹çš„æ·±å±‚bugå°±ä¼šé¿å¼€fuzzingã€‚ â€‹ ä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼ŒfuzzeråŸºäºæ‰§è¡ŒçŠ¶æ€ï¼ˆå¦‚ä»£ç è¦†ç›–ç‡ï¼‰ä½œä¸ºfitnessï¼Œå› ä¸ºæ‰§è¡ŒçŠ¶æ€å¯ä»¥ä¸ºfuzzingæä¾›æ›´å¤šçš„ä¿¡æ¯ã€‚ç›®å‰å¤§å¤šæ•°ç°æœ‰çš„fuzzeréƒ½æ˜¯åŸºäºä»£ç è¦†ç›–ç‡è®¡ç®—fitnessã€‚ä½¿ç”¨ä»£ç è¦†ç›–ç‡çš„å¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œæ›´å¤§çš„ä»£ç è¦†ç›–ç‡è¡¨æ˜å‘ç°é”™è¯¯çš„å¯èƒ½æ€§æ›´é«˜[130]ã€‚ â€‹ ä¸¤ç§å»ºæ¨¡æ–¹æ³•ï¼š Block transition Fuzzingä¹‹å‰é€šè¿‡è’™ç‰¹å¡æ´›é‡‡æ ·ï¼ˆMonte Carlo methodï¼‰ï¼Œè®¡ç®—å‡ºç¨‹åºCFGä¸­æ¯ä¸ªåŸºæœ¬å—è·³è½¬çš„æ¦‚ç‡Pijï¼Œè¿›è€Œè®¡ç®—å‡ºæŸä¸ªç§å­åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰§è¡Œè·¯å¾„çš„æ¦‚ç‡ï¼ˆç»è¿‡çš„åŸºæœ¬å—æ¦‚ç‡ç›¸ä¹˜ï¼‰ã€‚ç§å­å¯¹åº”çš„æ¦‚ç‡è¶Šä½åˆ™fitnessè¶Šé«˜ã€‚ Path transition Pijè¿™é‡Œä»£è¡¨ä»Seediå˜å¼‚åˆ°Seedjçš„æ¦‚ç‡ï¼Œæ¯ä¸ªPé€šè¿‡ä¹‹å‰æ‰§è¡Œfuzzingç»“æœè®¡ç®—ï¼ŒåŒæ ·æ˜¯æ¦‚ç‡è¶Šå°fitnessè¶Šé«˜ï¼Œæ›´å€¾å‘äºç”Ÿæˆç¨€æœ‰çš„pathã€‚è¿™é‡ŒAFLFast[23]ä½¿ç”¨1/pijä¸ºæ¯ä¸ªç§å­åˆ†é…èƒ½é‡ï¼Œå…¶è¿˜æœ‰å˜å¼ï¼šdirected greybox fuzzing (DGF) [22, 217]å’Œregression greybox fuzzing (RGF) [214]ã€‚ ä½¿ç”¨é©¬å°”ç§‘å¤«ç†è®ºå¯¹state transitionå»ºæ¨¡ï¼Œä»¥æ­¤ä¼˜åŒ–seed scheduleæœ‰ä¸€å®šæ•ˆæœï¼Œä½†å…¶ç¼ºç‚¹æ˜¯MCéœ€è¦è®¡ç®—æ‰€æœ‰çŠ¶æ€çš„æ¦‚ç‡ã€‚å®é™…ä½¿ç”¨ä¸­ï¼Œå¾ˆå¤šçŠ¶æ€å¹¶æ²¡æœ‰è¢«æ£€æµ‹ï¼Œæ•…MCæ–¹æ³•ä¹Ÿå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ï¼ˆè¿˜æ˜¯ç¯å¢ƒä¿¡æ¯è·å–ä¸å…¨é¢çš„é—®é¢˜ï¼‰ã€‚ 2.3 Fitness by State Transition (Multi-armed Bandit) â€‹ å‰ç½®çŸ¥è¯†ï¼š rule of three(statistics)ï¼šå¦‚æœå‰næ¬¡é‡‡æ ·äº‹ä»¶aéƒ½æ²¡æœ‰å‘ç”Ÿï¼Œåˆ™æœ‰95%çš„ç½®ä¿¡åº¦è¡¨æ˜è‡³å¤š3/nçš„æ¦‚ç‡äº‹ä»¶aä¼šå‘ç”Ÿã€‚Rule of three (statistics) - HandWikiï¼› Round-Robin Schedulingï¼šè½®è¯¢è°ƒåº¦ç®—æ³•ï¼› â€‹ å¯¹äºMCå»ºæ¨¡æ–¹æ³•å¯¼è‡´çš„é—®é¢˜ï¼š å¯¹äºä½¿ç”¨MCçš„Block transitionï¼šå¯ä»¥ä½¿ç”¨ç»Ÿè®¡å­¦ä¸­çš„rule of threeè§„åˆ™æ¥ä¸ºæœªå‡ºç°çš„stateèµ‹æ¦‚ç‡å€¼ï¼› å¯¹äºä½¿ç”¨MCçš„Path transitionï¼šä½¿ç”¨Round-Robin Schedulingå…ˆä¸ºæ¯ä¸ªseedèµ‹ç›¸åŒçš„time budgetï¼Œåç»­ç»è¿‡ä¸æ–­é‡‡æ ·å†ä½¿ç”¨è®¡ç®—çš„æ¦‚ç‡å€¼ã€‚ä½†è¿™ä¹ˆåšçš„é—®é¢˜å°±æ˜¯ä¸å¥½å¹³è¡¡Round-Robinå’ŒMarkovï¼Œæœç´¢æœ‰æ‰€seedå’Œèšç„¦äºæŸä¸ªseedæ˜¯ä¸€ä¸ªâ€œexploration and exploitationâ€é—®é¢˜ï¼ˆåˆæ˜¯ç»å…¸çš„e and eé—®é¢˜ï¼‰ã€‚ â€‹ ç»¼ä¸Šï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¼•å…¥äº†Multi-armed Banditæ¨¡å‹ã€‚ å¤šæ‘‡è‡‚è€è™æœºï¼ŒMulti-armed Banditæ˜¯å¼ºåŒ–å­¦ä¹ ä¸­çš„ç»å…¸æ¨¡å‹ï¼Œè€è™æœºæœ‰nä¸ªæ‘‡æ†ï¼Œæ¯ä¸ªæ‘‡æ†iæœ‰P~i~çš„æ¦‚ç‡ä¸­å¥–ï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ‘‡æ†æ‹‰ä¸‹ã€‚&lt;u&gt;ç©å®¶çš„ç›®çš„æ˜¯é€šè¿‡æœ‰ç­–ç•¥çš„å°è¯•ï¼Œæ‰¾åˆ°ä¸­å¥–ç‡æœ€é«˜çš„æ‘‡æ†ï¼ˆå› ä¸ºè¿™ä¹ˆåšå°±å¯ä»¥rewardæœŸæœ›æœ€å¤§åŒ–ï¼‰ã€‚&lt;/u&gt;åœ¨MABæ¸¸æˆä¸­ï¼Œå…¶explorationä»£è¡¨ä¸æ–­å°è¯•ä¸åŒçš„æ‘‡æ†ï¼Œè·å–å…¶å¯¹åº”rewardçš„æœŸæœ›ï¼Œä¹Ÿå°±æ˜¯å¯¹ç¯å¢ƒé‡‡æ ·ï¼›å…¶exploitationä»£è¡¨æ‰¾åˆ°æœ€å¥½çš„ç­–ç•¥ä½¿rewardæœ€å¤§åŒ–ï¼Œè¿™é‡Œæœ€å¥½çš„ç­–ç•¥å°±æ˜¯åªæ‹‰ä¸‹ä¸­å¥–æ¦‚ç‡æœ€é«˜çš„æ‘‡æ†ã€‚ â€‹ åœ¨fuzzingä¸­ï¼Œä¸€ä¸ªseedå°±æ˜¯ä¸€ä¸ªæ‘‡æ†ï¼ˆarmï¼‰ï¼Œå¯¹åº”çš„rewardå°±æ˜¯è¯¥seedè¿è¡Œæ—¶çš„ä¸€ç³»åˆ—å‘ç°ã€‚ â€‹ EcoFuzz[203]å°†å…¶å»ºæ¨¡ä¸ºä¸€ä¸ªMABé—®é¢˜ï¼Œå¹¶ä½¿ç”¨\\(E(t_i)=1-\\frac{P_{ii}}{\\sqrt{i}}\\)æ¥è¡¨ç¤ºæ¯ä¸ªseed tiçš„æœŸæœ›ï¼ˆè€Œä¸æ˜¯æœ€å¼€å§‹çš„æ–°è·¯å¾„æ•°/å˜å¼‚æ¬¡æ•°ï¼Œå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´æœŸæœ›è¶Šæ¥è¶Šå°ï¼Œæ¢¯åº¦è¿‡å°ï¼Œæ¯”è¾ƒç»“æœä¸æ˜æ˜¾ï¼‰ï¼Œè¿™é‡ŒPiiè¡¨ç¤ºä¸€ä¸ªç§å­å˜å¼‚åä»èµ°åŸæ¥è·¯å¾„çš„æ¦‚ç‡ï¼Œæ•…EcoFuzzæ›´åå‘å¯ä»¥ç”Ÿæˆæ–°è·¯å¾„çš„ç§å­ï¼› â€‹ AFL-HIER[88]ä¹Ÿå°†å…¶å»ºæ¨¡ä¸ºä¸€ä¸ªMABé—®é¢˜ï¼Œä¸åŒäºEcoFuzzåªä½¿ç”¨äº†å•ä¸€çš„edge coverageæ¥retainæ–°çš„ç§å­ï¼ŒAFL-HIERåˆ©ç”¨äº†æ›´å¤šè¯„ä»·æ ‡å‡†ï¼ˆå‡½æ•°ï¼Œedgeï¼ŒåŸºæœ¬å—ç­‰ï¼‰ï¼Œå…¶ä½¿ç”¨ä¸€ä¸ªMABç®—æ³•UCB1æ¥è§£å†³å¤šç­‰çº§è¯„ä»·æ ‡å‡†MABé—®é¢˜ã€‚ 2.4 Fitness by State Discovery â€‹ ç‰©ç§å‘ç°é—®é¢˜ï¼šç”Ÿæ€å­¦å®¶ä»é‡å¤–æ”¶é›†å¤§é‡æ ·æœ¬ï¼Œæ ·æœ¬ä¸­çš„ç‰©ç§å¯èƒ½æ˜¯ä¸°å¯Œçš„æˆ–ç½•è§çš„ã€‚ç”Ÿæ€å­¦å®¶æ ¹æ®è¿™äº›æ ·æœ¬æ¨æ–­å‡ºä¸€ä¸ªå®Œæ•´ç»„åˆçš„å±æ€§ï¼ŒåŒ…æ‹¬æœªå‘ç°çš„ç‰©ç§ã€‚ â€‹ åŒæ ·åœ°ï¼Œfuzzeräº§ç”Ÿçš„è¾“å…¥æ˜¯æ”¶é›†çš„æ ·æœ¬ï¼Œè€Œç¨‹åºçš„è¾“å…¥ç©ºé—´æ˜¯æ•´ä¸ªé›†åˆä½“ã€‚fuzzingç®—æ³•æ ¹æ®ç‰¹å®šçš„æŒ‡æ ‡å°†è¾“å…¥å½’ç±»ä¸ºä¸åŒçš„ç§ç±»ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ‰§è¡Œè·¯å¾„å¯ä»¥æ˜¯ä¸€ä¸ªç‰©ç§ï¼Œæ‰€æœ‰è¡Œä½¿è¯¥è·¯å¾„çš„è¾“å…¥éƒ½å±äºè¿™ä¸ªç‰©ç§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç½•è§çš„ç‰©ç§æ˜¯ä¸€ä¸ªåªæœ‰å°‘æ•°è¾“å…¥è¡Œä½¿çš„æ‰§è¡Œè·¯å¾„ã€‚ç‰©ç§å‘ç°ä¸­çš„ä¸€ä¸ªé‡è¦å‡è®¾æ˜¯ï¼Œæœªå‘ç°çš„ç‰©ç§çš„å±æ€§å‡ ä¹åªèƒ½ç”±å·²å‘ç°çš„ç¨€æœ‰ç‰©ç§æ¥è§£é‡Š[31]ã€‚è¿™ä¸ªå‡è¯´æ„å‘³ç€fuzzingå¯ä»¥ç»™ç¨€æœ‰ç‰©ç§ï¼ˆç¨€æœ‰è·¯å¾„ï¼‰åˆ†é…æ›´å¤šçš„èƒ½é‡æ¥å‘ç°æ–°çš„çŠ¶æ€ã€‚ â€‹ åŸºäºç‰©ç§å‘ç°çš„é—®é¢˜ï¼ŒEntropic[21]å°†fuzzingç†è§£ä¸ºä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹ï¼›å³fuzzeré€æ¸å­¦ä¹ æ›´å¤šå…³äºç¨‹åºè¡Œä¸ºçš„ä¿¡æ¯ï¼ˆç‰©ç§ï¼‰ã€‚Entropicå»ºè®®ä½¿ç”¨Shannonâ€™s entropyï¼ˆé¦™å†œç†µï¼‰[170]æ¥è¡¡é‡ç‰©ç§å‘ç°çš„æ•ˆç‡ï¼ŒåŸå§‹çš„é¦™å†œç†µHè¡¡é‡ç‰©ç§çš„å¹³å‡ä¿¡æ¯ï¼Œè®¡ç®—å…¬å¼ä¸º\\(H = -\\sum_i{p_ilog(p_i)}\\)ï¼Œå…¶ä¸­piæ˜¯é€‰æ‹©ç‰©ç§Siçš„æ¦‚ç‡ã€‚å¦‚æœæ”¶é›†çš„æ ·æœ¬åŒ…å«è®¸å¤šç‰©ç§ï¼Œç†µHå°±å¤§ï¼ˆä¿¡æ¯é‡å¤§ï¼‰ï¼›å¦åˆ™ï¼Œå¦‚æœæ”¶é›†çš„æ ·æœ¬åŒ…å«å°‘æ•°ç‰©ç§ï¼Œç†µHå°±å°ï¼ˆä¿¡æ¯é‡å°ï¼‰ã€‚ â€‹ åŒæ—¶ï¼ŒEntropicè®¤ä¸ºï¼Œç‰©ç§çš„å‘ç°ç‡å¯ä»¥é‡åŒ–fuzzerçš„æ•ˆç‡ã€‚æ ¹æ®é¦™å†œç†è®ºæ¨å¯¼ï¼ŒEntropicè¡¡é‡ç§å­çš„ç‰©ç§å‘ç°æ•ˆç‡ã€‚å…·ä½“æ¥è¯´ï¼Œ\\(p_i^t\\)æ˜¯å˜å¼‚ç§å­tå¹¶äº§ç”Ÿå±äºç‰©ç§Siçš„è¾“å…¥çš„æ¦‚ç‡ã€‚ç§å­tçš„å­¦ä¹ ç‡æ˜¯æ ¹æ®æ¦‚ç‡\\(p_i^t\\)å’Œæ”¹è¿›çš„ç†µä¼°è®¡å™¨è®¡ç®—çš„ã€‚é€šè¿‡ç†µå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œæ›´å¤šçš„èƒ½é‡è¢«åˆ†é…ç»™å­¦ä¹ ç‡è¾ƒå¤§çš„ç§å­ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå‘ç°æ–°ç‰©ç§æ›´æœ‰æ•ˆçš„ç§å­è¢«åˆ†é…æ›´å¤šçš„èƒ½é‡ã€‚ 3. Byte Schedule â€‹ Byte Scheduleçš„ä½œç”¨æ˜¯å†³å®šåœ¨ç§å­ä¸­é€‰æ‹©ä¸€ä¸ªå­—èŠ‚æ¥è¿›è¡Œå˜å¼‚çš„é¢‘ç‡ã€‚å¤§å¤šæ•°fuzzeré€šè¿‡è¿è¡Œä¿¡æ¯æ¥å¯å‘å¼æˆ–éšæœºåœ°é€‰æ‹©å­—èŠ‚ã€‚ç›¸è¾ƒäºSeed Scheduleï¼ŒByte Scheduleéœ€è¦å¯¹ç¨‹åºæœ‰ç€è·Ÿæ·±å…¥çš„ç†è§£ï¼Œä¾‹å¦‚å¯¹è·¯å¾„æ¡ä»¶å’Œæ•°æ®æµçš„åˆ†æã€‚ â€‹ å®šä¹‰The importance of bytesï¼šbyteså¦‚ä½•å½±å“fuzzingã€‚ å½±å“branch behaviorï¼šNEUZZ [172]å’ŒMTFuzz [171]å°†è¾“å…¥byteså’Œbranch behaviorsä¹‹é—´çš„å…³ç³»é€šè¿‡æ·±åº¦å­¦ä¹ æ¨¡å‹å»ºæ¨¡ï¼ŒDLæ¨¡å‹çš„æ¢¯åº¦é‡åŒ–äº†bytesçš„é‡è¦æ€§ï¼Œå› ä¸ºä¸€ä¸ªbytesçš„æ¢¯åº¦è¶Šå¤§ï¼Œè¯¥bytesçš„å¾ˆå°çš„æ‰°åŠ¨å°±ä¼šå¯¼è‡´branch behaviorsçš„é‡å¤§å·®å¼‚ã€‚æ•…å¯¹äºæ¥ä¸‹æ¥çš„ç§å­å˜å¼‚ï¼Œfuzzingå°†ä¼˜å…ˆè€ƒè™‘å…·æœ‰è¾ƒé«˜é‡è¦æ€§çš„bytesè¿›è¡Œçªå˜ã€‚ å½±å“fitnessï¼šAFLChurn [214]åˆ©ç”¨äº†Ant Colony Optimization (ACO)ï¼Œèšç¾¤ä¼˜åŒ–ç®—æ³•æ¥å­¦ä¹ byteså¦‚ä½•å½±å“ç§å­çš„fitnessã€‚ 4. Mutation Operator Schedule â€‹ Mutation Operator Scheduleçš„ä½œç”¨æ˜¯é€‰æ‹©ä¸€ä¸ªå˜å¼‚æ“ä½œæ¥å¯¹æ‰€é€‰bytesè¿›è¡Œå˜å¼‚ï¼ŒMutation Scheduleå†³å®šäº†ä¸‹ä¸€æ¬¡å˜å¼‚bytesæ—¶ä½¿ç”¨é‚£ç§å˜å¼‚æ–¹æ³•ï¼Œå³å˜å¼‚å™¨ï¼ˆmutatorï¼‰ã€‚ â€‹ Classfuzz [42]è®¤ä¸ºæ¢ç´¢äº†æ›´å¤šæ–°çŠ¶æ€çš„mutatorè¢«é€‰ä¸­çš„æ¦‚ç‡åº”è¯¥æ›´é«˜ï¼Œå› æ­¤ï¼ŒClassfuzzå‡è®¾Markov Chain Monte Carlo (MCMC)å¯ä»¥å¯¹Mutation Scheduleçš„è¿‡ç¨‹è¿›è¡Œå»ºæ¨¡ï¼Œå…¶é‡‡ç”¨äº†H-M(Metropolis-Hastings)ç®—æ³•ã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªçªå˜å™¨éƒ½æœ‰ä¸€ä¸ªæˆåŠŸç‡ï¼Œå®ƒå¯ä»¥é‡åŒ–çªå˜å™¨æ‰€æ¢ç´¢çš„æ–°çŠ¶æ€ã€‚Classfuzzé¦–å…ˆéšæœºé€‰æ‹©ä¸‹ä¸€ä¸ªå˜ä½“ï¼Œç„¶åæ ¹æ®å½“å‰å˜ä½“å’Œæ‰€é€‰å˜ä½“çš„æˆåŠŸç‡æ¥æ¥å—æˆ–æ‹’ç»é€‰æ‹©ã€‚ â€‹ MOPT[116]é‡‡ç”¨äº†Particle Swarm Optimization (PSO)ï¼Œç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•æ¥å¯¹mutatoré€‰æ‹©è¿‡ç¨‹å»ºæ¨¡ï¼Œæ„å»ºmutatoré€‰æ‹©çš„æ¦‚ç‡åˆ†å¸ƒã€‚ 5. Diverse Information for Fitness â€‹ Fitnessé™¤äº†åº”ç”¨äºschedule of seeds, bytes, å’Œmutatorsï¼Œä¹Ÿå¯ä»¥è¢«åº”ç”¨äºseed retentionã€‚Fuzzersé€šå¸¸åˆ©ç”¨é—ä¼ ç®—æ³•ï¼ˆGAï¼‰æ¥åˆ¶å®šç§å­ä¿ç•™çš„è¿‡ç¨‹ã€‚å…·ä½“æ¥è¯´ï¼Œfuzzeré€šè¿‡å˜å¼‚ç§å­ç”Ÿæˆè¾“å…¥ï¼Œå¦‚æœè¾“å…¥æ¢ç´¢åˆ°æ–°çš„æ‰§è¡ŒçŠ¶æ€ï¼ˆå³æ›´å¥½çš„fitnessï¼‰ï¼Œåˆ™è¯¥è¾“å…¥ä¼šè¢«ä¿ç•™ä¸ºæ–°çš„ç§å­ã€‚å½“ä¸ºä¸‹ä¸€è½®æµ‹è¯•é€‰æ‹©ç§å­æ—¶ï¼ˆåŸºäºseed scheduleï¼‰ï¼Œfuzzingå¯èƒ½ä¼šé€‰æ‹©è¿™ä¸ªæ–°çš„ç§å­ã€‚ â€‹ ä¸ºäº†æé«˜å¯¹defectå‘ç°çš„èƒ½åŠ›ï¼Œéœ€è¦æ›´æ•æ„Ÿçš„ä»£ç è¦†ç›–ç‡æ¥æ­ç¤ºæ›´å¤šçš„æ‰§è¡ŒçŠ¶æ€ä¿¡æ¯ã€‚å¦ä¸€æ–¹é¢ï¼Œé’ˆå¯¹ä¸€äº›ç‰¹å®šçš„åœºæ™¯ï¼Œå¦‚æ·±åº¦å­¦ä¹ æ¨¡å‹[148]æˆ–æœºå™¨äººè½¦è¾†[82]ï¼Œè®¾è®¡äº†æ–°çš„fitnessç±»å‹ã€‚è¯·æ³¨æ„ï¼Œfitnessä¿¡æ¯çš„å¤šæ ·æ€§åœ¨å‰é¢æåˆ°çš„seed retentionå’Œscheduleé—®é¢˜ä¸Šéƒ½å¾—åˆ°äº†åˆ©ç”¨ã€‚ 5.1 Sensitive Code Coverage â€‹ Fitnessçš„æ•æ„Ÿæ€§è¡¨æ˜å…¶åŒºåˆ«ä¸åŒç¨‹åºè¿è¡ŒçŠ¶æ€çš„èƒ½åŠ›ã€‚ â€‹ è®¸å¤šcoverage-guided fuzzersä¼šå®ç°ä¸€ä¸ªbitmapç”¨äºå‘fuzzingæä¾›edge-coverageçš„ä¿¡æ¯ï¼Œbitmapæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç´§å‡‘çš„vectorï¼Œå…¶ç´¢å¼•ä»£è¡¨äº†å¯¹åº”edgeçš„æ ‡è¯†ç¬¦ï¼Œæ ‡è¯†ç¬¦æ˜¯\\(hash(b_i,b_j)\\)ï¼Œbiå’Œbjæ˜¯éšæœºåˆ†é…çš„å—æ ‡è¯†ç¬¦ã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¦‚æœå­˜åœ¨å“ˆå¸Œç¢°æ’ï¼Œå¯¼è‡´\\(id_{AB}=id_{AC} , id_{BD}=id_{CD}\\)ï¼Œåˆ™è·¯å¾„ABDå’ŒACDå°±ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€æ¡è·¯å¾„ã€‚å¦‚æœå­˜åœ¨Bugè·¯å¾„ACDEGï¼Œåˆ™å…¶ä¼šè¢«fuzzerå¿½ç•¥ã€‚è™½ç„¶è¿™ç§å®ç°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é€Ÿåº¦å¾ˆå¿«ï¼Œä½†å®ƒç‰ºç‰²äº†edge-coverageçš„ç²¾åº¦ã€‚ â€‹ æœ‰äº†bitmapï¼Œfuzzingå¯ä»¥ç¡®å®šä¸€ä¸ªè¾“å…¥æ˜¯å¦è¡Œè¦†ç›–äº†æ–°çš„edgeï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå°±ä¿ç•™è¿™ä¸ªè¾“å…¥ä½œä¸ºæ–°çš„ç§å­ã€‚å…·ä½“æ¥è¯´ï¼Œfuzzingç»´æŠ¤ä¸€ä¸ªæ€»ä½“bitmapï¼Œå®ƒæ˜¯å•ä¸ªæ‰§è¡Œçš„bitmapçš„è”åˆã€‚å½“ç¡®å®šæ–°è¾¹æ—¶ï¼Œfuzzingå°†å•ä¸ªbitmapä¸æ•´ä½“bitmapè¿›è¡Œæ¯”è¾ƒï¼Œä»¥æ£€æŸ¥å•ä¸ªbitmapä¸­æ˜¯å¦å­˜åœ¨æ–°è¾¹ã€‚ â€‹ ç„¶è€Œï¼Œä½å›¾çš„è”åˆä¼šå¤±å»æ‰§è¡Œçš„ä¿¡æ¯[118]ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå›¾3(a)ä¸­çš„è·¯å¾„ABDEGå’ŒACDFGå·²ç»è¢«æ‰§è¡Œï¼Œé‚£ä¹ˆæ‰§è¡Œæ–°è·¯å¾„ACDEGçš„è¾“å…¥å°†ä¸ä¼šè¢«ä¿ç•™ä¸ºç§å­ï¼Œå› ä¸ºæ‰€æœ‰çš„è¾¹å·²ç»å­˜åœ¨äºæ•´ä½“bitmapä¸­ã€‚å› æ­¤ï¼Œä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å°†æ‰€æœ‰å•ä¸ªçš„bitmapç»„åˆèµ·æ¥[118]ã€‚å› ä¸ºbitmapçš„ç»„åˆä¼šå¼•å…¥å¤ªå¤šçš„ç§å­ï¼Œä¸€ä¸ªå…³é”®çš„æŒ‘æˆ˜æ˜¯å¦‚ä½•å¹³è¡¡fuzzingçš„æ•ˆç‡å’Œä¿æŒè¦†ç›–ç‡çš„æ•æ„Ÿæ€§ã€‚ä¸€ä¸ªæ½œåœ¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨åŠ¨æ€ä¸»æˆåˆ†åˆ†æ[191]æ¥é™ä½æ•°æ®é›†çš„ç»´åº¦[118]ã€‚ â€‹ å…¶ä»–æé«˜edge-coverageçµæ•åº¦çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬è·¯å¾„å“ˆå¸Œ[198]ã€è°ƒç”¨ä¸Šä¸‹æ–‡[37, 87, 171]ã€å¤šçº§è¦†ç›–[88]å’Œä»£ç å¤æ‚æ€§[105]ï¼Œè¿™äº›éƒ½ä¸ºè¾¹ç¼˜è¦†ç›–å¢åŠ äº†é¢å¤–çš„ä¿¡æ¯ã€‚ â€‹ ä¸“æ³¨äºä»£ç è¦†ç›–ç‡çš„fuzzingä¹Ÿä¸ä¸€å®šé€‚åˆæ¢ç´¢å¤æ‚çš„æ‰§è¡ŒçŠ¶æ€ã€‚ä¸Šå›¾æ˜¯ä¸€ä¸ªè¿·å®«ç¨‹åºï¼Œæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œåªæœ‰å½“èµ°åˆ°å‡ºå£æ—¶æ‰ä¼šå‡ºå‘Bugã€‚ç„¶è€Œï¼Œç”±äºswitchè¯­å¥åªæœ‰å››æ¡edgeï¼Œå¾ˆå¿«å°±ä¼šæ¢ç´¢å®Œï¼Œåœ¨è¿™ä¹‹åfuzzingå°±å¾ˆéš¾ç»§ç»­æ ¹æ®ä»£ç è¦†ç›–ç‡æ¥æŒ‡å¯¼æµ‹è¯•ã€‚ 5.2 Diverse Fitness â€‹ Fitnesså¹¶ä¸ä¸€å®šéå¾—ç”¨code coverageï¼Œå®é™…ä¸Šï¼Œcode coverageä¸æ˜¯ä¸€ç›´æ˜¯æœ€å¥½çš„é€‚åˆfuzzingåé¦ˆä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰code coverageï¼Œä¸€ä¸ªç›´è§‰ä¸Šçš„åšæ³•æ˜¯æ ¹æ®æ‰§è¡Œç»“æœä¿ç•™ç§å­ï¼Œå¦‚æ‰§è¡Œç»“æœçš„åˆæ³•æ€§[141]æˆ–åè®®å®ç°çš„çŠ¶æ€æœº[154]ã€‚ä¸åŒçš„fitnesså¦‚ä¸‹ï¼š Legality of execution resultï¼šä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç¨‹åºï¼ˆå¦‚Javaï¼‰ç”±ä¸€è¿ä¸²çš„æ–¹æ³•è°ƒç”¨ç»„æˆï¼Œæ‰§è¡Œç»“æœè¦ä¹ˆåˆæ³•ï¼Œè¦ä¹ˆæŠ›å‡ºå¼‚å¸¸ã€‚Fuzzingç”Ÿæˆå¹¶è·å¾—å¯ä»¥å¯ä»¥æ¢ç´¢æ›´å¤šæ–°çš„ã€åˆæ³•çš„å¯¹è±¡çŠ¶æ€æ–°çš„æ–¹æ³•è°ƒç”¨åºåˆ—[141] ï¼› State machine of protocol implementationsï¼šä¸€ä¸ªçŠ¶æ€æœºç”±çŠ¶æ€é›†åˆå’Œè½¬å˜å…¶çŠ¶æ€çš„è¾“å…¥ç»„æˆã€‚ç”±äºåè®®çš„å¤æ‚æ€§ï¼Œfuzzeré€šå¸¸é€šè¿‡é€æ¸å‘çŠ¶æ€æœºæ·»åŠ æ–°çš„çŠ¶æ€æ¥æ¨æ–­çŠ¶æ€æœº[55, 61, 64, 69, 154]ã€‚çŠ¶æ€æœºä»ä¸€ä¸ªç§å­ï¼ˆå³åˆå§‹çŠ¶æ€æœºï¼‰å¼€å§‹ï¼Œfuzzerå¯¹çŠ¶æ€æœºçš„å½“å‰çŠ¶æ€è¿›è¡Œçªå˜ä»¥æ¢ç´¢æ–°çš„çŠ¶æ€ã€‚æ¼æ´çš„åˆ†ææ˜¯åŸºäºçŠ¶æ€æœºçš„ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æœç´¢å¯¼è‡´æ¼æ´çš„è½¬æ¢[55]ï¼› Safety policy of robotic vehiclesï¼šå®‰å…¨ç­–ç•¥æ˜¯å¯¹æœºå™¨äººè½¦è¾†çš„ç‰©ç†æˆ–åŠŸèƒ½å®‰å…¨çš„è¦æ±‚ï¼Œä¾‹å¦‚è½¦è¾†å‘åŠ¨æœºçš„æœ€é«˜æ¸©åº¦[82]ã€‚å½“ä¸€ä¸ªè¾“å…¥æ›´æ¥è¿‘äºè¿åæ”¿ç­–æ—¶ï¼Œè¯¥è¾“å…¥å°±ä¼šè¢«ä¿ç•™ä¸‹æ¥ï¼Œä¾›ä»¥åçªå˜ä½¿ç”¨ï¼› Fitness for deep learning systemsï¼šThe fuzzing of deep learning systems (DLSs) æ—¨åœ¨æé«˜å®ƒä»¬çš„é²æ£’æ€§å’Œå¯é æ€§[68, 115, 148]ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œfuzzerè®¾è®¡äº†ä¸åŒç±»å‹çš„fitnessï¼Œä¾‹å¦‚ç”¨äºå‘ç°è§’è½çŠ¶æ€çš„ç¥ç»å…ƒè¦†ç›–ç‡[148]ï¼Œç”¨äºå¢å¼ºè®­ç»ƒæ•°æ®çš„æŸå¤±å‡½æ•°[68]ï¼Œæˆ–è€…ç”¨äºæ¢ç´¢æ·±åº¦å­¦ä¹ æ¨ç†å¼•æ“ï¼ˆå³æ¡†æ¶å’Œåº“ï¼‰çš„æ“ä½œè€…çº§è¦†ç›–ç‡[115]ã€‚ Validation log of Android SmartTVsï¼šéªŒè¯æ—¥å¿—æ˜¯æ­£åœ¨æ‰§è¡Œçš„Androidæ™ºèƒ½ç”µè§†çš„ä¿¡æ¯[1]ã€‚éªŒè¯æ—¥å¿—è¢«ç”¨æ¥æ¨æ–­æœ‰æ•ˆè¾“å…¥å’Œæå–è¾“å…¥è¾¹ç•Œã€‚æœ‰æ•ˆè¾“å…¥ä¸ºfuzzingæä¾›äº†æœ‰æ•ˆçš„ç§å­ï¼Œè€Œè¾“å…¥è¾¹ç•Œåˆ™å‡å°‘äº†è¾“å…¥çš„æœç´¢ç©ºé—´ã€‚ Behavioral asymmetry of differential testingï¼šå¯¹äºå·®åˆ†æµ‹è¯•(differential testing)ï¼Œé”™è¯¯æ˜¯é€šè¿‡è§‚å¯Ÿä¸åŒå®ç°çš„è¡Œä¸ºå·®å¼‚å‘ç°çš„ï¼Œè¿™äº›å®ç°å…·æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼Œåœ¨ç›¸åŒçš„è¾“å…¥ä¸Šã€‚è¡Œä¸ºçš„ä¸å¯¹ç§°æ€§è¡¨æ˜å„ç§å®ç°çš„å·®å¼‚ç¨‹åº¦ã€‚æ¨¡ç³Šæµ‹è¯•çš„ç›®çš„æ˜¯ç”Ÿæˆèƒ½å¤Ÿå‘ç°æ›´å¤šå·®å¼‚çš„æµ‹è¯•æ¡ˆä¾‹ï¼› Alias coverage for data raceï¼šåˆ«åè¦†ç›–æ˜¯ä¸ºäº†æ£€æµ‹å†…æ ¸æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ•°æ®ç«äº‰[194]ã€‚æ•°æ®ç«äº‰æ˜¯ä¸€ä¸ªå¹¶å‘çš„é”™è¯¯ï¼Œå…¶ä¸­ä¸¤ä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªå…±äº«çš„å†…å­˜ä½ç½®è€Œæ²¡æœ‰é€‚å½“çš„åŒæ­¥ã€‚å› æ­¤ï¼Œåˆ«åè¦†ç›–è·Ÿè¸ªå¯èƒ½ç›¸äº’äº¤é”™çš„å†…å­˜è®¿é—®å¯¹ï¼› Dangerous locations for bugsï¼šå±é™©çš„ä½ç½®ï¼ˆDangerous locationsï¼‰æ˜¯é‚£äº›æœ‰æ›´é«˜æ¦‚ç‡è§¦å‘é”™è¯¯çš„ä»£ç åŒºåŸŸã€‚å› æ­¤ï¼Œfuzzerå¯ä»¥å°†èµ„æºå¼•å‘è¿™äº›ä½ç½®ï¼Œä»¥æé«˜fuzzingçš„æ•ˆæœå’Œæ•ˆç‡ã€‚å¯¹äºå¹¶å‘æ€§é”™è¯¯ï¼Œå±é™©ä½ç½®é€šå¸¸æ˜¯æŒ‡å¯¼è‡´è¿ååŸå­æ€§çš„ä»£ç åŒºåŸŸ[97]ã€æ•°æ®ç«èµ›[84, 167]æˆ–å¯ç–‘çš„äº¤ç»‡[35]ã€‚å¯¹äºéå¹¶å‘æ€§é”™è¯¯ï¼Œå±é™©ä½ç½®å¯ä»¥é€šè¿‡è¡¥ä¸æµ‹è¯•[122]ã€å´©æºƒå†ç°[155]ã€é™æ€åˆ†ææŠ¥å‘Š[48]æˆ–ä¿¡æ¯æµæ£€æµ‹[123]è·å¾—ã€‚æ­¤å¤–ï¼Œå±é™©ä½ç½®å¯èƒ½æ˜¯å†…å­˜è®¿é—®[84ï¼Œ182ï¼Œ188]ï¼Œsanitizeræ£€æŸ¥[40ï¼Œ140]ï¼Œæˆ–æäº¤å†å²[214]ã€‚ â€‹ 6. Evaluation Theory â€‹ Fuzzingçš„è¯„æµ‹é€šå¸¸ä¸æ£€æµ‹é˜¶æ®µåˆ†å¼€è¿›è¡Œï¼Œç„¶è€Œï¼Œæˆ‘ä»¬è®¤ä¸ºè¯„ä¼°æ˜¯fuzzingè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºé€‚å½“çš„è¯„ä¼°å¯ä»¥å¸®åŠ©æé«˜fuzzingçš„æ€§èƒ½[215]ã€‚é€‚å½“çš„è¯„ä»·åŒ…æ‹¬æœ‰æ•ˆçš„å®éªŒcorpus[215]ã€å…¬å¹³çš„è¯„ä»·ç¯å¢ƒ/å¹³å°[30, 104, 126]ã€åˆç†çš„fuzzingæ—¶é—´[17, 20]å’Œå…¨é¢çš„æ¯”è¾ƒæŒ‡æ ‡[96, 104]ã€‚å°½ç®¡è¿™äº›ç ”ç©¶å·¥ä½œåœ¨é€‚å½“çš„è¯„ä»·æ–¹é¢åšå‡ºäº†åŠªåŠ›ï¼Œä½†å…³äºå¦‚ä½•è¯„ä»·æŠ€æœ¯ï¼ˆå³fuzzing algorithmsï¼‰è€Œä¸æ˜¯å®ç°ï¼ˆå³å®ç°ç®—æ³•çš„ä»£ç ï¼‰ï¼Œä»ç„¶æ˜¯ä¸€ä¸ªå¼€æ”¾çš„é—®é¢˜[18]ã€‚ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯åŸºäºç»Ÿè®¡æµ‹è¯•æ¥è¯„ä¼°fuzzerï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåæ˜ æ¨¡ç³ŠæŠ€æœ¯ä¹‹é—´å·®å¼‚çš„å¯èƒ½æ€§[96]ã€‚ 7. Summary â€‹ ä¸‹è¡¨è¡¨æ˜äº†ä¸åŒfuzzing processesä½¿ç”¨çš„ä¸åŒä¼˜åŒ–æ–¹æ³•æ¥ä¼˜åŒ–input generationï¼š Solution: MC:Markov Chain MSCP:Minimal Set Cover Problemï¼Œæœ€å°é›†åˆè¦†ç›–é—®é¢˜ï¼› Tutorial-è¦†ç›–é—®é¢˜ ILP:Integer Linear Programming Problemï¼Œæ•´æ•°è§„åˆ’é—®é¢˜ï¼› WCCP:Weighted Coupon Collectorâ€™s Problemï¼Œå½©ç¥¨æ”¶é›†é—®é¢˜ï¼› VAMAB:Variant of Adversarial Multi-Armed Banditï¼Œå¯¹æŠ—æ€§å¤šè‡‚è€è™æœºçš„å˜ç§ï¼› UCB1:Upper Confidence Boundç®—æ³•ï¼Œè§£å†³MABé—®é¢˜çš„ä¸€ç§ç®—æ³•ï¼› MH:Metropolis-Hastingsé‡‡æ ·ï¼› PSO:Particle Swarm Optimizationï¼Œç²’å­ç¾¤ä¼˜åŒ–ï¼› Shannon:é¦™å†œç†è®ºï¼› **Species*:**Models of Species Discoveryï¼Œç‰©ç§å‘ç°æ¨¡å‹ï¼› ACO:Ant Colony Optimizationï¼Œèšç¾¤ä¼˜åŒ–ï¼› SA:Simulated Annealingï¼Œæ¨¡æ‹Ÿé€€ç«ç®—æ³•ï¼› NN: ç¥ç»ç½‘ç»œï¼› MTNN:Multi-task Neural Networksï¼Œå¤šä»»åŠ¡NNï¼› GA:Genetic Algorithmï¼Œé—ä¼ ç®—æ³•ï¼› GD:Gradient Descentï¼Œæ¢¯åº¦ä¸‹é™ï¼› MOO:Multi-objective Optimizationï¼Œå¤šç›®æ ‡ä¼˜åŒ–ï¼› R:Randomï¼Œéšæœºã€‚ set:Seed Set Selection seed:Seed Schedule byte:Byte Schedule mutation:Mutation Schedule rete:Seed Retention-&gt;å°†æµ‹è¯•è¿‡ç¨‹ä¸­ç”Ÿæˆçš„æœ‰ä»·å€¼çš„inputåŠ å…¥population Input space optimization â€‹ ä¸Šä¸€èŠ‚æè¿°äº†fuzzerå¯ä»¥é€šè¿‡ä¼˜åŒ–è¾“å…¥çš„ç”Ÿæˆæ¥æé«˜æ•ˆç‡ï¼Œè¿™ä¸€èŠ‚è®²è§£å…¶å¦‚ä½•é€šè¿‡å‡å°‘è¾“å…¥ç©ºé—´æ¥ä¼˜åŒ–ã€‚ â€‹ Fuzzerå¯ä»¥å°†è¾“å…¥ä¸­çš„ç›¸å…³bytesåˆ†ç»„ï¼Œå¹¶å¯¹æ¯ç»„åº”ç”¨ç‰¹å®šçš„mutatorã€‚å‡è®¾ä¸€ä¸ªè¾“å…¥åŒ…æ‹¬aÃ—bä¸ªå­—èŠ‚ï¼Œå¹¶è¢«å¹³å‡åˆ†æˆaä¸ªéƒ¨åˆ†ï¼›é‚£ä¹ˆåœ¨è§£å†³ä¸€ä¸ªç‰¹å®šçš„è·¯å¾„çº¦æŸæ—¶ï¼Œfuzzingçš„æœç´¢ç©ºé—´æ˜¯\\(a\\times256^b\\)ï¼Œè€Œä¸æ˜¯\\(256^{a\\times b}\\)ã€‚ â€‹ ç›¸å…³è”çš„å­—èŠ‚å¯ä»¥æ˜¯æ„å»ºç›¸åŒæ•°æ®ç»“æ„çš„å­—èŠ‚[16, 201]ï¼Œå½±å“ç›¸åŒè·¯å¾„çº¦æŸçš„å­—èŠ‚[37, 38, 65, 67, 157, 160, 187]ï¼Œæˆ–è€…ç¬¦åˆè¯­æ³•çš„ç›¸åŒéƒ¨åˆ†[78, 115, 120, 136, 181, 197, 212]ã€‚MutatoråŒ…æ‹¬å­—èŠ‚çªå˜ï¼ˆä¾‹å¦‚ï¼Œæ¯”ç‰¹ç¿»è½¬ã€å­—èŠ‚åˆ é™¤å’Œå­—èŠ‚æ’å…¥ï¼‰[23, 206]å’Œå—çªå˜ï¼ˆä¾‹å¦‚ï¼Œå—æ›¿æ¢ã€å—åˆ é™¤å’Œå—æ’å…¥ï¼‰ã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¾“å…¥è¢«åˆ†ä¸ºäº†å˜é‡iã€kå’Œæ•°ç»„aï¼Œå¦‚æœå‰é¢çš„æ¡ä»¶æ»¡è¶³ï¼ˆline13ï¼‰ï¼Œåˆ™å½“åˆ¤æ–­åˆ°14è¡Œæ—¶ï¼Œæ•´ä¸ªæœç´¢ç©ºé—´å°±åªå‰©1bytesäº†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨å…¨å±€è¾“å…¥ç©ºé—´å¯¹ä¸Šå›¾ï¼ˆaï¼‰ä¸­çš„line14çš„æ¡ä»¶è¿›è¡Œæ£€éªŒï¼Œfuzzingéœ€è¦ç”Ÿæˆ\\(256^{11}\\)ä¸ªè¾“å…¥æ¥éå†æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼ˆè¾“å…¥æœ‰11ä¸ªå­—èŠ‚ï¼‰ã€‚ä½†å¦‚æœæ ¹æ®æºç åˆ†æï¼Œåªæœ‰ç¬¬11ä¸ªå­—èŠ‚æ‰å½±å“a[2]çš„å€¼ï¼Œé‚£ä¹ˆåªéœ€è¦å˜å¼‚è¿™ä¸€ä¸ªå­—èŠ‚å³å¯ï¼Œæ•…åªéœ€è¦ç”Ÿæˆ256ä¸ªè¾“å…¥å°±å¯ä»¥éå†æ‰€æœ‰å¯èƒ½æƒ…å†µã€‚ â€‹ ä¸€ç§ç‰¹æ®Šçš„è¾“å…¥æ˜¯é«˜åº¦ç»“æ„åŒ–çš„è¾“å…¥ï¼Œå®ƒè¢«ç”¨äºåè®®å®ç°ã€æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å¼•æ“å’Œç¼–è¯‘å™¨ç­‰åº”ç”¨ã€‚å¦‚å›¾ä¸Šå›¾æ‰€ç¤ºï¼ŒcJSONè§£æå™¨è¦æ±‚ä¸€ä¸ªè¾“å…¥çš„ç‰‡æ®µä»¥æŸäº›ç‰¹å®šçš„å­—ç¬¦å¼€å§‹ï¼Œå¦‚æœä¸€ä¸ªè¾“å…¥è¿åäº†è¿™ä¸ªè¦æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªè¾“å…¥å°±ä¸å…è®¸æ£€æŸ¥è§£æå™¨æ‰€ä¿æŠ¤çš„åŠŸèƒ½ã€‚ 1. Byte-constraint Relation â€‹ å¯¹äºå¤§å¤šæ•°è·¯å¾„çº¦æŸï¼Œå®ƒä»¬åªå—è¾“å…¥çš„ä¸€å°éƒ¨åˆ†å½±å“ã€‚å¦‚æœfuzzeråªå¯¹ç›¸å…³çš„å­—èŠ‚è¿›è¡Œå˜å¼‚ï¼Œé‚£ä¹ˆé€šè¿‡å‡å°‘è¾“å…¥çš„æœç´¢ç©ºé—´ï¼Œfuzzingçš„æ€§èƒ½å¯ä»¥å¾—åˆ°æ˜æ˜¾çš„æ”¹å–„ï¼ˆå¦‚ä¸Šå›¾a)ï¼Œè¿™å°±æ˜¯byte-constraint relationã€‚ â€‹ åœ¨è·å¾—Byte-constraint relationåï¼Œä¸€ä¸ªç®€å•çš„å˜å¼‚æ–¹æ¡ˆæ˜¯éšæœºåœ°å˜å¼‚ç›¸å…³çš„å­—èŠ‚[67, 157, 187]ã€‚ä¸€ä¸ªæ›´ç»Ÿä¸€çš„æ–¹æ³•æ˜¯å°†ä¸€ä¸ªå­—èŠ‚çš„å€¼åˆ†åˆ«ä»0åˆ°255è®¾ç½®[172]ã€‚ç„¶è€Œï¼Œè¿™ä¸¤ç§æ–¹æ¡ˆæ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºå®ƒä»¬å¹¶ä¸äº†è§£å…¶ç”Ÿæˆçš„è¾“å…¥çš„è´¨é‡ã€‚å¦‚æœbyte-constraint relationçš„æ¨æ–­è¿‡ç¨‹å¯ä»¥è·å¾—ç¨‹åºä¸­æ¯”è¾ƒæŒ‡ä»¤çš„å€¼ï¼Œfuzzingå°±å¯ä»¥çªå˜ç›¸å…³çš„å­—èŠ‚ï¼Œå¹¶é€‰æ‹©åœ¨é€šè¿‡è·¯å¾„çº¦æŸæ–¹é¢å–å¾—è¿›å±•çš„è¾“å…¥ã€‚æ­¤å¤–ï¼Œfuzzerå¯ä»¥åˆ©ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•æ¥çªå˜ç›¸å…³å­—èŠ‚å¹¶é€æ¸è§£å†³è·¯å¾„çº¦æŸ[37, 38]ã€‚ 1.1 Dynamic Taint Analysis â€‹ åŠ¨æ€æ±¡ç‚¹åˆ†æï¼ŒDynamic taint analysis (DTA)ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„æŠ€æœ¯ï¼Œç”¨äºå»ºç«‹è¾“å…¥å­—èŠ‚å’Œè·¯å¾„çº¦æŸä¹‹é—´çš„å…³ç³»ã€‚DTAåœ¨è¾“å…¥ä¸­æ ‡è®°æŸäº›æ•°æ®ï¼Œå¹¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼ æ’­è¿™äº›æ ‡ç­¾ï¼Œå¦‚æœç¨‹åºä¸­çš„ä¸€ä¸ªå˜é‡è·å¾—äº†ä¸€ä¸ªæ ‡ç­¾ï¼Œè¯¥å˜é‡å°±ä¼šè¢«è¿æ¥åˆ°å…·æœ‰è¯¥æ ‡ç­¾çš„æ•°æ®ä¸Šã€‚Fuzzer[37, 38, 67, 157, 160, 187]ä¸€èˆ¬åˆ©ç”¨DTAåœ¨è¾“å…¥å­—èŠ‚å’Œå®‰å…¨æ•æ„ŸèŠ‚ç‚¹ï¼ˆç³»ç»Ÿ/åº“è°ƒç”¨ï¼Œæ¡ä»¶è·³è½¬ï¼‰ä¹‹é—´å»ºç«‹å…³ç³»ã€‚ DTAéœ€è¦å¤§é‡çš„æ‰‹å·¥å·¥ä½œï¼Œå¹¶ä¸”ç”±äºéšå«çš„æ•°æ®æµï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ä¸å‡†ç¡®çš„å…³ç³»ã€‚ 1.2 Relation Inference â€‹ ç”±äºfuzzingç”¨è®¸å¤šæµ‹è¯•ç”¨ä¾‹æµ‹è¯•ç›®æ ‡ç¨‹åºï¼Œä¸€ä¸ªè½»é‡çº§çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨è¿è¡Œæ—¶æ¨æ–­bytes relationã€‚ä¸€ç§æ–¹æ³•æ˜¯è§‚å¯Ÿä¸€ä¸ªå­—èŠ‚çš„çªå˜æ˜¯å¦æ”¹å˜äº†ä¸€ä¸ªå˜é‡çš„å€¼[65]ã€ä¸€ä¸ªæ¯”è¾ƒæŒ‡ä»¤çš„ç»“æœ[7, 103, 200]æˆ–ä¸€ä¸ªåˆ†æ”¯çš„å‘½ä¸­ç‡[101]ï¼Œå¦‚æœæ”¹å˜äº†ï¼Œè¯¥å­—èŠ‚å°±ä¼šåˆ†åˆ«ä¸è¯¥å˜é‡ã€æ¯”è¾ƒæŒ‡ä»¤æˆ–åˆ†æ”¯ç›¸è”ç³»ï¼›å¦ä¸€ç§æ¨ç†æ–¹æ³•æ˜¯åŸºäºæ·±åº¦å­¦ä¹ [172]åœ¨è¾“å…¥å­—èŠ‚å’Œåˆ†æ”¯è¡Œä¸ºä¹‹é—´å»ºç«‹è¿‘ä¼¼çš„è”ç³»ã€‚ 2. Concolic Execution â€‹ Concolic Executionä¹Ÿè¢«æˆä¸ºåŠ¨æ€ç¬¦å·æ‰§è¡Œï¼ŒåŒæ—¶åˆ©ç”¨ç¬¦å·æ‰§è¡Œå’Œfuzzingçš„æŠ€æœ¯è¢«ç§°ä¸ºhybrid fuzzingæˆ–whitebox fuzzingã€‚ â€‹ Hybrid fuzzingä¸€ä¸ªæ”¹è¿›æ˜¯ä¼˜å…ˆé€‰æ‹©æœ€éš¾æœ€å¤æ‚çš„è·¯å¾„è®©Concolic Executionè§£å†³[210]ã€‚é™¤äº†è·¯å¾„é€‰æ‹©ï¼ŒHybrid fuzzingçš„æ€§èƒ½è¿˜å¯ä»¥é€šè¿‡å¼€å‘è¿‘ä¼¼çš„SMTçº¦æŸæ¡ä»¶æ±‚è§£å™¨æ¥æé«˜ï¼›çº¦æŸè§£ç®—å™¨ä¹Ÿå¯ä»¥æ ¹æ®ç›®æ ‡çš„ç‰¹ç‚¹è¿›è¡Œæ”¹è¿›ã€‚åœ¨åµŒå¥—æ¡ä»¶æ–¹é¢ï¼ˆå¦‚å›¾4ï¼ˆaï¼‰ä¸­çš„ç¬¬13-15è¡Œï¼‰ï¼ŒPangolin[81]æå‡ºäº†å¤šé¢ä½“è·¯å¾„æŠ½è±¡æ¥è§£å†³åµŒå¥—è·¯å¾„çº¦æŸã€‚å¤šé¢ä½“è·¯å¾„æŠ½è±¡ä¿ç•™äº†å†å²çº¦æŸçš„è§£ç©ºé—´ï¼Œå¹¶é‡ç”¨è¯¥è§£ç©ºé—´æ¥æ»¡è¶³å½“å‰è·¯å¾„çº¦æŸçš„å¯è¾¾æ€§ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†è§£å†³å›¾4(a)ç¬¬14è¡Œçš„çº¦æŸï¼Œè¾“å…¥å¿…é¡»é¦–å…ˆæ»¡è¶³ç¬¬13è¡Œçš„æ¡ä»¶ã€‚ä¸ºäº†åœ¨éœ€è¦é«˜åº¦ç»“æ„åŒ–è¾“å…¥çš„ç¨‹åºä¸­åˆ©ç”¨æ··åˆæ¨¡ç³Šæ³•ï¼ŒGodefroidç­‰äºº[71]é¦–å…ˆå°†è¯­æ³•ä¸­çš„tokenç¬¦å·åŒ–ä¸ºç¬¦å·å˜é‡ã€‚ç„¶åï¼Œä»–ä»¬ä½¿ç”¨ä¸Šä¸‹æ–‡è‡ªç”±çº¦æŸè§£ç®—å™¨æ¥ç”Ÿæˆæ–°çš„è¾“å…¥ã€‚ 3. Program Transformation â€‹ å¯¹äºfuzzingæ¥è¯´ï¼Œç¨‹åºè½¬æ¢çš„ç›®çš„æ˜¯å»é™¤é˜»ç¢fuzzingå‘ç°æ›´å¤šæ‰§è¡ŒçŠ¶æ€çš„åˆç†æ€§æ£€æŸ¥ã€‚é€šè¿‡ç§»é™¤è¿™äº›æ£€æŸ¥ï¼Œfuzzingå¯ä»¥æ¢ç´¢ç›®æ ‡ç¨‹åºä¸­çš„æ·±å±‚ä»£ç å¹¶æš´éœ²å‡ºæ½œåœ¨çš„bug[150]ã€‚å»é™¤åä¼šå¼•å…¥è®¸å¤šé”™è¯¯ä½ç½®çš„å‡é˜³æ€§ï¼Œè¿™å¯ä»¥é€šè¿‡ç¬¦å·æ‰§è¡Œæ¥è¿›ä¸€æ­¥éªŒè¯ã€‚å› æ­¤ï¼Œç¨‹åºè½¬æ¢é€šè¿‡ä¸“æ³¨äºå¯èƒ½æ½œåœ¨è§¦å‘bugçš„è¾“å…¥æ¥å‡å°‘æœç´¢ç©ºé—´ã€‚ 4. Input Model â€‹ ä¾‹å¦‚åƒåè®®å¤„ç†ã€DOMå¼•æ“ã€JSå¼•æ“ã€PDFé˜…è¯»å™¨ã€ç³»ç»Ÿè°ƒç”¨æˆ–ç¼–è¯‘å™¨ç­‰ç¨‹åºéƒ½éœ€è¦é«˜åº¦ç»“æ„åŒ–çš„è¾“å…¥ï¼Œinput modelä»£è¡¨ç€æ„å»ºé«˜åº¦ç»“æ„åŒ–è¾“å…¥çš„ä¸€ç³»åˆ—è§„åˆ™ï¼ŒåŒ…æ‹¬ç»“æ„ã€æ ¼å¼ã€æ•°æ®é™åˆ¶ç­‰ã€‚ä¸ºäº†ç”Ÿæˆæ»¡è¶³è§„èŒƒçš„è¾“å…¥ï¼Œç”Ÿæˆè¿‡ç¨‹é™åˆ¶åªèƒ½åšç‰¹å®šçš„æ“ä½œï¼Œå¦‚æœä¸€ä¸ªè¾“å…¥è¿åäº†ç›®æ ‡ç¨‹åºçš„è¯­æ³•æˆ–è¯­ä¹‰ï¼Œè¯¥è¾“å…¥å°†åœ¨æ—©æœŸé˜¶æ®µè¢«ç¨‹åºæ‹’ç»ï¼Œæ¢å¥è¯è¯´ï¼Œinput spaceè¦å—åˆ¶äºinput modelã€‚ 4.1 Accessible Models or Tools â€‹ è®¸å¤šfuzzeré€šè¿‡Accessible Modelsæˆ–è€…ç°æœ‰çš„å·¥å…·æ¥ç”Ÿæˆæœ‰æ•ˆè¾“å…¥ï¼Œç”±äºè§„èŒƒçš„è§£æå¾ˆå¤æ‚ï¼Œæ‰€ä»¥å®¹æ˜“å‡ºé”™ã€‚å›¾4(b)ä¸­çš„cJSONè§£æå™¨æ˜¯å¯¹JSONè§„èŒƒçš„å®ç°ï¼Œç”±äºå¯¹ä¸åŒæ•°æ®ç±»å‹çš„å¤æ‚è§£æï¼Œå®ƒè™½ç„¶ç®€å•ï¼Œä½†å´å®¹æ˜“å‡ºé”™ã€‚å› æ­¤ï¼Œç ”ç©¶ç•Œå·²ç»å¼€æºäº†ä¸€äº›ç”¨äºé«˜åº¦ç»“æ„åŒ–è¾“å…¥çš„å·¥å…·ï¼Œä¾‹å¦‚QuickCheck[50]å’ŒANTLR[146]ã€‚ä¾‹å¦‚ï¼ŒNAUTILUS[5]å’ŒSuperion[186]åŸºäºANTLRç”Ÿæˆæ–°çš„è¾“å…¥ã€‚ç„¶åï¼ŒNAUTILUSå’ŒSuperionéƒ½ä½¿ç”¨ä»£ç è¦†ç›–ç‡æ¥ä¼˜åŒ–å˜å¼‚è¿‡ç¨‹ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œinput modelå¯ä»¥åªæ˜¯ç”Ÿæˆçš„æ•°æ®ç¬¦åˆçš„ç±»å‹ï¼ˆä¾‹å¦‚ï¼ŒAPIå‚æ•°æˆ–ç‰©ç†ä¿¡å·çš„ç±»å‹ï¼‰[1, 41, 70, 179]ã€‚ä¾‹å¦‚ï¼Œç½‘ç»œç‰©ç†ç³»ç»Ÿï¼ˆCPSsï¼‰çš„æ‰§è¡Œå™¨çš„æ•°æ®å¯ä»¥æ˜¯äºŒè¿›åˆ¶çš„å¼€æˆ–å…³[41]ã€‚ 4.2 Integration of Implementations â€‹ å¦ä¸€ç§æœ‰æ•ˆæ–¹æ³•æ˜¯å°†fuzzingä¸ç›®æ ‡åº”ç”¨ç¨‹åºçš„å®ç°ç›¸ç»“åˆ[64, 89, 173]ã€‚è¿™ç§æ•´åˆå…è®¸fuzzingé€šè¿‡å®šåˆ¶è¾“å…¥ç”Ÿæˆè¿‡ç¨‹æ¥æ£€æŸ¥ç›®æ ‡åº”ç”¨ç¨‹åºçš„é¢„æœŸå±æ€§ã€‚ä¾‹å¦‚ï¼ŒTLS-Attacker[173]åˆ›å»ºäº†ä¸€ä¸ªæ¡†æ¶ï¼Œå¯ä»¥æ ¹æ®æ¯ä¸ªç‰‡æ®µçš„ç±»å‹çªå˜è¾“å…¥ï¼Œå¹¶æ“çºµåè®®ä¿¡æ¯çš„é¡ºåºã€‚è¿™ä¸ªæ¡†æ¶åŒ…æ‹¬ä¸€ä¸ªå®Œæ•´çš„ä¼ è¾“å±‚å®‰å…¨ï¼ˆTLSï¼‰åè®®å®ç°ã€‚ 4.3 Intermediate Representation â€‹ ä¸€ä¸ªæ›´å¤æ‚çš„æ–¹æ³•æ˜¯å°†input modelè½¬æ¢ä¸ºä¸­é—´è¡¨ç¤ºæ³•ï¼ˆIRï¼‰ã€‚å¯¹äºé«˜åº¦ç»“æ„åŒ–çš„è¾“å…¥ï¼Œå¯¹åŸå§‹è¾“å…¥æ–‡ä»¶çš„çªå˜è¿‡äºå¤æ‚ï¼Œæ— æ³•ä¿æŒè¯­æ³•å’Œè¯­ä¹‰ï¼Œå› æ­¤ï¼Œç ”ç©¶äººå‘˜å°†åŸå§‹æ–‡ä»¶ç¿»è¯‘æˆIRï¼Œä½¿å…¶æ›´ç®€å•å’Œç»Ÿä¸€ã€‚Fuzzerå¯¹IRè¿›è¡Œçªå˜ï¼Œç„¶åå°†çªå˜åçš„IRå†ç¿»è¯‘æˆåŸå§‹è¾“å…¥æ ¼å¼ï¼Œè¿™ç§å˜å¼‚ç­–ç•¥å¯ä»¥ä¿æŒå¥æ³•æˆ–è¯­ä¹‰çš„æ­£ç¡®æ€§ï¼Œå¹¶äº§ç”Ÿæ›´å¤šä¸åŒçš„è¾“å…¥ã€‚ä¾‹å¦‚ï¼ŒIRè¢«ç”¨æ¥æµ‹è¯•æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰[212]ï¼Œæ£€æŸ¥DOMå¼•æ“[197]ï¼Œæˆ–æ¨¡ç³Šä¸åŒçš„è¯­è¨€å¤„ç†å™¨ï¼ˆä¾‹å¦‚ï¼Œç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨ï¼‰[43]ã€‚ 5. Fragment Recombination â€‹ ç‰‡æ®µé‡ç»„çš„åŸºæœ¬æ€æƒ³æ˜¯å°†è¾“å…¥æ–‡ä»¶åˆ†æˆè®¸å¤šå°å—ï¼ˆå³ç‰‡æ®µï¼‰ï¼Œç„¶åé€šè¿‡åˆå¹¶ä¸åŒè¾“å…¥æ–‡ä»¶çš„å°å—æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„è¾“å…¥æ–‡ä»¶ã€‚æ¯ä¸ªç‰‡æ®µéƒ½ç¬¦åˆè¾“å…¥çš„è§„æ ¼ï¼Œå› æ­¤é‡æ–°ç»„åˆçš„è¾“å…¥æ–‡ä»¶åœ¨è¯­æ³•ä¸Šæ˜¯æ­£ç¡®çš„ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œé‡æ–°ç»„åˆçš„è¾“å…¥æ–‡ä»¶å°†è¡Œä½¿ä¸€ä¸ªæ–°çš„æ‰§è¡Œè·¯å¾„æˆ–æš´éœ²å‡ºä¸€ä¸ªæ–°çš„é”™è¯¯ã€‚ â€‹ å¦‚å›¾5æ‰€ç¤ºï¼Œfuzzeré¦–å…ˆå°†è¾“å…¥æ–‡ä»¶è§£ææˆä¸€æ£µæ ‘ï¼ˆå¦‚æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼‰ï¼Œå®ƒä¿æŒäº†å¥æ³•çš„æ­£ç¡®æ€§ã€‚ä¸ºäº†æ­£ç¡®è§£æè¾“å…¥ï¼Œè¾“å…¥è¯­æ–™åº“å¿…é¡»æ˜¯validçš„[78, 180, 185, 199] ï¼Œå…¶å¯ä»¥ä»ç½‘ç»œä¸Šä¸‹è½½ã€‚ â€‹ é™¤äº†æœ‰æ•ˆçš„è¾“å…¥ï¼Œfuzzerä¹Ÿä¼šæ”¶é›†æœ‰é—®é¢˜çš„è¾“å…¥ï¼Œè¿™äº›è¾“å…¥ä¹‹å‰å·²ç»å¼•èµ·äº†æ— æ•ˆçš„è¡Œä¸º[80ï¼Œ99ï¼Œ145] ã€‚åŸºæœ¬å‡è®¾æ˜¯ï¼Œåœ¨è¾“å…¥å·²ç»å‘ç°é”™è¯¯çš„ä½ç½®æˆ–é™„è¿‘ï¼Œå¯èƒ½ä»ç„¶å­˜åœ¨æ–°çš„é”™è¯¯[80]ã€‚æœ‰é—®é¢˜çš„è¾“å…¥å·²ç»è¡Œä½¿äº†å¤æ‚çš„æ‰§è¡Œè·¯å¾„ï¼Œå¯¼è‡´æ— æ•ˆçš„è¡Œä¸ºã€‚å› æ­¤ï¼Œç‰‡æ®µçš„é‡æ–°ç»„åˆå¯èƒ½ä¼šè¡Œä½¿ç›¸åŒæˆ–ç›¸é‚»çš„å¤æ‚è·¯å¾„ï¼Œè¿™æœ‰åŠ©äºfuzzeræ¢ç´¢æ·±å±‚ä»£ç è¡Œã€‚åœ¨ç¬¬äºŒé˜¶æ®µï¼Œè¾“å…¥æ–‡ä»¶è¢«åˆ†ç¦»æˆè®¸å¤šç‰‡æ®µï¼Œè¿™äº›ç‰‡æ®µè¢«å‚¨å­˜åœ¨ç‰‡æ®µæ± ä¸­ã€‚å› ä¸ºæ¨¡ç³Šåˆ†æå™¨å°†è¾“å…¥è§£ææˆASTï¼Œæ‰€ä»¥ç‰‡æ®µå¯ä»¥æ˜¯åŒ…å«éç»ˆç«¯çš„å­æ ‘ã€‚å½“é‡ç»„ç‰‡æ®µæ—¶ï¼Œè¦æ±‚æ–°ç”Ÿæˆçš„è¾“å…¥æ–‡ä»¶åœ¨è¯­æ³•ä¸Šæ˜¯æ­£ç¡®çš„ã€‚å› æ­¤ï¼Œæ¨¡ç³Šå™¨åŸºäºéšæœºé€‰æ‹©[80, 120, 199]ã€é—ä¼ ç®—æ³•[180]æˆ–æœºå™¨å­¦ä¹ [185]æ¥é‡ç»„å¥æ³•å…¼å®¹çš„ç‰‡æ®µã€‚é™¤äº†å¥æ³•ä¸Šçš„æ­£ç¡®æ€§ï¼Œè¯­ä¹‰ä¸Šçš„æ­£ç¡®æ€§å¯¹fuzzingçš„æœ‰æ•ˆæ€§ä¹Ÿæœ‰å¾ˆå¤§å½±å“ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†ç”Ÿæˆå¥æ³•å’Œè¯­ä¹‰æ­£ç¡®çš„JavaScriptè¾“å…¥ï¼ŒCodeAlchemist[78]ç”¨æ±‡ç¼–çº¦æŸæ¥æ ‡è®°ç‰‡æ®µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰å½“çº¦æŸæ¡ä»¶å¾—åˆ°æ»¡è¶³æ—¶ï¼Œä¸åŒçš„ç‰‡æ®µæ‰ä¼šè¢«åˆå¹¶ã€‚ 6. Format Inference â€‹ å¦‚æœinput modelæ— æ³•è®¿é—®ï¼Œæ¨æ–­è¾“å…¥çš„æ ¼å¼æ˜¯äº§ç”Ÿæœ‰æ•ˆè¾“å…¥çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‚æ­¤å¤–ï¼Œä¸€ä¸ªinput modelåªèƒ½ç”Ÿæˆå…·æœ‰ç‰¹å®šæ ¼å¼çš„è¾“å…¥ï¼Œä¸ºäº†æ”¯æŒæ›´å¤šæ ¼å¼çš„è¾“å…¥ï¼Œå¼€å‘è€…å¿…é¡»åˆ©ç”¨æ–°çš„input modelï¼Œå¹¶åœ¨ç”Ÿæˆè¾“å…¥æ—¶é€‰æ‹©ç›¸åº”çš„input modelã€‚å› æ­¤ï¼Œæ ¼å¼æ¨ç†æ¯”åŸºäºæ¨¡å‹çš„æ–¹æ³•æ›´å…·å¯æ‰©å±•æ€§ã€‚ 6.1 Corpus-based â€‹ ä¸ºäº†æ¨æ–­æ ¼å¼ï¼Œä¸€ä¸ªç›´æ¥çš„æ–¹æ³•æ˜¯å‘æœ‰æ•ˆçš„è¾“å…¥è¯­æ–™åº“å­¦ä¹ ã€‚ç”±äºç¼ºä¹input modelï¼Œç ”ç©¶äººå‘˜å»ºç«‹ç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ æ¨¡å‹æ¥æ›¿ä»£input modelã€‚RNNæ˜¯fuzzerç”Ÿæˆç»“æ„åŒ–è¾“å…¥çš„ä¸€ä¸ªè¾ƒå¥½çš„æ·±åº¦å­¦ä¹ æ¨¡å‹[74, 79, 111, 112]ã€‚ç„¶è€Œï¼Œé€šè¿‡ä½¿ç”¨æ·±åº¦å­¦ä¹ æ¥ä»£æ›¿input modelçš„æ–¹æ¡ˆå¯èƒ½ä¼šå—åˆ°ç”Ÿæˆæ— æ•ˆè¾“å…¥çš„å½±å“ã€‚ä¾‹å¦‚ï¼ŒDeepFuzz[112]ç”Ÿæˆæœ‰æ•ˆè¯­æ³•è¾“å…¥çš„æœ€é«˜æ¯”ç‡ä»…ä¸º82.63%ã€‚ â€‹ ä¸ºäº†æé«˜æœ‰æ•ˆè¾“å…¥çš„ç”Ÿæˆç‡ï¼Œéœ€è¦å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œç›¸åº”çš„æ”¹è¿›ã€‚ä¾‹å¦‚ï¼Œåœ¨ç”ŸæˆPDFæ–‡ä»¶æ—¶ï¼Œè®­ç»ƒæ•°æ®æ˜¯ç”±PDFå¯¹è±¡çš„åºåˆ—ç»„æˆçš„ï¼Œè€Œä¸æ˜¯æ–‡æœ¬æ•°æ®ã€‚å¯¹äºæ™ºèƒ½åˆçº¦ï¼Œè®­ç»ƒæ•°æ®æ˜¯å…³äºäº¤æ˜“çš„åºåˆ—[79]ï¼Œç±»ä¼¼åœ°ï¼ŒLipFuzzer[208]è®­ç»ƒå¯¹æŠ—æ€§è¯­è¨€å­¦æ¨¡å‹ä»¥ç”Ÿæˆè¯­éŸ³å‘½ä»¤ï¼Œå…¶ä¸­è®­ç»ƒæ•°æ®æ˜¯é€šè¿‡è¯­è¨€ç»“æ„å‘ˆç°çš„ã€‚æ­¤å¤–ï¼Œfuzzingå¯ä»¥æ ¹æ®æœ‰æ•ˆçš„è¾“å…¥è¯­æ–™åº“åˆæˆä¸€ä¸ªcontext-free grammarï¼ˆä¾‹å¦‚ï¼Œé‡å¤å’Œäº¤æ›¿ç­‰è§„åˆ™å±æ€§ï¼‰[12]ï¼Œç„¶ååˆ©ç”¨åˆæˆçš„è¯­æ³•æ¥ç”Ÿæˆé«˜åº¦ç»“æ„åŒ–çš„è¾“å…¥ã€‚ åŸºäºè¯­æ–™åº“çš„è§£å†³æ–¹æ¡ˆè¦æ±‚è®­ç»ƒæ•°æ®å…¨é¢è¦†ç›–è¾“å…¥è§„èŒƒï¼Œè¿™å¯èƒ½å¹¶ä¸å®é™…ã€‚æ­¤å¤–ï¼Œå®ƒä¸ä½¿ç”¨æ¥è‡ªå†…éƒ¨æ‰§è¡ŒçŠ¶æ€çš„çŸ¥è¯†ï¼ˆä¾‹å¦‚ï¼Œä»£ç è¦†ç›–ç‡ï¼‰ï¼Œè¿™å¯èƒ½å¯¼è‡´ä½ä»£ç è¦†ç›–ç‡ã€‚ 6.2 Coverage-based â€‹ ä»æœ¬è´¨ä¸Šè®²ï¼Œè¾“å…¥çš„æ ¼å¼è¡¨æ˜è¾“å…¥ä¸­ä¸åŒå­—èŠ‚ä¹‹é—´çš„å…³ç³»ã€‚å› æ­¤ï¼Œåœ¨ä»£ç è¦†ç›–ç‡çš„åŸºç¡€ä¸Šï¼Œfuzzeræ¨æ–­å­—èŠ‚ä¸å­—èŠ‚ä¹‹é—´çš„å…³ç³»ï¼Œä»¥ä¿ƒè¿›fuzzingè¿‡ç¨‹ã€‚ GRIMOIRE [16]ä½¿ç”¨ä»£ç è¦†ç›–ç‡æ¥æ¨æ–­ç›®æ ‡ç¨‹åºæ‰€éœ€çš„æ ¼å¼ï¼Œå®ƒçš„ç›®çš„æ˜¯è¯†åˆ«è¾“å…¥çš„æ ¼å¼è¾¹ç•Œã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒæ”¹å˜äº†è¾“å…¥ä¸­çš„ä¸€äº›å­—èŠ‚ï¼Œå¹¶æ£€æŸ¥è¿™äº›æ”¹å˜æ˜¯å¦ä¼šå¯¼è‡´ä¸åŒçš„ä»£ç è¦†ç›–ç‡ã€‚å¦‚æœä»£ç è¦†ç›–ç‡ä¿æŒä¸å˜ï¼Œåˆ™å¯ä»¥éšæœºåœ°æ”¹å˜è¯¥å­—èŠ‚ã€‚å¦åˆ™ï¼Œè¿™äº›ä½ç½®å°±éœ€è¦ä»”ç»†åœ°è¿›è¡Œå˜å¼‚ï¼› ProFuzzer[201]é¦–å…ˆå®šä¹‰äº†å…­ç§æ•°æ®ç±»å‹ï¼Œæ¶µç›–äº†å¤§å¤šæ•°è¾“å…¥å†…å®¹ã€‚ç„¶åï¼Œæ ¹æ®è¾¹ç¼˜è¦†ç›–ç‡çš„åˆ†å¸ƒï¼Œå®ƒæ¨æ–­å‡ºæ¯ä¸ªå­—èŠ‚çš„ç±»å‹ï¼Œå¹¶å°†å±äºåŒä¸€ç±»å‹çš„è¿ç»­å­—èŠ‚åˆå¹¶ã€‚ 6.3 Encoding Function â€‹ ä¸ä¸Šè¿°æ‰€æœ‰ä¸“æ³¨äºè¾“å…¥çš„æ–¹æ³•ä¸åŒï¼Œä¸€äº›fuzzerèšç„¦äºæœç´¢ç¼–ç è¾“å…¥æ ¼å¼çš„ä»£ç åŒºåŸŸã€‚å› ä¸ºè¿™æ ·çš„ä»£ç åŒºé€šå¸¸è´Ÿè´£ç”Ÿæˆç»“æ„åŒ–çš„è¾“å…¥ï¼Œæ‰€ä»¥fuzzeråœ¨ç¼–ç è¾“å…¥çš„æ ¼å¼ä¹‹å‰è¿›è¡Œå˜å¼‚æ“ä½œã€‚å°½ç®¡PUTçš„æºä»£ç å¯èƒ½æ— æ³•è®¿é—®ï¼Œä½†å…¶ç”Ÿæˆç»“æ„åŒ–çš„è¾“å…¥çš„ç›¸åº”å®ç°é€šå¸¸å¯ä»¥è®¿é—®ã€‚ â€‹ ä¸¾ä¾‹æ¥è¯´ï¼Œç‰©è”ç½‘è®¾å¤‡ä¸­çš„å¤§å¤šæ•°æ˜¯é€šè¿‡é…å¥—çš„åº”ç”¨ç¨‹åºæ§åˆ¶çš„ï¼Œè¿™äº›åº”ç”¨ç¨‹åºç”Ÿæˆä¸ç›®æ ‡è®¾å¤‡é€šä¿¡çš„æ¶ˆæ¯[36]ã€‚é€šè¿‡å®šä½ä¸ç¼–ç æ ¼å¼ç›¸å…³çš„ä»£ç åŒºåŸŸï¼Œå¯ä»¥å¯¹å‡½æ•°çš„å‚æ•°[36, 159]æˆ–è®¡ç®—æ ¼å¼çš„æŒ‡ä»¤[92]è¿›è¡Œå˜å¼‚æ“ä½œã€‚ä¾‹å¦‚ï¼ŒIoTFuzzer[36]é’©ä½æ­¤ç±»å‡½æ•°ï¼Œå¹¶å¯¹è¿™äº›å‡½æ•°çš„å‚æ•°æ•°æ®è¿›è¡Œçªå˜ã€‚ Format inferenceä¸»è¦ç”¨äºæ»¡è¶³ç¨‹åºæ‰€éœ€çš„å¥æ³•æ ¼å¼ï¼Œä½†å…¶ä»å¯èƒ½ç”Ÿæˆé”™è¯¯çš„æ•°æ®ã€‚ å¦‚ä¸Šå›¾jsä»£ç æ‰€ç¤ºï¼Œè™½ç„¶snippet 2æ»¡è¶³ç¨‹åºæ‰€éœ€çš„æ•°æ®æ ¼å¼ï¼Œä½†line2-5æœ‰ä¸€ä¸ªè¯­ä¹‰é”™è¯¯ï¼ŒåŸå› æ˜¯errf()å‡½æ•°æœªå®šä¹‰ã€‚ 7. Dependency Inference â€‹ è®¸å¤šåº”ç”¨ç¨‹åºè¦æ±‚è¾“å…¥ä¸­çš„æ•°æ®ä¾èµ–æ€§æ­£ç¡®ï¼Œè€Œè¿™äº›æ•°æ®é€šå¸¸æ˜¯ç”±è¯­å¥åºåˆ—ç»„æˆçš„ã€‚è¿™äº›åºåˆ—åŒ…æ‹¬å†…æ ¸ä»£ç çš„ç³»ç»Ÿè°ƒç”¨[77, 95, 142]ï¼Œé¢å‘å¯¹è±¡ç¨‹åºçš„å¤„ç†å™¨çš„å¯¹è±¡[59, 117]ï¼ŒæœåŠ¡/åº“çš„åº”ç”¨ç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰[8, 83, 110]ï¼Œæˆ–æ™ºèƒ½åˆçº¦çš„åº”ç”¨äºŒè¿›åˆ¶æ¥å£ï¼ˆABIsï¼‰[86]ã€‚ä¸€æ–¹é¢ï¼Œè¿™äº›åº”ç”¨å¤§å¤šéœ€è¦åœ¨ä½¿ç”¨è¾“å…¥çš„æ•°æ®ä¹‹å‰è¿›è¡Œå®šä¹‰/å£°æ˜ï¼Œå¦‚å›¾6æ‰€è¿°ã€‚å¦ä¸€æ–¹é¢ï¼Œæ‰§è¡Œä¸€äº›è¯­å¥çš„è¾“å‡ºæ˜¯å…¶ä»–ä¸€äº›è¯­å¥çš„å‚æ•°æ•°æ®ã€‚ 7.1 Documents or Source Code â€‹ åºåˆ—çš„æ•°æ®ä¾èµ–æ€§é€šå¸¸æ˜¯é€šè¿‡é™æ€åˆ†ææ¨æ–­å‡ºæ¥çš„ã€‚å› ä¸ºè®¸å¤šåº”ç”¨ç¨‹åºéƒ½æœ‰æè¿°å…¶ç•Œé¢çš„æ–‡ä»¶æˆ–æºä»£ç ï¼Œç ”ç©¶äººå‘˜æ ¹æ®è¿™äº›èµ„æºæ¨æ–­å‡ºæ•°æ®ä¾èµ–æ€§[8, 53, 59, 86, 110, 117]ã€‚è¿™äº›èµ„æºåŒ…å«äº†å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªæ¥å£çš„ä¿¡æ¯å’Œæ¥å£çš„é¢„å…ˆéœ€æ±‚ã€‚å½“fuzzingç”ŸæˆåŒ…æ‹¬æ¥å£çš„è¾“å…¥æ—¶ï¼Œfuzzingä¹Ÿéœ€è¦ç”Ÿæˆæ¥å£çš„å…ˆå†³æ¡ä»¶ï¼Œå¦åˆ™ï¼Œç”Ÿæˆçš„è¾“å…¥å°†åœ¨æ—©æœŸé˜¶æ®µè¢«æ‹’ç»ã€‚ â€‹ ç„¶è€Œï¼Œé™æ€åˆ†æä¼šå¸¦æ¥å¾ˆé«˜çš„è¯¯æŠ¥ç‡ï¼Œå¹¶ä¸”ä¼šé—æ¼æ¥å£çš„ä¾èµ–å…³ç³»ã€‚å› æ­¤ï¼Œå½“æœ‰æœºä¼šæ¥è§¦åˆ°PUTçš„æºä»£ç æ—¶ï¼Œæ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ç»“åˆé™æ€åˆ†æå’ŒåŠ¨æ€åˆ†æ[95]ã€‚ 7.2 Real-world Programs â€‹ è®¸å¤šç°å®ä¸–ç•Œçš„ç¨‹åºå®ç°äº†è°ƒç”¨æ¥å£çš„ä»£ç è¡Œï¼Œè¿™äº›ä»£ç è¡Œå·²ç»è€ƒè™‘äº†æ¥å£çš„æ•°æ®ä¾èµ–æ€§ã€‚å› æ­¤ï¼Œfuzzingå¯ä»¥æ ¹æ®å¯¹ç°å®ä¸–ç•Œç¨‹åºè¿›è¡Œçš„ç¨‹åºåˆ‡ç‰‡ï¼Œåˆæˆè°ƒç”¨æ¥å£çš„æ–°ç¨‹åº[10]ã€‚ â€‹ æ­¤å¤–ï¼Œé€šè¿‡åˆ†æé‚£äº›çœŸå®ä¸–ç•Œç¨‹åºçš„æ‰§è¡Œæ—¥å¿—ï¼Œå¯ä»¥æ¨æ–­å‡ºæ•°æ®çš„ä¾èµ–æ€§[77, 83, 142]ã€‚æ‰§è¡Œæ—¥å¿—æ˜ç¡®åœ°åŒ…å«äº†æ¥å£çš„æ’åºä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯å“ªä¸ªæ¥å£å…ˆè¢«æ‰§è¡Œçš„ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œæ‰§è¡Œæ—¥å¿—è¿˜éšå«äº†æ¥å£ä¹‹é—´çš„å‚æ•°ä¾èµ–æ€§ä¿¡æ¯ã€‚ä¸ºäº†è·å¾—æ˜¾æ€§å’Œéšæ€§ä¿¡æ¯ï¼Œåœ¨æ‰§è¡ŒçœŸå®ä¸–ç•Œçš„ç¨‹åºæ—¶ï¼Œfuzzingä¼šé’©ä½æ¯ä¸ªæ¥å£å¹¶è®°å½•æ‰€éœ€çš„ä¿¡æ¯ã€‚ 8. Summary â€‹ ä¸‹è¡¨æè¿°äº†å‡å°‘æœç´¢ç©ºé—´çš„æ–¹æ³•å’Œç”¨äºåˆ†ç»„è¾“å…¥å­—èŠ‚çš„å…³ç³»ï¼Œå…¶æ–¹æ³•éƒ½å‡å°‘äº†è¾“å…¥ç©ºé—´ï¼š Automation â€‹ è‡ªåŠ¨åŒ–åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šè‡ªåŠ¨åŒ–è¿è¡ŒPUTï¼›è‡ªåŠ¨åŒ–æ£€æµ‹æ˜¯å¦å‘ç”Ÿäº†bugï¼›æ›´å¿«çš„è¿è¡Œé€Ÿåº¦ã€‚é’ˆå¯¹è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼š å¤§å¤šæ•°fuzzerå·²ç»æˆåŠŸåœ°è‡ªåŠ¨åŒ–è¿è¡Œå‘½ä»¤è¡Œè½¯ä»¶ï¼Œä½†å®ƒä»¬ä¸èƒ½ç›´æ¥ç”¨äºå…¶ä»–ç›®æ ‡ï¼Œå¦‚ç¡¬ä»¶æˆ–å¤šè¯­è¨€è½¯ä»¶ï¼› ç›®å‰fuzzingä¸€èˆ¬ä½¿ç”¨crashä½œä¸ºæ˜¯å¦å‘ç”ŸBugçš„æ£€æµ‹æŒ‡æ ‡ï¼Œä½†ç±»ä¼¼data raceç­‰bugå¯èƒ½å¹¶ä¸ä¼šå‘ç”Ÿcrashã€‚ 1. Automatic Execution of PUTs â€‹ è¿™ä¸€æ®µä»‹ç»äº†fuzzingé’ˆå¯¹ä¸åŒåº”ç”¨åœºæ™¯ä¸‹è‡ªåŠ¨åŒ–æ‰§è¡Œç¨‹åºçš„æ–¹æ³•ã€‚ 1.1 Command-line Programs â€‹ Fuzzingåœ¨å‘½ä»¤è¡Œç¨‹åºçš„æµ‹è¯•ä¸Šå–å¾—äº†å·¨å¤§çš„æˆåŠŸã€‚ â€‹ Fuzzingåœ¨ä¸€ä¸ªå­è¿›ç¨‹ä¸­è¿è¡ŒPUTsï¼Œç„¶åå°†ç¨‹åºéœ€è¦çš„å‚æ•°å’Œè¾“å…¥ä¼ é€’ç»™å®ƒã€‚ä¸ºäº†æé«˜æ‰§è¡Œé€Ÿåº¦ï¼Œfuzzingä¸ä¼šé‡å¤æ‰§è¡Œæµ‹è¯•ä¸€ä¸ªPUTçš„æ‰€æœ‰æ­¥éª¤ã€‚ç›¸åï¼Œå®ƒå…‹éš†äº†ä¸€ä¸ªå­è¿›ç¨‹ï¼Œä»¥ä¾¿è·³è¿‡é¢„å¤„ç†æ­¥éª¤ï¼Œå¦‚å°†ç¨‹åºæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ç­‰ã€‚ â€‹ é€šå¸¸ï¼Œfuzzingå¯¹æ‰€æœ‰æµ‹è¯•åªé‡‡å–åŒä¸€ä¸ªå‘½ä»¤è¡Œé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ç”Ÿæˆçš„è¾“å…¥éƒ½ä½¿ç”¨åŒä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚å› ä¸ºä¸åŒçš„é€‰é¡¹è¡¨ç¤ºä¸åŒçš„ä»£ç è¦†ç›–ç‡ï¼Œæ‰€ä»¥ä¸€ä¸ªå½»åº•çš„æµ‹è¯•éœ€è¦åœ¨fuzzingæœŸé—´åˆ—ä¸¾æ‰€æœ‰çš„å‘½ä»¤é€‰é¡¹ã€‚ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹æ¡ˆæ˜¯ï¼Œå¦‚æœä¸€ä¸ªè¾“å…¥å¯¹ä¸€ä¸ªé€‰é¡¹æ— æ•ˆï¼Œfuzzingä¼šè·³è¿‡å¯¹æ‰€æœ‰å…¶ä½™é€‰é¡¹çš„æµ‹è¯•[176]ã€‚è¿™ä¸ªæ–¹æ¡ˆçš„ä¸€ä¸ªé‡è¦è§‚å¯Ÿç‚¹æ˜¯ï¼Œå¦‚æœä¸€ä¸ªè¾“å…¥å¯¹ä¸€ä¸ªé€‰é¡¹æ— æ•ˆï¼Œé‚£ä¹ˆè¿™ä¸ªè¾“å…¥å°†ä½¿æ‰€æœ‰å…¶ä»–çš„é€‰é¡¹å¤±æ•ˆã€‚ 1.2 Deep Learning Systems â€‹ å¯¹äºæ·±åº¦å­¦ä¹ ç³»ç»Ÿï¼Œè¾“å…¥å°±æ˜¯training dataã€test dataç”šè‡³æ˜¯æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚è¾“å…¥çš„fitnesså¯ä»¥æ˜¯neuron coverageï¼ˆç¥ç»å…ƒè¦†ç›–ç‡ï¼‰ã€loss functionæˆ–è€…operator-level coverageã€‚ â€‹ å¯¹äºæ·±åº¦å­¦ä¹ ç³»ç»Ÿï¼Œfuzzingä¸ä»…æ£€æµ‹å…¶å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œè¿˜å¯ä»¥æ£€æµ‹å…¶é²æ£’æ€§ã€‚ 1.3 Operating System Kernels â€‹ å¯¹äºæ“ä½œç³»ç»Ÿï¼Œå…¶æ›´ä¸ºå¤æ‚ï¼Œå†…æ ¸åŒ…æ‹¬è®¸å¤šä¸­æ–­å’Œå†…æ ¸çº¿ç¨‹ï¼Œå¯¼è‡´éç¡®å®šæ€§çš„æ‰§è¡ŒçŠ¶æ€ã€‚Fuzzingä¸€èˆ¬é€‰æ‹©ç”¨hypervisorè™šæ‹Ÿæœºï¼ˆQEMUã€KVMç­‰ï¼‰æ¥è¿è¡Œç›®æ ‡å†…æ ¸ï¼ŒåŒæ—¶é€šè¿‡Intelçš„Processor Trace (PT)æŠ€æœ¯æ¥è·å–ä»£ç è¦†ç›–ç‡ã€‚ â€‹ æ“ä½œç³»ç»Ÿçš„è¾“å…¥é€šå¸¸æ˜¯æ–‡ä»¶ç³»ç»Ÿé•œåƒï¼ˆfile system imageï¼‰æˆ–ç³»ç»Ÿè°ƒç”¨åºåˆ—ï¼Œfuzzerå¯ä»¥é€šè¿‡å¯¹å†…æ ¸è¿›è¡Œæ•°æ®ç‹¬ç«‹æ€§åˆ†æåç”Ÿæˆå¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨åºåˆ—æ¥æµ‹è¯•å†…æ ¸ï¼Œç„¶åæ£€æµ‹è¯¥åºåˆ—çš„è¿è¡Œæƒ…å†µæ¥åˆ¤æ–­ç»“æœã€‚å¦ä¸€ç§fuzzingæ“ä½œç³»ç»Ÿå†…æ ¸çš„æ–¹æ³•æ˜¯æ¨¡æ‹Ÿå¤–éƒ¨è®¾å¤‡ï¼Œç”±äºå†…æ ¸ä¸ä»¿çœŸè®¾å¤‡è¿›è¡Œé€šä¿¡ï¼Œfuzzerå¯ä»¥äº§ç”Ÿè¾“å…¥æ¥æµ‹è¯•å†…æ ¸ä¸­çš„é©±åŠ¨ç¨‹åºã€‚ 1.4 Cyber-Physical Systems Cyber-Physical Systemsï¼ˆCPSï¼‰ï¼Œä¿¡æ¯ç‰©ç†ç³»ç»Ÿï¼Œç‰©ç†å’Œè½¯ä»¶ç»„ä»¶åœ¨ä¸åŒçš„ç©ºé—´å’Œæ—¶é—´å°ºåº¦ä¸Šè¿è¡Œã€‚å…¶åº”ç”¨åŒ…æ‹¬è‡ªåŠ¨æ±½è½¦ç³»ç»Ÿã€åŒ»ç–—ç›‘æ§ã€è¿‡ç¨‹æ§åˆ¶ç³»ç»Ÿã€æœºå™¨äººç³»ç»Ÿã€è‡ªåŠ¨é£è¡Œå‘˜ç”µå­è®¾å¤‡ã€æ™ºèƒ½ç”µç½‘ã€äº¤é€šç‰©æµç³»ç»Ÿç­‰ã€‚ â€‹ CPSåŒ…æ‹¬ä¸¤ä¸ªä¸»è¦éƒ¨ä»¶ï¼Œè®¡ç®—å•å…ƒå’Œç‰©ç†è¿›ç¨‹ã€‚ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„è®¡ç®—å•å…ƒæ˜¯å¯ç¼–ç¨‹é€»è¾‘æ§åˆ¶å™¨ï¼ˆPLCï¼‰ï¼Œå®ƒæ§åˆ¶æ‰§è¡Œå™¨æ¥ç®¡ç†ç‰©ç†è¿‡ç¨‹å¹¶æ¥æ”¶æ¥è‡ªä¼ æ„Ÿå™¨çš„è¾“å…¥ã€‚å› æ­¤ï¼Œåœ¨å¯¹CPSè¿›è¡Œfuzzingæ—¶ï¼Œfuzzerå¯ä»¥å–ä»£PLCï¼Œç›´æ¥é€šè¿‡ç½‘ç»œå‘æ‰§è¡Œå™¨å‘é€å¤§é‡æŒ‡ä»¤[41]ã€‚å¦ä¸€ç§fuzzingæµ‹è¯•CPSçš„æ–¹æ³•æ˜¯æ£€æŸ¥PLCçš„æ§åˆ¶åº”ç”¨ç¨‹åºå’Œè¿è¡Œæ—¶é—´[179]ã€‚ç„¶è€Œï¼ŒPLCçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸èƒ½åƒæ‘¸ç´¢å‘½ä»¤è¡Œç¨‹åºé‚£æ ·è¢«æ‘¸ç´¢ã€‚å› ä¸ºPLCåº”ç”¨ç¨‹åºæœ‰å„ç§äºŒè¿›åˆ¶æ ¼å¼ï¼Œå¹¶ä¸ç‰©ç†ç»„ä»¶è¿›è¡Œå¤æ‚çš„é€šä¿¡ï¼Œè¿™äº›åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨åŒ–ç¨‹åº¦å„ä¸ç›¸åŒã€‚åŸºäºå¯¹PLCäºŒè¿›åˆ¶æ–‡ä»¶åŠå…¶å¼€å‘å¹³å°ï¼ˆå¦‚Codesysï¼‰çš„åˆ†æï¼Œåœ¨PLCè®¾å¤‡ä¸Šè¿è¡ŒPLCäºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œæœ‰å¯èƒ½è‡ªåŠ¨è¿›è¡Œfuzzing[179]ã€‚ 1.5 Internet of Things â€‹ å¯¹ç‰©è”ç½‘çš„fuzzingåŒ…æ‹¬äº†æ¨¡æ‹Ÿï¼ˆemulationï¼‰å’Œç½‘ç»œå±‚çº§æµ‹è¯•ï¼ˆnetwork-level testï¼‰ã€‚ä»¿çœŸå™¨ï¼ˆemulatorï¼‰[34, 205]å¯ä»¥æ¨¡æ‹Ÿæ‰§è¡ŒåŸæœ¬åœ¨ç‰©è”ç½‘å›ºä»¶ä¸Šè¿è¡Œçš„ç¨‹åºï¼Œåœ¨ä»¿çœŸå™¨çš„å¸®åŠ©ä¸‹ï¼Œfuzzerä»¥ç°ç›’æ–¹å¼è¿è¡Œç›®æ ‡ç¨‹åº[211]ã€‚ â€‹ å¦ä¸€æ–¹é¢ï¼Œç½‘ç»œå±‚é¢çš„fuzzingä»¥é»‘ç®±æ–¹å¼æ£€æŸ¥ç‰©è”ç½‘è®¾å¤‡ï¼Œç”±äºç‰©è”ç½‘è®¾å¤‡å¯ä»¥é€šè¿‡ç½‘ç»œä¸å¤–ç•Œè¿›è¡Œé€šä¿¡ï¼Œfuzzerè‡ªåŠ¨å‘ç‰©è”ç½‘è®¾å¤‡å‘é€æ¶ˆæ¯ï¼ˆè¯·æ±‚ï¼‰ï¼Œå¹¶ç­‰å¾…ç‰©è”ç½‘è®¾å¤‡çš„æ‰§è¡Œç»“æœï¼ˆå“åº”ï¼‰[36, 63, 159]ã€‚é€šè¿‡å¯¹å“åº”è¿›è¡Œåˆ†ç±»ï¼Œfitnessæ˜¯ç±»åˆ«çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›®çš„æ˜¯ä¸ºäº†æ¢ç´¢æ›´å¤šçš„ç±»åˆ«[63]ã€‚ 1.6 Applications with Graphical User Interface â€‹ GUIç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦æ¯”å‘½ä»¤è¡Œç¨‹åºæ…¢å¾ˆå¤šï¼Œè€Œåœ¨fuzzingä¸­æ‰§è¡Œé€Ÿåº¦åˆå¾ˆé‡è¦ï¼Œæ•…ä¸€èˆ¬å¯¹GUIç¨‹åºçš„æµ‹è¯•éƒ½å°†å…¶æ›¿æ¢ä¸ºä¸€ä¸ªæ›´å¿«çš„å‘½ä»¤è¡Œæ‰§è¡Œæ–¹æ³•ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œfuzzerå¯ä»¥å¯¹ç”¨æˆ·ç•Œé¢çš„äº’åŠ¨è¿›è¡Œå»ºæ¨¡ï¼Œä»è€Œä¸ºAndroidåº”ç”¨ç¨‹åºç”Ÿæˆäº‹ä»¶åºåˆ—ã€‚æ­¤å¤–ï¼Œfuzzerè¿˜å¯ä»¥åˆ©ç”¨å‡†å¤‡å¥½æ‰§è¡Œç¯å¢ƒçš„çº¦æŸæ¡ä»¶ï¼Œç›´æ¥è°ƒç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢ä¸­çš„ç›®æ ‡å‡½æ•°ã€‚ 1.7 Applications with Network â€‹ ä¸€äº›ä¾‹å¦‚æ™ºèƒ½åˆçº¦ã€åè®®å¤„ç†ã€äº‘æœåŠ¡ã€å®‰å“åŸç”ŸæœåŠ¡ã€æ™ºèƒ½é©¾é©¶ç­‰åº”ç”¨ç¨‹åºé€šè¿‡ç½‘ç»œæ¥å—è¾“å…¥ï¼Œå› æ­¤ï¼Œè¾“å…¥å¯ä»¥åœ¨æœ¬åœ°ç”Ÿæˆï¼Œè€Œç›®æ ‡åº”ç”¨ç¨‹åºçš„æ‰§è¡Œå¯ä»¥åœ¨è¿œç¨‹è¿›è¡Œã€‚è‡ªåŠ¨æµ‹è¯•çš„æ•ˆç‡ä¾èµ–äºç”Ÿæˆçš„è¾“å…¥çš„è´¨é‡ï¼Œä»¥åŠåæ˜ æ‰§è¡ŒçŠ¶æ€çš„fitnessã€‚ä¾‹å¦‚ï¼Œæ™ºèƒ½åˆçº¦çš„è¾“å…¥æ˜¯åˆçº¦äº¤æ˜“çš„åºåˆ—ï¼Œå³ä¸åŒè´¦æˆ·ä¹‹é—´çš„ä¿¡æ¯ã€‚å½“æ”¶åˆ°äº¤æ˜“æ—¶ï¼Œæ™ºèƒ½åˆçº¦ä¸­çš„åŠŸèƒ½åœ¨å…¶åŒºå—é“¾çš„åŸºç¡€è®¾æ–½ä¸Šæ‰§è¡Œã€‚ 2. Automatic Detection of Bugs â€‹ è¿™ä¸€æ®µä»‹ç»äº†å¦‚ä½•è‡ªåŠ¨çš„æ£€æµ‹æ˜¯å¦å‘ç”Ÿäº†bugï¼Œä»‹ç»äº†6ä¸­æˆåŠŸè¢«fuzzingæ£€æµ‹çš„bugï¼š 2.1 Memory-violation Bugs â€‹ Memory-violationï¼Œå†…å­˜æŸåï¼Œæ˜¯ä¸€ç§æœ€å¤è€åˆæœ€ä¸¥é‡çš„å®‰å…¨bugï¼Œå…¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š spatial safety violationsï¼šout-of-boundsï¼Œå†…å­˜è¶Šç•Œè®¿é—®ï¼Œå¦‚ï¼ˆaï¼‰ï¼› Buffer overflowæ˜¯Out-of-boundsçš„ä¸€ç§ç»å…¸æ ·ä¾‹ï¼ŒDowser [76]è®¤ä¸ºå…¶ä¸»è¦ç”±äºåœ¨å¾ªç¯ä¸­è®¿é—®æ•°ç»„å¼•èµ·ã€‚ä¸ºäº†æ£€æµ‹å¾ªç¯ä¸­çš„ç¼“å†²åŒºæº¢å‡ºï¼ŒDowserå¯¹å¾ªç¯ä¸­è®¿é—®ç¼“å†²åŒºçš„æŒ‡ä»¤è¿›è¡Œæ’åºï¼Œå¹¶å¯¹è¡Œä½¿è¾ƒé«˜ç­‰çº§è®¿é—®çš„è¾“å…¥è¿›è¡Œä¼˜å…ˆæ’åºã€‚ç„¶åï¼Œå®ƒä½¿ç”¨æ±¡ç‚¹åˆ†æå’Œconcolic executionæ¥è§£å†³æ‰€é€‰è¾“å…¥çš„è·¯å¾„çº¦æŸã€‚ç”±äºDowserä¸“æ³¨äºå¾ªç¯ä¸­çš„æ•°ç»„ï¼Œå› æ­¤åªéœ€è¦å¯¹å°‘é‡æŒ‡ä»¤è¿›è¡Œæ£€æµ‹ã€‚è¿™ç§å…³æ³¨æé«˜äº†æ±¡ç‚¹åˆ†æå’Œconcolic executionçš„æ‰§è¡Œé€Ÿåº¦ã€‚ temporal safety violationsï¼šUAFï¼Œå¦‚å›¾ï¼ˆbï¼‰; UAFæ˜¯temporal safety violationçš„ç»å…¸æ ·ä¾‹ï¼Œå…¶åŒ…å«äº†åˆ†é…ã€é‡Šæ”¾å’Œå†æ¬¡ä½¿ç”¨ä¸‰ä¸ªæ­¥éª¤ï¼Œè¿™ç§é”™è¯¯æ¨¡å¼ä¿ƒä½¿UAFL[184]ï¼ˆICSEâ€˜2020ï¼‰ç”Ÿæˆèƒ½å¤Ÿé€æ¸è¦†ç›–æ½œåœ¨UaFçš„æ•´ä¸ªåºåˆ—çš„è¾“å…¥ï¼Œæ½œåœ¨çš„UaFåºåˆ—æ˜¯é€šè¿‡åŸºäºé”™è¯¯æ¨¡å¼çš„é™æ€ç±»å‹çŠ¶æ€åˆ†æå¾—åˆ°çš„ã€‚ â€‹ å°½ç®¡æœ‰å¾ˆå¤šæ–¹æ³•è¢«å‘æ˜å‡ºæ¥ç”¨äºå‡è½»è¿™ä¸¤ç§æ¼æ´çš„å½±å“ï¼Œä½†ç”±äºæˆæœ¬ä»¥åŠä½å…¼å®¹æ€§é—®é¢˜ï¼Œå‡ ä¹æ²¡æœ‰åœ¨å®é™…ä¸Šä½¿ç”¨ã€‚ 2.2 Concurrency Bugs â€‹ å¹¶å‘é”™è¯¯è¢«åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š deadlock bugs å‘ç°æ­»é”çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯æ£€æµ‹é”åºå›¾ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªé”[4]ï¼Œå¦‚æœå›¾ä¸­å­˜åœ¨ä¸€ä¸ªé—­ç¯ï¼Œå°±ä¼šæ£€æµ‹åˆ°ä¸€ä¸ªæ½œåœ¨çš„æ­»é”[90]ã€‚ä¸ºäº†æé«˜å¾ªç¯æ£€æµ‹çš„æ•ˆç‡å’Œå¯æ‰©å±•æ€§ï¼ŒMagicFuzzer[27]è¿­ä»£åœ°åˆ é™¤å›¾ä¸­çš„é”ï¼Œå¦‚æœè¿™äº›é”ä¸åŒ…æ‹¬åœ¨ä»»ä½•å¾ªç¯ä¸­ã€‚ç„¶åï¼ŒMagicFuzzeræ ¹æ®ä¸€ä¸ªéšæœºè°ƒåº¦å™¨æ£€æŸ¥å‰©ä½™çš„å‘¨æœŸã€‚ non-deadlock bugs atomicity-violation bugsï¼š è¿ååŸå­æ€§åŸåˆ™bugï¼Œå¦‚ä¸‹å›¾ï¼ˆaï¼‰æ‰€ç¤ºï¼Œline3éœ€è¦åœ¨line1ä¹‹åè¿è¡Œï¼Œä½†ç”±äºThread 2åœ¨ä¸­é—´æ”¹å˜äº†p-&gt;infoçš„å€¼ï¼Œå¯¼è‡´äº§ç”Ÿé”™è¯¯ã€‚ ATOMFUZZER[144]è§‚å¯Ÿåˆ°ä¸€ä¸ªå…¸å‹çš„é”™è¯¯æ¨¡å¼ï¼Œå³ä¸€ä¸ªåŸå­å—å†…çš„é”è¢«ä¸¤ä¸ªçº¿ç¨‹åå¤è·å–å’Œé‡Šæ”¾ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªåŸå­å—å†…çš„çº¿ç¨‹tè¦è·å–ä¸€ä¸ªä¹‹å‰å·²ç»è¢«tè·å–å’Œé‡Šæ”¾çš„é”Lï¼ŒATOMFUZZERä¼šå»¶è¿Ÿçº¿ç¨‹tçš„æ‰§è¡Œï¼Œå¹¶ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹t â€²è·å–è¯¥é”Lï¼Œå½“å¦ä¸€ä¸ªçº¿ç¨‹t â€²åœ¨çº¿ç¨‹tçš„å»¶è¿ŸæœŸé—´è·å–è¯¥é”Læ—¶ï¼Œå°±æ˜¯ä¸€ç§åŸå­æ€§è¿åã€‚ order-violation bugsï¼š å†…å­˜è¢«ä»¥é”™è¯¯çš„é¡ºåºè®¿é—®ï¼Œå¦‚ä¸‹å›¾ï¼ˆbï¼‰æ‰€ç¤ºï¼ŒThread2ä¸­çš„mThd-&gt;Stateåœ¨çº¿ç¨‹1ä¸­çš„mThdåˆå§‹åŒ–ä¹‹å‰è¢«æ‰§è¡Œï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼Œä½¿ç”¨æœªåˆå§‹åŒ–çš„å˜é‡ã€‚ â€‹ æ›´ä¸ºæ™®éçš„è¯´ ï¼Œå¹¶å‘é”™è¯¯çš„å‘ç”Ÿæ˜¯ç”±äºçº¿ç¨‹çš„ä¸æ­£ç¡®äº¤ç»‡ã€‚æŒ‘æˆ˜åœ¨äºï¼Œå¹¶å‘ç¨‹åºå¯èƒ½æœ‰å¤ªå¤šçš„äº¤é”™çŠ¶æ€ï¼Œæ— æ³•é€ä¸€æ£€æŸ¥ï¼ˆå³çŠ¶æ€çˆ†ç‚¸é—®é¢˜ï¼‰ã€‚CalFuzzer[166]åŸºäºä»¥ä¸‹äº‹å®ç¼“è§£äº†çŠ¶æ€çˆ†ç‚¸é—®é¢˜ï¼šä¸€äº›äº¤ç»‡æ˜¯ç­‰ä»·çš„ï¼Œå› ä¸ºå®ƒä»¬æ¥è‡ªéäº¤äº’æŒ‡ä»¤çš„ä¸åŒæ‰§è¡Œé¡ºåºã€‚è¿™ç§ç­‰ä»·æ€§è¡¨æ˜ï¼Œå¯¹å®ƒä»¬çš„æ‰§è¡Œå°†å¯¼è‡´ç›¸åŒçš„çŠ¶æ€ã€‚CalFuzzeréšæœºé€‰æ‹©ä¸€ç»„çº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹çš„åç»­æŒ‡ä»¤äº’ä¸äº¤äº’ï¼Œå¹¶åŒæ—¶æ‰§è¡Œè¿™äº›æŒ‡ä»¤ã€‚å› æ­¤ï¼ŒCalFuzzer[166]å¯ä»¥æ›´æœ‰æ•ˆåœ°æ£€æŸ¥ä¸åŒçš„äº¤ç»‡ã€‚ 2.3 Algorithmic Complexity â€‹ Algorithm complexity (AC)æ¼æ´æŒ‡çš„æ˜¯å½“ä¸€ä¸ªç®—æ³•çš„æœ€åæƒ…å†µä¸‹çš„å¤æ‚æ€§å¯¼è‡´å¤§å¤§é™ä½æ€§èƒ½ï¼Œè¿™å¯èƒ½å¯¼è‡´æ‹’ç»æœåŠ¡ï¼ˆDoSï¼‰æ”»å‡»ã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºçš„ä»£ç ï¼Œarray = [8,5,3,7,9]å’Œ[1,5,6,7,9]ä¸¤ç§è¾“å…¥å¯¼è‡´quicksortçš„ç®—æ³•å¤æ‚åº¦æ˜¯å®Œå…¨ä¸åŒçš„ã€‚ SlowFuzz[152]é€šè¿‡å¼•å¯¼fuzzingå‘å¢åŠ æ‰§è¡ŒæŒ‡ä»¤æ•°é‡çš„æ–¹å‘å‘å±•ï¼Œæ¥æ£€æµ‹ACé”™è¯¯ï¼› HotFuzz[15]é€šè¿‡æœ€å¤§åŒ–å•ä¸ªmethodçš„èµ„æºæ¶ˆè€—æ¥æ£€æµ‹Java methodä¸­çš„ACé”™è¯¯ï¼› MemLock[44]æ ¹æ®è¾¹ç¼˜è¦†ç›–ç‡å’Œå†…å­˜æ¶ˆè€—è¿™ä¸¤ä¸ªæŒ‡æ ‡æ¥æ£€æµ‹ACé”™è¯¯ï¼Œå®ƒå°†fuzzingå¼•å‘é‚£äº›èƒ½å¤Ÿå‘ç°æ›´å¤šè¾¹ç¼˜æˆ–æ¶ˆè€—æ›´å¤šå†…å­˜çš„è¾“å…¥; å‰é¢æåˆ°çš„fuzzerç›´æ¥ç”Ÿæˆæœ€å·®æ€§èƒ½çš„è¾“å…¥ï¼ˆWPIï¼‰æ¥å‘ç°ACé”™è¯¯ã€‚ç›¸åï¼ŒSingularity[190]æ ¹æ®å¯¹è¿™äº›WPIæ€»æ˜¯éµå¾ªä¸€ä¸ªç‰¹å®šæ¨¡å¼çš„è§‚å¯Ÿï¼Œåˆæˆäº†ç”¨äºç”Ÿæˆè¾“å…¥çš„ç¨‹åºã€‚ 2.4 Spectre-type Bugs â€‹ æœ‰é›¶æ¼æ´æ˜¯ä¸€ç§å¾®æ¶æ„æ”»å‡»ï¼Œåˆ©ç”¨é”™è¯¯é¢„æµ‹çš„åˆ†æ”¯æ¨æµ‹æ¥æ§åˆ¶å†…å­˜è®¿é—®[139]ã€‚ä¾‹å¦‚ï¼Œåœ¨å›¾10ä¸­ï¼Œæ”»å‡»è€…å¯ä»¥ä¸ºå˜é‡inputå‘é€å‡ ä¸ªin-boundå€¼ï¼Œè¿™å°†è®­ç»ƒåˆ†æ”¯é¢„æµ‹å™¨æ¥æ¨æµ‹ç¬¬2è¡Œçš„æ£€æŸ¥æ˜¯å¦æ€»æ˜¯çœŸçš„ã€‚å½“æ”»å‡»è€…ä¸ºè¾“å…¥å‘é€ä¸€ä¸ªè¶…é™å€¼æ—¶ï¼Œé¢„æµ‹å™¨å°†é”™è¯¯åœ°é¢„æµ‹åˆ†æ”¯è¡Œä¸ºï¼Œç¬¬3-4è¡Œè¢«æŠ•æœºæ€§åœ°æ‰§è¡Œï¼ˆå³åœ¨æ²¡æœ‰ç¬¬2è¡Œæ£€æŸ¥çš„æƒ…å†µä¸‹è¢«æ‰§è¡Œï¼‰ã€‚ç”±äºè¾“å…¥å®é™…ä¸Šå¹¶ä¸æ»¡è¶³ç¬¬2è¡Œçš„æ£€æŸ¥ï¼Œç¬¬3-4è¡Œçš„æ‰§è¡Œä¼šå¯¼è‡´ç¼“å†²åŒºè¶…è¯»ã€‚ â€‹ å› æ­¤ï¼ŒSpecFuzz[139]å¯¹ç›®æ ‡ç¨‹åºè¿›è¡Œåˆ†æï¼Œä»¥æ¨¡æ‹ŸæŠ•æœºæ‰§è¡Œï¼Œå®ƒå¯ä»¥å¼ºåˆ¶æ‰§è¡Œé”™è¯¯é¢„æµ‹çš„ä»£ç è·¯å¾„ã€‚ç„¶åï¼Œé”™è¯¯é¢„æµ‹çš„è·¯å¾„ä¸­çš„ä»»ä½•æ— æ•ˆå†…å­˜è®¿é—®éƒ½ä¼šè¢«è§¦å‘ã€‚ 2.5 Side Channels â€‹ ä¾§ä¿¡é“æ¼æ´é€šè¿‡è§‚å¯Ÿç³»ç»Ÿçš„éåŠŸèƒ½è¡Œä¸ºï¼ˆå¦‚æ‰§è¡Œæ—¶é—´ï¼‰æ³„éœ²ç§˜å¯†ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç§˜å¯†æ˜¯è¯­å¥ \"if (a &gt; 0){...}else{...}\"ä¸­çš„å˜é‡aï¼Œäººä»¬å¯ä»¥è§‚å¯Ÿthen-branchå’Œelse-branchçš„æ‰§è¡Œæ—¶é—´æ¥åˆ¤æ–­açš„å€¼æ˜¯å¦å¤§äº0ã€‚ä¸€ç§ç‰¹æ®Šçš„è¾¹ä¿¡é“è¢«ç§°ä¸ºJITè¯±å¯¼çš„è¾¹ä¿¡é“ï¼Œå®ƒæ˜¯ç”±åŠæ—¶ä¼˜åŒ–ï¼ˆJITï¼‰å¼•èµ·çš„[25]ã€‚ä¸å‰é¢æåˆ°çš„Spectreå‹bugç±»ä¼¼ï¼Œäººä»¬å¯ä»¥åå¤è¿è¡Œç¨‹åºæ¥è®­ç»ƒJITç¼–è¯‘å™¨ï¼Œä½¿å…¶ä¼˜åŒ–the then-branchæˆ–else-branchçš„æ‰§è¡Œæ—¶é—´ã€‚ç„¶åï¼Œè®­ç»ƒè¿‡çš„åˆ†æ”¯ï¼ˆå¦‚the then-branchï¼‰å’Œæœªè®­ç»ƒè¿‡çš„åˆ†æ”¯ï¼ˆå¦‚else-branchï¼‰çš„æ‰§è¡Œæ—¶é—´å°†æœ‰è¶³å¤Ÿçš„åå·®ï¼Œå¯ä»¥è¢«è§‚å¯Ÿåˆ°ã€‚å› æ­¤ï¼Œå˜é‡açš„ç§˜å¯†å€¼è¢«æ³„éœ²äº†ã€‚ 2.6 Integer Bugs â€‹ å½“ä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼çš„å€¼è¶…å‡ºæœºå™¨ç±»å‹æ‰€å†³å®šçš„èŒƒå›´æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ•´æ•°æº¢å‡º/ä¸‹æº¢æ¼æ´ã€‚å¦ä¸€æ–¹é¢ï¼Œæ•´æ•°è½¬æ¢é”™è¯¯å‘ç”Ÿåœ¨å°†ä¸€ç§æ•´æ•°ç±»å‹é”™è¯¯åœ°è½¬æ¢ä¸ºå¦ä¸€ç§æ•´æ•°ç±»å‹æ—¶ã€‚ â€‹ ä¸ºäº†æ£€æµ‹æ•´æ•°bugï¼ŒSmartFuzz[132]æ ¹æ®ä¸åŒçš„æ•´æ•°bugåœ¨ç¬¦å·ä»¿çœŸä¸­åŠ å…¥äº†ç‰¹å®šçš„çº¦æŸã€‚ç„¶åï¼Œç¬¦å·è§£ç®—å™¨æ‰“ç®—ç”Ÿæˆå¯èƒ½è§¦å‘æ•´æ•°é”™è¯¯çš„å…·ä½“è¾“å…¥ã€‚ 3. Improvement of Execution Speed â€‹ æå‡è¿è¡Œçš„é€Ÿåº¦å¯¹fuzzingéå¸¸é‡è¦ï¼Œå› ä¸ºfuzzingä¼šåœ¨time budgetä¸Šä¼šè¿è¡Œå¤šä¸ªæµ‹è¯•æ ·ä¾‹ã€‚ 3.1 Binary Analysis â€‹ ä½œä¸ºä¸€ä¸ªé¢„å¤„ç†è¿‡ç¨‹ï¼Œfuzzingä¸»è¦åˆ©ç”¨é™æ€å·¥å…·æ¥è·å–æ‰§è¡ŒçŠ¶æ€ï¼Œå› ä¸ºé™æ€å·¥å…·ä¸ºfuzzingæä¾›äº†é«˜æ‰§è¡Œé€Ÿåº¦[58, 134]ã€‚ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„é™æ€åˆ†æå·¥å…·æ˜¯LLVM[113]ï¼Œå®ƒåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¯¹ç¨‹åºè¿›è¡Œåˆ†æã€‚ â€‹ å½“é¢å¯¹ä¸å¼€æºåº”ç”¨æ—¶ï¼Œä¼ ç»Ÿçš„é¢äºŒè¿›åˆ¶æ’æ¡©å·¥å…·ï¼ˆå¦‚Dyninstï¼‰åº”ç”¨åˆ°fuzzingä¸Šæ—¶æ—¶é—´å¼€é”€è¿‡å¤§ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼š RetroWrite[58]æå‡ºä½¿ç”¨åŸºäºå¯é‡æ„æ±‡ç¼–çš„é™æ€äºŒè¿›åˆ¶é‡å†™æŠ€æœ¯ã€‚å®ƒçš„é‡ç‚¹æ˜¯é€šè¿‡åˆ©ç”¨PICçš„é‡å®šä½ä¿¡æ¯å¯¹æ±‡ç¼–æ–‡ä»¶è¿›è¡Œä»ªå™¨åŒ–çš„64ä½ç‹¬ç«‹ä»£ç ï¼ˆPICï¼‰çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ç”±äºRetroWriteå¯ä»¥å¯¹å†…è”çš„ä»£ç ç‰‡æ®µè¿›è¡Œæ£€æµ‹ï¼Œå› æ­¤æ€§èƒ½å¼€é”€æœ‰æ‰€é™ä½ã€‚å°½ç®¡å¾ˆå¿«ï¼ŒRetroWriteåªæ”¯æŒ64ä½PICäºŒè¿›åˆ¶ï¼› ä¸ºäº†ç»´æŠ¤ä½è¿è¡Œæ—¶å¼€é”€å’Œå¯æ‰©å±•æ€§ï¼ŒFIBRE[134]é€šè¿‡å››ä¸ªIRä¿®æ”¹é˜¶æ®µç®€åŒ–äº†ä»£ç æ’æ¡©è¿‡ç¨‹ã€‚è¿™å››ä¸ªé˜¶æ®µé€šè¿‡é™æ€é‡å†™ã€å†…è”ã€è·Ÿè¸ªå¯„å­˜å™¨çš„æœ‰æ•ˆæ€§å’Œè€ƒè™‘å„ç§äºŒè¿›åˆ¶æ ¼å¼æ¥æ£€æµ‹ç¨‹åºã€‚ä¸Šè¿°é‡å†™æŠ€æœ¯åªé‡å†™ä¸€æ¬¡äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸å¥å…¨çš„äºŒè¿›åˆ¶é‡å†™ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå‰¥ç¦»çš„äºŒè¿›åˆ¶æ–‡ä»¶[189]ï¼› ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSTOCHFUZZ[209]åŸºäºæ¨¡ç³Šå¤„ç†é‡å¤æ‰§è¡Œç›®æ ‡ç¨‹åºçš„äº‹å®ï¼Œæå‡ºäº†å¢é‡å’Œéšæœºé‡å†™æŠ€æœ¯ã€‚å…·ä½“æ¥è¯´ï¼ŒSTOCHFUZZå¯¹ç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œå¤šæ¬¡æ”¹å†™ï¼Œå¹¶é€æ­¥ä¿®å¤ä¹‹å‰æ”¹å†™ç»“æœæ‰€å¸¦æ¥çš„é—®é¢˜ã€‚ 3.2 Execution Process â€‹ ç¨‹åºæ‰§è¡Œé€Ÿåº¦ä¹Ÿå¯ä»¥æé«˜ã€‚ UnTracer[133]è§‚å¯Ÿåˆ°ï¼Œåœ¨æ¨¡ç³Šå¤„ç†è¿‡ç¨‹ä¸­äº§ç”Ÿçš„å¤§å¤šæ•°æµ‹è¯•ç”¨ä¾‹å¹¶æ²¡æœ‰å‘ç°æ–°çš„è¦†ç›–èŒƒå›´ã€‚è¿™è¡¨æ˜ï¼Œè¿½è¸ªæ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹ï¼ˆAFLä½¿ç”¨ï¼‰ä¼šäº§ç”Ÿå¤§é‡çš„è¿è¡Œæ—¶é—´å¼€é”€ã€‚å› æ­¤ï¼ŒUnTraceråªè·Ÿè¸ªè¦†ç›–ç‡å¢åŠ çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œä»¥æé«˜æ‰§è¡Œé€Ÿåº¦ã€‚è¿™æ˜¯é€šè¿‡åœ¨åŸºæœ¬å—çš„å¼€å¤´æ’å…¥ä¸­æ–­æ¥å®Œæˆçš„ã€‚å½“ä¸€ä¸ªå—è¢«æ£€æŸ¥æ—¶ï¼ŒUnTracerä¼šåˆ é™¤è¯¥å—çš„æ’æ¡©ä»£ç ï¼Œè¿™æ ·å°†æ¥æ‰§è¡Œæ—¶å°±ä¸ä¼šåœ¨è¯¥å—è¢«ä¸­æ–­ï¼› ç”±äºblock coverageå¤±å»äº†æ‰§è¡ŒçŠ¶æ€çš„ä¿¡æ¯ï¼ŒCSI-Fuzz[216]åˆ©ç”¨è¾¹ç¼˜è¦†ç›–æ¥æ”¹è¿›UnTracerï¼› Zeror[213]é€šè¿‡åœ¨Untracer-instrumentedäºŒè¿›åˆ¶å’ŒAFL-instrumentedäºŒè¿›åˆ¶ä¹‹é—´è‡ªé€‚åº”åˆ‡æ¢æ¥æ”¹è¿›UnTracerã€‚å¯¹äºhybrid-fuzzingï¼Œconcolic executionè¢«ç”¨æ¥è§£å†³è·¯å¾„çº¦æŸã€‚ç„¶è€Œï¼Œconcolic executionä¸­çš„ç¬¦å·æ¨¡æ‹Ÿåœ¨åˆ¶å®šè·¯å¾„çº¦æŸæ—¶å¾ˆæ…¢ï¼Œè¿™æ˜¯æ··åˆæ¨¡ç³Šæ³•åœ¨æ‰©å±•åˆ°ç°å®ä¸–ç•Œåº”ç”¨æ—¶å—åˆ°å½±å“çš„ä¸»è¦å› ç´ ; QSYM[204]é€šè¿‡åˆ é™¤ä¸€äº›è€—æ—¶çš„ç»„ä»¶ï¼Œå¦‚IRç¿»è¯‘å’Œå¿«ç…§ï¼Œç¼“è§£äº†æ€§èƒ½ç“¶é¢ˆã€‚æ­¤å¤–ï¼Œå®ƒåªæ”¶é›†å’Œè§£å†³äº†ä¸€éƒ¨åˆ†è·¯å¾„çº¦æŸã€‚å°½ç®¡ç”±QSYMç”Ÿæˆçš„å…·ä½“è¾“å…¥å¯èƒ½ä¸æ˜¯è·¯å¾„çº¦æŸçš„ç²¾ç¡®è§£ï¼Œä½†QSYMä½¿ç”¨fuzzingé€šè¿‡æ”¹å˜è¿™äº›å…·ä½“è¾“å…¥æ¥æœç´¢æœ‰æ•ˆè¾“å…¥ï¼› Intriguer[46]è§‚å¯Ÿåˆ°ï¼Œç”±äºQSYMè§£å†³äº†è®¸å¤šä¸å¿…è¦çš„çº¦æŸï¼Œæ‰€ä»¥QSYMä»ç„¶å­˜åœ¨æ€§èƒ½ç“¶é¢ˆã€‚ç„¶åï¼ŒIntriguerå¯¹æ›´å¤šçš„ç›¸å…³æŒ‡ä»¤è¿›è¡Œäº†ç¬¦å·ä»¿çœŸï¼Œè¿™æ˜¯ç”±åŠ¨æ€æ±¡ç‚¹åˆ†æå†³å®šçš„ã€‚é™¤äº†æ’æ¡©å’Œhybrid-fuzzingï¼Œå¦ä¸€ä¸ªä¼˜åŒ–æ˜¯æé«˜å¹¶è¡Œæ¨¡å¼ä¸‹çš„æ‰§è¡Œé€Ÿåº¦ã€‚Xuç­‰äºº[195]è§‚å¯Ÿåˆ°ï¼ŒAFL[206]åœ¨120ä¸ªå†…æ ¸ä¸Šå¹¶è¡Œè¿è¡Œæ—¶ï¼Œé€Ÿåº¦æ˜æ˜¾å‡æ…¢ã€‚è¿™ä¿ƒä½¿ä»–ä»¬è®¾è®¡æ–°çš„æ“ä½œåŸè¯­æ¥æé«˜æ‰§è¡Œé€Ÿåº¦ã€‚ 3.3 Various Applications â€‹ é™¤äº†ä¸€èˆ¬çš„åº”ç”¨ï¼Œfuzzingä¹Ÿè¢«ç”¨æ¥æ£€æµ‹ä¸åŒé¢†åŸŸç›®æ ‡çš„ç¼ºé™·ï¼Œå¦‚ç‰©è”ç½‘ã€æ“ä½œç³»ç»Ÿå†…æ ¸å’Œè™šæ‹Ÿæœºç›‘è§†å™¨ï¼ˆVMMï¼‰ã€‚ç”±äºè¿™äº›ç›®æ ‡é€šå¸¸æœ‰ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œæ‰€ä»¥æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸ºç›®æ ‡å®šåˆ¶çš„ï¼Œä»¥ä¾¿ä»¥æœ‰æ•ˆçš„æ–¹å¼è¿›è¡Œæµ‹è¯•ã€‚ â€‹ è™½ç„¶ä»¿çœŸæ˜¯ä¸€ç§å¾ˆæœ‰å‰é€”çš„æ¨¡ç³Šç‰©è”ç½‘å›ºä»¶çš„æ–¹æ³•ï¼Œä½†å…¨è™šæ‹ŸåŒ–çš„ååé‡å¾ˆä½ã€‚å…¨è™šæ‹ŸåŒ–çš„è¿è¡Œæ—¶é—´å¼€é”€ä¸»è¦æ¥è‡ªäºç¿»è¯‘å†…å­˜è®¿é—®çš„è™šæ‹Ÿåœ°å€å’Œä»¿çœŸç³»ç»Ÿè°ƒç”¨ã€‚ FIRM-AFL[211]é€šè¿‡ç»“åˆç”¨æˆ·æ¨¡å¼è™šæ‹ŸåŒ–å’Œå…¨ç³»ç»Ÿè™šæ‹ŸåŒ–æ¥å‡è½»å¼€é”€ï¼Œå®ƒä¸»è¦åœ¨ç”¨æˆ·æ¨¡å¼ä»¿çœŸä¸­è¿è¡Œç¨‹åºï¼› ä¸ºäº†å¯¹VMMè¿›è¡Œæ¨¡ç³Šå¤„ç†ï¼ŒSchumiloç­‰äºº[162, 163]è®¾è®¡äº†ä¸€ä¸ªå®šåˆ¶çš„æ“ä½œç³»ç»Ÿå’Œä¸€ä¸ªå¿«é€Ÿçš„å¿«ç…§æ¢å¤æœºåˆ¶ï¼Œä»¥ä¾¿æœ‰æ•ˆåœ°è¿›è¡Œæ¨¡ç³Šå¤„ç†ã€‚ è‡³äºæ–‡ä»¶ç³»ç»Ÿï¼Œç”±äºimageå¤ªå¤§ï¼Œçªå˜æ•´ä¸ªç£ç›˜imageä¼šå¤§å¤§é™ä½æ¨¡ç³Šå¤„ç†çš„ååé‡ã€‚JANUS[196]åªå¯¹ç§å­imageçš„å…ƒæ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåˆ©ç”¨äº†ç»“æ„åŒ–æ•°æ®çš„ç‰¹æ€§ã€‚è¿™ä¸ªè§£å†³æ–¹æ¡ˆå‡å°‘äº†è¾“å…¥çš„æœç´¢ç©ºé—´ï¼Œä»è€Œæé«˜äº†ååé‡; æ“ä½œç³»ç»Ÿå†…æ ¸ä¹Ÿå¯ä»¥é€šè¿‡å¤–éƒ¨è®¾å¤‡è¢«ç ´åï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¼æ´æ˜¯æ²¿ç€ç¡¬ä»¶-æ“ä½œç³»ç»Ÿè¾¹ç•Œå‘ç”Ÿçš„ã€‚ä¸ºäº†æ£€æµ‹è®¾å¤‡-é©±åŠ¨é€šä¿¡ä¸­çš„ç¼ºé™·ï¼ŒPeriScope[174]æå‡ºäº†åŸºäºå†…æ ¸çš„é¡µé¢æ•…éšœå¤„ç†æœºåˆ¶çš„Fuzzï¼› Windowsçš„åº”ç”¨ç¨‹åºä¸Linuxçš„ä¸åŒï¼Œå› ä¸ºå®ƒä»¬å¤§é‡ä½¿ç”¨å›¾å½¢ç•Œé¢ï¼Œè€Œä¸”Windowsç¼ºä¹å¿«é€Ÿå…‹éš†è¿›ç¨‹çš„æ–¹æ³•ã€‚WINNIE[91]åˆæˆäº†ä¸€ä¸ªè¿è¡Œæ²¡æœ‰å›¾å½¢ç•Œé¢çš„åº”ç”¨ç¨‹åºçš„çº¦æŸã€‚æ­¤å¤–ï¼Œå®ƒè¿˜ä¸ºWindowså®ç°äº†fork()æ¥æœ‰æ•ˆåœ°å…‹éš†è¿›ç¨‹ï¼› BigFuzz[207]å°†æ•°æ®å¯†é›†å‹å¯æ‰©å±•è®¡ç®—ï¼ˆDISCï¼‰åº”ç”¨ç¨‹åºè½¬æ¢ä¸ºè¯­ä¹‰ç­‰ä»·çš„ç¨‹åºï¼Œè¯¥ç¨‹åºç‹¬ç«‹äºDISCæ¡†æ¶ã€‚ç”±äºDISCæ¡†æ¶å¼•å…¥äº†è¾ƒé•¿çš„å»¶è¿Ÿï¼Œç‹¬ç«‹äºæ¡†æ¶çš„æ‰§è¡Œæ–¹å¼æ˜¾è‘—æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚ Gap â€‹ ç»¼ä¸Šæ‰€è¿°ï¼Œç›®å‰fuzzingè§£å†³çš„ä¸‰ä¸ªgapï¼š Gap 1: Sparse defect space of inputs â€‹ åœ¨åº”ç”¨ç¨‹åºä¸­çš„æ¼æ´åˆ†å¸ƒæ˜¯åˆ†æ•£çš„ï¼Œè€Œä»…æœ‰éƒ¨åˆ†ç‰¹å®šçš„è¾“å…¥èƒ½å¤Ÿè§¦å‘æ¼æ´ï¼›æµ…æ˜¾çš„æ¼æ´å¯ä»¥åœ¨çŸ­æ—¶é—´å†…è¢« fuzz åˆ°ï¼Œä½†è®¸å¤šå®‰å…¨æ¼æ´éœ€è¦æµ‹è¯•å¤æ‚çš„æ‰§è¡Œè·¯å¾„å¹¶è§£å†³ä¸¥æ ¼çš„è·¯å¾„çº¦æŸï¼Œå› æ­¤ä¸€ä¸ªé«˜æ•ˆçš„ fuzzing ç®—æ³•éœ€è¦åŒæ—¶å¯¹ å¾…æµ‹è¯•ç¨‹åºï¼ˆprogram under testï¼Œ PUTsï¼‰ä¸ å®‰å…¨ç¼ºé™·ï¼ˆsecurity flawsï¼‰è¶³å¤Ÿç²¾é€šï¼Œä»¥åœ¨ä¸€ä¸ªæ›´æœ‰å¯èƒ½å­˜åœ¨æ¼æ´çš„ä»£ç åŒºåŸŸåˆ†é…è®¡ç®—èµ„æºã€‚ Gap 2: Strict valid input space â€‹ æ¯ç§åº”ç”¨ç¨‹åºéƒ½æœ‰ç€è‡ªå·±çš„ç‰¹å®šè¾“å…¥æ ¼å¼ï¼Œç°ä»£ç¨‹åºè¶Šæ¥è¶Šå¤§ï¼Œå¯¼è‡´äº†è¶Šæ¥è¶Šå¤æ‚çš„è¾“å…¥ï¼Œå› æ­¤ï¼Œç”Ÿæˆæœ‰æ•ˆè¾“å…¥æ˜¯æœ‰æŒ‘æˆ˜æ€§çš„ã€‚ â€‹ æ­¤å¤–ï¼Œä¸ºäº†æé«˜fuzzingçš„æ•ˆç‡ï¼Œç”Ÿæˆçš„è¾“å…¥æœ€å¥½èƒ½æ‰§è¡Œä¸åŒçš„æ‰§è¡ŒçŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œä»£ç è¦†ç›–ç‡ï¼‰ã€‚è¿™å°±è¦æ±‚fuzzingä¸ºæœ‰æ•ˆè¾“å…¥çš„ç”Ÿæˆå¼€å‘æ›´å…ˆè¿›çš„æ–¹æ¡ˆã€‚å¦‚æœæ²¡æœ‰å¯¹PUTçš„ç³»ç»Ÿæ€§åˆ†æï¼Œå‡ ä¹ä¸å¯èƒ½ç²¾ç¡®é™åˆ¶è¾“å…¥ç©ºé—´ã€‚ä¾‹å¦‚ï¼ŒPDFæ–‡ä»¶çš„éšæœºçªå˜å¯èƒ½è¿åPDFçš„è§„èŒƒã€‚æ¨¡ç³Šæ³•éœ€è¦ä»”ç»†åœ°çªå˜PDFæ–‡ä»¶ï¼Œä½¿ç”Ÿæˆçš„è¾“å…¥å±äºæœ‰æ•ˆè¾“å…¥ç©ºé—´ã€‚ Gap 3: Various targets â€‹ ç”±äº fuzzing å¤§é‡é‡å¤åœ°æµ‹è¯• PUTsï¼Œè¿™éœ€è¦é«˜æ•ˆçš„è‡ªåŠ¨åŒ–æ–¹æ³•ã€‚PUTs ä¸æ¼æ´éƒ½æ˜¯å¤šç§å¤šæ ·çš„ï¼Œæœ‰çš„ç¨‹åºå¯ä»¥ç®€å•ç›´æ¥åœ°è¢«è‡ªåŠ¨åŒ–åœ°æµ‹è¯•ï¼ˆå‘½ä»¤è¡Œï¼‰ï¼Œä½†è®¸å¤šç¨‹åºåœ¨è‡ªåŠ¨åŒ–æµ‹è¯•å‰éƒ½éœ€è¦åšå¤§é‡çš„å·¥ä½œï¼ˆä¾‹å¦‚ç¡¬ä»¶ï¼‰ï¼›æ­¤å¤–ï¼Œå®‰å…¨ç¼ºé™·åŒæ ·éœ€è¦è‡ªåŠ¨åŒ–çš„ indicator ä»¥è®°å½•æ½œåœ¨çš„çœŸæ­£æ¼æ´ï¼Œç¨‹åºå´©æºƒæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ indicator å› ä¸ºå…¶å¯ä»¥è¢« OS è‡ªåŠ¨æ•è·ï¼Œä½†æœ‰çš„å®‰å…¨ç¼ºé™·å¹¶ä¸ä¼šè¡¨ç°å‡ºå´©æºƒï¼ˆä¾‹å¦‚data raceï¼‰ï¼Œè¿™éœ€è¦ç²¾å¿ƒè®¾è®¡çš„ indicatorã€‚ PS: data race(æ•°æ®äº‰ç”¨) &amp; race condition(ç«æ€æ¡ä»¶) ç«æ€æ¡ä»¶ï¼ˆRace conditionï¼‰ä¸æ•°æ®ç«äº‰ï¼ˆData Raceï¼‰çš„åŒºåˆ« Direction of future research â€‹ æœªæ¥å¯èƒ½çš„å‡ ä¸ªæ–¹å‘ï¼š 1. More sensitive fitness â€‹ æé«˜ä»£ç è¦†ç›–ç‡çš„æ•ˆç‡å’Œæ•ˆæœï¼Œå°¤å…¶æ˜¯å…¶æ•æ„Ÿæ€§ï¼ˆFitnessçš„æ•æ„Ÿæ€§è¡¨æ˜å…¶åŒºåˆ«ä¸åŒç¨‹åºè¿è¡ŒçŠ¶æ€çš„èƒ½åŠ›ï¼‰ã€‚æœ€è¿‘ï¼Œç ”ç©¶äººå‘˜æ„è¯†åˆ°ï¼Œä»£ç è¦†ç›–ç‡åœ¨å‘ç°å¤æ‚çš„bugæ–¹é¢æœ‰å…¶å±€é™æ€§ã€‚å› æ­¤ï¼Œä»–ä»¬é€šè¿‡å¼•å…¥é€šè¿‡åˆ†æbugè·å¾—çš„ä¿¡æ¯ï¼ˆå¦‚å±é™©ä»£ç åŒºåŸŸï¼‰æ¥æ‰©å±•ä»£ç è¦†ç›–ç‡ã€‚æœªæ¥çš„å·¥ä½œå¯ä»¥åˆ†æbugï¼Œå¹¶æ ¹æ®bugçš„ç‰¹å¾è¿›è¡Œæ£€æµ‹ï¼Œç‰¹åˆ«æ˜¯åˆ†æé‚£äº›é€ƒé¿å½“å‰fuzzingçš„bugã€‚ 2. More sophisticated fuzzing theories â€‹ ç›®å‰çš„fuzzingç†è®ºç ”ç©¶éƒ½æ˜¯éƒ¨åˆ†åœ°å®šåˆ¶äº†fuzzingçš„æŸä¸ªè¿‡ç¨‹ï¼ˆç¬¬3èŠ‚ï¼‰ã€‚å¤§å¤šæ•°ç°æœ‰çš„å·¥ä½œæ—¨åœ¨åˆ¶å®šseed scheduleï¼Œè€Œå…³æ³¨å…¶ä»–fuzzingè¿‡ç¨‹çš„å·¥ä½œåˆ™å°‘å¾—å¤šã€‚ç”±äºfuzzingçš„å¤æ‚æ€§ï¼Œç°æœ‰çš„å·¥ä½œä¸­å¾ˆå°‘æœ‰åˆ¶å®šæ•´ä¸ªfuzzingè¿‡ç¨‹çš„ã€‚ â€‹ ä»æ•°å­¦ç†è®ºä¸Šåˆ¶å®šæ•´ä¸ªfuzzingè¿‡ç¨‹æ˜¯non-trivialçš„ã€‚ç„¶è€Œï¼Œåˆ¶å®šä¸€ä¸ªä»¥ä¸Šçš„fuzzingè¿‡ç¨‹æ˜¯å¯èƒ½çš„ï¼Œå¦‚åšå¼ˆè®ºï¼Œå…¶åŒæ—¶è€ƒè™‘seed scheduleå’Œbytes scheduleã€‚ â€‹ æ›´é•¿è¿œæ¥çœ‹ï¼Œå…³äºfuzzingçš„ç†è®ºé™åˆ¶ä¹Ÿå¯ä»¥æ˜¯ç ”ç©¶æ–¹å‘ï¼ˆä¾‹å¦‚ï¼Œç°ç›’fuzzingçš„é™åˆ¶ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼Œç”¨å¤šç§ç±»å‹çš„fitnessæ¥åˆ¶å®šfuzzingè¿‡ç¨‹æ˜¯å»ºç«‹æ›´å¤æ‚çš„fuzzingç†è®ºçš„å¦ä¸€ç§æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œæœªæ¥çš„å·¥ä½œå¯ä»¥åŒæ—¶è€ƒè™‘é”™è¯¯çš„åˆ°æ¥å’ŒçŠ¶æ€çš„è½¬æ¢æ¥åˆ¶å®šfuzzingè¿‡ç¨‹ã€‚ 3. Sound evaluation â€‹ å°‘éƒ¨åˆ†ç ”ç©¶å·¥ä½œå…³æ³¨è¯„ä»·çš„åˆç†æ€§ï¼Œä½†æ²¡æœ‰å¾—å‡ºç¡®åˆ‡çš„ç»“è®ºï¼ˆ3.6èŠ‚ï¼‰ã€‚è¿™äº›å·¥ä½œåªä¸ºåˆç†çš„è¯„ä»·æä¾›äº†å»ºè®®ï¼Œå¦‚æ—¶é—´é¢„ç®—æˆ–è¯„ä»·æŒ‡æ ‡ï¼Œæ›´å¤šçš„é—®é¢˜ä»ç„¶æœ‰å¾…å›ç­”ã€‚ æˆ‘ä»¬åº”è¯¥ä½¿ç”¨åˆæˆçš„bugè¿˜æ˜¯çœŸå®ä¸–ç•Œçš„bugä½œä¸ºè¯„ä»·ä½“ä¾‹ï¼Ÿ ç»Ÿè®¡æµ‹è¯•æ˜¯åŒºåˆ†ä¸¤ç§fuzzingæŠ€æœ¯çš„æœ€ç»ˆç­”æ¡ˆå—ï¼Ÿ ç»ˆæ­¢fuzzingçš„åˆç†æ—¶é—´é¢„ç®—æ˜¯ä»€ä¹ˆï¼Ÿ å½“ä¸å­˜åœ¨ç”¨äºæ¯”è¾ƒfuzzeræ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•è¯„ä¼°ç‰¹æ®Šçš„ç›®æ ‡åº”ç”¨ï¼Œå¦‚ç¡¬ä»¶ï¼Ÿ 4. Scalable input inference â€‹ å¦‚æœåœ¨fuzzingè¿‡ç¨‹ä¸­ä½¿ç”¨ç‰¹å®šæ ¼å¼æˆ–æ•°æ®ä¾èµ–æ€§ï¼Œå…¶æ•ˆç‡å¯ä»¥å¾—åˆ°æ˜¾è‘—æé«˜ã€‚é™æ€åˆ†æè¢«å¹¿æ³›ç”¨äºæ ¼å¼æ¨æ–­å’Œæ•°æ®ä¾èµ–æ€§æ¨æ–­ã€‚ç„¶è€Œï¼Œé™æ€åˆ†ææ˜¯ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨ç†æ–¹æ³•çš„å®ç°éœ€è¦è€ƒè™‘ä¸åŒåº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹ã€‚ç›®å‰ï¼ŒåŠ¨æ€åˆ†æä¾§é‡äºæ ¼å¼æ¨æ–­ï¼Œå¾ˆå°‘æœ‰ä½œå“åœ¨æ•°æ®ä¾èµ–æ€§æ¨æ–­æ–¹é¢åšå‡ºåŠªåŠ›ã€‚å…·æœ‰åŠ¨æ€åˆ†æçš„æ¨ç†æ–¹æ³•æœ‰å¯èƒ½è¢«ç”¨äºå¤šç§åº”ç”¨ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŠ¨æ€åˆ†ææ¯”é™æ€åˆ†ææ›´å…·å¯æ‰©å±•æ€§ã€‚æ›´å¤šçš„ç ”ç©¶å¯ä»¥é›†ä¸­åœ¨åŸºäºåŠ¨æ€åˆ†æçš„æ•°æ®ä¾èµ–æ€§æ¨æ–­ä¸Šã€‚ 5. Efficient mutation operators â€‹ å‡ ä¹æ‰€æœ‰çš„fuzzeråœ¨fuzzingè¿‡ç¨‹ä¸­éƒ½ä½¿ç”¨äº†å›ºå®šçš„mutatorã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œfuzzeræ ¹æ®ç›®æ ‡åº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹æå‰è®¾è®¡äº†ä¸€äº›mutatorï¼Œå¹¶ä¸”åœ¨æ‘¸ç´¢è¿‡ç¨‹ä¸­å¹¶ä¸æ”¹å˜mutatorã€‚æœ‰å‡ é¡¹å·¥ä½œæ‰“ç®—ä¼˜åŒ–mutatorï¼Œä½†æ²¡æœ‰äººå…³æ³¨å¯æ”¹å˜çš„mutatorï¼Œæ˜¯å¦æœ‰å¯èƒ½è®¾è®¡å‡ºåœ¨fuzzingè¿‡ç¨‹ä¸­å¯ä»¥æ”¹å˜çš„mutatoræ¥æé«˜æ€§èƒ½ï¼Ÿå› ä¸ºmutator scheduleä¸bytes scheduleå¯†åˆ‡ç›¸å…³ï¼Œæ‰€ä»¥åœ¨è®¾è®¡mutatoræ—¶è€ƒè™‘åˆ°bytes scheduleå¯èƒ½æ˜¯æœ‰å¸Œæœ›çš„ã€‚æ­¤å¤–ï¼Œé«˜åº¦ç»“æ„åŒ–è¾“å…¥çš„mutatorå¯èƒ½å¯¹ä¸€èˆ¬åº”ç”¨æœ‰ä¸åŒçš„å±æ€§ï¼Œå› æ­¤ï¼Œé«˜åº¦ç»“æ„åŒ–è¾“å…¥çš„mutator scheduleå¯èƒ½ä¹Ÿå€¼å¾—ç ”ç©¶ã€‚ 6. More types of applications â€‹ Fuzzingåœ¨æ£€æµ‹å‘½ä»¤è¡Œç¨‹åºçš„é”™è¯¯æ–¹é¢å–å¾—äº†å·¨å¤§æˆåŠŸã€‚ç ”ç©¶äººå‘˜ä¹Ÿåœ¨å¯¹æ›´å¤šç±»å‹çš„åº”ç”¨ç¨‹åºè¿›è¡Œfuzzingæ–¹é¢åšå‡ºäº†è®¸å¤šåŠªåŠ›ï¼ˆç¬¬5.1èŠ‚ï¼‰ã€‚ç”±äºä¸åŒåº”ç”¨ç¨‹åºçš„å¤æ‚æ€§ï¼Œfuzzingåœ¨å®é™…æ£€æµ‹æ›´å¤šç±»å‹çš„åº”ç”¨ç¨‹åºæ—¶æœ‰å…¶å±€é™æ€§ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å·¥ä½œæ¢ç´¢äº†å¯¹ç½‘ç»œç‰©ç†ç³»ç»Ÿè¿›è¡Œfuzzingçš„å¯èƒ½æ€§ï¼Œä½†fuzzingçš„èƒ½åŠ›æ˜¯æœ‰é™çš„[41, 179]ã€‚ç”±äºæ‰§è¡Œé€Ÿåº¦å¯¹fuzzingè‡³å…³é‡è¦ï¼Œå› æ­¤hard-fuzzingåº”ç”¨çš„ä¸€ä¸ªæ½œåœ¨æ–¹å‘æ˜¯æé«˜å…¶æ‰§è¡Œé€Ÿåº¦ã€‚ 7. More types of bugs â€‹ Fuzzingå·²ç»æˆåŠŸåœ°æ£€æµ‹åˆ°äº†è¯¸å¦‚memory-violation bugs, concurrency bugs, æˆ–è€…algorithmic complexity bugsã€‚ç„¶è€Œï¼Œå®ƒå¾ˆéš¾æ£€æµ‹åˆ°è®¸å¤šå…¶ä»–ç±»å‹çš„é”™è¯¯ï¼Œå¦‚ç‰¹æƒå‡çº§æˆ–é€»è¾‘é”™è¯¯ã€‚ â€‹ ç›®å‰çš„æŒ‘æˆ˜æ˜¯ä¸ºè¿™äº›é”™è¯¯è®¾è®¡é€‚å½“çš„æŒ‡æ ‡ï¼Œä»¥ä¾¿åœ¨fuzzingè¿‡ç¨‹ä¸­è‡ªåŠ¨è®°å½•å®ƒä»¬ã€‚å› ä¸ºè¿™ç§æŒ‡æ ‡åæ˜ äº†ç›¸åº”çš„bugçš„ç‰¹å¾ï¼Œæ‰€ä»¥æŒ‡æ ‡çš„è®¾è®¡éœ€è¦ç ”ç©¶äººå‘˜å¯¹fuzzingå’Œç›®æ ‡bugéƒ½æœ‰å¾ˆå¥½çš„ç†è§£ã€‚ä¾‹å¦‚ï¼Œå³ä½¿è§¦å‘äº†é€»è¾‘é”™è¯¯ï¼Œç¨‹åºä¹Ÿä¼šåœ¨æ²¡æœ‰å¼‚å¸¸çš„æƒ…å†µä¸‹è¿è¡Œã€‚ä¸ºäº†è®¾è®¡é€»è¾‘é”™è¯¯çš„è‡ªåŠ¨æŒ‡æ ‡ï¼Œéœ€è¦å¯¹å¼€å‘ä»£ç çš„åŠŸèƒ½éœ€æ±‚æœ‰æ·±åˆ»çš„ç†è§£ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯») Concolic Execution for WebAssembly","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Concolic-Execution-for-WebAssembly","date":"2023-06-20T11:16:32.576Z","updated":"2023-06-20T13:15:31.319Z","comments":true,"path":"2023/06/20/ã€è®ºæ–‡é˜…è¯»ã€‘Concolic-Execution-for-WebAssembly/","link":"","permalink":"http://example.com/2023/06/20/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Concolic-Execution-for-WebAssembly/","excerpt":"Concolic Execution for WebAssembly æ—¶é—´ï¼š2022 ä½œè€…ï¼šFilipe Marquesã€JosÃ© Fragoso Santosã€Nuno Santosï¼ˆé‡Œæ–¯æœ¬å¤§å­¦ï¼‰ ä¼šè®®ï¼šECOOPâ€™2022ï¼ˆè½¯å·¥CCF-Bï¼‰ Abstract â€‹ WebAssemblyï¼ˆWasmï¼‰æ˜¯ä¸€ç§æ–°çš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œå…è®¸ç”¨é«˜çº§è¯­è¨€ç¼–å†™çš„ç›®æ ‡ç¼–è¯‘ä»£ç ä»¥æ¥è¿‘åŸç”Ÿçš„é€Ÿåº¦è¢«æµè§ˆå™¨çš„JavaScriptå¼•æ“æ‰§è¡Œã€‚å°½ç®¡Wasmæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä½†å®ƒä¸ºç½‘ç»œç¨‹åºå¼•å…¥é”™è¯¯æˆ–å®‰å…¨æ¼æ´æä¾›äº†æœºä¼šï¼Œå› ä¸ºç”¨ä¸å®‰å…¨è¯­è¨€ç¼–å†™çš„ç¨‹åºä¸­å·²æœ‰çš„é—®é¢˜å¯ä»¥è½¬ç§»åˆ°äº¤å‰ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚è¿™ç§äºŒè¿›åˆ¶æ–‡ä»¶çš„æºä»£ç ç»å¸¸æ— æ³•ç”¨äºé™æ€åˆ†æï¼Œè¿™å°±éœ€è¦æœ‰èƒ½å¤Ÿç›´æ¥å¤„ç†Wasmä»£ç çš„å·¥å…·ã€‚å°½ç®¡è¿™ç§æ½œåœ¨çš„å®‰å…¨å…³é”®æƒ…å†µï¼Œä»ç„¶æ˜æ˜¾ç¼ºä¹åˆ†æWasmäºŒè¿›åˆ¶æ–‡ä»¶çš„å·¥å…·æ”¯æŒã€‚ â€‹ æˆ‘ä»¬æå‡ºäº†WASPï¼Œä¸€ä¸ªç”¨äºæµ‹è¯•Wasmæ¨¡å—çš„ç¬¦å·æ‰§è¡Œå¼•æ“ï¼Œå®ƒç›´æ¥åœ¨Wasmä»£ç ä¸Šå·¥ä½œï¼Œå¹¶å»ºç«‹åœ¨ä¸€ä¸ªç¬¦åˆæ ‡å‡†çš„Wasmå‚è€ƒå®ç°ä¹‹ä¸Šã€‚æˆ‘ä»¬å¯¹WASPè¿›è¡Œäº†å…¨é¢çš„è¯„ä¼°ï¼šå®ƒè¢«ç”¨æ¥ç¬¦å·æ‰§è¡Œæµ‹è¯•Cè¯­è¨€çš„é€šç”¨æ•°æ®ç»“æ„åº“å’ŒCè¯­è¨€çš„äºšé©¬é€ŠåŠ å¯†SDKï¼Œè¯æ˜å®ƒå¯ä»¥ä¸ºçœŸå®ä¸–ç•Œçš„Cè¯­è¨€åº”ç”¨æ‰¾åˆ°é”™è¯¯å¹¶äº§ç”Ÿé«˜è¦†ç›–ç‡çš„æµ‹è¯•è¾“å…¥ï¼›å¹¶è¿›ä¸€æ­¥é’ˆå¯¹Test-CompåŸºå‡†è¿›è¡Œæµ‹è¯•ï¼Œè·å¾—äº†ä¸æˆç†Ÿçš„Cè¯­è¨€ç¬¦å·æ‰§è¡Œå’Œæµ‹è¯•å·¥å…·ç›¸å½“çš„ç»“æœã€‚","text":"Concolic Execution for WebAssembly æ—¶é—´ï¼š2022 ä½œè€…ï¼šFilipe Marquesã€JosÃ© Fragoso Santosã€Nuno Santosï¼ˆé‡Œæ–¯æœ¬å¤§å­¦ï¼‰ ä¼šè®®ï¼šECOOPâ€™2022ï¼ˆè½¯å·¥CCF-Bï¼‰ Abstract â€‹ WebAssemblyï¼ˆWasmï¼‰æ˜¯ä¸€ç§æ–°çš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œå…è®¸ç”¨é«˜çº§è¯­è¨€ç¼–å†™çš„ç›®æ ‡ç¼–è¯‘ä»£ç ä»¥æ¥è¿‘åŸç”Ÿçš„é€Ÿåº¦è¢«æµè§ˆå™¨çš„JavaScriptå¼•æ“æ‰§è¡Œã€‚å°½ç®¡Wasmæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä½†å®ƒä¸ºç½‘ç»œç¨‹åºå¼•å…¥é”™è¯¯æˆ–å®‰å…¨æ¼æ´æä¾›äº†æœºä¼šï¼Œå› ä¸ºç”¨ä¸å®‰å…¨è¯­è¨€ç¼–å†™çš„ç¨‹åºä¸­å·²æœ‰çš„é—®é¢˜å¯ä»¥è½¬ç§»åˆ°äº¤å‰ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚è¿™ç§äºŒè¿›åˆ¶æ–‡ä»¶çš„æºä»£ç ç»å¸¸æ— æ³•ç”¨äºé™æ€åˆ†æï¼Œè¿™å°±éœ€è¦æœ‰èƒ½å¤Ÿç›´æ¥å¤„ç†Wasmä»£ç çš„å·¥å…·ã€‚å°½ç®¡è¿™ç§æ½œåœ¨çš„å®‰å…¨å…³é”®æƒ…å†µï¼Œä»ç„¶æ˜æ˜¾ç¼ºä¹åˆ†æWasmäºŒè¿›åˆ¶æ–‡ä»¶çš„å·¥å…·æ”¯æŒã€‚ â€‹ æˆ‘ä»¬æå‡ºäº†WASPï¼Œä¸€ä¸ªç”¨äºæµ‹è¯•Wasmæ¨¡å—çš„ç¬¦å·æ‰§è¡Œå¼•æ“ï¼Œå®ƒç›´æ¥åœ¨Wasmä»£ç ä¸Šå·¥ä½œï¼Œå¹¶å»ºç«‹åœ¨ä¸€ä¸ªç¬¦åˆæ ‡å‡†çš„Wasmå‚è€ƒå®ç°ä¹‹ä¸Šã€‚æˆ‘ä»¬å¯¹WASPè¿›è¡Œäº†å…¨é¢çš„è¯„ä¼°ï¼šå®ƒè¢«ç”¨æ¥ç¬¦å·æ‰§è¡Œæµ‹è¯•Cè¯­è¨€çš„é€šç”¨æ•°æ®ç»“æ„åº“å’ŒCè¯­è¨€çš„äºšé©¬é€ŠåŠ å¯†SDKï¼Œè¯æ˜å®ƒå¯ä»¥ä¸ºçœŸå®ä¸–ç•Œçš„Cè¯­è¨€åº”ç”¨æ‰¾åˆ°é”™è¯¯å¹¶äº§ç”Ÿé«˜è¦†ç›–ç‡çš„æµ‹è¯•è¾“å…¥ï¼›å¹¶è¿›ä¸€æ­¥é’ˆå¯¹Test-CompåŸºå‡†è¿›è¡Œæµ‹è¯•ï¼Œè·å¾—äº†ä¸æˆç†Ÿçš„Cè¯­è¨€ç¬¦å·æ‰§è¡Œå’Œæµ‹è¯•å·¥å…·ç›¸å½“çš„ç»“æœã€‚ é—®é¢˜èƒŒæ™¯ 1. Concolic execution â€‹ Concolic executionæ˜¯ç¬¦å·æ‰§è¡Œçš„ä¸€ç§ç‰¹æ®Šå˜ä½“ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäººä»¬å°†å…·ä½“çš„æ‰§è¡Œä¸çº¯ç²¹çš„ç¬¦å·æ‰§è¡Œé…å¯¹ï¼Œé€šè¿‡ä¸€æ¬¡æ¢ç´¢ä¸€ä¸ªæ‰§è¡Œè·¯å¾„æ¥é¿å…ä¸åº•å±‚SMTæ±‚è§£å™¨çš„äº¤äº’ã€‚Concolicæ‰§è¡Œå¼•æ“ä¸ºç¬¦å·è¾“å…¥åˆ†é…å…·ä½“æ•°å€¼ï¼Œå¹¶åŒæ—¶ä»¥å…·ä½“å’Œç¬¦å·æ–¹å¼æ‰§è¡Œç»™å®šçš„ç¨‹åºï¼Œåªéµå¾ªå…·ä½“è·¯å¾„ï¼Œä½†åƒçº¯ç¬¦å·æ‰§è¡Œé‚£æ ·æ„å»ºä¸è¯¥è·¯å¾„å¯¹åº”çš„è·¯å¾„æ¡ä»¶ã€‚ â€‹ æ›´å…·ä½“åœ°è¯´ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¸ºç¬¦å·å˜é‡ç”Ÿæˆæ–°çš„å…·ä½“è¾“å…¥ï¼Œä»è€Œå¼ºåˆ¶æ¢ç´¢ä¸åŒçš„è·¯å¾„ã€‚ä¸ºæ­¤ï¼Œäººä»¬éœ€è¦å¦å®šä¸Šä¸€æ¬¡æ‰§è¡Œè·å¾—çš„è·¯å¾„æ¡ä»¶ï¼Œå¹¶æŸ¥è¯¢åº•å±‚æ±‚è§£å™¨ï¼Œä»¥è·å¾—å…¬å¼çš„æ¨¡å‹ã€‚é€šè¿‡è·Ÿè¸ªæ‰€æœ‰é€šè¿‡Concolicæ‰§è¡Œäº§ç”Ÿçš„è·¯å¾„æ¡ä»¶ï¼Œå¼•æ“å¯ä»¥åˆ—ä¸¾å‡ºæ‰€æœ‰çš„ç¨‹åºæ‰§è¡Œè·¯å¾„ï¼Œç›´åˆ°ä¸€ä¸ªè¾¹ç•Œï¼Œå…¶ä¼˜ç‚¹æ˜¯æ¯ä¸ªæ¢ç´¢çš„è·¯å¾„åªéœ€è¦ä¸åº•å±‚æ±‚è§£å™¨äº¤äº’ä¸€æ¬¡ã€‚è¯·æ³¨æ„ï¼Œåœ¨çº¯ç²¹çš„ç¬¦å·æ‰§è¡Œä¸­ï¼Œå¼•æ“å¿…é¡»åœ¨æ¯æ¬¡é‡åˆ°åˆ†æ”¯ç‚¹æ—¶æŸ¥è¯¢æ±‚è§£å™¨ï¼Œä»¥ç¡®å®šå…¶then-å’Œelse-åˆ†æ”¯æ˜¯å¦å¯è¡Œã€‚ â€‹ ä»¥å¦‚ä¸‹ä»£ç ä¸ºä¾‹(å‚è€ƒã€ŠRobust Symbolic Execution for WebAssemblyã€‹)ï¼š â€‹ ç›®æ ‡ï¼šæµ‹è¯•assertè¯­å¥æˆç«‹çš„æ¡ä»¶ã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç¨‹åºæœ‰ä¸‰æ¡å¯èƒ½çš„æ‰§è¡Œè·¯å¾„ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ‰§è¡Œè·¯å¾„ï¼ˆexecution pathï¼‰ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºä¸€ä¸ªconcolic iterationã€‚ â€‹ åœ¨Concolic executionä¸­ï¼š ç¬¬ä¸€ä¸ªconcolic iterationå¼€å§‹å‰ï¼Œå˜é‡xä¸yè¢«èµ‹äºˆå…·å€¼0ä¸2ï¼Œè¿™äº›è¾“å…¥å¯¼è‡´Concolic executionå¼•æ“æ¢ç´¢ä¸Šå›¾æœ€å³è¾¹çš„è·¯å¾„ï¼Œäº§ç”Ÿæœ€åçš„è·¯å¾„æ¡ä»¶ï¼šXâ‰¤0ï¼› ç¬¬äºŒä¸ªconcolic iterationå¼€å§‹å‰ï¼ŒConcolic executionå¼•æ“æŸ¥è¯¢åº•å±‚SMTæ±‚è§£å™¨ï¼Œä¸ºç¬¦å·è¾“å…¥å¯»æ‰¾ä¸€ä¸ªæ»¡è¶³å…¬å¼x&gt;0çš„è¾“å…¥å€¼ï¼Œå³å¯¹åº”äºç¬¬ä¸€ä¸ªè·¯å¾„æ¡ä»¶çš„å¦å®šã€‚è®©æˆ‘ä»¬å‡è®¾æ±‚è§£å™¨è¿”å›x=1å’Œy=0ã€‚è¿™äº›è¾“å…¥å¯¼è‡´å¼•æ“æ¢ç´¢ä¸­é—´çš„æ‰§è¡Œè·¯å¾„ï¼Œäº§ç”Ÿè·¯å¾„æ¡ä»¶ï¼šï¼ˆx&gt;0ï¼‰âˆ§ï¼ˆxâ‰¥yï¼‰ï¼› ç¬¬ä¸‰ä¸ªconcolic iterationå¼€å§‹å‰ï¼ŒåŒ2ï¼Œå¼•æ“ç»§ç»­åˆ©ç”¨SMTæ±‚è§£å™¨æŸ¥æ‰¾å¯¹2ç”Ÿæˆæ¡ä»¶çš„å¦å®šï¼Œå¾—åˆ°ï¼š(x &gt; 0) âˆ§ ((x â‰¤ 0) âˆ¨ (x &lt; y))ï¼Œä¹Ÿå°±æ˜¯ç­‰ä»·äºï¼š(x &gt; 0) âˆ§ (x &lt; y)ã€‚å‡è®¾è¿™é‡Œå¾—åˆ°äº†å…·ä½“è¾“å…¥x=1å’Œy=2ï¼Œç¨‹åºæ¢ç´¢äº†æœ€å·¦è¾¹çš„æ‰§è¡Œè·¯å¾„ï¼Œä½†æ­¤æ—¶è¿™ä¸ªè¾“å…¥å¹¶æ²¡æœ‰è§¦å‘æ–­è¨€ï¼Œå…¶å¯¼è‡´a=4ï¼Œb=6ã€‚å½“è¿™æ¡è·¯å¾„æ‰§è¡Œåˆ°æ–­è¨€è¯­å¥æ—¶ï¼Œæ¡ä»¶ä¸ºï¼š ç¬¦å·æ‰§è¡Œå¼•æ“ä¼šç»§ç»­å¯¹è¿™ä¸ªæ¡ä»¶åšåˆ†æï¼Œå³åœ¨æ»¡è¶³PCæ¡ä»¶ï¼ˆx&gt;0 and x&lt;yï¼‰ä¸‹ï¼Œæ˜¯å¦å¯ä»¥æ¨å‡ºï¼š å³æ˜¯å¦å­˜åœ¨åä¾‹ï¼š SMTæ±‚è§£è¿™ä¸ªå¼å­å¾ˆå®¹æ˜“å¾—å‡ºï¼Œx=1,y=4ï¼Œæ•…è¿™æ¡è·¯å¾„ä¸Šå­˜åœ¨å¯¼è‡´æ–­è¨€å¤±è´¥çš„è¾“å…¥ã€‚ 2. ç°æœ‰WASMç¬¦å·æ‰§è¡Œå·¥å…· â€‹ æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œç›®å‰åªæœ‰ä¸¤ä¸ªå·¥å…·ç”¨äºè±¡å¾æ€§åœ°æ‰§è¡ŒWasmä»£ç ï¼š WANA[73]å’ŒManticore[51]ã€‚ç„¶è€Œï¼Œè¿™ä¸¤ä¸ªå·¥å…·ä¸»è¦æ˜¯é’ˆå¯¹æ™ºèƒ½åˆçº¦çš„åˆ†æï¼Œå¹¶æœ‰é‡è¦çš„é™åˆ¶ï¼Œé™åˆ¶äº†å®ƒä»¬å¯¹ç‹¬ç«‹çš„Wasmæ¨¡å—çš„åº”ç”¨ã€‚WANA[73]å¤„äºåˆæ­¥å¼€å‘é˜¶æ®µï¼Œåªèƒ½åº”ç”¨äºEOSIOå’ŒEthereumæ™ºèƒ½åˆçº¦ï¼Œå› ä¸ºå®ƒä¸åŒ…æ‹¬å¯ä»¥ç‹¬ç«‹è¿è¡Œçš„Wasmçš„ç¬¦å·æ‰§è¡Œå¼•æ“ã€‚Manticore[51]æœ€è¿‘è·å¾—äº†å¯¹Wasm[33]çš„æ”¯æŒï¼Œä½†å°šæœªå¯¹Wasmä»£ç è¿›è¡Œç³»ç»Ÿçš„è¯„ä¼°ã€‚æ­¤å¤–ï¼Œå®ƒå¯¹Wasmæ¨¡å—çš„åº”ç”¨éœ€è¦ä¸ºæ¯ä¸ªå¯èƒ½çš„è¾“å…¥å†…å­˜æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªå¤æ‚çš„Pythonè„šæœ¬ï¼Œè¿™ä½¿å¾—å®ƒå¾ˆéº»çƒ¦ï¼Œéš¾ä»¥å®ç°è‡ªåŠ¨åŒ–ã€‚ â€‹ è´¡çŒ® â€‹ æˆ‘ä»¬æå‡ºäº†WebAssemblyç¬¦å·å¤„ç†å™¨ï¼ŒWASPï¼Œä¸€ä¸ªç”¨äºæµ‹è¯•Wasmï¼ˆ1.0ç‰ˆï¼‰æ¨¡å—çš„æ–°å‹Concolic executionå¼•æ“ã€‚WASPéµå¾ªæ‰€è°“çš„Concolic discipline[28, 64]ï¼Œå°†å…·ä½“æ‰§è¡Œä¸ç¬¦å·æ‰§è¡Œç›¸ç»“åˆï¼Œä¸€æ¬¡æ¢ç´¢ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚ç„¶è€Œï¼Œä¸å¤§å¤šæ•°é€šè¿‡å¯¹ç¨‹åºæ’æ¡©çš„Concolic executionå¼•æ“[65, 79, 64, 63]ä¸åŒï¼Œæˆ‘ä»¬é€šè¿‡å¯¹Haasç­‰äºº[30]å¼€å‘çš„Wasmè§£é‡Šå™¨çš„æ’æ¡©å®ç°WASPã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½œè€…çš„å‚è€ƒè§£é‡Šå™¨ä»å…·ä½“æ•°å€¼æå‡åˆ°å…·ä½“æ•°å€¼å’Œç¬¦å·æ•°å€¼å¯¹ã€‚é€šè¿‡å°†æ’æ¡©è½¬ç§»åˆ°è§£é‡Šå™¨å±‚é¢ï¼Œæˆ‘ä»¬ä¸ºConcolic executionä¸­çš„ä¸€ç³»åˆ—ä¼˜åŒ–æä¾›äº†å¯èƒ½æ€§ã€‚ 1. WASPèƒ½å¤Ÿåˆ†æç‹¬ç«‹çš„Wasmæ¨¡å—ï¼ˆä¸åŒäºWANAï¼‰ï¼Œå®ƒèƒ½å¤Ÿè¢«ç”¨ä½œä¸€ä¸ªé€šç”¨çš„å¹³å°ï¼Œä¸ºç¼–è¯‘æˆWasmçš„é«˜çº§ç¼–ç¨‹è¯­è¨€å»ºç«‹ç¬¦å·åˆ†æï¼› 2. WASPèƒ½å¤Ÿåˆ†æå¤§å¤šæ•°Cè¯­è¨€åº“ï¼› æ¨¡å‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Symbolic Execution","slug":"Symbolic-Execution","permalink":"http://example.com/tags/Symbolic-Execution/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯») WANA-Symbolic Execution of Wasm Bytecode for Extensible Smart Contract Vulnerability Detection","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘WANA-Symbolic-Execution-of-Wasm-Bytecode-for-Extensible-Smart-Contract-Vulnerability-Detection","date":"2023-06-19T10:17:02.922Z","updated":"2023-06-19T12:10:27.965Z","comments":true,"path":"2023/06/19/ã€è®ºæ–‡é˜…è¯»ã€‘WANA-Symbolic-Execution-of-Wasm-Bytecode-for-Extensible-Smart-Contract-Vulnerability-Detection/","link":"","permalink":"http://example.com/2023/06/19/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91WANA-Symbolic-Execution-of-Wasm-Bytecode-for-Extensible-Smart-Contract-Vulnerability-Detection/","excerpt":"(è®ºæ–‡é˜…è¯»)WANA: Symbolic Execution of Wasm Bytecode for Extensible Smart Contract Vulnerability Detection æ—¶é—´ï¼š 2021 ä½œè€…ï¼š B Jiang, Y Chen, D Wangï¼ˆåŒ—èˆªï¼‰ ä¼šè®®ï¼š QRSâ€˜2021 ï¼ˆè½¯å·¥CCF-Cï¼‰ å¼€æºï¼š https://github.com/gongbell/WANA Abstract â€‹ è®¸å¤šæµè¡Œçš„åŒºå—é“¾å¹³å°æ”¯æŒæ™ºèƒ½åˆçº¦ï¼Œä»¥å»ºç«‹å»ä¸­å¿ƒåŒ–çš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œæ™ºèƒ½åˆçº¦å†…çš„æ¼æ´å·²ç»è¯æ˜å¯¼è‡´å…¶ç»ˆç«¯ç”¨æˆ·çš„ä¸¥é‡ç»æµæŸå¤±ã€‚ç‰¹åˆ«æ˜¯EOSIOæ™ºèƒ½åˆçº¦å¹³å°ä¸Šçš„æ™ºèƒ½åˆçº¦å¯¼è‡´äº†å¤§çº¦38ä¸‡ä¸ªEOSä»£å¸çš„æŸå¤±ï¼Œåœ¨æ”»å‡»å‘ç”Ÿæ—¶ï¼Œä»·å€¼çº¦ä¸º190ä¸‡ç¾å…ƒã€‚EOSIOæ™ºèƒ½åˆçº¦å¹³å°æ˜¯åŸºäºWasmè™šæ‹Ÿæœºçš„ï¼Œå®ƒä¹Ÿæ˜¯æ”¯æŒå…¶ä»–æ™ºèƒ½åˆçº¦å¹³å°ä»¥åŠç½‘ç»œåº”ç”¨çš„åº•å±‚ç³»ç»Ÿã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†WANAï¼Œä¸€ä¸ªåŸºäºWasmå­—èŠ‚ç ç¬¦å·æ‰§è¡Œçš„å¯æ‰©å±•æ™ºèƒ½åˆçº¦æ¼æ´æ£€æµ‹å·¥å…·ã€‚WANAæå‡ºäº†ä¸€å¥—åŸºäºWasmå­—èŠ‚ç åˆ†æçš„ç®—æ³•æ¥æ£€æµ‹EOSIOæ™ºèƒ½åˆçº¦çš„æ¼æ´ã€‚æˆ‘ä»¬çš„å®éªŒåˆ†æè¡¨æ˜ï¼ŒWANAå¯ä»¥æœ‰æ•ˆåœ°ã€é«˜æ•ˆåœ°æ£€æµ‹EOSIOæ™ºèƒ½åˆçº¦ä¸­çš„æ¼æ´ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ¡ˆä¾‹ç ”ç©¶è¿˜è¡¨æ˜ï¼ŒWANAå¯ä»¥æ‰©å±•åˆ°æœ‰æ•ˆæ£€æµ‹Ethereumæ™ºèƒ½åˆçº¦çš„æ¼æ´ã€‚","text":"(è®ºæ–‡é˜…è¯»)WANA: Symbolic Execution of Wasm Bytecode for Extensible Smart Contract Vulnerability Detection æ—¶é—´ï¼š 2021 ä½œè€…ï¼š B Jiang, Y Chen, D Wangï¼ˆåŒ—èˆªï¼‰ ä¼šè®®ï¼š QRSâ€˜2021 ï¼ˆè½¯å·¥CCF-Cï¼‰ å¼€æºï¼š https://github.com/gongbell/WANA Abstract â€‹ è®¸å¤šæµè¡Œçš„åŒºå—é“¾å¹³å°æ”¯æŒæ™ºèƒ½åˆçº¦ï¼Œä»¥å»ºç«‹å»ä¸­å¿ƒåŒ–çš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œæ™ºèƒ½åˆçº¦å†…çš„æ¼æ´å·²ç»è¯æ˜å¯¼è‡´å…¶ç»ˆç«¯ç”¨æˆ·çš„ä¸¥é‡ç»æµæŸå¤±ã€‚ç‰¹åˆ«æ˜¯EOSIOæ™ºèƒ½åˆçº¦å¹³å°ä¸Šçš„æ™ºèƒ½åˆçº¦å¯¼è‡´äº†å¤§çº¦38ä¸‡ä¸ªEOSä»£å¸çš„æŸå¤±ï¼Œåœ¨æ”»å‡»å‘ç”Ÿæ—¶ï¼Œä»·å€¼çº¦ä¸º190ä¸‡ç¾å…ƒã€‚EOSIOæ™ºèƒ½åˆçº¦å¹³å°æ˜¯åŸºäºWasmè™šæ‹Ÿæœºçš„ï¼Œå®ƒä¹Ÿæ˜¯æ”¯æŒå…¶ä»–æ™ºèƒ½åˆçº¦å¹³å°ä»¥åŠç½‘ç»œåº”ç”¨çš„åº•å±‚ç³»ç»Ÿã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†WANAï¼Œä¸€ä¸ªåŸºäºWasmå­—èŠ‚ç ç¬¦å·æ‰§è¡Œçš„å¯æ‰©å±•æ™ºèƒ½åˆçº¦æ¼æ´æ£€æµ‹å·¥å…·ã€‚WANAæå‡ºäº†ä¸€å¥—åŸºäºWasmå­—èŠ‚ç åˆ†æçš„ç®—æ³•æ¥æ£€æµ‹EOSIOæ™ºèƒ½åˆçº¦çš„æ¼æ´ã€‚æˆ‘ä»¬çš„å®éªŒåˆ†æè¡¨æ˜ï¼ŒWANAå¯ä»¥æœ‰æ•ˆåœ°ã€é«˜æ•ˆåœ°æ£€æµ‹EOSIOæ™ºèƒ½åˆçº¦ä¸­çš„æ¼æ´ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ¡ˆä¾‹ç ”ç©¶è¿˜è¡¨æ˜ï¼ŒWANAå¯ä»¥æ‰©å±•åˆ°æœ‰æ•ˆæ£€æµ‹Ethereumæ™ºèƒ½åˆçº¦çš„æ¼æ´ã€‚ é—®é¢˜èƒŒæ™¯ â€‹ EOSIOæ˜¯ä¸€ä¸ªæµè¡Œçš„å…¬å…±åŒºå—é“¾å¹³å°ï¼Œæ”¯æŒæ™ºèƒ½åˆçº¦æŠ€æœ¯ã€‚ç„¶è€Œï¼ŒEOSIOæ™ºèƒ½åˆçº¦ä¸­çš„æ¼æ´å¯¼è‡´äº†å…¶ç»ˆç«¯ç”¨æˆ·çš„ç»æµæŸå¤±ã€‚å¯¹äºEOSIOæ™ºèƒ½åˆçº¦æ¥è¯´ï¼ŒåŒºå—ä¿¡æ¯ä¾èµ–æ¼æ´ã€å‡çš„EOSè½¬ç§»æ¼æ´å’Œä¼ªé€ çš„è½¬ç§»é€šçŸ¥æ¼æ´æ€»å…±å¯¼è‡´äº†å¤§çº¦38ä¸‡ä¸ªEOSä»£å¸çš„æŸå¤± ã€‚åœ¨æ”»å‡»å‘ç”Ÿæ—¶ï¼Œè¿™äº›æ¼æ´çš„ç´¯è®¡æŸå¤±é‡‘é¢çº¦ä¸ºä»·å€¼190ä¸‡ç¾å…ƒã€‚å› æ­¤ï¼Œéœ€è¦æœ‰æ•ˆçš„æ¼æ´æ£€æµ‹å·¥å…·æ¥ä¿æŠ¤EOSIOåŒºå—é“¾å¹³å°çš„ç”Ÿæ€ç³»ç»Ÿã€‚ â€‹ Wasmä¸ä»…è¢«EOSIOå…¬å…±åŒºå—é“¾å¹³å°é‡‡ç”¨ä½œä¸ºæ™ºèƒ½åˆçº¦æ‰§è¡Œå¼•æ“[35]ï¼Œä¹Ÿè¢«å…¶ä»–åŒºå—é“¾å¹³å°çš„è®®ç¨‹é¡¹ç›®é‡‡ç”¨ã€‚ä¾‹å¦‚ï¼Œä»¥å¤ªåŠåŒºå—é“¾å¹³å°å·²ç»è®¡åˆ’ä¸ºä»¥å¤ªåŠ2.0é‡‡ç”¨Ethereum Wasmï¼ˆEWasmï¼‰è™šæ‹Ÿæœºã€‚Polkadotå¹³å°[40]è¿›ä¸€æ­¥é‡‡ç”¨Wasmä½œä¸ºå…¶parachainè¿è¡Œæ—¶å’Œæ™ºèƒ½åˆçº¦æ‰§è¡Œçš„ç¼–è¯‘ç›®æ ‡ã€‚Wasmåœ¨æ„å»ºWebåº”ç”¨ç¨‹åºä¸­ä¹Ÿå¾ˆå—æ¬¢è¿ï¼Œå› ä¸ºWasmæ¨¡å—å¯ä»¥è°ƒç”¨åˆ°JavaScriptä¸Šä¸‹æ–‡ï¼Œå¹¶é€šè¿‡ä»JavaScriptè®¿é—®çš„ç›¸åŒWeb APIè®¿é—®æµè§ˆå™¨çš„åŠŸèƒ½ã€‚Wasmçš„ç»¼åˆç¬¦å·æ‰§è¡Œå¼•æ“æœ‰å¸Œæœ›ä¸ºä»»ä½•ä»¥Wasmä¸ºç›®æ ‡çš„åº”ç”¨ç¨‹åºæä¾›ä¸€ä¸ªå¯æ‰©å±•çš„å®‰å…¨åˆ†ææ¡†æ¶ã€‚ è´¡çŒ® å®ƒä¸ºWasmæå‡ºäº†ä¸€ä¸ªé€šç”¨çš„ç¬¦å·æ‰§è¡Œæ¡†æ¶WANAï¼› å®ƒæå‡ºäº†ä¸€ä¸ªåŸºäºç¬¦å·æ‰§è¡Œå¼•æ“çš„æ™ºèƒ½åˆçº¦æ¼æ´æ£€æµ‹å·¥å…·çš„æ–°çš„å¯æ‰©å±•æ¶æ„ï¼› å®ƒæå‡ºäº†ä¸€ä¸ªå…¨é¢çš„å®éªŒç ”ç©¶ï¼Œä»¥è¯„ä¼°WANAå¯¹EOSIOæ™ºèƒ½åˆçº¦çš„æ¼æ´æ£€æµ‹æ•ˆæœï¼› å®ƒæå‡ºäº†ä¸€ä¸ªæ¡ˆä¾‹ç ”ç©¶ï¼Œä»¥è¯„ä¼°WANAåœ¨Ethereumå¹³å°ä¸Šæ¼æ´æ£€æµ‹æ–¹é¢çš„å¯æ‰©å±•æ€§ã€‚ æ¨¡å‹ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒWasmå­—èŠ‚ç è¢«è§£æã€åŠ è½½ï¼Œå¹¶åœ¨Wasmç¬¦å·æ‰§è¡Œå¼•æ“ä¸­è¢«åˆå§‹åŒ–ã€‚WANAçš„ç¬¦å·æ‰§è¡Œå¼•æ“æ˜¯ä½œä¸ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿæœºå®ç°çš„ï¼Œå®ƒå¯ä»¥æ ¹æ®WASMè§„èŒƒè¯„ä¼°å…·ä½“å’Œç¬¦å·è¾“å…¥ã€‚å®ƒå·²ç»å®ç°äº†Wasmè§„èŒƒ1.0ç‰ˆä¸­çš„æ‰€æœ‰æŒ‡ä»¤ã€‚å½“ä¸€ä¸ªæ¨¡å—è¢«åŠ è½½åˆ°WANA Wasmè™šæ‹Ÿæœºä¸­æ—¶ï¼ˆåœ¨åŠ è½½å’Œåˆå§‹åŒ–é˜¶æ®µï¼‰ï¼ŒWANAçš„ç¬¦å·æ‰§è¡Œå¼•æ“ä¼šå‡†å¤‡ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒï¼Œå…¶ä¸­åŒ…æ‹¬å­˜å‚¨å™¨ã€å„ç§è¡¨ï¼ˆåŒ…æ‹¬å‡½æ•°è¡¨å’Œç¬¦å·è¡¨ï¼‰ã€å…¨å±€å˜é‡å’Œä¸€ä¸ªæ‰§è¡Œå †æ ˆï¼Œä»¥ä¿æŒæ¨¡å—çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ 1. ç¬¦å·æ‰§è¡Œå¼•æ“ â€‹ WANAä¼šåœ¨æ‰€æœ‰exportedå‡½æ•°ä¸Šè¿›è¡Œç¬¦å·æ‰§è¡Œï¼Œå¯¹äºæ¯ä¸ªå¯¼å‡ºçš„å‡½æ•°æ­£æ–‡ä¸­çš„æŒ‡ä»¤æ‰€è°ƒç”¨çš„æ¯ä¸ªWasmå‡½æ•°ï¼ŒWANAé¦–å…ˆå‡†å¤‡ä¸€ä¸ªæ¡†æ¶ä½œä¸ºå…¶æ‰§è¡Œç¯å¢ƒï¼Œå…¶ä¸­åŒ…æ‹¬å‚æ•°ã€å±€éƒ¨å˜é‡ã€è¿”å›å€¼å’Œå¯¹å…¶æ¨¡å—çš„å¼•ç”¨ã€‚ç„¶åï¼Œå®ƒå¼€å§‹ä¾æ¬¡ç¬¦å·æ‰§è¡Œè¢«è°ƒç”¨å‡½æ•°çš„code sectionçš„æŒ‡ä»¤ã€‚ â€‹ åœ¨æ‰€æœ‰çš„WasmæŒ‡ä»¤ä¸­ï¼Œä¸»è¦æœ‰å››ç§æŒ‡ä»¤ï¼ŒåŒ…æ‹¬æ•°å­—ã€å†…å­˜ã€æ§åˆ¶å’Œå‡½æ•°è°ƒç”¨æŒ‡ä»¤,ä¸‹é¢ä»‹ç»WANAå¦‚ä½•å¤„ç†: Numeric instructions: WANAå®ç°äº†åŸºäºå †æ ˆçš„æ‰§è¡Œé€»è¾‘ã€‚WANAçš„ç¬¦å·æ‰§è¡Œå¼•æ“é¦–å…ˆå¼¹å‡ºæ“ä½œæ•°ï¼Œè¿›è¡Œç¬¦å·è®¡ç®—ï¼Œå¹¶å°†ç»“æœæ¨å›å †æ ˆã€‚æ‰€æœ‰å…³äºæ•´æ•°å’Œæµ®ç‚¹å€¼ç±»å‹çš„æ•°å­—æŒ‡ä»¤éƒ½æ”¯æŒã€‚ Control instructions: æœ‰ä¸¤ç§åˆ†æ”¯æŒ‡ä»¤ï¼šæ— æ¡ä»¶åˆ†æ”¯ï¼ˆå¦‚brï¼‰å’Œæ¡ä»¶åˆ†æ”¯ï¼ˆå¦‚br_ifï¼‰ã€‚ éæ¡ä»¶æ€§åˆ†æ”¯ï¼š åœ¨Wasmä¸­ï¼Œæ‰§è¡Œæ— æ¡ä»¶åˆ†æ”¯å°†ç›´æ¥è·³åˆ°æŒ‡ä»¤å‚æ•°æŒ‡å®šçš„æ ‡ç­¾ä¸Šç»§ç»­æ‰§è¡Œï¼Œè¿™å¯¹å®ç°å¾ªç¯å¾ˆæœ‰ç”¨ã€‚ç„¶è€Œï¼Œå½“å¾ªç¯çš„æ·±åº¦å¢åŠ æ—¶ï¼Œç¬¦å·æ‰§è¡Œå¼•æ“å°†å˜å¾—ç¼“æ…¢æˆ–ç”±äºçŠ¶æ€çˆ†ç‚¸è€Œè¢«å›°ä½ã€‚å› æ­¤ï¼ŒWANAåœ¨è·¯å¾„æ¢ç´¢è¿‡ç¨‹ä¸­å¯¹æ¯ä¸ªæ ‡ç­¾çš„æœ€å¤§åµŒå¥—å¾ªç¯æ·±åº¦è®¾ç½®äº†ä¸€ä¸ªä¸Šé™ã€‚ æ¡ä»¶æ€§åˆ†æ”¯ï¼š å¯¹äºæŒ‡ä»¤br_ifï¼Œå…¶æ‰§è¡Œå°†å–å†³äºè¯¥æŒ‡ä»¤è¡¨è¾¾å¼çš„è¯„ä¼°ç»“æœã€‚WANAå°†è®°å½•æ¯ä¸ªåˆ†æ”¯çš„æ‰§è¡Œç¯å¢ƒï¼Œå¹¶éå†å„ä¸ªåˆ†æ”¯ä»¥å®ç°è·¯å¾„è¦†ç›–ã€‚å¯¹äºæ¯ä¸ªåˆ†æ”¯ï¼Œåœ¨éå†ä¹‹å‰ï¼Œç›¸åº”çš„è·¯å¾„çº¦æŸå°†è¢«è¾“å…¥åˆ°z3[15]è¿›è¡Œçº¦æŸè§£ç®—ï¼Œè¿™å¯ä»¥é€šè¿‡ä¿®å‰ªé‚£äº›ä¸å¯è¡Œçš„è·¯å¾„æ¥æé«˜æ‰§è¡Œæ•ˆç‡ã€‚å’Œä¸Šé¢ä¸€æ ·ï¼ŒWANAåœ¨è·¯å¾„æ¢ç´¢è¿‡ç¨‹ä¸­ä¹Ÿå¯¹æ¯ä¸ªæ ‡ç­¾çš„æœ€å¤§åµŒå¥—å¾ªç¯æ·±åº¦è®¾ç½®äº†ä¸€ä¸ªä¸Šé™ã€‚ Memory and Memory instructions: åœ¨Wasmä¸­ï¼Œæœ‰ä¸‰ç§ç±»å‹çš„å†…å­˜æ“ä½œæŒ‡ä»¤ï¼šloadã€storeå’Œå¢åŠ å†…å­˜çš„å¤§å°ã€‚ä¸€ä¸ªWasmæ¨¡å—å¯ä»¥åœ¨ä»»ä½•å­—èŠ‚åœ°å€ä¸Šä»/å‘çº¿æ€§å­˜å‚¨å™¨åŠ è½½å’Œå­˜å‚¨å€¼ã€‚ç”±äºWasmä¸­å¯¹æ•´æ•°å’Œæµ®ç‚¹æ•°æ®ç±»å‹æœ‰è®¸å¤šä½æ“ä½œæŒ‡ä»¤ï¼ŒWANAè¢«è®¾è®¡ä¸ºç”¨z3ä¸­çš„ä½å‘é‡æ•°æ®ç±»å‹æ¥è¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°æ®ç±»å‹ã€‚WANAä½¿ç”¨32ä½ï¼ˆ64ä½ï¼‰ä½å‘é‡æ•°æ®ç±»å‹æ¥è¡¨ç¤º32ä½ï¼ˆ64ä½ï¼‰æ•´æ•°å’Œæµ®ç‚¹ç¬¦å·æ•°æ®ç±»å‹ã€‚ç”±äºå­—èŠ‚æ•°ç»„ä¸èƒ½å­˜å‚¨ä½å‘é‡æˆ–å…¶è¡¨è¾¾å¼ï¼ŒWANAä½¿ç”¨çº¿æ€§åˆ—è¡¨æ¥å­˜å‚¨ä½å‘é‡çš„å…·ä½“å€¼å’Œç¬¦å·å€¼çš„å¼•ç”¨ï¼Œä»¥æ¨¡æ‹Ÿæ¨¡å—çš„å†…å­˜ã€‚ åœ¨ç¬¦å·æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒWANAåœ¨æ‰§è¡Œå­˜å‚¨æ“ä½œæ—¶ï¼Œå°†æŠŠé”®å€¼å¯¹ï¼ˆaddress, valueï¼‰æ’å…¥å­—å…¸ä¸­ã€‚åœ¨loadæ“ä½œä¸­ï¼Œå¦‚æœç¬¦å·å†…å­˜åœ°å€å­˜åœ¨äºå­—å…¸ä¸­ï¼ŒWANAå°†ç›´æ¥ä»å­—å…¸ä¸­è·å–ç›¸åº”çš„å€¼ã€‚å¦åˆ™ï¼ŒWANAå°†ä»çº¿æ€§åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå†…å­˜åœ°å€å¹¶è¿”å›å…¶å€¼ã€‚æ­¤åï¼Œç¬¦å·å†…å­˜åœ°å€å°†è¢«ç»‘å®šåˆ°ä¸€ä¸ªéšæœºé€‰æ‹©çš„å†…å­˜åœ°å€ã€‚ Function call: åœ¨Wasmä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„å‡½æ•°è°ƒç”¨ï¼šç›´æ¥å’Œé—´æ¥ã€‚ å¯¹äºé—´æ¥å‡½æ•°è°ƒç”¨ï¼ŒWANAçš„ç¬¦å·æ‰§è¡Œå¼•æ“é¦–å…ˆä»æ‰§è¡Œå †æ ˆçš„é¡¶éƒ¨æ¡†æ¶è·å¾—ä¸€ä¸ªç´¢å¼•ã€‚ç„¶åï¼Œç¬¦å·æ‰§è¡Œå¼•æ“ä½¿ç”¨è¯¥ç´¢å¼•ä»å‡½æ•°è¡¨ä¸­è·å¾—å…·ä½“çš„å‡½æ•°åœ°å€ã€‚å¯¹äºå½“å‰Wasmæ¨¡å—ä¸­çš„å‡½æ•°ï¼ŒWANAç›´æ¥è¿›å…¥å‡½æ•°ï¼Œç»§ç»­è¿›è¡Œç¬¦å·æ‰§è¡Œã€‚ 2. å¯¹åº“å‡½æ•°å»ºæ¨¡ â€‹ ä¸€ä¸ªæ™ºèƒ½åˆçº¦å¯èƒ½ä¼šè°ƒç”¨åº•å±‚åŒºå—é“¾å¹³å°æä¾›çš„å„ç§åº“å‡½æ•°ã€‚WANAæ ¹æ®è¿™äº›åº“å‡½æ•°çš„æ•ˆæœæ¥å¤„ç†è¿™äº›åº“å‡½æ•°çš„è°ƒç”¨ï¼Œå¹¶ç›¸åº”åœ°æ¨¡æ‹Ÿå…¶è¡Œä¸ºã€‚ç”±äºåº“å‡½æ•°ä¸å¹³å°æœ‰å…³ï¼ŒWANAä¸ºä¸åŒçš„å¹³å°æ¨¡æ‹Ÿäº†ä¸åŒçš„åº“å‡½æ•°è¡Œä¸ºã€‚å½“æŠŠWANAæ‰©å±•åˆ°ä¸€ä¸ªæ–°çš„å¹³å°æ—¶ï¼Œå…¶ç›¸åº”çš„åº“å‡½æ•°ä¹Ÿåº”è¢«æ¨¡æ‹Ÿã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Symbolic Execution","slug":"Symbolic-Execution","permalink":"http://example.com/tags/Symbolic-Execution/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯») Eunomia-enabling User-specified Fine-Grained Search in Symbolically Executing WebAssembly Binaries","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Eunomia-Enabling-User-specified-Fine-Grained-Search-in-Symbolically-Executing-WebAssembly-Binaries","date":"2023-06-18T05:28:45.246Z","updated":"2023-06-19T11:08:32.149Z","comments":true,"path":"2023/06/18/ã€è®ºæ–‡é˜…è¯»ã€‘Eunomia-Enabling-User-specified-Fine-Grained-Search-in-Symbolically-Executing-WebAssembly-Binaries/","link":"","permalink":"http://example.com/2023/06/18/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Eunomia-Enabling-User-specified-Fine-Grained-Search-in-Symbolically-Executing-WebAssembly-Binaries/","excerpt":"Eunomia: Enabling User-specified Fine-Grained Search in Symbolically Executing WebAssembly Binaries æ—¶é—´ï¼š2023.4 ä½œè€…ï¼šNingyu Heã€Zhehao Zhaoï¼ˆåŒ—å¤§ï¼‰/Haoyu Wangï¼ˆåç§‘ï¼‰ ä¼šè®®ï¼šISSTAâ€˜2023 å¼€æºï¼š https://github.com/HNYuuu/Eunomia-ISSTA23 Abstract â€‹ å°½ç®¡ç°æœ‰çš„æŠ€æœ¯å·²ç»æå‡ºäº†è‡ªåŠ¨åŒ–çš„æ–¹æ³•æ¥ç¼“è§£ç¬¦å·æ‰§è¡Œçš„è·¯å¾„çˆ†ç‚¸é—®é¢˜ï¼Œä½†ç”¨æˆ·ä»ç„¶éœ€è¦é€šè¿‡ä»”ç»†åº”ç”¨å„ç§æœç´¢ç­–ç•¥æ¥ä¼˜åŒ–ç¬¦å·æ‰§è¡Œã€‚ç”±äºç°æœ‰çš„æ–¹æ³•ä¸»è¦åªæ”¯æŒç²—ç²’åº¦çš„å…¨å±€æœç´¢ç­–ç•¥ï¼Œå®ƒä»¬ä¸èƒ½æœ‰æ•ˆåœ°éå†å¤æ‚çš„ä»£ç ç»“æ„ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†Eunomiaï¼Œä¸€ç§ç¬¦å·æ‰§è¡ŒæŠ€æœ¯ï¼Œå…è®¸ç”¨æˆ·æŒ‡å®šå±€éƒ¨é¢†åŸŸçŸ¥è¯†ï¼Œä»¥å®ç°ç»†ç²’åº¦æœç´¢ã€‚ â€‹ åœ¨Eunomiaä¸­ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå¯Œæœ‰è¡¨ç°åŠ›çš„é¢†åŸŸç‰¹å®šè¯­è¨€(DSL)ï¼Œå³AESï¼Œè®©ç”¨æˆ·å¯ä»¥ç²¾ç¡®åœ°å°†æœ¬åœ°æœç´¢ç­–ç•¥å®šä½åˆ°ç›®æ ‡ç¨‹åºçš„ä¸åŒéƒ¨åˆ†ã€‚ä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–å±€éƒ¨æœç´¢ç­–ç•¥ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ç§åŸºäºåŒºé—´çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•å¯ä»¥è‡ªåŠ¨éš”ç¦»ä¸åŒå±€éƒ¨æœç´¢ç­–ç•¥çš„å˜é‡èƒŒæ™¯ï¼Œé¿å…åŒä¸€å˜é‡çš„å±€éƒ¨æœç´¢ç­–ç•¥ä¹‹é—´çš„å†²çªã€‚ â€‹ æˆ‘ä»¬å°†Eunomiaä½œä¸ºä¸€ä¸ªé’ˆå¯¹WebAssemblyçš„ç¬¦å·æ‰§è¡Œå¹³å°æ¥å®ç°ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿåˆ†æç”¨å„ç§è¯­è¨€ï¼ˆå¦‚Cå’ŒGoï¼‰ç¼–å†™ä½†å¯ä»¥ç¼–è¯‘æˆWebAssemblyçš„åº”ç”¨ç¨‹åºã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼ŒEunomiaæ˜¯ç¬¬ä¸€ä¸ªæ”¯æŒWebAssemblyè¿è¡Œæ—¶å…¨éƒ¨åŠŸèƒ½çš„ç¬¦å·æ‰§è¡Œå¼•æ“ã€‚ â€‹ æˆ‘ä»¬ç”¨ä¸€ä¸ªä¸“é—¨çš„ç¬¦å·æ‰§è¡Œå¾®åŸºå‡†å¥—ä»¶å’Œå…­ä¸ªçœŸå®ä¸–ç•Œçš„åº”ç”¨æ¥è¯„ä¼°Eunomiaã€‚æˆ‘ä»¬çš„è¯„ä¼°æ˜¾ç¤ºï¼ŒEunomiaåœ¨ç°å®ä¸–ç•Œçš„åº”ç”¨ä¸­åŠ é€Ÿäº†é”™è¯¯æ£€æµ‹ï¼Œæœ€å¤šå¯è¾¾åˆ°ä¸‰ä¸ªæ•°é‡çº§ã€‚æ ¹æ®ä¸€é¡¹å…¨é¢çš„ç”¨æˆ·ç ”ç©¶ç»“æœï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–å†™ä¸€ä¸ªç®€å•ç›´è§‚çš„AESè„šæœ¬æ¥æ˜¾è‘—æé«˜ç¬¦å·æ‰§è¡Œçš„æ•ˆç‡å’Œæ•ˆæœã€‚é™¤äº†éªŒè¯å…­ä¸ªå·²çŸ¥çš„çœŸå®ä¸–ç•Œçš„bugï¼ŒEunomiaè¿˜åœ¨ä¸€ä¸ªæµè¡Œçš„å¼€æºé¡¹ç›®Collections-Cä¸­æ£€æµ‹åˆ°ä¸¤ä¸ªæ–°çš„0-day bugã€‚","text":"Eunomia: Enabling User-specified Fine-Grained Search in Symbolically Executing WebAssembly Binaries æ—¶é—´ï¼š2023.4 ä½œè€…ï¼šNingyu Heã€Zhehao Zhaoï¼ˆåŒ—å¤§ï¼‰/Haoyu Wangï¼ˆåç§‘ï¼‰ ä¼šè®®ï¼šISSTAâ€˜2023 å¼€æºï¼š https://github.com/HNYuuu/Eunomia-ISSTA23 Abstract â€‹ å°½ç®¡ç°æœ‰çš„æŠ€æœ¯å·²ç»æå‡ºäº†è‡ªåŠ¨åŒ–çš„æ–¹æ³•æ¥ç¼“è§£ç¬¦å·æ‰§è¡Œçš„è·¯å¾„çˆ†ç‚¸é—®é¢˜ï¼Œä½†ç”¨æˆ·ä»ç„¶éœ€è¦é€šè¿‡ä»”ç»†åº”ç”¨å„ç§æœç´¢ç­–ç•¥æ¥ä¼˜åŒ–ç¬¦å·æ‰§è¡Œã€‚ç”±äºç°æœ‰çš„æ–¹æ³•ä¸»è¦åªæ”¯æŒç²—ç²’åº¦çš„å…¨å±€æœç´¢ç­–ç•¥ï¼Œå®ƒä»¬ä¸èƒ½æœ‰æ•ˆåœ°éå†å¤æ‚çš„ä»£ç ç»“æ„ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†Eunomiaï¼Œä¸€ç§ç¬¦å·æ‰§è¡ŒæŠ€æœ¯ï¼Œå…è®¸ç”¨æˆ·æŒ‡å®šå±€éƒ¨é¢†åŸŸçŸ¥è¯†ï¼Œä»¥å®ç°ç»†ç²’åº¦æœç´¢ã€‚ â€‹ åœ¨Eunomiaä¸­ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå¯Œæœ‰è¡¨ç°åŠ›çš„é¢†åŸŸç‰¹å®šè¯­è¨€(DSL)ï¼Œå³AESï¼Œè®©ç”¨æˆ·å¯ä»¥ç²¾ç¡®åœ°å°†æœ¬åœ°æœç´¢ç­–ç•¥å®šä½åˆ°ç›®æ ‡ç¨‹åºçš„ä¸åŒéƒ¨åˆ†ã€‚ä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–å±€éƒ¨æœç´¢ç­–ç•¥ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ç§åŸºäºåŒºé—´çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•å¯ä»¥è‡ªåŠ¨éš”ç¦»ä¸åŒå±€éƒ¨æœç´¢ç­–ç•¥çš„å˜é‡èƒŒæ™¯ï¼Œé¿å…åŒä¸€å˜é‡çš„å±€éƒ¨æœç´¢ç­–ç•¥ä¹‹é—´çš„å†²çªã€‚ â€‹ æˆ‘ä»¬å°†Eunomiaä½œä¸ºä¸€ä¸ªé’ˆå¯¹WebAssemblyçš„ç¬¦å·æ‰§è¡Œå¹³å°æ¥å®ç°ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿåˆ†æç”¨å„ç§è¯­è¨€ï¼ˆå¦‚Cå’ŒGoï¼‰ç¼–å†™ä½†å¯ä»¥ç¼–è¯‘æˆWebAssemblyçš„åº”ç”¨ç¨‹åºã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼ŒEunomiaæ˜¯ç¬¬ä¸€ä¸ªæ”¯æŒWebAssemblyè¿è¡Œæ—¶å…¨éƒ¨åŠŸèƒ½çš„ç¬¦å·æ‰§è¡Œå¼•æ“ã€‚ â€‹ æˆ‘ä»¬ç”¨ä¸€ä¸ªä¸“é—¨çš„ç¬¦å·æ‰§è¡Œå¾®åŸºå‡†å¥—ä»¶å’Œå…­ä¸ªçœŸå®ä¸–ç•Œçš„åº”ç”¨æ¥è¯„ä¼°Eunomiaã€‚æˆ‘ä»¬çš„è¯„ä¼°æ˜¾ç¤ºï¼ŒEunomiaåœ¨ç°å®ä¸–ç•Œçš„åº”ç”¨ä¸­åŠ é€Ÿäº†é”™è¯¯æ£€æµ‹ï¼Œæœ€å¤šå¯è¾¾åˆ°ä¸‰ä¸ªæ•°é‡çº§ã€‚æ ¹æ®ä¸€é¡¹å…¨é¢çš„ç”¨æˆ·ç ”ç©¶ç»“æœï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–å†™ä¸€ä¸ªç®€å•ç›´è§‚çš„AESè„šæœ¬æ¥æ˜¾è‘—æé«˜ç¬¦å·æ‰§è¡Œçš„æ•ˆç‡å’Œæ•ˆæœã€‚é™¤äº†éªŒè¯å…­ä¸ªå·²çŸ¥çš„çœŸå®ä¸–ç•Œçš„bugï¼ŒEunomiaè¿˜åœ¨ä¸€ä¸ªæµè¡Œçš„å¼€æºé¡¹ç›®Collections-Cä¸­æ£€æµ‹åˆ°ä¸¤ä¸ªæ–°çš„0-day bugã€‚ Background 1. æ ·ä¾‹ 1.1 ä»£ç åŠŸèƒ½ â€‹ ä»¥ä¸Šå›¾ä»£ç ä¸ºä¾‹ï¼Œå…¶ä¸ºä¸€ä¸ªå·¥ä¸šç½‘ç»œåè®®å¤„ç†å‡½æ•°check_sectionsã€‚å‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ä¸ªsection å‘é‡sec_vecå’Œæ¯ä¸ªsectionæ‰€å«çš„fieldsæ•°sec_field_cntã€‚æ¯ä¸ªsectionæœ€å¤šæœ‰5ä¸ªfieldsï¼ˆL4ï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œå‰ä¸‰ä¸ªsectionï¼štokenã€indexå’Œchecksumï¼Œå‘ˆç°äº†æ¯ä¸ªéƒ¨åˆ†çš„å…ƒæ•°æ®ï¼Œå®ƒä»¬åˆ†åˆ«æŒ‡çš„æ˜¯å‘é€æ–¹çš„tokenã€æ”¶åˆ°çš„ç›¸åº”éƒ¨åˆ†çš„ç´¢å¼•ï¼Œä»¥åŠæ•°æ®çš„æ ¡éªŒå’Œã€‚lenè¡¨ç¤ºæ•°æ®çš„é•¿åº¦ï¼Œå…¶æ­£ç¡®æ€§ç”±ä¸Šè¿°çš„æ ¡éªŒå’ŒéªŒè¯ã€‚ â€‹ ç»¼ä¸Šï¼Œå‡½æ•°check_sectionsæ£€éªŒsec_field_cnté™åˆ¶ä¸‹çš„æ‰€æœ‰å­—æ®µï¼Œä»¥ä¸¤å±‚åµŒå¥—å¾ªç¯çš„æ–¹å¼å®ç°ï¼Œå¤–å±‚å¾ªç¯éå†æ‰€æœ‰æ”¶åˆ°çš„éƒ¨åˆ†ï¼Œè€Œå†…éƒ¨å¾ªç¯éå†æ‰€æœ‰å­—æ®µå¹¶è¿›è¡Œç›¸åº”çš„éªŒè¯ã€‚ 1.2 ç°æœ‰å·¥å…·é—®é¢˜ 1.2.1 Klee â€‹ ç”±äºè·¯å¾„çˆ†ç‚¸é—®é¢˜ï¼Œç›´æ¥åœ¨ä¸Šè¿°ä»£ç ä¸Šä½¿ç”¨ç¬¦å·æ‰§è¡Œæ— æ³•åœ¨åˆç†çš„æ—¶é—´å†…å®ŒæˆéªŒè¯ã€‚åœ¨å®è·µä¸­ï¼Œå¼€å‘è€…å¯ä»¥æä¾›ä¸¤å—é¢†åŸŸçŸ¥è¯†æ¥åŠ é€Ÿåˆ†æï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š â€‹ DK1. ä¼˜å…ˆè€ƒè™‘æˆæœ¬è¾ƒä½çš„elseåˆ†æ”¯ï¼Œæ¨è¿Ÿåˆ†ææ˜‚è´µçš„å‡½æ•°fooï¼ŒåŒæ—¶éªŒè¯ç”¨æˆ·ä»¤ç‰Œï¼ˆL23 - L29ï¼‰ï¼› â€‹ DK2. ä¸ºäº†é¿å…åœ¨åˆ†æå¤æ‚çš„æ•°æ®ï¼ˆL41ï¼‰æ—¶é™·å…¥å›°å¢ƒï¼Œç¬¦å·æ‰§è¡Œå¯ä»¥é¦–å…ˆå®Œæˆå¯¹ç®€å•åœºçš„åˆ†æï¼Œå³toknã€indexï¼Œä»¥åŠchecksumã€‚ â€‹ Kleeä¸èƒ½æœ‰æ•ˆåœ°åº”ç”¨DK1å’ŒDK2ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ç¡®å®šä¼˜å…ˆçº§çš„åŸè¯­ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨KLEEåŸè¯­ï¼Œå¦‚klee_assume(cond)å’Œklee_prefer_cex(obj, cond)æ¥æŒ‡å®šç¬¦å·æ‰§è¡Œä¸­çš„é¢å¤–çº¦æŸã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™äº›åŸè¯­åªèƒ½ä¿®å‰ªä¸éœ€è¦çš„çŠ¶æ€ï¼Œè€Œä¸èƒ½ä¼˜å…ˆè€ƒè™‘æœ‰è¶£çš„è·¯å¾„ã€‚å…·ä½“æ¥è¯´ï¼Œklee_assume(cond)å¯ä»¥ç”¨æ¥æ’å…¥é¢å¤–çš„çº¦æŸï¼Œä¸ç¬¦åˆcondçš„è·¯å¾„å°†è¢«å‰ªé™¤ã€‚è‡³äºklee_prefer_cex(obj, cond)ï¼Œå®ƒä¸ºå¾…æµ‹å‡½æ•°çš„ç¬¦å·å‚æ•°å¢åŠ äº†ä¸€ä¸ªä¼˜å…ˆå€¼ã€‚å®ƒåªèƒ½åœ¨æµ‹è¯•é©±åŠ¨ä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç ä¸­çš„ä»»ä½•åœ°æ–¹ï¼ˆåªèƒ½åœ¨äº§ç”Ÿè¾“å…¥æ—¶ä½¿ç”¨ï¼Œæ•…å…¶ä¸èƒ½ç›´æ¥å¼•å¯¼ç¬¦å·æ‰§è¡Œå»åå¥½æŸä¸€éƒ¨åˆ†ä»£ç ï¼‰ã€‚ â€‹ å¯¹äºDK1ï¼ŒKLEEèƒ½åšçš„æœ€æ¥è¿‘çš„åšæ³•æ˜¯æ·»åŠ klee_assume(isValid(token)==0)ï¼Œè¿™æ ·å°±å¯ä»¥åˆ å»åŒ…å«foo()çš„åˆ†æ”¯ã€‚ç„¶è€Œï¼Œåœ¨DK1ä¸­ï¼Œæˆ‘ä»¬åªæƒ³ä¼˜å…ˆå¤„ç†é€šå‘bar()çš„åˆ†æ”¯ï¼Œç›´æ¥ä¿®å‰ªæ‰çš„è·¯å¾„å¯èƒ½ä¼šç ´ååˆ†æçš„åˆç†æ€§ã€‚åŒæ ·åœ°ï¼ŒKLEEä¹Ÿä¸èƒ½åˆ©ç”¨DK2ï¼Œå…¶æœ€æ¥è¿‘çš„åšæ³•æ˜¯åœ¨L22åé¢åŠ ä¸Šklee_assume(j&lt;3)ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä¹Ÿå½±å“äº†åˆ†æçš„åˆç†æ€§ï¼Œå› ä¸ºKLEEç›´æ¥æ”¾å¼ƒäº†å¯¹LENå’ŒDATAå­—æ®µçš„åˆ†æã€‚ ç»¼ä¸Šï¼Œåˆ©ç”¨Kleeåªèƒ½åšåˆ°èˆå¼ƒæŸéƒ¨åˆ†çš„æ§åˆ¶æµåˆ†æ”¯è€Œåšä¸åˆ°â€œåå¥½â€ï¼Œä½†èˆå¼ƒéƒ¨åˆ†æ§åˆ¶æµå¹¶ä¸ç¬¦åˆåˆ†æå·¥ä½œçš„åˆè¡·ã€‚ 1.2.2 å…¶ä»–æ–¹æ³• â€‹ è™½ç„¶æœ‰å…¶ä»–å·¥ä½œå¯¹æ‰§è¡Œè·¯å¾„è¿›è¡Œä¼˜å…ˆæ’åº[33, 34, 46, 53, 68]ï¼Œä½†å®ƒä»¬ä¹Ÿä¸èƒ½æ­£ç¡®åˆ©ç”¨ç”¨æˆ·å®šä¹‰çš„é¢†åŸŸçŸ¥è¯†ã€‚ç°æœ‰çš„è·¯å¾„ä¼˜å…ˆåŒ–æ–¹æ³•è¦ä¹ˆä¾èµ–äºé¢„å…ˆå®šä¹‰çš„å¯å‘å¼æ–¹æ³•ã€é»‘ç›’ç­–ç•¥ï¼Œç”šè‡³æ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ã€‚ä»–ä»¬çš„ç›®æ ‡æ˜¯åŠ é€Ÿä¸€èˆ¬çš„ç¬¦å·æ‰§è¡Œï¼Œè€Œä¸æ˜¯é‡‡ç”¨ç”¨æˆ·å®šä¹‰çš„é¢†åŸŸçŸ¥è¯†ã€‚å› æ­¤ï¼Œå®ƒä»¬ä¸æˆ‘ä»¬çš„å·¥ä½œå¤§å¤šæ˜¯æ­£äº¤çš„ã€‚ 1.3 è§£å†³æ–¹æ³• â€‹ ä¸Šå›¾æ˜¯ä¸ºæ ·ä¾‹ä»£ç ç”Ÿæˆçš„AESè‡ªå®šä¹‰è„šæœ¬ï¼Œå…¶å¯ä»¥å®ç°DK1ä¸DK2ã€‚æ¯ä¸ªè¯­å¥ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå³å®šä½éƒ¨åˆ†å’ŒçŸ¥è¯†éƒ¨åˆ†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªè¯­å¥è¢«åŒ…è£¹åœ¨ä¸€ä¸ªcheckerä¸­ï¼Œè¯¥checkerä¸ºä¸€ä¸ªå‡½æ•°check_sections()ï¼ˆL1ï¼‰å·¥ä½œã€‚ä¸Šå›¾è„šæœ¬çš„è¯­ä¹‰ä¸ºï¼š â€‹ ï¼ˆ1ï¼‰éªŒè¯å‰ä¸‰ä¸ªå…ƒæ•°æ®sectionï¼› â€‹ ï¼ˆ2ï¼‰è·³åˆ°å†…å¾ªç¯æ¡ä»¶æ£€æŸ¥ï¼Œä¸éªŒè¯é•¿åº¦å’Œæ•°æ®ï¼› â€‹ ï¼ˆ3ï¼‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªéƒ¨åˆ†ï¼Œé‡å¤ï¼ˆ1ï¼‰å’Œï¼ˆ2ï¼‰ï¼› â€‹ ï¼ˆ4ï¼‰ä¸€æ—¦æ‰€æœ‰å‰ä¸‰ä¸ªæ­¥éª¤å®Œæˆï¼Œå¤„ç†å‰©ä½™çš„é•¿åº¦å’Œæ•°æ®å­—æ®µã€‚ 2. é—®é¢˜èƒŒæ™¯ â€‹ ç›®å‰å·²çŸ¥çš„ç¬¦å·æ‰§è¡ŒæŠ€æœ¯çš„é—®é¢˜æ˜¯å¾€å¾€è¿‡äºç²—Â·ç•¥ï¼Œæ— æ³•æ»¡è¶³æŸäº›åˆ†æç›®çš„ã€‚ç°æœ‰çš„æ–¹æ³•å¤§å¤šæ”¯æŒåº”ç”¨äºæ•´ä¸ªç¨‹åºçš„å…¨å±€æœç´¢ç­–ç•¥ã€‚ç„¶è€Œï¼Œå…¨å±€ç­–ç•¥å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå› ä¸ºä¸€ä¸ªç¨‹åºçš„ä¸åŒä»£ç å—å…·æœ‰æ˜æ˜¾çš„ç‰¹å¾ï¼Œå¯èƒ½é€‚åˆä¸åŒçš„å±€éƒ¨æœç´¢ç­–ç•¥ã€‚ â€‹ å‡è®¾ä»£ç çš„ä¸€ä¸ªåµŒå¥—å¾ªç¯éƒ¨åˆ†è´Ÿè´£è§£ææ”¶åˆ°çš„ç½‘ç»œæ•°æ®åŒ…ï¼Œå¼€å‘è€…æƒ³æ£€æŸ¥åµŒå¥—å¾ªç¯ä¸­æ˜¯å¦å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºã€‚ç„¶è€Œï¼Œå†…å±‚å¾ªç¯æœ‰ä¸€ä¸ªå¤æ‚çš„å‡½æ•°ï¼Œéœ€è¦å¤§é‡çš„æ—¶é—´æ¥éªŒè¯ã€‚å› æ­¤ï¼Œå¼€å‘è€…å¯èƒ½æƒ³ä¼˜å…ˆè€ƒè™‘å†…å±‚å¾ªç¯ä¸­çš„å…¶ä»–è½»é‡çº§éƒ¨åˆ†ï¼Œä»¥æœ€å¤§åŒ–ç¬¦å·æ‰§è¡Œçš„è¦†ç›–ç‡ã€‚ä¸å¹¸çš„æ˜¯ï¼Œç°æœ‰çš„æ–¹æ³•ä¸èƒ½ä¼˜å…ˆè€ƒè™‘å†…å¾ªç¯çš„ä¸€ä¸ªå­é›†ã€‚è¿™å¯¼è‡´äº†è¦ä¹ˆåœ¨å¤„ç†å¤æ‚å‡½æ•°æ—¶è¢«å¡ä½ï¼Œè¦ä¹ˆäº§ç”Ÿä¸å¥å…¨çš„åˆ†æç»“æœã€‚å› æ­¤ï¼Œæœ‰å¿…è¦è®©ç”¨æˆ·ä¸ºä¸åŒç¨‹åºä»£ç å—çš„å±€éƒ¨æœç´¢ç­–ç•¥æä¾›æç¤ºã€‚ â€‹ è¦å®ç°ä¸ºä¸åŒç¨‹åºä»£ç å—æä¾›ä¸åŒå±€éƒ¨æœç´¢ç­–ç•¥ï¼Œéœ€è¦é¢å¯¹çš„é—®é¢˜æœ‰ï¼š å¦‚ä½•ä¸ºç›®æ ‡ç¨‹åºçš„ä¸åŒéƒ¨åˆ†æœ‰æ•ˆåœ°æŒ‡å®šæœ¬åœ°æœç´¢ç­–ç•¥ï¼› å®ç°æœ¬åœ°æœç´¢ç­–ç•¥ï¼ŒåŒæ—¶é¿å…æ½œåœ¨çš„å†²çªï¼š åŒä¸€ä¸ªå˜é‡å¯èƒ½åŒå±äºä¸åŒçš„ä»£ç ç»“æ„ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªå˜é‡å¯èƒ½åŒæ—¶è¢«å¤šå±‚å¾ªç¯ç»“æ„å…±äº«ã€‚å› æ­¤ï¼Œå¤šä¸ªæœ¬åœ°æœç´¢ç­–ç•¥å¯èƒ½å› ä¸ºç›¸åŒçš„å˜é‡äº§ç”Ÿå†²çªã€‚ â€‹ å·²çŸ¥çš„å¯¹Wasmåšç¬¦å·æ‰§è¡Œçš„æ–¹æ³•ç¼ºå°‘å¯¹WASIçš„æ”¯æŒï¼Œå› æ­¤é™åˆ¶äº†åº”ç”¨çš„èŒƒå›´ã€‚ Contributions æå‡ºå¹¶å®ç°äº†ä¸€ä¸ªæ–°çš„ç¬¦å·æ‰§è¡Œæ¡†æ¶Eunomiaï¼Œå®ƒçš„è·¯å¾„æœç´¢è¿‡ç¨‹å¯ä»¥é€šè¿‡ç”¨æˆ·æŒ‡å®šçš„é¢†åŸŸçŸ¥è¯†è¿›è¡Œç»†åŒ–è°ƒæ•´ï¼Œè€Œæ— éœ€å¯¹ç›®æ ‡ç¨‹åºè¿›è¡Œä»»ä½•ä¿®æ”¹ï¼› æå‡ºä¸€ä¸ªåŸåˆ›çš„é¢†åŸŸç‰¹å®šè¯­è¨€(DSL)ï¼Œå³AESï¼Œå…¶å¯ä»¥å¯ä»¥ç»‘å®šä¸€ç»„å±€éƒ¨é€‚é…å‡½æ•°æ¥åŠ é€Ÿåˆ†æè¿‡ç¨‹ã€‚æ­¤å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥ä¸ºè¯­å¥æˆ–å‡½æ•°å¼•å…¥å‰ç½®å’Œåç½®æ¡ä»¶ï¼Œç”šè‡³å¯ä»¥åœ¨ä»»æ„ä½ç½®ä¸Šå¼•å…¥to-checkedè°“è¯ï¼› æå‡ºä¸€ä¸ªæ–°çš„è·¯å¾„æœç´¢ç­–ç•¥ï¼Œinterval-based path searchingï¼Œå®ƒå¯ä»¥å°†ç¬¦å·çŠ¶æ€éš”ç¦»åˆ°ä¸åŒçš„è¯­å¢ƒä¸­ã€‚ä¸ºæ­¤ï¼ŒçŠ¶æ€å¯ä»¥è¢«ä»»æ„ä¿®å‰ªå’Œé‡æ–°æ’åºè€Œä¸å½±å“æœ€ç»ˆç»“æœçš„ä¸€è‡´æ€§ï¼› Eunomiaåœ¨GitHubçš„ä¸€ä¸ª2.5åƒæ˜Ÿçš„é¡¹ç›®ï¼ˆCollections-Cï¼‰ä¸­å‘ç°äº†ä¸¤ä¸ªæ–°çš„æ¼æ´ï¼Œå¼€å‘äººå‘˜å·²ç»æ‰¿è®¤å¹¶ä¿®è¡¥äº†è¿™äº›æ¼æ´ï¼› Eunomiaæ˜¯ç¬¬ä¸€ä¸ªæ”¯æŒWasmå…¨ç¬¦å·ç‰¹æ€§çš„ç¬¦å·æ‰§è¡Œå¼•æ“ï¼Œå¹¶ä¸”æ¯”å…¶ä»–state-of-the-artè¡¨ç°æ›´å¥½ã€‚ Model â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒEunomiaå°†å¾…åˆ†æç¨‹åºçš„æºä»£ç å’Œä¸€ä¸ªAesè„šæœ¬ä½œä¸ºè¾“å…¥ã€‚ç»™å®šç¨‹åºçš„CFGå°†è¢«åˆ’åˆ†ä¸ºä¸åŒåŒºé—´ï¼ˆè¯¦è§ç¬¬3.2.1èŠ‚ï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªåŒºé—´éƒ½å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ä¸Šä¸‹æ–‡ã€‚åŸºäºåˆ†å‰²å‡ºçš„åŒºé—´ï¼Œæˆ‘ä»¬æå‡ºä¸€ç§åŸºäºåŒºé—´çš„è·¯å¾„æœç´¢ç®—æ³•ã€‚è¯¥ç®—æ³•ä¸ºçŠ¶æ€ç»´æŒä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œè¿™äº›çŠ¶æ€çš„ä¼˜å…ˆçº§åˆ†æ•°ç”±Aesè„šæœ¬ä¸­æä¾›çš„å±€éƒ¨é€‚é…å‡½æ•°æ¥è¯„ä¼°ã€‚ä¸ºæ­¤ï¼Œè¯¥ç®—æ³•ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºåˆ†æ•°æœ€é«˜çš„çŠ¶æ€å’Œå®ƒæ¥ä¸‹æ¥çš„ä¸€ä¸ªåŸºæœ¬å—ä½œä¸ºæŒ‡ä»¤æ¨¡æ‹Ÿå™¨çš„è¾“å…¥ã€‚æ¨¡æ‹Ÿå™¨æ ¹æ®åŸºæœ¬å—ä¸­çš„æŒ‡ä»¤å¯¹çŠ¶æ€è¿›è¡Œç¬¦å·æ‰§è¡Œï¼Œå¦‚æœæœ‰å¿…è¦è¿›è¡Œè·¯å¾„åˆ†å‰ï¼Œåˆ™è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªçŠ¶æ€ã€‚æ³¨æ„ï¼ŒçŠ¶æ€å°†åœ¨å…¶ç›¸åº”çš„ä¸Šä¸‹æ–‡ä¸‹è¢«è¯„ä¼°ã€‚è¿™æ ·çš„è¿­ä»£ä¸€ç›´æŒç»­åˆ°é˜Ÿåˆ—ä¸­æ²¡æœ‰å€™é€‰çŠ¶æ€æˆ–åˆ†æç»ˆæ­¢ã€‚Eunomiaæœ€åä¼šè¾“å‡ºæ‰€æœ‰å¯æ»¡è¶³çš„è·¯å¾„ã€‚ WebAssembly â€‹ ç›®å‰æœ€å…ˆè¿›çš„ç¬¦å·æ‰§è¡Œå¼•æ“æ˜¯ä¸€ä¸ªå•†ä¸šçš„å¼€æºå·¥å…·ï¼ŒManticore [48]ï¼Œå®ƒéœ€è¦å¤§é‡çš„æ‰‹å·¥å·¥ä½œæ¥å¯¹Wasmè¿è¡Œæ—¶çš„APIè¿›è¡Œå»ºæ¨¡ï¼Œä»¥åˆ†æWasmåº”ç”¨ç¨‹åºã€‚ä¸ºäº†å‡è½»å®‰å…¨ç ”ç©¶äººå‘˜åˆ†æWasmäºŒè¿›åˆ¶æ–‡ä»¶çš„è´Ÿæ‹…ï¼Œæˆ‘ä»¬å®ç°äº†Eunomiaä½œä¸ºç¬¬ä¸€ä¸ªæ”¯æŒå…·æœ‰çº¦8K Python3ä»£ç çš„å•†ç”¨ç°æˆWasmåº”ç”¨ç¨‹åºç¬¦å·æ‰§è¡Œå¼•æ“ã€‚ 1. Memory Modeling â€‹ WebAssemblyé‡‡ç”¨çº¿æ€§å†…å­˜ä½œä¸ºå†…å­˜æ¨¡å‹ã€‚å…¶å†…å­˜ä¸­çš„æ•°æ®æ˜¯åŸå§‹çš„æ¯”ç‰¹ä¸²ï¼Œå¯ä»¥è¢«ç´¢å¼•å’Œè§£é‡Šã€‚ä¸ºäº†æ¨¡æ‹Ÿé€šè¿‡å…·ä½“æŒ‡é’ˆçš„loadå’ŒstoreæŒ‡ä»¤ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†[35]æå‡ºçš„æ˜ å°„ç»“æ„ï¼Œå…¶ä¸­å€¼æ˜¯ç”±BitVectorå»ºæ¨¡çš„åŸå§‹ä½ä¸²ï¼Œè€Œé”®æ˜¯å…¶å¯¹åº”çš„åœ°å€èŒƒå›´ã€‚ç„¶è€Œï¼Œè¿™ä¸ªæ¨¡å‹å¹¶ä¸èƒ½æ­£ç¡®åœ°å¤„ç†ç¬¦å·æŒ‡é’ˆã€‚ â€‹ ä¸ºäº†è§£å†³ç¬¦å·æŒ‡é’ˆé—®é¢˜[40]ï¼Œæˆ‘ä»¬é‡‡ç”¨å®Œå…¨ç¬¦å·åŒ–çš„å†…å­˜æ¨¡å‹[4]ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœåŠ è½½çš„åœ°å€æ˜¯ä¸€ä¸ªç¬¦å·ï¼ŒEunomiaä¼šè€ƒè™‘å…¶æ‰€æœ‰å¯èƒ½çš„ä½ç½®ã€‚æˆ‘ä»¬æ²¡æœ‰åƒKLEE[7]é‚£æ ·å¯¹å¤šä¸ªçŠ¶æ€è¿›è¡Œåˆ†å‰ï¼Œè¿™å¼•å…¥äº†å·¨å¤§çš„å¼€é”€ï¼Œè€Œæ˜¯å°†è´Ÿæ‹…è½¬ç§»ç»™SMTæ±‚è§£å™¨ï¼Œå› ä¸ºå®ƒåœ¨è§£å†³è¿™ç§çº¦æŸæ—¶ä¸æ–­åœ°æ›´æ–°[7, 8, 19, 55]ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬åˆ©ç”¨if-then-elseï¼ˆiteï¼‰è¯­å¥æ¥åˆ—ä¸¾æ‰€æœ‰å¯èƒ½çš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œvä»£è¡¨loadæ“ä½œï¼Œå†…å­˜çš„èŒƒå›´æ˜¯ï¼ˆ0-5ï¼‰ï¼ŒæŒ‡é’ˆå¯èƒ½æŒ‡å‘ä»»æ„ä½ç½®ï¼ŒstoreæŒ‡ä»¤ç±»ä¼¼ã€‚ 2. External Functions Emulating â€‹ åœ¨Runomiaå¼•æ“ä¸­ï¼Œæˆ‘ä»¬åº”ç”¨åŸºäºæ‘˜è¦çš„æŠ€æœ¯æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªWebAssemblyæ¥å£ï¼ˆWASIï¼‰[66]ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªWasmäºŒè¿›åˆ¶æ–‡ä»¶ä¸å¤–éƒ¨ç¯å¢ƒäº’åŠ¨çš„æ ‡å‡†æ¥å£ã€‚WASIä¸»è¦åŒ…æ‹¬IOç›¸å…³çš„å‡½æ•°ï¼Œå¦‚fd_writeå’Œfd_openã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å‚è€ƒäº†æ–‡æ¡£ï¼Œå¯¹æ‰€æœ‰è¿™äº›ä¸IOç›¸å…³çš„å‡½æ•°è¿›è¡Œå»ºæ¨¡ï¼Œä»¥æ¨¡æ‹Ÿæ¥è‡ªå¤–éƒ¨ç¯å¢ƒçš„å“åº”ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ€»ç»“äº†Cå’ŒGoä¸­å¸¸è§çš„æ ‡å‡†åº“å‡½æ•°çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ç®—æœ¯è¿ç®—ï¼Œä»¥åŠå­—ç¬¦ä¸²å’Œå†…å­˜æ“ä½œå‡½æ•°ã€‚å› æ­¤ï¼Œæ‰€æœ‰å¯¹å¤–éƒ¨çš„è°ƒç”¨éƒ½å°†è¢«æ‹¦æˆªã€‚æ¯ä¸ªçŠ¶æ€ä¸­çš„ç›¸åº”å­—æ®µå°†æ ¹æ®å‡½æ•°æ€»ç»“è¿›è¡Œæ›´æ–°ã€‚ 3. SMT-Query Cache â€‹ æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªç”¨äºæŸ¥è¯¢çš„ç¼“å­˜æ± æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚ä»å½¢å¼ä¸Šçœ‹ï¼Œæˆ‘ä»¬å°†SMTqueryç¼“å­˜å®šä¹‰ä¸ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å·²è§£å†³çº¦æŸæ¡ä»¶çš„é›†åˆğ¶=[ğ‘1, ğ‘2, ..., ğ‘ğ‘›]ã€‚å¯¹äºæ¯ä¸ªğ‘ğ‘–âˆˆ ğ¶ï¼Œæˆ‘ä»¬çš„ç¼“å­˜æ± éƒ½ä¼šç¼“å­˜å…¶ç»“æœå’Œæ‰€æœ‰ä»ä¸­æ¨æ–­å‡ºçš„å…¬ç†ã€‚ç„¶åï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„çº¦æŸğ‘ğ‘ ğ‘œğ‘™ğ‘£ğ‘’éœ€è¦è§£å†³ï¼Œåœ¨è¦æ±‚SMTæ±‚è§£å™¨è¿›è¡Œæ±‚è§£ä¹‹å‰ï¼ŒEunomiaé¦–å…ˆæŒ‰ç…§ä¸‰ä¸ªè§„åˆ™æŸ¥è¯¢ç¼“å­˜ ğ¶ï¼š â€‹ å¦‚æœğ‘ğ‘ ğ‘œğ‘™ğ‘£ğ‘’ ä¸ç¬¦åˆæ‰€æœ‰ä¸‰ä¸ªè§„åˆ™ï¼ŒEunomiaå°†ğ‘ğ‘ ğ‘œğ‘™ğ‘£ğ‘’ å‘é€ç»™SMTè§£ç®—å™¨å¹¶ç¼“å­˜ç»“æœã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Symbolic Execution","slug":"Symbolic-Execution","permalink":"http://example.com/tags/Symbolic-Execution/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡å¤ç°)GREBE-Unveiling Exploitation Potential for Linux Kernel Bugs","slug":"ã€è®ºæ–‡å¤ç°ã€‘GREBE-Unveiling-Exploitation-Potential-for-Linux-Kernel-Bugs","date":"2023-06-11T07:19:53.408Z","updated":"2023-07-13T07:19:24.144Z","comments":true,"path":"2023/06/11/ã€è®ºæ–‡å¤ç°ã€‘GREBE-Unveiling-Exploitation-Potential-for-Linux-Kernel-Bugs/","link":"","permalink":"http://example.com/2023/06/11/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91GREBE-Unveiling-Exploitation-Potential-for-Linux-Kernel-Bugs/","excerpt":"(è®ºæ–‡å¤ç°)GREBE: Unveiling Exploitation Potential for Linux Kernel Bugs æºç ï¼šMarkakd/GREBE (github.com)","text":"(è®ºæ–‡å¤ç°)GREBE: Unveiling Exploitation Potential for Linux Kernel Bugs æºç ï¼šMarkakd/GREBE (github.com) 1. Analysis 1.1 å…³é”®å†…æ ¸ç»“æ„ç¡®å®š 1.1.1 reportæ¥æºï¼š â€‹ syzbotæ˜¯ä¸€ä¸ªåŸºäºsyzkallerçš„è‡ªåŠ¨åŒ–fuzzingç³»ç»Ÿã€‚å®ƒèƒ½æŒç»­ä¸åœçš„è¿è¡Œsyzkallerï¼Œå¯¹linuxå†…æ ¸å„ä¸ªåˆ†æ”¯è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ï¼Œè‡ªåŠ¨æŠ¥å‘Šcrashï¼Œç›‘æ§bugçš„å½“å‰çŠ¶æ€ï¼ˆæ˜¯å¦å·²è¢«ä¿®å¤ç­‰ï¼‰ï¼Œç›‘æµ‹å¯¹äºbugçš„patchæ˜¯å¦æœ‰æ•ˆï¼Œå®Œæˆå‘ç°-æŠ¥å‘Š-å¤ç°-ä¿®å¤çš„æ•´ä¸ªæµç¨‹ã€‚ â€‹ å¯¹æ¯ä¸ªé”™è¯¯ï¼Œsyzbotä¼šå‘å¸ƒå…¶å¯¹åº”çš„æŠ¥å‘Šä»¥åŠå¯èƒ½å­˜åœ¨çš„POCç¨‹åºï¼š æŸä¸ªé”™è¯¯æŠ¥å‘Š â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œsyzbotå‘å¸ƒäº†æŸä¸ªé”™è¯¯å‘ç”Ÿæ—¶å…¶å¯¹åº”çš„å¯„å­˜å™¨å†…å®¹ï¼Œcall traceä»¥åŠ3æ¬¡crashesï¼ˆåº•éƒ¨ï¼‰çš„å¯¹åº”ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¯¥é”™è¯¯æä¾›äº†ä¸€ä¸ªsyzè„šæœ¬ç¼–å†™çš„reproducerï¼Œä¹Ÿå°±æ˜¯Pocç¨‹åºã€‚ â€‹ syzkaller reproæ˜¯ç”¨ç‰¹æ®Šçš„syzkallerç¬¦å·ç¼–å†™çš„ç¨‹åºï¼Œå®ƒä»¬å¯ä»¥åœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œã€‚å¹¶ä¸”ï¼Œsyzkaller reproå¯ä»¥è½¬åŒ–ä¸ºå¯¹åº”çš„Cè¯­è¨€pocï¼Œå¦‚æœsyzbotæ²¡æœ‰æä¾›Cè¯­è¨€çš„reproï¼Œå®ƒå°±æ— æ³•ä½¿ç”¨Cè¯­è¨€ç¨‹åºæ¥è§¦å‘è¯¥é”™è¯¯ï¼ˆè¿™å¯èƒ½åªæ˜¯å› ä¸ºè¯¥é”™è¯¯æ˜¯ç”±ä¸€ä¸ªç«æ€æ¡ä»¶è§¦å‘çš„ï¼‰ã€‚ â€‹ GREBEå°±æ˜¯ä»è¿™äº›æŠ¥å‘Šä¸­æå–call traceè¿›è¡Œåç»­åˆ†æã€‚ 1.1.2 ç¼–è¯‘Analyzer â€‹ å®‰è£…llvmâ€“10ï¼ˆLLVM Debian/Ubuntu packagesï¼‰ï¼š #To install a specific version of LLVM: wget https://apt.llvm.org/llvm.sh chmod +x llvm.sh sudo ./llvm.sh &lt;version number> â€‹ clang-10è¢«å®‰è£…åœ¨/usrä¸­ï¼Œæ•…å°†analyerçš„makeæ–‡ä»¶ä¿®æ”¹æ¥æŒ‡å®šclangï¼Œå¦‚ä¸‹ï¼ˆè¿™é‡Œç›´æ¥æŒ‡å®šCä¸C++ç¼–è¯‘å™¨ï¼‰ï¼š CUR_DIR = $(shell pwd) SRC_DIR := $&#123;CURDIR&#125;/src BUILD_DIR := $&#123;CURDIR&#125;/build include Makefile.inc NPROC := $&#123;shell nproc&#125; build_ka_func = \\ (mkdir -p $&#123;2&#125; \\ &amp;&amp; cd $&#123;2&#125; \\ &amp;&amp; cmake $&#123;1&#125; \\ -DCMAKE_CXX_COMPILER=/home/wx/Shaw/llvm/patched_llvm/bin/clang++\\ -DCMAKE_C_COMPILER=/home/wx/Shaw/llvm/patched_llvm/bin/clang\\ -DCMAKE_BUILD_TYPE=Release \\ -DCMAKE_CXX_FLAGS_RELEASE=\"-std=c++14 -fno-rtti -fpic -g\" \\ &amp;&amp; make -j$&#123;NPROC&#125;) all: analyzer analyzer: $(call build_ka_func, $&#123;SRC_DIR&#125;, $&#123;BUILD_DIR&#125;) â€‹ æ¥ç€ä¿®æ”¹analyzer/srcä¸­çš„CMakeLists.txtæ–‡ä»¶æ¥æŒ‡å®šLLVMï¼š cmake_minimum_required(VERSION 2.8.8) project(KANALYZER) #æŒ‡å®šLLVMç‰ˆæœ¬ set(LLVM_DIR \"/home/wx/Shaw/llvm/patched_llvm/lib/cmake/llvm\") find_package(LLVM REQUIRED CONFIG) message(STATUS \"Found LLVM $&#123;LLVM_PACKAGE_VERSION&#125;\") message(STATUS \"Using LLVMConfig.cmake in: $&#123;LLVM_DIR&#125;\") # Set your project compile flags. # E.g. if using the C++ header files # you will need to enable C++14 support # for your compiler. # Check for C++14 support and set the compilation flag include(CheckCXXCompilerFlag) #CHECK_CXX_COMPILER_FLAG(\"-std=c++14\" COMPILER_SUPPORTS_CXX14) # if(COMPILER_SUPPORTS_CXX14) # set(CMAKE_CXX_FLAGS \"$&#123;CMAKE_CXX_FLAGS&#125; -std=c++14 -fno-rtti -fPIC -Wall\") # else() # message(STATUS \"The compiler $&#123;CMAKE_CXX_COMPILER&#125; has no C++14 support. Please use a different C++ compiler.\") # endif() include_directories($&#123;LLVM_INCLUDE_DIRS&#125;) add_definitions($&#123;LLVM_DEFINITIONS&#125;) add_subdirectory (lib) â€‹ ç¼–è¯‘å¥½çš„analyerä½äºGREBE/analyzer/build/libä¸­ã€‚ 1.1.3 ç¼–è¯‘å†…æ ¸bitcodeæ–‡ä»¶ 1.1.3.1 å®‰è£…å¸¦è¡¥ä¸çš„LLVM â€‹ å†…æ ¸bitcodeæ–‡ä»¶æŒ‡çš„æ˜¯å¾…æµ‹è¯•çš„Linuxå†…æ ¸ï¼Œéœ€è¦å°†å…¶ç¼–è¯‘ä¸ºbcæ–‡ä»¶åè¿›è¡Œåˆ†æã€‚ â€‹ è¿™é‡Œéœ€è¦ä½¿ç”¨llvm-10å¹¶ä¸”ç»™LLVMç¼–è¯‘å™¨æ‰“ä¸Šè¡¥ä¸ï¼Œä»¥ä¾¿åœ¨è°ƒç”¨ä»»ä½•ç¼–è¯‘å™¨ä¼˜åŒ–é€šé“ä¹‹å‰è½¬å‚¨æ¯”ç‰¹ç ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥é˜²æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–å½±å“åˆ†æçš„å‡†ç¡®æ€§ã€‚æ•…è¿™é‡Œå•ç‹¬å‡†å¤‡ä¸€ä¸ªllvmå¹¶å®‰è£…åˆ°ç‰¹å®šæ–‡ä»¶å¤¹ä¸­ï¼Œä»¥é¿å…å¯¹å…¨å±€llvmçš„å½±å“ï¼š git clone https://github.com/llvm/llvm-project cd llvm-project git checkout 5521236a18074584542b81fd680158d89a845fca â€‹ æ‰“è¡¥ä¸ï¼š patch -p0 &lt; WriteBitcode.patch â€‹ build clang: mkdir build &amp;&amp; cd build cmake -DCMAKE_INSTALL_PREFIX=/home/wx/Shaw/llvm/patched_llvm -DLLVM_ENABLE_PROJECTS=clang -DCMAKE_BUILD_TYPE=Release -G \"Unix Makefiles\" ../llvm sudo make -j$(nproc) &amp;&amp; make install â€‹ è¿™é‡Œé€šè¿‡æŒ‡å®šDCMAKE_INSTALL_PREFIXçš„æ–¹å¼æŒ‡å®šå…¶å®‰è£…ä½ç½®ã€‚æ³¨æ„ï¼ŒLLVMç¼–è¯‘åä½“ç§¯éå¸¸å¤§ï¼Œå¦‚æœåœ¨è™šæ‹Ÿæœºä¸­ç¼–è¯‘éœ€è¦ç»™è¶³å¤Ÿå†…å­˜å’Œç¡¬ç›˜ç©ºé—´ï¼ˆ80G+ï¼‰ã€‚ 1.1.3.2 ç¼–è¯‘å†…æ ¸ â€‹ ç¼–è¯‘å®‰è£…å®Œå¸¦æœ‰ç‰¹å®šè¡¥ä¸çš„LLVMï¼Œæ¥ä¸‹æ¥å°±éœ€è¦ä½¿ç”¨å…¶æ¥ç¼–è¯‘Linuxå†…æ ¸æºç ã€‚ â€‹ ä»¥KASAN: slab-use-after-free Read in hfsplus_read_wrapperä¸ºä¾‹ï¼Œå…¶é™„å¸¦çš„.configæ–‡ä»¶ä¸­è¯¦ç»†çš„è¯´æ˜äº†æ¼æ´çš„å†…æ ¸ç‰ˆæœ¬ã€configç¼–è¯‘é€‰é¡¹ç­‰ä¿¡æ¯ã€‚ â€‹ åœ¨kernel/git/torvalds/linux.git - Linux kernel source treeå¤„ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å†…æ ¸æºç ï¼Œè§£å‹åå…ˆå®‰è£…ç¼–è¯‘æ‰€éœ€çš„åŒ…ï¼š sudo apt-get install git fakeroot build-essential ncurses-dev xz-utils libssl-dev bc flex libelf-dev bison â€‹ ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç¼–è¯‘,CCå’ŒCXXæŒ‡å®šä¸ºå¸¦è¡¥ä¸çš„clangï¼Œç”±äºLLVM-10å­˜åœ¨ä¸€å®šbugï¼Œè¿™é‡Œä»¤LLVM_IASä¸º0å…³é—­integrated assemblerï¼š make CC=/home/wx/Shaw/llvm/patched_llvm/bin/clang CXX=/home/wx/Shaw/llvm/patched_llvm/bin/clang++ LLVM_IAS=0 all -j$(nproc) â€‹ analyzerç¼–è¯‘å®Œæˆåï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿è¡Œï¼š python run_analyze.py ./case â€‹ å¯ä»¥åœ¨å¯¹åº”caseç›®å½•ä¸‹çœ‹åˆ°å¯¹åº”çš„è§£æç»“æœsys.txtï¼š â€‹ æ³¨æ„ï¼š ç¼–è¯‘analyzerä¸æºç çš„LLVMä¸€å®šè¦ç›¸åŒç‰ˆæœ¬ï¼› ä½œè€…ç»™å‡ºçš„LLVM-10æ˜¯å¯ä»¥æˆåŠŸè¿è¡Œçš„ï¼Œä½†æ˜¯å­˜åœ¨çš„é—®é¢˜å¦‚ä¸‹ï¼š ç›®å‰ä½¿ç”¨LLVMç¼–è¯‘æ–°ç‰ˆæœ¬çš„å†…æ ¸æœ€ä½è¦æ±‚å…¶ç‰ˆæœ¬ä¸º11ï¼Œå…¶æ— æ³•ç¼–è¯‘å†…æ ¸ï¼› å¦‚æœä½¿ç”¨LLVM-11ï¼Œå…¶ç¼–è¯‘analyzerå­˜åœ¨é”™è¯¯ï¼ˆè§æ–‡æœ«é”™è¯¯æ—¥å¿—ï¼‰ï¼› æ•…ç›®å‰ä½œè€…ä»“åº“ä¸­ç»™å‡ºçš„ä»£ç ä»…é€‚åˆç‰ˆæœ¬ä¸é«˜çš„å†…æ ¸ã€‚ éƒ¨åˆ†å·¥ä½œå·²é€šè¿‡è„šæœ¬è‡ªåŠ¨åŒ–ï¼Œæ•´ä¸ªå†…æ ¸çš„ä¸‹è½½+è§£å‹+ç¼–è¯‘å·²è‡ªåŠ¨åŒ–ä¸º/analyzer/scripts/get_kernel.pyï¼Œå¤ç°analyzeréœ€è¦ï¼š åœ¨/analyzer/Testcase/ä¸‹åˆ›å»ºå¯¹åº”caseæ–‡ä»¶å¤¹ï¼Œå‘½åæ ¼å¼ä¸ºcase+æ•°å­—ï¼› å°†å¯¹åº”reportä¸­çš„.configæ–‡ä»¶ä¸reportæ–‡ä»¶ä»¥åç§°.configå’Œreportå¤åˆ¶åˆ°caseæ–‡ä»¶å¤¹ä¸­ï¼› ä¿®æ”¹/analyzer/scripts/ä¸‹çš„ä¸‰ä¸ªpyæ–‡ä»¶ä¸­çš„CASE_DIRï¼ŒPATCHED_LLVMå’ŒAnalyzerPathå˜é‡ï¼Œä½¿å…¶åˆ†åˆ«å¯¹åº”Testcaseï¼Œæ‰“è¿‡è¡¥ä¸çš„LLVMå’Œç¼–è¯‘å¥½çš„analyzerï¼› æŒ‰æ¬¡åºè¿è¡Œget_cg.pyã€get_kernel.pyå’Œrun_analyze.pyï¼Œå…¶å‚æ•°ä¸ºcaseåºå·ï¼Œä¾‹å¦‚ï¼š #åˆ†æ/analyzer/Testcases/case7 python get_cg.py 7 python get_kernel.py 7 python run_analyze.py 7 1.1.3 é™æ€åˆ†æä»£ç è§£æ â€‹ è§(ä»£ç åˆ†æ)GREBE-Analyzeræ±¡ç‚¹åˆ†æä»£ç è§£æ | Shaw (shawdox.github.io) 2. Fuzzing 2.1 ç¼–è¯‘GCC â€‹ ä½¿ç”¨ä½œè€…æä¾›çš„gcc-9.3.0æ¥ç¼–è¯‘å†…æ ¸ï¼Œé¦–å…ˆè¿›å…¥å…¶æ–‡ä»¶å¤¹ä¸­ç¼–è¯‘GCCï¼š ./contrib/download_prerequisites mkdir gcc-bin export INSTALLDIR=`pwd`/gcc-bin mkdir gcc-build cd gcc-build ../configure --prefix=$INSTALLDIR --enable-languages=c,c++ make -j`nproc` &amp;&amp; make install â€‹ 2.2 ä½¿ç”¨GCCç¼–è¯‘å†…æ ¸ â€‹ åœ¨å†…æ ¸ä»£ç ä¸­è¿è¡Œï¼š export OBJ_FILE=\"/home/wx/Shaw/GREBE/analyzer/TestCases/case7/sts.txt\" make CC=\"/home/wx/Shaw/GREBE/gcc-9.3.0/gcc-bin/bin/gcc\" -j`nproc` â€‹ æ³¨æ„ï¼Œå†…æ ¸çš„.configæ–‡ä»¶æ ‡å¿—äº†å…¶ç¼–è¯‘æ‰€éœ€çš„æœ€ä½ç‰ˆæœ¬ï¼Œæ•…ä¸è®ºæ˜¯ç”¨clangç¼–è¯‘è¿˜æ˜¯gccéƒ½éœ€è¦ç¬¦åˆå¯¹åº”ç‰ˆæœ¬ã€‚ 2.3 ç¼–è¯‘Fuzzer â€‹ GREBEçš„Fuzzeræ˜¯syzkallerçš„æ”¹ç‰ˆï¼Œå…¶ä½¿ç”¨æ–¹æ³•ä¸syzkalleråŸºæœ¬ç›¸åŒã€‚æ ¹æ®syzkallerå®˜æ–¹ç»™å‡ºçš„æ–¹æ³•ç¼–è¯‘ï¼Œè¿™é‡Œé›†æˆä¸º/fuzzer/compile_fuzzer.pyï¼š #Author: xiao wu #Time: 2023.6.16 #Functionality: # Complie the modified syzkaller import sys import os assert ('linux' in sys.platform) GO_DIR = \"/home/wx/Shaw/go\" FUZZ_DIR = \"/home/wx/Shaw/GREBE/fuzzer\" os.environ[\"PATH\"] += GO_DIR+\"/bin\" os.chdir(FUZZ_DIR) os.system(\"make\") â€‹ è¿™é‡Œéœ€è¦åœ¨è„šæœ¬ä¸­æŒ‡å®šGoè¯­è¨€ç¯å¢ƒä»¥åŠfuzzerçš„ä½ç½®ï¼ŒGoçš„ç‰ˆæœ¬éœ€è¦å¤§äºç­‰äº1.11ã€‚ç¼–è¯‘å¥½çš„fuzzerä½äº/fuzzer/binä¸­ã€‚ 2.4 æµ‹è¯•QEMU â€‹ syz-manageréœ€è¦é€šè¿‡sshæ¥ä¸ssh-fuzzeré€šä¿¡ï¼Œåè€…è¿è¡Œåœ¨QEMUä¸­ï¼Œæ•…åœ¨è¿è¡Œsyzkallerä¹‹å‰ï¼Œéœ€è¦æ‰‹åŠ¨æµ‹è¯•QEMUè¿é€šæ€§ï¼š qemu-system-x86_64 \\ -m 2G \\ -smp 2 \\ -kernel $KERNEL/arch/x86/boot/bzImage \\ -append \"console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0\" \\ -drive file=$IMAGE/bullseye.img,format=raw \\ -net user,host=10.0.2.10,hostfwd=tcp:127.0.0.1:10021-:22 \\ -net nic,model=e1000 \\ -enable-kvm \\ -nographic \\ -pidfile vm.pid \\ 2>&amp;1 | tee vm.log â€‹ æ³¨æ„ï¼ŒQEMUéœ€è¦å½“å‰ç³»ç»Ÿæ”¯æŒKVMè™šæ‹ŸåŒ–ï¼Œå¦‚æœæ˜¯è™šæ‹Ÿæœºå¯ä»¥ç›´æ¥æŸ¥æ‰¾å¯¹åº”å¤„ç†å™¨è®¾ç½®ï¼Œå¦‚æœæ˜¯ç‰©ç†æœºéœ€è¦åœ¨BIOSä¸­å¼€å¯ã€‚ â€‹ æˆåŠŸå¼€å¯QEMUåå¦å¼€ä¸€ä¸ªbashï¼Œç”¨sshæµ‹è¯•å…¶è¿é€šæ€§ï¼š ssh -i $IMAGE/bullseye.id_rsa -p 10021 -o \"StrictHostKeyChecking no\" root@localhost â€‹ å¦‚æœæˆæœè¿é€šåˆ™è¯´æ˜QEMUé€šä¿¡éƒ¨åˆ†æ²¡æœ‰é—®é¢˜ï¼Œå…·ä½“é…ç½®è¿‡ç¨‹ä»¥åŠç›¸å…³å¯èƒ½çš„é—®é¢˜å¯è§ï¼š(æŠ€æœ¯ç§¯ç´¯)Syzkallerç¯å¢ƒé…ç½® | Shaw (shawdox.github.io) â€‹ 2.5 è¿è¡Œfuzzer â€‹ ç›´æ¥ä½¿ç”¨/fuzzer/scripts/run_fuzzer.pyè„šæœ¬å³å¯è¿è¡Œfuzzerï¼Œå…¶ä¼šè‡ªåŠ¨å®šä½caseæ–‡ä»¶å¤¹å¹¶åˆ›å»ºå¯¹åº”çš„configæ–‡ä»¶ï¼Œè¿è¡Œsyz-manager: python run_fuzzer.py [case_number] #python run_fuzzer.py 8 â€‹ ä¸‹é¢æ˜¯run_fuzzer.pyçš„è¿è¡Œé€»è¾‘ï¼š é¦–å…ˆåœ¨å¯¹åº”çš„caseæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºå…¶configæ–‡ä»¶ï¼š ç„¶åå°†configæ–‡ä»¶å¤åˆ¶åˆ°workdirï¼ˆå¦‚ä¸Šå›¾ï¼‰ä¸­ï¼š â€‹ å¦‚ä¸Šå›¾fuzzeræºç æ‰€ç¤ºï¼Œæ³¨æ„åˆ°pocæ˜¯é»˜è®¤ä½äºworkdirä¸­çš„ï¼Œæ•…åœ¨ä½¿ç”¨å‘½ä»¤æ—¶ä»…ä¼ å…¥pocæ–‡ä»¶åç§°å³å¯ï¼ˆæ­¤æ¬¡å¤ç°ä¸­ï¼Œpoc.txté»˜è®¤ä½äºå¯¹åº”çš„caseæ–‡ä»¶å¤¹ä¸­ï¼Œè¿™é‡Œrun_fuzzer.pyè„šæœ¬ä¼šåœ¨è¿è¡Œsyz-managerå‰å°†å¯¹åº”çš„poc.txtå¤åˆ¶è¿‡æ¥ï¼‰ã€‚ 3. è¿è¡Œsyz-manager: syz-manager -config /home/wx/Shaw/GREBE/analyzer/TestCases/case8/syzconfig.cfg --auxiliary poc.txt â€‹ å†æ¬¡æ³¨æ„ï¼Œç”±äºfuzzeræºç é™åˆ¶ï¼Œä½¿ç”¨--auxiliaryæ ‡å¿—ä¼ å…¥poc.txtåªèƒ½ä¼ å…¥è¯¥åç§°ï¼Œå¹¶ä¸”poc.txtæ–‡ä»¶åº”è¯¥ä½äºworkdiræ–‡ä»¶å¤¹ä¸‹ã€‚ â€‹ è¿è¡Œå³å¯å¾—åˆ°å¯¹åº”ç»“æœï¼š 2.6 åŸç†è§£æ â€‹ å¯¹gccå’Œkerneléƒ½åšäº†ä¿®æ”¹ï¼Œä½¿å…¶åœ¨ç¼–è¯‘å†…æ ¸æ—¶å¯ä»¥å°†ç‰¹å®šçš„basic blockçš„16bitåœ°å€æ›¿æ¢ä¸ºä¸€ä¸ªmagic_numberï¼Œè¿™æ ·åœ¨ä»£ç è¦†ç›–ç‡åé¦ˆä¸­å°±å¯ä»¥è¯†åˆ«å“ªäº›basic blockå±äºå…³é”®å†…æ ¸å¯¹è±¡ã€‚ 2.6.1 SyzkalleråŸç† â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå…·ä½“æè¿°è§ï¼šsyzkaller/docs/internals.md at master Â· google/syzkaller Â· GitHub 2.6.2 Syscall descriptions â€‹ Syzkallerä½¿ç”¨å£°æ˜æ€§çš„ç³»ç»Ÿè°ƒç”¨æè¿°æ¥æ§åˆ¶ç¨‹åºï¼ˆç³»ç»Ÿè°ƒç”¨çš„åºåˆ—ï¼‰ï¼Œä¸¾ä¾‹ï¼š open(file filename, flags flags[open_flags], mode flags[open_mode]) fd read(fd fd, buf buffer[out], count len[buf]) close(fd fd) open_mode &#x3D; S_IRUSR, S_IWUSR, S_IXUSR, S_IRGRP, S_IWGRP, S_IXGRP, S_IROTH, S_IWOTH, S_IXOTH â€‹ ç¿»è¯‘åçš„ç³»ç»Ÿè°ƒç”¨æè¿°è¢«ç”¨æ¥ç”Ÿæˆã€å˜å¼‚ã€æ‰§è¡Œã€æœ€å°åŒ–ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç¨‹åºï¼Œç¨‹åºæŒ‡çš„æ˜¯æœ‰ç€ä¸€ç³»åˆ—å…·ä½“å‚æ•°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œä¾‹å¦‚ï¼š r0 = open(&amp;(0x7f0000000000)=\"./file0\", 0x3, 0x9) read(r0, &amp;(0x7f0000000000), 42) close(r0) â€‹ åœ¨å®é™…æ“ä½œä¸­ï¼Œsyzkallerä½¿ç”¨ç±»ä¼¼ASTçš„å†…å­˜è¡¨ç¤ºæ³•ï¼Œç”±prog/prog.goä¸­å®šä¹‰çš„Callå’ŒArgå€¼ç»„æˆã€‚è¿™ç§è¡¨ç¤ºæ³•è¢«ç”¨æ¥åˆ†æã€ç”Ÿæˆã€å˜å¼‚ã€æœ€å°åŒ–ã€éªŒè¯ç­‰ç¨‹åºã€‚å†…å­˜ä¸­çš„è¡¨ç¤ºæ³•å¯ä»¥è½¬æ¢ä¸ºæ–‡æœ¬å½¢å¼ï¼Œä»¥å­˜å‚¨åœ¨ç£ç›˜è¯­æ–™åº“ä¸­ï¼Œå¹¶å±•ç¤ºç»™äººç±»ï¼Œç­‰ç­‰ã€‚è¿˜æœ‰å¦ä¸€ç§ç¨‹åºçš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•ï¼ˆç§°ä¸ºexecï¼‰ï¼Œå®ƒæ›´ç®€å•ï¼Œä¸åŒ…å«ä¸°å¯Œçš„ç±»å‹ä¿¡æ¯ï¼ˆä¸å¯é€†ï¼‰ï¼Œç”¨äºå®é™…æ‰§è¡Œï¼ˆè§£é‡Šï¼‰ç¨‹åºã€‚ 2.6.3 Coverage 2.6.3.1 Syzkaller Coverage â€‹ è¦†ç›–ç‡é€šè¿‡è¿½è¸ªcoverage pointsçš„æ–¹å¼è·å–ï¼Œcoverage pointsä¸€èˆ¬é€šè¿‡ç¼–è¯‘å™¨æ’å…¥å¯¹è±¡ä»£ç ä¸­ã€‚coverage pointsä¸€èˆ¬æŒ‡ä¸€ä¸ªåŸºæœ¬å—æˆ–è€…CFGè¾¹ï¼ˆå–å†³äºç¼–è¯‘å™¨ï¼Œä¾‹å¦‚clangé»˜è®¤æ˜¯cfgè¾¹è€Œgccæ˜¯åŸºæœ¬å—ï¼‰ï¼Œç¼–è¯‘å™¨åœ¨ç¿»è¯‘è½¬æ¢å’Œä¼˜åŒ–ä»£ç çš„è¿‡ç¨‹ä¸­æ’å…¥coverage pointsã€‚ â€‹ å› æ­¤ï¼Œè¦†ç›–ç‡ä¸æºä»£ç çš„å…³ç³»å¯èƒ½å¾ˆå·®ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½ä¼šåœ¨ä¸€ä¸ªéè¦†ç›–è¡Œä¹‹åçœ‹åˆ°ä¸€ä¸ªè¦†ç›–è¡Œï¼Œæˆ–è€…ä½ å¯èƒ½åœ¨ä½ æœŸæœ›çœ‹åˆ°çš„åœ°æ–¹æ²¡æœ‰çœ‹åˆ°è¦†ç›–ç‚¹ï¼Œåä¹‹äº¦ç„¶ï¼ˆå¦‚æœç¼–è¯‘å™¨æ‹†åˆ†åŸºæœ¬å—ï¼Œæˆ–å°†æ§åˆ¶æµç»“æ„å˜æˆæ²¡æœ‰æ§åˆ¶æµçš„æ¡ä»¶åŠ¨ä½œï¼Œå°±å¯èƒ½å‘ç”Ÿè¿™ç§æƒ…å†µã€‚ï¼‰ã€‚ https://github.com/google/syzkaller/blob/master/docs/coverage.md#syz-coverè¿™é‡Œå¯ä»¥å‚ç…§å®˜ç½‘çš„syz-coveræ¥ä»åŸå§‹è¦†ç›–æ•°æ®ä¸­ç”ŸæˆæŠ¥å‘Šã€‚ â€‹ Syzkallerä½¿ç”¨kcovæ¥ä»Linuxå†…æ ¸ä¸­è·å–ä»£ç è¦†ç›–ç‡ï¼Œkcovä¼šè¾“å‡ºæ¯ä¸ªè¢«è¿è¡Œçš„åŸºæœ¬å—çš„åœ°å€ï¼Œç„¶åsyzkallerä¼šç”¨objdumpã€nmã€addr2lineã€readelfç­‰binutilså·¥å…·æ¥å°†è¯¥åœ°å€æ˜ å°„åˆ°æºç å¯¹åº”çš„è¡Œæ•°ã€‚ 2.6.3.2 GREBE Coverage GREBE-GCC â€‹ add grebe code changes Â· whoismissing/grebe-gcc@172f8e6 (github.com)è¿™é‡Œå¯ä»¥çœ‹åˆ°GREBEå¯¹GCC9.3.0ç‰ˆæœ¬åšäº†æ€æ ·çš„ä¿®æ”¹ï¼Œå…¶ä¿®æ”¹äº†ä¸¤ä¸ªæ–‡ä»¶ï¼šsancov.cå’Œsanitizer.defã€‚ â€‹ é¦–å…ˆï¼ŒGREBEåœ¨sancov.cä¸­å®šä¹‰äº†å­˜å‚¨å…³é”®å¯¹è±¡çš„ç»“æ„struct_maps: â€‹ å®šä¹‰äº†init_structs()å‡½æ•°ï¼Œç”¨äºå°†ä»analyzerç”Ÿæˆçš„å†…æ ¸å…³é”®å¯¹è±¡è¯»å–åˆ°st_map-&gt;stæ•°ç»„ä¸­ï¼š â€‹ å®šä¹‰äº†process_tree()å‡½æ•°ï¼Œç”¨äºåŒ¹é…å…³é”®å†…æ ¸å¯¹è±¡ï¼š â€‹ å®šä¹‰äº†find_st()å‡½æ•°ï¼Œç”¨äºä»treeä¸­æ‰¾å‡ºç¬¦åˆå…³é”®å†…æ ¸å¯¹è±¡çš„å­æ ‘ï¼š â€‹ ç„¶ååœ¨sancov_pass()å‡½æ•°ä¸­æ’å…¥ä»¥ä¸‹ä»£ç ï¼š â€‹ è¿™æ®µä»£ç çš„å¤§è‡´ä½œç”¨æ˜¯é€‰æ‹©å¯¹basic blockåšæ’æ¡©çš„å‡½æ•°ï¼ŒBUILT_IN_SANITIZER_COV_TRACE_PCæ˜¯kcovåŸæœ¬çš„æ’æ¡©å‡½æ•°ï¼ŒBUILT_IN_SANITIZER_OBJ_COV_TRACE_PCæ˜¯GREBEå®ç°çš„æ’æ¡©å‡½æ•°ï¼ŒäºŒè€…éƒ½åœ¨å¯¹åº”å†…æ ¸çš„kernel/kcov.cæ–‡ä»¶ä¸­å®ç°ï¼ŒäºŒè€…çš„åŒºåˆ«å¦‚ä¸‹ï¼š â€‹ å…¶ä¸­ï¼Œ_RET_IP_ä»£è¡¨å½“å‰å‡½æ•°çš„è¿”å›åœ°å€ï¼Œå¯ä»¥å‘ç°ï¼ŒGREBEå®ç°çš„BUILT_IN_SANITIZER_OBJ_COV_TRACE_PCç›¸è¾ƒäºBUILT_IN_SANITIZER_COV_TRACE_PCå°±æ˜¯å°†è¿”å›åœ°å€æˆªå–äº†å‰32ä½ã€‚ â€‹ å›åˆ°sancov_pass()ï¼Œå…¶éå†æ¯ä¸ªåŸºæœ¬å—ï¼Œå¯¹äºéç©ºåŸºæœ¬å—åˆ¤æ–­å…¶æ˜¯å¦æ˜¯å…³é”®å†…æ ¸å¯¹è±¡ï¼Œå¦‚æœæ˜¯åˆ™å°†fndeclè®¾ç½®ä¸ºBUILT_IN_SANITIZER_OBJ_COV_TRACE_PCï¼Œå¦åˆ™è®¾ç½®ä¸ºBUILT_IN_SANITIZER_COV_TRACE_PCã€‚ç„¶åä»£ç æ ¹æ®fndeclè®¾ç½®ä¸€ä¸ªgcallï¼Œå°†å…¶æ’å…¥åˆ°ä»£ç å—ä¹‹å‰ã€‚ â€‹ æœ€åï¼Œåœ¨sanitizer.defæ–‡ä»¶ä¸­ï¼Œå°†è‡ªå·±å®ç°çš„__sanitizer_obj_cov_trace_pc()å®šä¹‰ä¸ºsanitizerå‡½æ•°: GREBE-Syzkaller 3. é”™è¯¯æ—¥å¿— é—®é¢˜1ï¼šç¼–è¯‘llvmæ—¶æŠ¥é”™ï¼š Killed (program cc1plus) Please submit a full bug report, with preprocessed source if appropriate. See file:///usr/share/doc/gcc-5/README.Bugs for instructions. lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/build.make:494: recipe for target 'lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/EnumTables.cpp.o' failed make[2]: *** [lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/EnumTables.cpp.o] Error 4 CMakeFiles/Makefile2:6769: recipe for target 'lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/all' failed make[1]: *** [lib/DebugInfo/CodeView/CMakeFiles/LLVMDebugInfoCodeView.dir/all] Error 2 è§£å†³æ–¹æ³•ï¼š ç¼–è¯‘æ—¶è™šæ‹Ÿæœºçš„å†…å­˜ä¸ç¡¬ç›˜ç©ºé—´å¤ªå°ï¼Œåœ¨æœåŠ¡å™¨ä¸Šè·‘å³å¯æˆåŠŸç¼–è¯‘ã€‚ é—®é¢˜2ï¼šåœ¨ç¼–è¯‘analyzeræ—¶æŠ¥é”™ï¼š error: no member named 'hasNPredecessorsOrMore' in 'llvm::BasicBlock' è§£å†³æ–¹æ³•ï¼š æŸ¥çœ‹é”™è¯¯æŠ¥å‘Šå‘ç°æ˜¯LLVMçš„BasicBlockæ²¡æ‰¾åˆ°å¯¹åº”çš„å­æ•°æ®ç»“æ„hasNPredecessorsOrMoreï¼Œé¦–å…ˆåœ¨LLVMå®˜ç½‘æŸ¥æ‰¾å¯¹åº”æ•°æ®ç»“æ„å®šä¹‰ï¼š â€‹ å¯ä»¥çœ‹åˆ°åœ¨BasicBlock.cppçš„319è¡Œæœ‰è¯¥æ•°æ®ç»“æ„çš„å®šä¹‰ï¼ŒæŸ¥æ‰¾æœ¬æœºä¸Šä¸‹è½½çš„llvmæºç ï¼š â€‹ æŸ¥æ‰¾å¯¹åº”æºç æ˜¯å¯ä»¥å‘ç°å¯¹åº”æ•°æ®ç»“æ„å®šä¹‰çš„ï¼š â€‹ é˜…è¯»æŠ¥é”™ä¿¡æ¯ï¼Œå‘ç°ç¼–è¯‘æ—¶è‡ªåŠ¨æœç´¢åˆ°äº†ä»¥å‰å®‰è£…çš„llvm-6.0æ—§ç‰ˆæœ¬ï¼Œæ‰‹åŠ¨æ›´æ”¹è·¯å¾„ï¼Œä¸Šè¿°é—®é¢˜è§£å†³ï¼Œä½†æ˜¯å‘ç°ä»æ—§æŠ¥é”™ã€‚ â€‹ åœ¨llvmçš„githubé¡¹ç›®ä¸­æ‰¾åˆ°äº†ä¸€æ ·é”™è¯¯ï¼šBuild failure when targeting LLVM 11.0 Â· Issue #87 Â· google/autofdo (github.com)ã€‚å¯ä»¥åŸºæœ¬ç¡®å®šè¿™æ˜¯LLVM-11çš„é—®é¢˜ï¼Œæ¢å›LLVM-10ç‰ˆæœ¬å³å¯è§£å†³ã€‚ é—®é¢˜3ï¼šåœ¨ç¼–è¯‘analyzeræ—¶æŠ¥é”™ï¼š ld: cannot find -lz è§£å†³æ–¹æ³•ï¼š sudo apt-get install zlib1g zlib1g-dev é—®é¢˜4ï¼šåœ¨ä½¿ç”¨analyeræ—¶æŠ¥é”™ï¼š /home/wx/Shaw/GREBE/analyzer/build/lib/analyzer: error loading file './case/linux-bitcode/lib/dump_stack.c.bc' è§£å†³æ–¹æ³•ï¼š é—®é¢˜å®šä½åˆ°KAMain.ccæ–‡ä»¶ä½¿ç”¨ParseIR()å‡½æ•°è§£æbcæ–‡ä»¶ï¼š std::unique_ptr&lt;Module> M = parseIRFile(InputFilenames[i], Err, *LLVMCtx); if (M == NULL) &#123; errs() &lt;&lt; argv[0] &lt;&lt; \": error loading file '\" &lt;&lt; InputFilenames[i] &lt;&lt; \"'\\n\"; continue; &#125; é—®é¢˜5ï¼šç¼–è¯‘å†…æ ¸ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬ï¼‰æ—¶æŠ¥é”™ï¼š error New address family defined, please update secclass_map. è§£å†³æ–¹æ³•ï¼š ç¼–è¯‘é”™è¯¯ error New address family defined, please update secclass_map.è§£å†³-CSDNåšå®¢ é—®é¢˜6ï¼šç¼–è¯‘å†…æ ¸ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬ï¼‰æ—¶æŠ¥é”™ï¼š passing argument 1 to restrict-qualified parameter aliases with argument 5 [-Werror=restrict] cc1: all warnings being treated as errors è§£å†³æ–¹æ³•ï¼š å¯¹tools/lib/str_error_r.cæ‰“å¦‚ä¸‹è¡¥ä¸ï¼š Re: New -Werror=restrict error with incremental gcc - Laura Abbott (kernel.org) é—®é¢˜7ï¼šæ— æ³•ä½¿ç”¨pyè„šæœ¬ï¼ˆåœ¨å…¶ä¸­ä½¿ç”¨exportï¼‰æ”¹å˜ç¯å¢ƒå˜é‡ è§£å†³æ–¹æ³•ï¼š How to use export with Python on Linux - Stack Overflow Reference GREBE: GREBE/analyzer at master Â· Markakd/GREBE (github.com) Markakd/LLVM-O0-BitcodeWriter: patch for LLVM to generate O0 bitcode (github.com) LLVM: LLVM Debian/Ubuntu packages Kernel: How To Build Linux Kernel {Step-By-Step} | phoenixNAP KB Setup: Ubuntu host, QEMU vm, x86-64 kernel (googlesource.com) KCOV: code coverage for fuzzing â€” The Linux Kernel documentation å†…æ ¸æµ‹è¯•æŒ‡å— â€” The Linux Kernel documentation Syzkallerï¼š syzkaller/docs/internals.md at master Â· google/syzkaller Â· GitHub syzkaller/docs/linux/setup_ubuntu-host_qemu-vm_x86-64-kernel.md at master Â· google/syzkaller Â· GitHub (æŠ€æœ¯ç§¯ç´¯)Syzkallerç¯å¢ƒé…ç½® | Shaw (shawdox.github.io) Understanding kcov â€“ play with -fsanitize-coverage=trace-pc from the user space | davejingtian.org kcov-ç”¨äºå†…æ ¸æ¨¡ç³Šæµ‹è¯•çš„ä»£ç è¦†ç›–-CSDNåšå®¢","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"}],"author":"Shaw"},{"title":"(æŠ€æœ¯ç§¯ç´¯)Syzkallerç¯å¢ƒé…ç½®","slug":"ã€æŠ€æœ¯ç§¯ç´¯ã€‘Syzkallerç¯å¢ƒé…ç½®","date":"2023-06-11T07:19:53.173Z","updated":"2023-06-16T04:19:22.900Z","comments":true,"path":"2023/06/11/ã€æŠ€æœ¯ç§¯ç´¯ã€‘Syzkallerç¯å¢ƒé…ç½®/","link":"","permalink":"http://example.com/2023/06/11/%E3%80%90%E6%8A%80%E6%9C%AF%E7%A7%AF%E7%B4%AF%E3%80%91Syzkaller%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","excerpt":"Syzkallerç¯å¢ƒé…ç½® Syzkallerå†…æ ¸æ¨¡ç³Šæµ‹è¯•å·¥å…·ç¯å¢ƒæ­å»ºï¼Œç®€å•æµ‹è¯• é¡¹ç›®åœ°å€ï¼šgoogle/syzkaller: syzkaller is an unsupervised coverage-guided kernel fuzzer (github.com)","text":"Syzkallerç¯å¢ƒé…ç½® Syzkallerå†…æ ¸æ¨¡ç³Šæµ‹è¯•å·¥å…·ç¯å¢ƒæ­å»ºï¼Œç®€å•æµ‹è¯• é¡¹ç›®åœ°å€ï¼šgoogle/syzkaller: syzkaller is an unsupervised coverage-guided kernel fuzzer (github.com) Install gcc 6.10 or later; go 1.20 or later; C compiler with coverage support Linux kernel with coverage additions Virtual machine or a physical device syzkaller itself æ›´æ–°aptå¹¶å®‰è£…ç›¸å…³ç¼–è¯‘å™¨ï¼š sudo apt update sudo apt install make gcc flex bison libncurses-dev libelf-dev libssl-dev â€‹ ä¸‹è½½å†…æ ¸æºç ï¼š git clone --branch v6.2 git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git $KERNEL â€‹ å†…æ ¸ç¼–è¯‘å¸¸ç”¨çš„é…ç½®å‚æ•°ï¼š #æ–‡æœ¬å¯¹è¯å¼ï¼ŒåŸºäºå‘½ä»¤è¡Œçš„ä¸€ç§é…ç½®,å…¶ä¼šåœ¨å‘½ä»¤è¡Œä¸€ä¸ªä¸ªè¯¢é—®å…·ä½“é…ç½®é€‰æ‹© make config #åŸºäºå›¾å½¢ç•Œé¢é…ç½® make menuconfig ##å°†å½“å‰ç³»ç»Ÿå­˜åœ¨çš„.config æ–‡ä»¶æ‹·è´è‡³æºç ç›®å½•ï¼Œå¹¶è¯¢é—®æ–°ç¬¦å·å¦‚ä½•è®¾ç½® make oldconfig #å°†å½“å‰ç³»ç»Ÿå­˜åœ¨çš„.config æ–‡ä»¶æ‹·è´è‡³æºç ç›®å½•ï¼Œæ–°ç¬¦å·è®¾ä¸ºé»˜è®¤å€¼ï¼Œä¸æç¤º make olddefconfig #åŸºäºå½“å‰configå’ŒåŠ è½½çš„æ¨¡å—åˆ›å»ºä¸€ä¸ªé…ç½® make localmodconfig #åŸºäºQTçš„é…ç½®å·¥å…· make xconfig #ä½¿ç”¨ç³»ç»Ÿä¸­çš„é»˜è®¤ç¬¦å·å€¼åˆ›å»ºä¸€ä¸ªconfig make defconfig #åŸºäºGTK+çš„é…ç½®å·¥å…· make gconfig #ä¸ºkvmå®¢æˆ·å†…æ ¸æ”¯æŒå¯ç”¨å…¶ä»–é€‰é¡¹ make kvm_guest.config â€‹ è¿›å…¥æºç ç›®å½•ï¼š make olddefconfig â€‹ æ‰‹åŠ¨åœ¨.configæ–‡ä»¶ä¸­æ·»åŠ ç¼–è¯‘é€‰é¡¹ï¼ˆä¸€å®šå»æ‰åŸæ¥çš„æ³¨é‡Šï¼‰ï¼š # Coverage collection. CONFIG_KCOV=y # Debug info for symbolization. CONFIG_DEBUG_INFO_DWARF4=y # Memory bug detector CONFIG_KASAN=y CONFIG_KASAN_INLINE=y # Required for Debian Stretch and later CONFIG_CONFIGFS_FS=y CONFIG_SECURITYFS=y #è¿™ä¸ªä¸€å®šè¦åŠ ä¸Š CONFIG_CMDLINE_BOOL=y CONFIG_CMDLINE=\"net.ifnames=0\" â€‹ å†æ¬¡makeï¼š make olddefconfig â€‹ ç¼–è¯‘ï¼š make -j`nproc` â€‹ ç¼–è¯‘å¥½çš„å†…æ ¸æ–‡ä»¶å¤¹å†…åº”å‡ºç°ï¼š â€‹ debootstrapæ˜¯debian/ubuntuä¸‹çš„ä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥æ„å»ºä¸€å¥—åŸºæœ¬çš„ç³»ç»Ÿ(æ ¹æ–‡ä»¶ç³»ç»Ÿ)ã€‚ç”Ÿæˆçš„ç›®å½•ç¬¦åˆLinuxæ–‡ä»¶ç³»ç»Ÿæ ‡å‡†(FHS)ï¼Œå³åŒ…å«äº†/bootã€/etcã€/binã€/usrç­‰ç­‰ç›®å½•ï¼Œä½†å®ƒæ¯”å‘è¡Œç‰ˆæœ¬çš„Linuxä½“ç§¯å°å¾ˆå¤šï¼Œå½“ç„¶åŠŸèƒ½ä¹Ÿæ²¡é‚£ä¹ˆå¼ºå¤§ï¼Œå› æ­¤ï¼Œåªèƒ½è¯´æ˜¯â€œåŸºæœ¬çš„ç³»ç»Ÿâ€ã€‚ â€‹ è¿™é‡Œä»¥åˆ›å»ºä¸€ä¸ªDebian Bullseyeç‰ˆæœ¬çš„Linuxé•œåƒä¸ºä¾‹ï¼š sudo apt install debootstrap mkdir $IMAGE cd $IMAGE/ wget https://raw.githubusercontent.com/google/syzkaller/master/tools/create-image.sh -O create-image.sh chmod +x create-image.sh ./create-image.sh â€‹ åˆ›å»ºå¥½åå¯¹åº”æ–‡ä»¶å¤¹ä¸‹åº”è¯¥æœ‰ä¸€ä¸ªbullseye.imgæ–‡ä»¶ã€‚ â€‹ å¦‚æœHostä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œéœ€è¦åœ¨è®¾ç½®å¤„å¼€å¯è™šæ‹ŸåŒ–å¼•æ“ï¼ˆè‹¥æ˜¯ç‰©ç†æœºåˆ™éœ€è¦åœ¨BIOSä¸Šå¼€å¯ï¼‰ï¼š â€‹ æµ‹è¯•qemuï¼š qemu-system-x86_64 \\ -m 2G \\ -smp 2 \\ -kernel /home/wx/SyzKaller/linux/arch/x86/boot/bzImage \\ -append \"console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0\" \\ -drive file=/home/wx/SyzKaller/image/bullseye.img,format=raw \\ -net user,host=10.0.2.10,hostfwd=tcp:127.0.0.1:10021-:22 \\ -net nic,model=e1000 \\ -enable-kvm \\ -nographic \\ -pidfile vm.pid \\ 2>&amp;1 | tee vm.log â€‹ å¦å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œæµ‹è¯•sshè¿æ¥ï¼š ssh -i $IMAGE/bullseye.id_rsa -p 10021 -o \"StrictHostKeyChecking no\" root@localhost â€‹ æµ‹è¯•å®Œæˆåå°±å¯ä»¥å…³é—­qemuï¼ˆç›´æ¥poweroffï¼‰ï¼Œä¸‹é¢è¿›è¡Œsyzkallerå®‰è£…ï¼š â€‹ å®‰è£…goï¼š #å¦‚æœæ˜¾ç¤ºåœ°å€ä¸å¯è¾¾ #åœ¨ç«™é•¿å·¥å…·å¤„æŸ¥è¯¢dl.google.com #æ‰¾åˆ°å¯ä»¥Pingçš„IP #ä¿®æ”¹æœ¬æœºhostsæ–‡ä»¶å³å¯ wget https://go.dev/dl/go1.20.3.linux-amd64.tar.gz #å¦‚æœä¹‹å‰å®‰è£…è¿‡goï¼Œä¸€å®šè¦å…ˆåˆ é™¤åŸæ¥çš„ tar -C /usr/local -xzf go1.20.3.linux-amd64.tar.gz #æ·»åŠ ç¯å¢ƒå˜é‡ export GOROOT=`pwd`/go export PATH=$GOROOT/bin:$PATH #æµ‹è¯• go version #-> go version go1.20.3 linux/amd64 â€‹ å®‰è£…syzkaller: git clone https://github.com/google/syzkaller cd syzkaller #å®‰è£…ä¹‹å‰ä¸€å®šè¦ä¿è¯gccå’Œgoçš„ç‰ˆæœ¬æ­£ç¡® make Crash Test â€‹ åœ¨$linux/fs/open.cæ–‡ä»¶ä¸­çš„chmod_commonï¼ˆï¼‰æ·»åŠ ä¸€æ®µä»£ç ï¼Œä½¿å¾—å½“è¿ç»­ä¸¤æ¬¡chmodè°ƒç”¨çš„modeå‚æ•°å€¼ä¸º0æ—¶ä¼šäº§ç”Ÿç©ºæŒ‡é’ˆè§£å¼•ç”¨å¼‚å¸¸ï¼š static umode_t old_mode = 0xffff; if (old_mode == 0 &amp;&amp; mode == 0) &#123; path = NULL; &#125; old_mode = mode; â€‹ é‡æ–°ç¼–è¯‘Linuxå†…æ ¸ï¼Œè®¾ç½®Syzkalleré…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š &#123; \"target\": \"linux/amd64\", \"http\": \"127.0.0.1:56741\", \"workdir\": \"/home/wx/SyzKaller/syzkaller/workdir\", \"kernel_obj\": \"/home/wx/SyzKaller/linux/\", \"image\": \"/home/wx/SyzKaller/image/bullseye.img\", \"sshkey\": \"/home/wx/SyzKaller/image/bullseye.id_rsa\", \"syzkaller\": \"/home/wx/SyzKaller/syzkaller\", \"enable_syscalls\": [\"chmod\"], \"procs\": 8, \"type\": \"qemu\", \"vm\": &#123; \"count\": 4, \"kernel\": \"/home/wx/SyzKaller/linux/arch/x86/boot/bzImage\", \"cpu\": 2, \"mem\": 2048 &#125; &#125; enable_syscallsé€‰é¡¹è¡¨æ˜äº†ä»…å¯¹å…¶ä¸­çš„ç³»ç»Ÿè°ƒç”¨åšfuzzingï¼Œå¦‚æœå…¶ä¸­çš„æŸä¸ªç³»ç»Ÿè°ƒç”¨ä¾èµ–å…¶ä»–è°ƒç”¨ï¼Œsyzkallerä¼šæé†’ä½ ã€‚ åŒç†ï¼Œdisable_syscallsé€‰é¡¹è¡¨æ˜äº†ä¸å¯¹å“ªäº›ç³»ç»Ÿè°ƒç”¨fuzzingã€‚ â€‹ æ‰§è¡Œï¼š syz-manager --config config.json â€‹ åœ¨å¯¹åº”çš„web127.0.0.1:56741ä¸Šå°±å¯ä»¥çœ‹åˆ°å½“å‰fuzzingçš„æƒ…å†µï¼š â€‹ å¯ä»¥çœ‹åˆ°å·²ç»æŠ“åˆ°äº†ä¸€ä¸ªå†…æ ¸Crashï¼š â€‹ Using syzkaller, part 2: Detecting programming bugs in the Linux kernel (collabora.com)è¿™ä¸ªBlogè¯¦ç»†è¯´æ˜äº†ç½‘ç«™é‡Œå„ä¸ªæ¨¡å—çš„ä½œç”¨ã€‚ â€‹ æŸ¥çœ‹æŠ¥å‘Šï¼š â€‹ æ‰“å¼€ç›®å½•workdir/carsh/Â·Â·Â·/log0ï¼š Problem Summary é—®é¢˜1ï¼šåœ¨ä½¿ç”¨sshè¿æ¥qemuæ—¶æ— æ³•è¿æ¥ï¼ŒæŠ¥é”™ï¼š â€œssh_exchange_identification: Connection closed by remote hostâ€ â€‹ è§£å†³æ–¹æ³•ï¼š â€‹ æŸ¥çœ‹QEMUè™šæ‹Ÿæœºå†…sshdæœåŠ¡çŠ¶æ€ï¼Œå‘ç°å…¶æœåŠ¡æ²¡æœ‰å¼€å¯ï¼š â€‹ å°è¯•ä½¿ç”¨å‘½ä»¤service sshd startï¼Œæ— æ•ˆã€‚ â€‹ å°è¯•googleï¼Œå‘ç°å¦‚ä¸‹å¸–å­ï¼šssh : Why sshd does not start on qemu booting (google.com) è¿™ä¹Ÿèƒ½é‡åˆ°è‡ªå·±è€å¸ˆhh â€‹ æ•…é‡æ–°æ£€æŸ¥linuxæºç çš„configåå‘ç°ï¼Œç”±äºæ‰‹åŠ¨ä¿®æ”¹åæ²¡æœ‰åˆ é™¤åŸæ¥å¯¹åº”çš„â€œxxx not setâ€æ³¨é‡Šï¼Œå¯¼è‡´å½“æ—¶çš„ä¿®æ”¹åœ¨åç»­make olddefconfigæ—¶åˆè¢«æ”¹å›å»äº†ã€‚ â€‹ é‡æ–°ä¿®æ”¹.configæ–‡ä»¶ï¼Œé‡æ–°ç¼–è¯‘ï¼Œåˆ›å»ºqemuè™šæ‹Ÿæœºï¼Œå†æ¬¡å°è¯•ç™»é™†ï¼š â€‹ è¿™é‡Œçš„é—®é¢˜å…¶å®å°±å‡ºç°åœ¨æ²¡æœ‰å»æ‰æ³¨é‡Šï¼Œåœ¨.configæ–‡ä»¶ä¸­æ³¨é‡Šä¹Ÿä¼šè¢«æ‰«æåˆ†æã€‚ é—®é¢˜äºŒï¼šsshdæœåŠ¡é”™è¯¯å®šä½ è§£å†³æ–¹æ³•ï¼š /usr/bin/sshd -Tå‘½ä»¤å¯ä»¥æ˜¾ç¤ºå‡ºsshdé…ç½®æ–‡ä»¶çš„é”™è¯¯ä¹‹å¤„ï¼› åœ¨sshè¿æ¥æ—¶ä½¿ç”¨å‘½ä»¤-v/-vvå¯ä»¥æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯ é—®é¢˜ä¸‰ï¼šå¼€å¯syzkalleråä¸€ç›´æ²¡æœ‰è™šæ‹Ÿæœºè¿æ¥ è§£å†³æ–¹æ³•ï¼šåœ¨ä½¿ç”¨å‘½ä»¤./bin/syz-manager -config=my.cfgåé¢åŠ ä¸Š-debugï¼ŒæŸ¥çœ‹è°ƒè¯•ä¿¡æ¯åå‘ç°qemuè™šæ‹Ÿæœºæ˜¾ç¤ºâ€Failed to start Raise network interfacesâ€œï¼ŒæŸ¥æ‰¾å®˜æ–¹æ–‡æ¡£åå‘ç°éœ€è¦åœ¨å†…æ ¸configä¸ŠåŠ ä¸Šï¼š CONFIG_CMDLINE_BOOL=y CONFIG_CMDLINE=\"net.ifnames=0\" Reference google/syzkaller: syzkaller is an unsupervised coverage-guided kernel fuzzer (github.com) syzkaller/setup.md at master Â· google/syzkaller (github.com) How to set up syzkaller (googlesource.com) ssh : Why sshd does not start on qemu booting (google.com) Debian-GNU-Linux-Profiles/test.c at master Â· hardenedlinux/Debian-GNU-Linux-Profiles (github.com) Syzkaller Fuzz Android Kernel | BruceFan's Blog (pwn4.fun)","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"}],"author":"Shaw"},{"title":"(æŠ€æœ¯ç§¯ç´¯)Kleeå®‰è£…ä½¿ç”¨","slug":"ã€æŠ€æœ¯ç§¯ç´¯ã€‘Kleeå®‰è£…ä½¿ç”¨","date":"2023-05-30T09:09:53.697Z","updated":"2023-06-05T05:07:29.038Z","comments":true,"path":"2023/05/30/ã€æŠ€æœ¯ç§¯ç´¯ã€‘Kleeå®‰è£…ä½¿ç”¨/","link":"","permalink":"http://example.com/2023/05/30/%E3%80%90%E6%8A%80%E6%9C%AF%E7%A7%AF%E7%B4%AF%E3%80%91Klee%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/","excerpt":"Kleeå®‰è£…ä½¿ç”¨ Linuxç³»ç»Ÿä¸‹è‘—åç¬¦å·æ‰§è¡Œå·¥å…·Kleeçš„å®‰è£…ä½¿ç”¨","text":"Kleeå®‰è£…ä½¿ç”¨ Linuxç³»ç»Ÿä¸‹è‘—åç¬¦å·æ‰§è¡Œå·¥å…·Kleeçš„å®‰è£…ä½¿ç”¨ Prerequisites åˆ é™¤æ—§ç‰ˆæœ¬ï¼ˆéå®˜æ–¹å‘è¡Œç‰ˆçš„Dockerï¼‰ for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done è®¾ç½®GPG keyå’Œä»“åº“ï¼Œç¡®ä¿ä¸‹è½½æº #Update the apt package index and install packages to allow apt to use a repository over HTTPS: sudo apt-get update sudo apt-get install ca-certificates curl gnupg #Add Dockerâ€™s official GPG key: sudo install -m 0755 -d /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg #Set up the repository: echo \\ \"deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\ \"$(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\")\" stable\" | \\ sudo tee /etc/apt/sources.list.d/docker.list > /dev/null å®‰è£…Dockerï¼š #install sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin #test sudo docker run hello-world Install â€‹ è¿™é‡Œä½¿ç”¨ç°æˆçš„Dockerç¯å¢ƒï¼Œç›´æ¥pullå³å¯ï¼š sudo docker pull klee/klee â€‹ è¿è¡Œï¼š docker run --rm -ti --ulimit='stack=-1:-1' klee/klee â€‹ å…¶ä¸­ï¼Œ--rmè¡¨æ˜å®¹å™¨åœæ­¢ï¼Œå³ä½¿ç”¨å‘½ä»¤docker stopåç›´æ¥åˆ é™¤å®¹å™¨ï¼›-tiè¡¨æ˜ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼ˆ-tï¼‰å¹¶ä¸”ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨(-i)ï¼›--ulimitè¡¨æ˜å°†æ ˆè®¾ç½®ä¸ºæ— é™å¤§ã€‚ â€‹ è¿›å…¥å®¹å™¨åæ£€æŸ¥Kleeï¼š Klee 1. Small Function æµ‹è¯•ä¸€ä¸ªç®€å•å‡½æ•°get_sign() â€‹ ä»¥get_signå‡½æ•°ä¸ºä¾‹ï¼š //First KLEE tutorial: testing a small function #include \"klee/klee.h\" int get_sign(int x) &#123; if (x == 0) return 0; if (x &lt; 0) return -1; else return 1; &#125; int main() &#123; int a; klee_make_symbolic(&amp;a, sizeof(a), \"a\"); return get_sign(a); &#125; â€‹ é¦–å…ˆå°†å…¶ç¼–è¯‘ä¸ºbcæ–‡ä»¶ï¼š clang -I ../../include -emit-llvm -c -g -O0 -Xclang -disable-O0-optnone get_sign.c â€‹ å…¶ä¸­ï¼Œ-I+&lt;dir&gt;è¡¨æ˜æ·»åŠ æœç´¢è·¯å¾„ï¼Œç”¨äºå¼•å…¥å¤´æ–‡ä»¶klee/klee.hï¼›-cè¡¨æ˜åªè¿›è¡Œé¢„å¤„ç†ã€ç¼–è¯‘å’Œæ±‡ç¼–ï¼›-Xclang+&lt;arg&gt;ç”¨äºç»™clangç¼–è¯‘å™¨ä¼ é€’å‚æ•°ï¼Œè¿™é‡Œç¦æ­¢äº†ä¼˜åŒ–ã€‚ â€‹ è¿è¡Œkleeï¼š klee get_sign.bc â€‹ ç”±ä¸Šå›¾å¯è§kleeæ¢ç´¢äº†ç¨‹åºä¸­çš„3æ¡è·¯å¾„å¹¶ç”Ÿæˆäº†3ä¸ªæµ‹è¯•æ ·ä¾‹ï¼Œå¹¶ç”Ÿæˆäº†ä¸¤ä¸ªç›®å½•ï¼š â€‹ å…¶ä¸­klee-out-0æ˜¯è¾“å‡ºç»“æœç›®å½•ï¼Œklee-lastæ˜¯å…¶ç¬¦å·é“¾æ¥ï¼Œæ¯æ¬¡éƒ½é“¾æ¥åˆ°æœ€æ–°çš„æµ‹è¯•è¾“å‡ºä¸­ï¼Œå…¶åŒ…å«ï¼š â€‹ kleeç”Ÿæˆçš„æµ‹è¯•æ ·ä¾‹éƒ½ä»¥.ktestç»“å°¾ï¼Œå€ŸåŠ©ktest-toolå·¥å…·æ¥æŸ¥çœ‹ï¼š â€‹ ä½¿ç”¨libkleeRuntestå·¥å…·æ‰‹åŠ¨å¤ç°æµ‹è¯•æ ·ä¾‹ï¼š export LD_LIBRARY_PATH=path-to-klee-build-dir/lib/:$LD_LIBRARY_PATH gcc -I ../../include -L path-to-klee-build-dir/lib/ get_sign.c -lkleeRuntest KTEST_FILE=klee-last/test000001.ktest ./a.out echo $? â€‹ å¦‚å›¾æ‰€ç¤ºï¼Œæœ€åä¸€ä¸ªæµ‹è¯•æ ·ä¾‹è¿”å›255ï¼ˆ-1ï¼‰çš„åŸå› æ˜¯-1è½¬æ¢ä¸º0-255èŒƒå›´å†…çš„æœ‰æ•ˆé€€å‡ºä»£ç å€¼ã€‚ â€‹ å¯è§ï¼Œkleeé€šè¿‡å¯¹Cä»£ç æ’è£…ï¼Œå¹¶æ¥å—bcè¾“å…¥çš„æ–¹å¼è¿›è¡Œç¬¦å·æ‰§è¡Œæµ‹è¯•ã€‚ 2. Test GNU coreutils 2.1 å®‰è£…coreutils &amp; WLLVM â€‹ ä¸‹è½½GNU coreutilsæºç ï¼Œè¿™é‡Œé€‰ç”¨6.11ç‰ˆæœ¬ï¼ˆå¯ä»¥ç”¨å…¶ä»–ç‰ˆæœ¬ï¼‰ï¼š #ä¸‹è½½ wget https://ftp.gnu.org/gnu/coreutils/coreutils-6.11.tar.gz #è§£å‹ tar -zxvf coreutils-6.11.tar.gz â€‹ é…ç½®å¹¶ç¼–è¯‘coreutilsï¼š #å¦‚æœè¯¥ç‰ˆæœ¬çš„coreutilsæœ‰Bug,å°±ä½¿ç”¨å¦‚ä¸‹è¡¥ä¸ wget http://web.cs.ucla.edu/classes/winter16/cs35L/assign/coreutils.diff patch -p0 &lt; coreutils.diff #ç¼–è¯‘ mkdir obj-gcov cd obj-gcov ../configure --disable-nls CFLAGS=\"-g -fprofile-arcs -ftest-coverage\" make â€‹ ç¼–è¯‘å¥½çš„æ–‡ä»¶ä½äºcoreutils/srcç›®å½•ä¸‹ã€‚é€šè¿‡ç¼–è¯‘åŠ ä¸ŠCFLAGS=\"-g -fprofile-arcs -ftest-coverage\"é…ç½®é€‰é¡¹ï¼Œä½¿å…¶æ”¯æŒgcovï¼Œæ¯æ¬¡ä½ è¿è¡Œå®ƒæ—¶å…¶å°±ä¼šç”Ÿæˆä¸€ä¸ª.gcdaæ–‡ä»¶è¡¨æ˜å…¶è¿è¡Œè¦†ç›–ç‡å¦‚ä½•ï¼Œä¾‹å¦‚ï¼š rm -f *.gcda # Get rid of any stale gcov files ./echo** ls -l echo.gcda :' -rw-rw-r-- 1 klee klee 896 Nov 21 22:00 echo.gcda ' gcov echo :' File '../../src/echo.c' Lines executed:24.27% of 103 Creating 'echo.c.gcov' File '../../src/system.h' Lines executed:0.00% of 3 Creating 'system.h.gcov' ' â€‹ å®‰è£…WLLVMï¼š pip3 install --upgrade wllvm export LLVM_COMPILER=clang â€‹ ä½¿ç”¨WLLVMç¼–è¯‘coreutilsï¼š mkdir obj-llvm cd obj-llvm CC=wllvm ../configure --disable-nls CFLAGS=\"-g -O1 -Xclang -disable-llvm-passes -D__NO_STRING_INLINES -D_FORTIFY_SOURCE=0 -U__OPTIMIZE__\" make â€‹ è¿™é‡Œï¼š -fprofile-arcs -ftest-coverageè¡¨æ˜ä½¿ç”¨gcovå¯¹å³å°†ç”¨kleeæµ‹è¯•çš„æ–‡ä»¶æ’æ¡©ï¼Œè¿™é‡Œèˆå¼ƒäº†è¿™ä¸ªflagï¼› -O1 -Xclang -disable-llvm-passesè¡¨æ˜ä¸ä½¿ç”¨ä¼˜åŒ–ï¼Œç”±äºLLVM5.0ä»¥ä¸Šç‰ˆæœ¬çš„O0ä¼˜åŒ–ä¼šå½±å“Kleeæœ¬èº«çš„ä¼˜åŒ–æªæ–½ï¼Œæ•…è¿™é‡Œä½¿ç”¨O1ä¼˜åŒ–å¹¶ç¦æ­¢æ‰€æœ‰LLVM Passè¿è¡Œï¼› D__NO_STRING_INLINESè¡¨æ˜ä¸ä½¿ç”¨å†…è”å­—ç¬¦ä¸²ï¼›-D_FORTIFY_SOURCE=0è¡¨æ˜ä¸ä½¿ç”¨fortifyå®‰å…¨æŠ€æœ¯ï¼Œå› ä¸ºå…¶å¯èƒ½ä¼šæ›¿æ¢ç°æœ‰çš„å‡½æ•°ï¼ˆfprintf -&gt; __fprintf_chkï¼‰å¯¼è‡´Kleeæ— æ³•å¯¹å…¶å»ºæ¨¡è€Œå°†å…¶è§†ä¸ºå¤–éƒ¨å‡½æ•°ï¼›-U__OPTIMIZE__å–æ¶ˆ __OPTIMIZE__ çš„å®å®šä¹‰ï¼Œç¦ç”¨ç¼–è¯‘å™¨æ‰€æœ‰ä¼˜åŒ–ã€‚ â€‹ å¯ä»¥é€šè¿‡extract-bcå‘½ä»¤ä»ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­æå–bitcodeï¼š find . -executable -type f | xargs -I '&#123;&#125;' extract-bc '&#123;&#125;' 2.2 ä½¿ç”¨Kleeæµ‹è¯•æ–‡ä»¶ â€‹ æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨kleeè¿è¡Œbcæ–‡ä»¶ï¼š klee --libc=uclibc --posix-runtime ./cat.bc --version --libc=uclibcæŒ‡å®šäº†Kleeå¤–éƒ¨å‡½æ•°åº“ï¼Œå…¶ä¸­å®šä¹‰äº†ç¨‹åºå¯èƒ½è°ƒç”¨çš„å¤–éƒ¨å‡½æ•°ï¼› --posix-runtimeæŒ‡å®š KLEE ä½¿ç”¨ POSIX æ ‡å‡†åº“ä½œä¸ºç¨‹åºçš„è¿è¡Œæ—¶ç¯å¢ƒï¼› --versionæ˜¯ä¼ é€’ç»™catå‘½ä»¤çš„å‚æ•°ã€‚ â€‹ å½“KleeæŒ‡å®šäº†uclibcå’ŒPOSIXï¼Œå®ƒå°±ä¼šæ›¿æ¢ç¨‹åºçš„main()å‡½æ•°ä¸ºåº“ä¸­çš„klee_init_env()å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç”¨äºæ”¯æŒç¬¦å·å‚æ•°çš„æ„å»ºã€‚ è¿è¡Œç»“æœ â€‹ åˆ†æä»¥ä¸ŠWARNINGï¼š *undefined reference to function: ___ctype_b_loc*è¡¨æ˜__ctype_b_locå‡½æ•°æœªå®šä¹‰ï¼› *executable has module level assembly (ignoring)*è¡¨æ˜ä¸€äº›è¢«ç¼–è¯‘è¿›åº”ç”¨ç¨‹åºçš„æ–‡ä»¶æœ‰å†…åµŒæ±‡ç¼–è¯­å¥ï¼ŒKleeæ— æ³•åˆ†æï¼Œæ•…è·³è¿‡ï¼ˆæ¥è‡ªuClibcï¼Œè¿™é‡Œå®‰å…¨ï¼‰ï¼› *calling external: getpagesize()*è¡¨æ˜è°ƒç”¨çš„å‡½æ•°æœªå®šä¹‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒKleeå°è¯•è°ƒç”¨è¯¥å‡½æ•°çš„æœ¬åœ°ç‰ˆæœ¬ï¼Œå¦‚æœå®ƒå­˜åœ¨çš„è¯ã€‚è¿™æœ‰æ—¶æ˜¯å®‰å…¨çš„ï¼Œåªè¦è¯¥å‡½æ•°ä¸å†™å…¥ä»»ä½•ç¨‹åºå†…å­˜æˆ–è¯•å›¾å¤„ç†ç¬¦å·å€¼ã€‚ä¾‹å¦‚ï¼Œgetpagesize()åªæ˜¯è¿”å›ä¸€ä¸ªå¸¸æ•°ã€‚ â€‹ ä¸‹é¢å°è¯•ç”¨ç¬¦å·åŒ–è¾“å…¥æµ‹è¯•echoï¼š klee --optimize --libc=uclibc --posix-runtime ./echo.bc --sym-arg 3 â€‹ ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ç»Ÿè®¡ç»“æœï¼š klee-stats klee-last ------------------------------------------------------------------------ | Path | Instrs| Time(s)| ICov(%)| BCov(%)| ICount| TSolver(%)| ------------------------------------------------------------------------ |klee-last| 64546| 0.15| 22.07| 14.14| 19943| 62.97| ------------------------------------------------------------------------ â€‹ å…¶ä¸­ï¼š ICovä¸ºLLVMæŒ‡ä»¤è¦†ç›–ç‡ï¼› BCovä¸ºåˆ†æ”¯è¦†ç›–ç‡ï¼› â€‹ å¯ä»¥çœ‹åˆ°è¦†ç›–ç‡å¹¶ä¸é«˜ï¼Œå…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯ç”±äºè¿™äº›æ•°å­—æ˜¯ç”¨æ¯”ç‰¹ç æ–‡ä»¶ä¸­çš„æ‰€æœ‰æŒ‡ä»¤æˆ–åˆ†æ”¯æ¥è®¡ç®—çš„ï¼ŒåŒ…æ‹¬å¾ˆå¤šå¯èƒ½æ˜¯ä¸å¯æ‰§è¡Œçš„åº“ä»£ç ã€‚æ•…å¯¹äºè¿™ç§æƒ…å†µä½¿ç”¨â€“optimizeä¼˜åŒ–å»é™¤æ­»ä»£ç ä¼šæ›´å¥½ï¼š klee --optimize --libc=uclibc --posix-runtime ./echo.bc --sym-arg 3 klee-stats klee-last ------------------------------------------------------------------------ | Path | Instrs| Time(s)| ICov(%)| BCov(%)| ICount| TSolver(%)| ------------------------------------------------------------------------ |klee-last| 33991| 0.13| 30.16| 21.91| 8339| 80.66| ------------------------------------------------------------------------ â€‹ å¯ä»¥çœ‹åˆ°å„é¡¹è¦†ç›–ç‡éƒ½é«˜äº†ä¸€äº›ï¼Œkleeæ‰§è¡Œçš„æ›´å¿«ï¼Œæ‰§è¡Œçš„ä»£ç æŒ‡ä»¤æ›´å°‘ã€‚ 2.3 å¯è§†åŒ–kleeè¿›ç¨‹ â€‹ KCachegrindæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¯è§†åŒ–å·¥å…·ï¼Œå¯ä»¥ç›´æ¥ç”¨aptå®‰è£…ã€‚ â€‹ PS: â€‹ Kcachegrindæ˜¯ä¸€ä¸ªå›¾å½¢åŒ–å·¥å…·ï¼Œå¦‚æœæ˜¯é€šè¿‡windowsä½¿ç”¨sshæœåŠ¡è¿æ¥Linuxç³»ç»Ÿï¼Œåˆ™éœ€è¦åœ¨windowsç«¯å®‰è£…X11æœåŠ¡å¹¶åœ¨Linuxç«¯ä¿®æ”¹sshé…ç½®ä½¿å…¶å¯ä»¥å…è®¸X11æœåŠ¡ã€‚ ç›¸å…³å‚è€ƒï¼šX11 forwardingï¼ŒWindowsä¸Linuxç»“åˆçš„æœ€ä½³å¼€å‘ç¯å¢ƒã€ç¼–ç¨‹ç¯å¢ƒä¼˜åŒ–ç¯‡ã€‘ - çŸ¥ä¹ (zhihu.com) 2.4 ç»“æœåˆ†æ â€‹ å¯ä»¥é€šè¿‡ktest-toolå·¥å…·æŸ¥çœ‹æ¯ä¸ªå•ç‹¬çš„æµ‹è¯•æ ·ä¾‹ï¼š $ ktest-tool klee-last/test000001.ktest ktest file : 'klee-last/test000001.ktest' args : ['./echo.bc', '--sym-arg', '3'] num objects: 2 object 0: name: 'arg0' object 0: size: 4 object 0: data: '\\x00\\x00\\x00\\x00' object 1: name: 'model_version' object 1: size: 4 object 1: data: '\\x01\\x00\\x00\\x00' â€‹ å¯ä»¥ä½¿ç”¨ktest-replyå·¥å…·æ¥å¤ç°ï¼š klee-replay ./echo ../../obj-llvm/src/klee-last/*.ktest 3. Binary â€‹ Reference Install: Prerequisites | Docker Documentation Install Docker Engine on Ubuntu | Docker Documentation Docker Â· KLEE docker run å‚æ•°è¯¦è§£_-CSDNåšå®¢ travitch/whole-program-llvm: A wrapper script to build whole-program LLVM bitcode files (github.com) Tutorial: Files Â· KLEE Tutorials Â· KLEE Testing Coreutils Â· KLEE","categories":[{"name":"Project","slug":"Project","permalink":"http://example.com/categories/Project/"}],"tags":[{"name":"Klee","slug":"Klee","permalink":"http://example.com/tags/Klee/"},{"name":"Symbolic Execution","slug":"Symbolic-Execution","permalink":"http://example.com/tags/Symbolic-Execution/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)Automated WebAssembly Function Purpose Identification With Semantics-Aware Analysis","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Automated-WebAssembly-Function-Purpose-Identification-With-Semantics-Aware-Analysis","date":"2023-05-29T04:03:21.126Z","updated":"2023-05-29T04:02:47.343Z","comments":true,"path":"2023/05/29/ã€è®ºæ–‡é˜…è¯»ã€‘Automated-WebAssembly-Function-Purpose-Identification-With-Semantics-Aware-Analysis/","link":"","permalink":"http://example.com/2023/05/29/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Automated-WebAssembly-Function-Purpose-Identification-With-Semantics-Aware-Analysis/","excerpt":"Automated WebAssembly Function Purpose Identification With Semantics-Aware Analysis ä¼šè®®ï¼šWWW'23ï¼ˆInternational World Wide Web Conferenceï¼ŒCCF-Aï¼‰ ä½œè€…ï¼šAlan Romanoã€Weihang Wangï¼ˆUSCï¼‰ æ—¶é—´ï¼š2023.4 ABSTRACT â€‹ WebAssemblyæ˜¯æœ€è¿‘å»ºç«‹çš„ä¸€ä¸ªç½‘ç»œæ ‡å‡†ï¼Œç”¨äºæé«˜ç½‘ç»œåº”ç”¨çš„æ€§èƒ½ã€‚è¯¥æ ‡å‡†å®šä¹‰äº†ä¸€ç§äºŒè¿›åˆ¶ä»£ç æ ¼å¼ï¼Œä½œä¸ºå„ç§è¯­è¨€çš„ç¼–è¯‘ç›®æ ‡ï¼Œå¦‚Cã€C++å’ŒRustã€‚è¯¥æ ‡å‡†è¿˜å®šä¹‰äº†ä¸€ç§å¯è¯»æ€§çš„æ–‡æœ¬è¡¨ç¤ºæ³•ï¼Œä¸è¿‡ï¼ŒWebAssemblyæ¨¡å—å¾ˆéš¾è¢«äººç±»è¯»è€…è§£é‡Šï¼Œæ— è®ºä»–ä»¬çš„ç»éªŒæ°´å¹³å¦‚ä½•ã€‚è¿™ä½¿å¾—ç†è§£å’Œç»´æŠ¤ä»»ä½•ç°æœ‰çš„WebAssemblyä»£ç å˜å¾—å›°éš¾ã€‚å› æ­¤ï¼Œç¬¬ä¸‰æ–¹WebAssemblyæ¨¡å—éœ€è¦è¢«å¼€å‘è€…éšå«åœ°ä¿¡ä»»ï¼Œå› ä¸ºéªŒè¯åŠŸèƒ½æœ¬èº«å¯èƒ½æ˜¯ä¸å¯è¡Œçš„ã€‚ â€‹ ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ„å»ºäº†WASPurï¼Œä¸€ä¸ªè‡ªåŠ¨è¯†åˆ«WebAssemblyå‡½æ•°åŠŸèƒ½çš„å·¥å…·ã€‚ä¸ºäº†æ„å»ºè¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬é¦–å…ˆæ„å»ºäº†ä¸€ä¸ªå¹¿æ³›çš„WebAssemblyæ ·æœ¬é›†ï¼Œä»£è¡¨äº†WebAssemblyçš„çŠ¶æ€ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬åˆ†ææ•°æ®é›†ï¼Œå¹¶ç¡®å®šæ‰€æ”¶é›†çš„WebAssemblyæ¨¡å—çš„ä¸åŒä½¿ç”¨æƒ…å†µã€‚æˆ‘ä»¬åˆ©ç”¨WebAssemblyæ¨¡å—çš„æ•°æ®é›†æ¥æ„å»ºæ¨¡å—ä¸­åŠŸèƒ½çš„è¯­ä¹‰æ„ŸçŸ¥çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰ã€‚æˆ‘ä»¬å¯¹å‡½æ•°IRè¿›è¡Œç¼–ç ï¼Œç”¨äºæœºå™¨å­¦ä¹ åˆ†ç±»å™¨ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªåˆ†ç±»å™¨å¯ä»¥é¢„æµ‹ä¸€ä¸ªç»™å®šå‡½æ•°ä¸å·²çŸ¥å‘½åå‡½æ•°çš„ç›¸ä¼¼æ€§ï¼Œå…¶å‡†ç¡®ç‡ä¸º88.07%ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å·¥å…·èƒ½å¤Ÿæ£€æŸ¥ä¼˜åŒ–å’Œå‡åŒ–çš„WebAssemblyæ¨¡å—ï¼Œè¿™äº›æ¨¡å—å»é™¤äº†å‡½æ•°åç§°å’Œå¤§å¤šæ•°å…¶ä»–è¯­ä¹‰æ ‡è¯†ç¬¦ã€‚","text":"Automated WebAssembly Function Purpose Identification With Semantics-Aware Analysis ä¼šè®®ï¼šWWW'23ï¼ˆInternational World Wide Web Conferenceï¼ŒCCF-Aï¼‰ ä½œè€…ï¼šAlan Romanoã€Weihang Wangï¼ˆUSCï¼‰ æ—¶é—´ï¼š2023.4 ABSTRACT â€‹ WebAssemblyæ˜¯æœ€è¿‘å»ºç«‹çš„ä¸€ä¸ªç½‘ç»œæ ‡å‡†ï¼Œç”¨äºæé«˜ç½‘ç»œåº”ç”¨çš„æ€§èƒ½ã€‚è¯¥æ ‡å‡†å®šä¹‰äº†ä¸€ç§äºŒè¿›åˆ¶ä»£ç æ ¼å¼ï¼Œä½œä¸ºå„ç§è¯­è¨€çš„ç¼–è¯‘ç›®æ ‡ï¼Œå¦‚Cã€C++å’ŒRustã€‚è¯¥æ ‡å‡†è¿˜å®šä¹‰äº†ä¸€ç§å¯è¯»æ€§çš„æ–‡æœ¬è¡¨ç¤ºæ³•ï¼Œä¸è¿‡ï¼ŒWebAssemblyæ¨¡å—å¾ˆéš¾è¢«äººç±»è¯»è€…è§£é‡Šï¼Œæ— è®ºä»–ä»¬çš„ç»éªŒæ°´å¹³å¦‚ä½•ã€‚è¿™ä½¿å¾—ç†è§£å’Œç»´æŠ¤ä»»ä½•ç°æœ‰çš„WebAssemblyä»£ç å˜å¾—å›°éš¾ã€‚å› æ­¤ï¼Œç¬¬ä¸‰æ–¹WebAssemblyæ¨¡å—éœ€è¦è¢«å¼€å‘è€…éšå«åœ°ä¿¡ä»»ï¼Œå› ä¸ºéªŒè¯åŠŸèƒ½æœ¬èº«å¯èƒ½æ˜¯ä¸å¯è¡Œçš„ã€‚ â€‹ ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ„å»ºäº†WASPurï¼Œä¸€ä¸ªè‡ªåŠ¨è¯†åˆ«WebAssemblyå‡½æ•°åŠŸèƒ½çš„å·¥å…·ã€‚ä¸ºäº†æ„å»ºè¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬é¦–å…ˆæ„å»ºäº†ä¸€ä¸ªå¹¿æ³›çš„WebAssemblyæ ·æœ¬é›†ï¼Œä»£è¡¨äº†WebAssemblyçš„çŠ¶æ€ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬åˆ†ææ•°æ®é›†ï¼Œå¹¶ç¡®å®šæ‰€æ”¶é›†çš„WebAssemblyæ¨¡å—çš„ä¸åŒä½¿ç”¨æƒ…å†µã€‚æˆ‘ä»¬åˆ©ç”¨WebAssemblyæ¨¡å—çš„æ•°æ®é›†æ¥æ„å»ºæ¨¡å—ä¸­åŠŸèƒ½çš„è¯­ä¹‰æ„ŸçŸ¥çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰ã€‚æˆ‘ä»¬å¯¹å‡½æ•°IRè¿›è¡Œç¼–ç ï¼Œç”¨äºæœºå™¨å­¦ä¹ åˆ†ç±»å™¨ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªåˆ†ç±»å™¨å¯ä»¥é¢„æµ‹ä¸€ä¸ªç»™å®šå‡½æ•°ä¸å·²çŸ¥å‘½åå‡½æ•°çš„ç›¸ä¼¼æ€§ï¼Œå…¶å‡†ç¡®ç‡ä¸º88.07%ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å·¥å…·èƒ½å¤Ÿæ£€æŸ¥ä¼˜åŒ–å’Œå‡åŒ–çš„WebAssemblyæ¨¡å—ï¼Œè¿™äº›æ¨¡å—å»é™¤äº†å‡½æ•°åç§°å’Œå¤§å¤šæ•°å…¶ä»–è¯­ä¹‰æ ‡è¯†ç¬¦ã€‚ çŸ¥è¯†èƒŒæ™¯ â€‹ WebAssemblyé˜…è¯»å›°éš¾çš„åŸå› ï¼š WebAssemblyåªæœ‰å››ç§æ•°å­—æ•°æ®ç±»å‹ï¼Œi32ã€i64ã€f32å’Œf64ï¼Œè¿™ä½¿å¾—ä¾‹å¦‚å­—ç¬¦ä¸²æ“ä½œå’ŒåŠ å¯†æ•£åˆ—ç­‰æ“ä½œçš„æŒ‡ä»¤åºåˆ—å˜å¾—ååˆ†ç›¸ä¼¼ï¼Œéš¾ä»¥é˜…è¯»; å…¶æ¬¡ï¼Œå®ƒçš„å †æ ˆæœºè®¾è®¡ä½¿å¾—åœ¨æŸä¸ªä½ç½®æ¨å¯¼å‡ºä¸€ä¸ªå˜é‡çš„å€¼å¾ˆå›°éš¾ã€‚å¿…é¡»ä»ä¸€ä¸ªç»™å®šçš„ä½ç½®è¿½è¸ªå †æ ˆï¼Œä»¥ç¡®å®šç‰¹å®šä»£ç ä½ç½®çš„è®¡ç®—å€¼ã€‚ â€‹ ç”±äºè®¸å¤šç¬¬ä¸‰æ–¹æ¨¡å—äº¤ä»˜æ—¶å¹¶æ²¡æœ‰æºç ï¼Œæ•…ç¡®å®šè¯¥WASMæ¨¡å—çš„åŠŸèƒ½å°±éœ€è¦æ‰‹å·¥éªŒè¯ã€‚æœ‰ä»¥å‰çš„å·¥ä½œç ”ç©¶äº†WASMæ ·æœ¬æœ¬èº«çš„ç›®çš„ï¼Œä½†æ˜¯æ²¡æœ‰å·¥ä½œå¸®åŠ©å¼€å‘è€…ç†è§£WASMæ¨¡å—çš„å‡½æ•°åŠŸèƒ½ã€‚ â€‹ WebAssemblyæ¨¡å—æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç»“æ„å®šä¹‰ã€‚æ¯ä¸ªæ¨¡å—ç”±10ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æè¿°æ¨¡å—çš„ä¸åŒç»„æˆéƒ¨åˆ†ï¼š Name Description Types æ‰€æœ‰å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ç±»å‹ Functions æ‰€æœ‰WASMå‡½æ•°çš„ç±»å‹ã€ä½¿ç”¨çš„å±€éƒ¨å˜é‡å’ŒWASMæŒ‡ä»¤ç»„æˆçš„å‡½æ•°ä½“ Tables é—´æ¥è°ƒç”¨ç›®æ ‡å‡½æ•°è¡¨ Memory æœ¬æ¨¡å—çº¿æ€§å†…å­˜éƒ¨åˆ†å±æ€§ Globals è¯¥æ¨¡å—ä½¿ç”¨çš„å…¨å±€å˜é‡ Elements ç”¨äºåˆå§‹åŒ–æŒ‡å®šå‡½æ•°è¡¨çš„å‡½æ•°ç´¢å¼• Data ç”¨äºåˆå§‹åŒ–æŒ‡å®šçš„çº¿æ€§å†…å­˜éƒ¨åˆ†çš„å­—èŠ‚åºåˆ— Start æ¨¡å—åˆå§‹åŒ–å‡½æ•° Import ä»JSå¯¼å…¥ï¼Œå¹¶åœ¨WASMè°ƒç”¨çš„å‡½æ•° Exports å¯¼å‡ºåˆ°JSä¸­è¢«è°ƒç”¨çš„å‡½æ•° â€‹ æœ¬å·¥ä½œçš„åˆ†ç±»æ–¹æ³•èšç„¦äºFunctionsèŠ‚ã€‚ è´¡çŒ® æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªä¸­é—´è¡¨ç¤ºæ³•ï¼ˆIRï¼‰æ¥æŠ½è±¡WebAssemblyåº”ç”¨ç¨‹åºçš„åº•å±‚è¯­ä¹‰ï¼Œä»¥å®ç°è¯­æ³•å¼¹æ€§åˆ†æï¼› æ„å»ºäº†ä»çœŸå®ç½‘ç«™ã€ç«ç‹æ’ä»¶ã€Chromeæ‹“å±•å’ŒGithubä»“åº“ä¸­çˆ¬å–çš„WASMæ ·æœ¬æ•°æ®é›†ï¼› å¯¹WASMæ ·æœ¬ç»¼åˆåˆ†æï¼Œå°†è¡Œä¸ºç›®çš„åˆ†ä¸º12ç±»ï¼› å¼€å‘è‡ªåŠ¨åˆ†ç±»å·¥å…·WASPurï¼Œä»¥å®ç°WASMå‡½æ•°çš„è‡ªåŠ¨æ‰“æ ‡ç­¾ï¼Œå‡†ç¡®ç‡è¾¾åˆ°88.07%ã€‚ æ¨¡å‹æ–¹æ³• 1. ç”Ÿæˆä¸­é—´è¡¨ç¤ºIR â€‹ å¯¹è™šæ‹Ÿæ ˆæ“ä½œçš„æŠ½è±¡ï¼š 2. æŠ½è±¡å¤„ç† â€‹ é¦–å…ˆæ„å»ºæ¯ä¸ªå‡½æ•°çš„å†…éƒ¨cfgï¼ˆiCFGï¼‰,å†é€šè¿‡callè°ƒç”¨è¿æ¥å„ä¸ªiCFGæ„å»ºç¨‹åºé—´ICFGã€‚ä¸ºæ¯ä¸ªå‡½æ•°å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„ICFGï¼Œæ‰€éœ€çš„å‡½æ•°è¢«ç”¨ä½œå›¾å½¢éå†çš„èµ·å§‹ç‚¹ã€‚callçš„æ·±åº¦è¢«é™åˆ¶ä¸º2ï¼Œå…¶é˜²æ­¢äº†é€’å½’å‡½æ•°æ— é™è°ƒç”¨ã€‚ 3. åˆ†ç±»å™¨ æ¨¡å‹ï¼šå…¨è¿æ¥å±‚ç¥ç»ç½‘ç»œï¼› è¾“å…¥ï¼šæŠ½è±¡åºåˆ—ï¼ˆæ¯ä¸ªå‡½æ•°çš„ï¼‰ï¼› è¾“å‡ºï¼š189ä¸ªunitï¼ˆå¯¹åº”äººå·¥åˆ†æçš„189ä¸ªä¸åŒfunctionç±»ï¼‰ 4. æ•°æ®é›† æ¥æºï¼šAlexaã€Chrome extensionsã€Firefox add-onsã€GitHub repositoriesã€‚ æ„å»ºçš„æ•°æ®é›†ï¼š Dataset for WebAssembly Binaries ä¸Šè¡¨æ˜¾ç¤ºäº†ä»å››ä¸ªsourceçˆ¬å–çš„ï¼šæ ·æœ¬æ€»æ•°ã€ä½¿ç”¨WASMçš„æ ·æœ¬æ•°ã€WASMç¨‹åºæ•°ã€‚æ•…è¿™é‡Œå…±æœ‰6769ä¸ªWASMæ ·æœ¬ï¼Œç”±äºä¸€ä¸ªç¨‹åºå¯èƒ½æœ‰å¤šä¸ªWASMæ¨¡å—ï¼Œè¿™é‡Œå…±æœ‰1829ä¸ªç‹¬ç«‹æ¨¡å—ã€‚ Dataset for WebAssembly GitHub Repositories ä»112Mçš„Githubä»“åº“ä¸­å®šä½äº†435ä¸ªä¸WASMæœ‰å…³çš„ä»“åº“ï¼Œä¸Šè¡¨è¡¨æ˜äº†è¿™äº›ä»“åº“çš„åŠŸèƒ½ç›®çš„ã€‚ Module-level åˆ†ç±»ï¼š é¦–å…ˆå°†æ ·æœ¬åˆ†ä¸º12ç±»ï¼š å¯¹äºæ¯ä¸€ç±»ï¼Œä¸‹è¡¨ç»™å‡ºå…¶ä½ç½®ã€æ–‡ä»¶å¤§å°ä¿¡æ¯ï¼š ä¸‹è¡¨ç»™å‡ºäº†æ¯ä¸ªç±»çš„ç‰¹å¾æ•°å’Œç‰¹å¾ä¾‹å­ï¼š Function-level åˆ†ç±»ï¼š ç”±äºWASMåœ¨ç¼–è¯‘æ—¶ä¼šé‡‡ç”¨æœ€å°åŒ–å‡½æ•°åç§°çš„æœºåˆ¶ï¼Œä¼šæŸå¤±å¾ˆå¤šå‡½æ•°åç§°ä¿¡æ¯ã€‚è¿™é‡Œä»è‡³å°‘ä¸¤ä¸ªç‹¬ç«‹æ¨¡å—ä¸­å‡ºç°çš„å‡½æ•°ä¸­åˆ›å»ºæ ‡ç­¾ï¼Œå°†ç±»ä¼¼malloc, _malloc, å’Œmemory.allocateçš„å‡½æ•°åç§°å‹ç¼©ä¸ºä¸€ä¸ªå•ç‹¬çš„æ ‡ç­¾ç»„mallocã€‚è¿™é‡Œå¾—åˆ°äº†189ä¸ªä¸åŒåŠŸèƒ½çš„å‡½æ•°ç±»åˆ«ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)Binary-level Directed Fuzzing for Use-After-Free Vulnerabilities","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Binary-level Directed Fuzzing for Use-After-Free Vulnerabilities","date":"2023-05-25T07:01:42.340Z","updated":"2023-05-25T07:01:02.170Z","comments":true,"path":"2023/05/25/ã€è®ºæ–‡é˜…è¯»ã€‘Binary-level Directed Fuzzing for Use-After-Free Vulnerabilities/","link":"","permalink":"http://example.com/2023/05/25/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Binary-level%20Directed%20Fuzzing%20for%20Use-After-Free%20Vulnerabilities/","excerpt":"(è®ºæ–‡é˜…è¯»)Binary-level Directed Fuzzing for Use-After-Free Vulnerabilities æ—¶é—´ï¼š2020 ä½œè€…ï¼šManh-Dung Nguyenï¼ˆå·´é»è¨å…‹é›·å¤§å­¦CEAï¼‰ã€SÃ©bastien Bardinã€Richard Bonichon ä¼šè®®ï¼šRAID å¼€æºï¼š[1]https://github.com/strongcourage/uafuzz ;[2]https://github.com/strongcourage/uafbench ABSTRACT â€‹ Directed fuzzingèšç„¦äºé€šè¿‡åˆ©ç”¨é¢å¤–ä¿¡æ¯ï¼ˆbug stack traceã€è¡¥ä¸æˆ–è€…æœ‰é£é™©çš„æ“ä½œï¼‰æ¥æµ‹è¯•ä»£ç çš„ç‰¹å®šéƒ¨åˆ†ï¼Œå…¶é‡è¦çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬æ¼æ´å¤ç°ã€è¡¥ä¸æµ‹è¯•ä»¥åŠå¯¹é™æ€åˆ†ææŠ¥å‘Šçš„éªŒè¯ã€‚å°½ç®¡Directed fuzzingæœ€è¿‘å—åˆ°äº†å¾ˆå¤šå…³æ³¨ï¼Œä½†è¯¸å¦‚UAFç­‰éš¾ä»¥æ£€æµ‹çš„æ¼æ´ä»ç„¶æ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„è§£å†³ï¼Œç‰¹åˆ«æ˜¯åœ¨äºŒè¿›åˆ¶å±‚é¢ã€‚ â€‹ æˆ‘ä»¬æå‡ºäº†UAFUZZï¼Œç¬¬ä¸€ä¸ªé’ˆå¯¹UAFæ¼æ´çš„äºŒè¿›åˆ¶çº§åˆ«directed greybox fuzzerã€‚è¯¥æŠ€æœ¯åŒ…æ‹¬äº†ä¸€ä¸ªé’ˆå¯¹UAFç‰¹æ€§è®¾è®¡çš„Fuzzerï¼Œä¸€ä¸ªè½»é‡çº§çš„ä»£ç æ’è£…ï¼ˆcode instrumentationï¼‰å·¥å…·å’Œä¸€ä¸ªé«˜æ•ˆçš„bugå¤„ç†æ­¥éª¤ã€‚ â€‹ å¯¹çœŸå®æ¡ˆä¾‹ä¸­çš„bugå¤ç°è¿›è¡Œçš„å®éªŒè¯„ä¼°è¡¨æ˜ï¼ŒUAFUZZåœ¨æ•…éšœæ£€æµ‹ç‡ã€æš´éœ²æ—¶é—´å’Œbugå¤„ç†æ–¹é¢æ˜æ˜¾ä¼˜äºæœ€å…ˆè¿›çš„Directed fuzzerã€‚UAFUZZåœ¨è¡¥ä¸æµ‹è¯•ä¸­ä¹Ÿè¢«è¯æ˜æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨Perlã€GPACå’ŒGNU Patchç­‰ç¨‹åºä¸­å‘ç°äº†30ä¸ªæ–°çš„é”™è¯¯ï¼ˆ7ä¸ªCVEsï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬ä¸ºç¤¾åŒºæä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºUAFçš„å¤§å‹æ¨¡ç³Šæµ‹è¯•åŸºå‡†ï¼Œè¯¥åŸºå‡†å»ºç«‹åœ¨çœŸå®ä»£ç å’ŒçœŸå®bugä¹‹ä¸Šã€‚","text":"(è®ºæ–‡é˜…è¯»)Binary-level Directed Fuzzing for Use-After-Free Vulnerabilities æ—¶é—´ï¼š2020 ä½œè€…ï¼šManh-Dung Nguyenï¼ˆå·´é»è¨å…‹é›·å¤§å­¦CEAï¼‰ã€SÃ©bastien Bardinã€Richard Bonichon ä¼šè®®ï¼šRAID å¼€æºï¼š[1]https://github.com/strongcourage/uafuzz ;[2]https://github.com/strongcourage/uafbench ABSTRACT â€‹ Directed fuzzingèšç„¦äºé€šè¿‡åˆ©ç”¨é¢å¤–ä¿¡æ¯ï¼ˆbug stack traceã€è¡¥ä¸æˆ–è€…æœ‰é£é™©çš„æ“ä½œï¼‰æ¥æµ‹è¯•ä»£ç çš„ç‰¹å®šéƒ¨åˆ†ï¼Œå…¶é‡è¦çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬æ¼æ´å¤ç°ã€è¡¥ä¸æµ‹è¯•ä»¥åŠå¯¹é™æ€åˆ†ææŠ¥å‘Šçš„éªŒè¯ã€‚å°½ç®¡Directed fuzzingæœ€è¿‘å—åˆ°äº†å¾ˆå¤šå…³æ³¨ï¼Œä½†è¯¸å¦‚UAFç­‰éš¾ä»¥æ£€æµ‹çš„æ¼æ´ä»ç„¶æ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„è§£å†³ï¼Œç‰¹åˆ«æ˜¯åœ¨äºŒè¿›åˆ¶å±‚é¢ã€‚ â€‹ æˆ‘ä»¬æå‡ºäº†UAFUZZï¼Œç¬¬ä¸€ä¸ªé’ˆå¯¹UAFæ¼æ´çš„äºŒè¿›åˆ¶çº§åˆ«directed greybox fuzzerã€‚è¯¥æŠ€æœ¯åŒ…æ‹¬äº†ä¸€ä¸ªé’ˆå¯¹UAFç‰¹æ€§è®¾è®¡çš„Fuzzerï¼Œä¸€ä¸ªè½»é‡çº§çš„ä»£ç æ’è£…ï¼ˆcode instrumentationï¼‰å·¥å…·å’Œä¸€ä¸ªé«˜æ•ˆçš„bugå¤„ç†æ­¥éª¤ã€‚ â€‹ å¯¹çœŸå®æ¡ˆä¾‹ä¸­çš„bugå¤ç°è¿›è¡Œçš„å®éªŒè¯„ä¼°è¡¨æ˜ï¼ŒUAFUZZåœ¨æ•…éšœæ£€æµ‹ç‡ã€æš´éœ²æ—¶é—´å’Œbugå¤„ç†æ–¹é¢æ˜æ˜¾ä¼˜äºæœ€å…ˆè¿›çš„Directed fuzzerã€‚UAFUZZåœ¨è¡¥ä¸æµ‹è¯•ä¸­ä¹Ÿè¢«è¯æ˜æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨Perlã€GPACå’ŒGNU Patchç­‰ç¨‹åºä¸­å‘ç°äº†30ä¸ªæ–°çš„é”™è¯¯ï¼ˆ7ä¸ªCVEsï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬ä¸ºç¤¾åŒºæä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºUAFçš„å¤§å‹æ¨¡ç³Šæµ‹è¯•åŸºå‡†ï¼Œè¯¥åŸºå‡†å»ºç«‹åœ¨çœŸå®ä»£ç å’ŒçœŸå®bugä¹‹ä¸Šã€‚ é—®é¢˜èƒŒæ™¯ CGFï¼š Coverage-based Greybox Fuzzing DGFï¼š Directed Greybox Fuzzing PUTï¼š program under test Regression Bugï¼š When some bugs are found to be occurring as a result of the bug fix, those are known as regression bugs. Bug stack tracesï¼š sequences of function calls at the time a bug is triggeredï¼ˆKASANã€ASanã€VALGRINDï¼‰ Noninterference Bugï¼š åŸæœ¬åº”è¯¥éš”ç¦»çš„éƒ¨åˆ†å‘ç”Ÿäº†å½±å“ï¼Œä¾‹å¦‚å¤šçº¿ç¨‹çš„é™æ€æ¡ä»¶æ¼æ´ Flaky bugï¼š ä¸å¯é çš„bugï¼Œå…¶ç»“æœéš¾ä»¥å¯é çš„å¤ç°ï¼Œå…¶æ ¹æœ¬åŸå› éš¾ä»¥åˆ†æ â€‹ Directed fuzzingçš„åº”ç”¨åœºæ™¯ï¼š bug reproductionï¼Œæ¼æ´å¤ç°[25, 28, 42, 61] patch testingï¼Œè¡¥ä¸æµ‹è¯•[25, 51, 59] static analysis report verificationï¼Œé™æ€åˆ†ææŠ¥å‘ŠéªŒè¯[31, 49] 1. è§¦å‘ç‰¹å®šæ¼æ´çš„å¿…è¦æ€§ â€‹ åŸºäºåº”ç”¨åœºæ™¯çš„ä¸åŒï¼Œåœ¨Directed fuzzingä¸­ç›®æ ‡ä½ç½®ä¼šè¢«bug stack tracesã€è¡¥ä¸æ–‡ä»¶æˆ–è€…é™æ€åˆ†ææŠ¥å‘Šæ‰€å¼•å¯¼ã€‚æœ¬æ–‡èšç„¦äºæ¼æ´å¤ç°ï¼Œç”±äºä¿¡æ¯ç¼ºå¤±å’Œç”¨æˆ·éšç§é—®é¢˜ï¼Œé€šå¸¸åªæœ‰54.9%çš„é”™è¯¯æŠ¥å‘Šå¯ä»¥è¢«é‡ç°ï¼Œæ‰€ä»¥ç‰¹åˆ«éœ€è¦è¿™ç§æ–¹æ³•ã€‚å³ä½¿é”™è¯¯æŠ¥å‘Šä¸­æä¾›äº†PoCï¼Œå¼€å‘äººå‘˜åœ¨ä¿®å¤çš„è¿‡ç¨‹ä¸­å¯èƒ½ä»ç„¶éœ€è¦è€ƒè™‘é”™è¯¯çš„æ‰€æœ‰æƒ…å†µï¼Œä»¥é¿å…regression bugæˆ–ä¸å®Œæ•´çš„ä¿®å¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæä¾›æ›´å¤šçš„è§¦å‘é”™è¯¯çš„è¾“å…¥ï¼Œå¯¹ä¿ƒè¿›å’ŒåŠ å¿«bugçš„ä¿®å¤è¿‡ç¨‹éå¸¸é‡è¦ã€‚ 2. ç›®å‰fuzzerçš„å±€é™ â€‹ ç›®å‰çš„grey box fuzzerï¼ˆæ— è®ºæ˜¯å¦directedï¼‰ä»ç„¶å¾ˆéš¾æ‰¾åˆ°å¤æ‚çš„æ¼æ´ï¼Œä¾‹å¦‚UAFã€Noninterferenceæˆ–flakyæ¼æ´ï¼Œè¿™äº›æ¼æ´éœ€è¦æ»¡è¶³éå¸¸å…·ä½“çš„å±æ€§çš„æ¼æ´è§¦å‘è·¯å¾„ã€‚ä¾‹å¦‚ï¼ŒOSSFUZZ æˆ–æœ€è¿‘çš„grey box fuzzer åªå‘ç°äº†å°‘é‡çš„UAFã€‚ 3. UAF â€‹ UAFæ¼æ´ç›¸æ¯”å…¶ä»–ç±»å‹çš„æ¼æ´ç¼ºä¹è§£å†³çš„æŠ€æœ¯ï¼Œå¹¶ä¸”å±å®³ååˆ†ä¸¥é‡ï¼Œå¦‚æ•°æ®æŸåã€ä¿¡æ¯æ³„éœ²å’ŒDosæ”»å‡»ã€‚å¹¶ä¸”è¦æ£€æµ‹UAFè¿˜éœ€è¦é¢å¯¹ä¸¤ä¸ªé—®é¢˜ï¼š çŠ¶æ€ç©ºé—´çš„å¤æ‚æ€§ï¼šä¸€ä¸ªUAFçš„äº§ç”Ÿéœ€è¦ç»è¿‡åˆ†é…(alloc)-é‡Šæ”¾(free)ç„¶ååˆ©ç”¨(use)ä¸‰ä¸ªé¡ºåºè¿‡ç¨‹ï¼Œåœ¨æ—¶é—´å’Œç©ºé—´ä¸Šéƒ½æœ‰é™åˆ¶ï¼› éšæ€§æ€§çŠ¶ï¼šUAFæ¼æ´ç»å¸¸æ²¡æœ‰ä¾‹å¦‚segmentation faultçš„æ˜¾æ€§è¡¨ç°ï¼Œå•çº¯è§‚å¯Ÿå´©æºƒè¡Œä¸ºçš„fuzzerå°±æ— æ³•å‘ç°è¿™ç§é”™è¯¯ã€‚å¦‚ä»Šæµè¡Œçš„å†…å­˜æ£€æµ‹å·¥å…·ï¼šASanã€VALGRINDç”±äºå…¶å¼€é”€è¿‡å¤§ä¸èƒ½åœ¨fuzzingä¸­ä½¿ç”¨ã€‚ ï¼ˆpsï¼šå¦‚æœæ˜¯ä»…ä»…æ¼æ´å¤ç°ï¼Œå¯ä»¥åˆ©ç”¨å…¶äº§ç”Ÿçš„æŠ¥å‘Šä¿¡æ¯ï¼Œå‚è€ƒ[GREBE| shawdox.github.io]ï¼‰ â€‹ ç›®å‰çš„state-of-the-artï¼šAFLGOå’ŒHAWKEYEæ²¡æ³•å¤„ç†UAFå¹¶ä¸”æˆæœ¬è¿‡é«˜ã€‚ åˆ›æ–°ç‚¹&amp;è´¡çŒ® â€‹ ä¸‹è¡¨æ˜¯UAFUZZä¸state-of-the-artçš„æ¯”è¾ƒï¼š â€‹ åˆ›æ–°ç‚¹ä¸è´¡çŒ®ï¼šé’ˆå¯¹UAFçš„Directed Fuzzingï¼Œæ¯”state-of-the-artçš„æ–¹æ³•å‡†ç¡®ç‡æ›´é«˜ï¼Œé€Ÿåº¦æ›´å¿«ï¼›å¼€æºå‘å¸ƒäº†é’ˆå¯¹UAFæ¼æ´çš„æµ‹è¯•benchmarkï¼ŒåŒ…æ‹¬äº†ä»å…¬å¼€è½¯ä»¶ä¸­æå–çš„30ä¸ªçœŸå®çš„Bugã€‚ æ–¹æ³• Overview of UAFUZZ 1. Bug Trace Flattening â€‹ Bug Trace FlatteningæŒ‡é‡æ„ä»reportä¸­æå–çš„bug traceï¼Œä»¥ä¸‹å›¾çš„reportä¸ºä¾‹: â€‹ å°†ä¸Šè¿°reportç”Ÿæˆçš„3ä¸ªcall traceåˆå¹¶ä¸ºä¸€ä¸ªcall treeï¼Œå¹¶å°†å…¶æŒ‰ç…§UAFæ¼æ´çš„æ‰§è¡Œé¡ºåºï¼ˆi.e alloc-&gt;free-&gt;useï¼‰çš„é¡ºåºç”Ÿæˆåˆ†æ”¯ï¼š â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¯¥æ ‘çŠ¶å›¾å…±æœ‰ä¸‰ä¸ªåˆ†æ”¯ï¼Œåˆ†åˆ«å¯¹åº”äº†stack trace for the Allocã€stack trace for the freeå’Œstack trace for the bad USEçš„è°ƒç”¨è·¯å¾„ã€‚æŒ‰ç…§0åˆ°6çš„é¡ºåºéå†è¯¥æ ‘ï¼Œå°±æ˜¯UAFæ¼æ´çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ¼æ´åœ¨6å¤„è§¦å‘ã€‚ â€‹ 0 â†’ 1 â†’ 2 â†’ 3(nalloc) â†’ 4(nfree) â†’ 5 â†’ 6(nuse) 2. Seed Selection 2.1 Similarity Metrics â€‹ sä»£è¡¨æŸä¸ªinputï¼ŒTä»£è¡¨reportä¸­çš„ç›®æ ‡UAF bug traceï¼Œt(s, T )ä»£è¡¨sä¸Tçš„ç›¸ä¼¼åº¦ã€‚è¿™é‡Œå®šä¹‰äº†4ä¸ªæµ‹è¯•æ ‡å‡†ï¼š Target prefix tP(s, T )ï¼šsä¸Tçš„è½¨è¿¹è¦†ç›–å‰ç¼€ï¼ˆé‡åˆ°ç¬¬ä¸€ä¸ªä¸åŒå°±åœæ­¢ï¼‰ï¼› UAF prefix t3TP(s, T )ï¼šsä¸Tçš„UAFè½¨è¿¹è¦†ç›–å‰ç¼€ï¼ˆåªå…³æ³¨traceä¸­çš„UAFäº‹ä»¶ï¼‰ï¼› Target bag tB(s, T )ï¼šsä¸Tçš„è½¨è¿¹è¦†ç›–æ•°ï¼› UAF bag t3TB(s, T )ï¼šsä¸Tçš„UAFè½¨è¿¹è¦†ç›–æ•°ã€‚ â€‹ ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå…¶éœ€è¦åœ¨bufæ•°ç»„çš„å‰ä¸‰ä¸ªå­—èŠ‚å¡«å……â€œAFUâ€æ¥è§¦å‘UAFæ¼æ´ï¼Œå½“s='ABUA'æ—¶ï¼Œä¸Šè¿°çš„å››ä¸ªæ ‡å‡†å€¼åˆ†åˆ«ä¸ºï¼štP(s, T ) = 2ï¼Œt3TP(s, T ) = 1ï¼ŒtB(s, T ) = 3ï¼Œt3TB(s, T ) = 2ã€‚ â€‹ å°†å››ä¸ªmetricsç»“åˆï¼Œå¾—åˆ°P-3TP-Bï¼š \\[ t_{P-3TP-B} = &lt;t_{P}(s,T),t_{3TP}(s,T),t_{B}(s,T)&gt; \\] â€‹ ä¸Šè¿°å¼å­ä»£è¡¨ï¼Œè¡¡é‡Similarityçš„æ ‡å‡†é¦–å…ˆæ˜¯è½¨è¿¹å‰ç¼€è¦†ç›–ï¼Œè‹¥å…¶ç›¸åŒåˆ™æ¬¡è¦è€ƒè™‘UAFè½¨è¿¹çš„å‰ç¼€ï¼Œæœ€åè€ƒè™‘è½¨è¿¹çš„æ•´ä½“è¦†ç›–ç‡ã€‚è¿™æ ·åšå…¼é¡¾äº†ç²¾åº¦ä¸å¹¿åº¦ï¼ŒUAFUZZçš„é»˜è®¤ç§å­è¡¡é‡ç®—æ³•ä½¿ç”¨P-3TP-Bã€‚ 2.2 Seed Selection Algorithm â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç§å­çš„é€‰æ‹©ç­–ç•¥æ˜¯ï¼šè¦ä¹ˆå…¶ä¸reportä¸­çš„ç›®æ ‡bug trace Tæœ‰ç€æ›´é«˜çš„é‡åˆåº¦ï¼Œè¦ä¹ˆå…¶å¯ä»¥æå‡ä»£ç è¦†ç›–ç‡ã€‚ 2.3 UAF-based Seed Distance â€‹ AFLä½¿ç”¨åŸå§‹CFGå›¾ï¼Œå›¾ä¸­è¾¹çš„æƒé‡éƒ½æ˜¯1ï¼›HAWKEYEé€šè¿‡ä¿®æ”¹è¾¹çš„æƒé‡æ¥å¼•å¯¼fuzzerã€‚ â€‹ å¦‚ä½•å¼•å¯¼FuzzeræŒ‰æŸç§é¡ºåºä¾æ¬¡è¿è¡Œï¼Ÿè¿™é‡Œå®šä¹‰äº†ä¸‰ä¸ªé›†åˆï¼šRalloc, Rfree, å’ŒRuseï¼Œåˆ†åˆ«è¡¨ç¤ºå¯ä»¥æ‰§è¡Œallocã€freeã€useæ“ä½œçš„å‡½æ•°é›†åˆã€‚æ ¹æ®å‡½æ•°è°ƒç”¨å…³ç³»å›¾æ¥åˆ¤æ–­ï¼Œä¾‹å¦‚ï¼Œå¦‚æœfa âˆˆ Rallocå¹¶ä¸”fb âˆˆ R free âˆ© Ruseï¼Œåˆ™ä»aåˆ°bçš„è°ƒç”¨åˆ™å¯èƒ½è§¦å‘UAFæ¼æ´ã€‚å¦‚ä¸‹å›¾çº¢è‰²çš„è¾¹ã€‚ â€‹ ç¡®å®šäº†fa-&gt;fbçš„è°ƒç”¨è¾¹ï¼Œé€šè¿‡å‡å°‘å…¶è¾¹çš„æƒé‡æ¥è®©fuzzeræ›´å®¹æ˜“æ‰§è¡Œå®ƒï¼Œåœ¨æœ¬å·¥ä½œçš„å®éªŒä¸­ï¼Œä½¿ç”¨å¦‚ä¸‹æƒé‡ï¼ˆÎ²=0.25ï¼‰ï¼š 2.4 Cut-edge Coverage Metric â€‹ ç”±äºå¯¹åŸºæœ¬å—æ’è£…çš„æˆæœ¬è¿‡é«˜ï¼ŒHAWKEYEä½¿ç”¨å¯¹å‡½æ•°æ’è£…çš„æ–¹å¼æ¥è·Ÿè¸ªæŸä¸ªç§å­çš„è¿è¡Œè½¨è¿¹ï¼ˆfunction levelï¼‰ã€‚ â€‹ æœ¬å·¥ä½œæå‡ºcut-edge coverage metricï¼Œåœ¨edge levelä¸Šè¡¡é‡å…³é”®èŠ‚ç‚¹çš„ç¨‹åºè¿è¡Œè½¨è¿¹ï¼Œè¯¥æ–¹æ³•æ˜¯basic block levelå’Œfunction levelçš„å¹³è¡¡ã€‚ psï¼š cut-edgeï¼šä¸¤ä¸ªbasic blockï¼ˆsourceå’Œsinkï¼‰ä¹‹é—´çš„cut edgeå°±æ˜¯å­˜åœ¨ä¸€æ¡é€šè¿‡è¿™æ¡edgeçš„è·¯å¾„ï¼Œå¯ä»¥ä»sourceåˆ°è¾¾sinkï¼› algorithmï¼šç®—æ³•3ã€4è¯´æ˜äº†å¦‚ä½•åœ¨å‡½æ•°é—´/å‡½æ•°å†…éƒ¨è®¡ç®—è¯†åˆ«cut edgeï¼› æƒ³æ³•ï¼šéå†æ›´å¤šcut-edgeï¼Œæ›´å°‘non-cut edgeæ›´å®¹æ˜“è¾¾åˆ°ç›®æ ‡è½¨è¿¹ã€‚ 2.5 Power Schedule â€‹ Power Scheduleç»“åˆäº†ä¸Šè¿°ä¸‰ç§æ–¹æ³•ï¼ˆtarget similarity metric tP(s, T )ã€UAF-based seed distance d(s, T )å’Œcut-edge coverage metric es(s, T )ï¼‰ã€‚ â€‹ 2.6 Postprocess and Bug Triage â€‹ UAFæ¼æ´å‘ç”Ÿæ—¶ä¸€èˆ¬å¹¶ä¸ä¼šä¼´éšæ˜¾å¼çš„å´©æºƒï¼Œæ•…è¦æ£€æµ‹æŸä¸ªç§å­æ˜¯å¦è§¦å‘äº†UAFï¼Œéœ€è¦å°†å…¶é€å…¥bug triagerä¸­ï¼ˆä¾‹å¦‚VALGRINDï¼‰æ£€æµ‹ã€‚å› æ­¤ï¼Œå½“fuzzerç”Ÿæˆäº†å¤§é‡çš„ç§å­æ—¶ï¼Œè¿™ä¹ˆåšæˆæœ¬å¾ˆé«˜ã€‚ â€‹ ä½†ç”±äºæœ¬å·¥ä½œçš„target similarity metricå¯ä»¥æ£€æµ‹ç§å­çš„æŒ‡ä»¤è·¯å¾„æ˜¯å¦åŒ…å«äº†ä¸‰ä¸ªUAFå…³é”®äº‹ä»¶ï¼Œæ•…bug triageråªéœ€è¦æ£€æµ‹åŒ…å«è¿™äº›äº‹ä»¶çš„ç§å­å³å¯ã€‚ â€‹ ä»£ç å®ç°åŸºäºAFLå’ŒQEMUã€‚ æµ‹è¯•ç»“æœ baselineï¼šAFL-QEMU compareï¼šAFLGOã€HAWKEYE benchmarkï¼šè‡ªè¡Œæ„å»º REFERENCE","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"},{"name":"UAF","slug":"UAF","permalink":"http://example.com/tags/UAF/"}],"author":"Shaw"},{"title":"(ä»£ç åˆ†æ)GREBE-Analyzeræ±¡ç‚¹åˆ†æä»£ç è§£æ","slug":"ã€ä»£ç åˆ†æã€‘GREBE-Analyzeræ±¡ç‚¹åˆ†æä»£ç è§£æ","date":"2023-05-09T07:06:56.538Z","updated":"2023-05-14T14:07:05.083Z","comments":true,"path":"2023/05/09/ã€ä»£ç åˆ†æã€‘GREBE-Analyzeræ±¡ç‚¹åˆ†æä»£ç è§£æ/","link":"","permalink":"http://example.com/2023/05/09/%E3%80%90%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E3%80%91GREBE-Analyzer%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/","excerpt":"(ä»£ç åˆ†æ)GREBE-Analyzeræ±¡ç‚¹åˆ†æä»£ç è§£æ Codeï¼šMarkakd/GREBE (github.com) Targetï¼šGREBE/analyzer","text":"(ä»£ç åˆ†æ)GREBE-Analyzeræ±¡ç‚¹åˆ†æä»£ç è§£æ Codeï¼šMarkakd/GREBE (github.com) Targetï¼šGREBE/analyzer ## ä¸€ã€get_cg.py &amp; run_analyze.py äºŒã€analyzer/src/lib å‰ç½®çŸ¥è¯†ï¼š GREBE LLVM IR LLVM Pass(legacy manager &amp; new manager) C++é¢å‘å¯¹è±¡ taint analysis 2.1 ä»£ç æ¥æº â€‹ analyzerçš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºæ±¡ç‚¹åˆ†æï¼Œå…¶åŸºäºçš„ä»£ç æ˜¯ucrå‰¯æ•™æˆChengyu Song åŸºäºkintï¼ˆ2013å¹´çš„åˆ†æå·¥å…·ï¼‰çš„å·¥ä½œã€ŠEnforcing-Kernel-Security-Invariants-with-Data-Flow-Integrityã€‹ï¼Œå…¶åœ¨kintçš„åŸºç¡€ä¸Šå®ç°äº†è‡ªå·±çš„call graphå’Œtaint analysisã€‚è¿‡å»å‡ å¹´æœ‰å¤šç¯‡å®‰å…¨Aç±»ä¼šè®®éƒ½ä½¿ç”¨äº†è¿™ä»½åˆ†æä»£ç ã€‚ â€‹ é’ˆå¯¹æœ€æ–°çš„LLVM(14)ç‰ˆæœ¬ï¼Œç›®å‰ä¹Ÿæœ‰å¼€æºçš„kintï¼šganler/mini-kint: Enhanced implementation of Kint in LLVM-14, in C++17. (github.com) 2.2 æ€»ä½“ç»“æ„ â€‹ analyzerçš„æºç åˆ†ä¸ºå‡ ä¸ªæ¨¡å—ï¼šKAMainã€Annotationã€CallGraphã€CrashAnalyzerã€PointerAnalysisã€‚KAMain.ccæ˜¯ç¨‹åºçš„ä¸»æ¨¡å—ï¼Œå…¶å¼•ç”¨æ¨¡å—ï¼š â€‹ analyzeråœ¨GlobalCtxæ¨¡å—ä¸­å®šä¹‰äº†è‡ªå·±çš„Passçˆ¶ç±»IterativeModulePassï¼š class IterativeModulePass &#123; protected: GlobalContext *Ctx; const char *ID; public: &#x2F;&#x2F;æ„é€ è€…å‡½æ•° IterativeModulePass(GlobalContext *Ctx_, const char *ID_) : Ctx(Ctx_), ID(ID_) &#123; &#125; &#x2F;&#x2F; run on each module before iterative pass virtual bool doInitialization(llvm::Module *M) &#123; return true; &#125; &#x2F;&#x2F; run on each module after iterative pass virtual bool doFinalization(llvm::Module *M) &#123; return true; &#125; &#x2F;&#x2F; iterative pass virtual bool doModulePass(llvm::Module *M) &#123; return false; &#125; virtual void run(ModuleList &amp;modules); &#125;; â€‹ å¯ä»¥çœ‹åˆ°IterativeModulePasså®ç°äº†å››ä¸ªè™šå‡½æ•°doInitializationã€doFinalizationã€doModulePasså’Œrunåˆ†åˆ«ç”¨äºPassçš„è¿è¡Œå‰åå¤„ç†ä»¥åŠåœ¨å¤šä¸ªmodulesä¸Šè¿è¡ŒPassã€‚ä»è™šå‡½æ•°çš„å®šä¹‰å°±å¯ä»¥çœ‹å‡ºè¯¥é¡¹ç›®ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆçš„Pass Managerã€‚ â€‹ é¡¹ç›®ä¸­å®ç°äº†å››ä¸ªå­ç±»ï¼Œå…¶ç»§æ‰¿å…³ç³»å¦‚å›¾æ‰€ç¤ºï¼š 2.3 KAMain.cc 2.3.1 IterativeModulePass::run â€‹ IterativeModulePass::runçš„å®Œæ•´å®ç°åœ¨KAMain.ccä¸­ï¼Œrunå‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªmoduleåˆ—è¡¨(ModuleList &amp;modules)ï¼Œå…¶æ•°æ®ç»“æ„æ˜¯ï¼š typedef std::vector&lt; std::pair&lt;llvm::Module*, llvm::StringRef&gt; &gt; ModuleList; â€‹ llvm:StringRefç±»å‹è¡¨ç¤ºä¸€ä¸ªå›ºå®šä¸å˜çš„å­—ç¬¦ä¸²çš„å¼•ç”¨ï¼ˆåŒ…æ‹¬ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆå’Œé•¿åº¦ï¼‰ï¼Œå®ƒæ”¯æŒå¯ç”¨åœ¨std::stringç±»ä¸Šçš„å„ç§é€šç”¨å­—ç¬¦ä¸²æ“ä½œã€‚ â€‹ â‘ åœ¨runå‡½æ•°ä¸­ï¼Œé¦–å…ˆå¯¹ä¼ å…¥çš„moduleåˆ—è¡¨è¿›è¡Œéå†ï¼Œå¹¶ä¾æ¬¡è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼š &#x2F;&#x2F;KAMain.cc bool again &#x3D; true; while (again) &#123; again &#x3D; false; &#x2F;&#x2F;éå†æ‰€æœ‰modulesåˆå§‹åŒ–ï¼Œè¿™é‡Œæ²¡æœ‰åšä»»ä½•æ“ä½œ for (i &#x3D; modules.begin(), e &#x3D; modules.end(); i !&#x3D; e; ++i) &#123; KA_LOGS(3, &quot;[&quot; &lt;&lt; i-&gt;second &lt;&lt; &quot;]&quot;); &#x2F;&#x2F; doInitializationåªè¿”å›falseï¼Œå¾ªç¯ç»“æŸåagainä¸º0 again |&#x3D; doInitialization(i-&gt;first); &#125; &#125; â€‹ è¿™é‡Œçš„doInitializationå’Œåç»­çš„doModulePasså‡½æ•°éƒ½æ˜¯å„ä¸ªå­ç±»ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œå…¶åœ¨çˆ¶ç±»çš„å‡½æ•°å®šä¹‰ä¸­å‡ºç°æ˜¯C++å¤šæ€çš„ä½“ç°ï¼ŒdoInitializationå‡½æ•°å¹¶ä¸é€šè¿‡IterativeModulePassç±»è¿è¡Œï¼Œè€Œæ˜¯é€šè¿‡å…¶å¯¹åº”å­ç±»ChildName::doInitializationæ¥è¿è¡Œå­ç±»ç‰¹å®šçš„å¯¹åº”å‡½æ•°ã€‚ç”±äºæ‰€æœ‰å­ç±»ä¸­çš„doInitializationéƒ½åªè¿”å›falseï¼Œæ•…è¿™æ®µåˆå§‹åŒ–æ“ä½œå®é™…ä»€ä¹ˆä¹Ÿæ²¡åšã€‚ â€‹ â‘¡æ¥ç€ï¼Œå¯¹moduleåˆ—è¡¨ä¸­çš„æ¯ä¸ªmoduleä¾æ¬¡è°ƒç”¨doModulePasså‡½æ•°ï¼Œå…¶è°ƒç”¨å„ä¸ªå­ç±»ä¸­å®ç°çš„Passæ“ä½œï¼Œå¹¶å¯¹ç»“æœè¿›è¡Œç»Ÿè®¡ã€‚ &#x2F;&#x2F;KAMain.cc unsigned iter &#x3D; 0, changed &#x3D; 1; while (changed) &#123; ++iter; changed &#x3D; 0; for (i &#x3D; modules.begin(), e &#x3D; modules.end(); i !&#x3D; e; ++i) &#123; KA_LOGS(3, &quot;[&quot; &lt;&lt; ID &lt;&lt; &quot; &#x2F; &quot; &lt;&lt; iter &lt;&lt; &quot;] &quot;); &#x2F;&#x2F; FIXME: Seems the module name is incorrect, and perhaps it&#39;s a bug. KA_LOGS(3, &quot;[&quot; &lt;&lt; i-&gt;second &lt;&lt; &quot;]&quot;); &#x2F;&#x2F;è¿è¡ŒPass bool ret &#x3D; doModulePass(i-&gt;first); if (ret) &#123; ++changed; KA_LOGS(3, &quot;\\t [CHANGED]&quot;); &#125; else &#123; KA_LOGS(3, &quot; &quot;); &#125; &#125; KA_LOGS(3, &quot;[&quot; &lt;&lt; ID &lt;&lt; &quot;] Updated in &quot; &lt;&lt; changed &lt;&lt; &quot; modules.&quot;); &#125; â€‹ ç”±äºæ‰€æœ‰å­ç±»çš„doModulePasså‡½æ•°è¿”å›å€¼éƒ½æ˜¯falseï¼Œæ•…è¿™é‡Œçš„changeåº”è¯¥ä¸ä¼šè¢«è§¦å‘ã€‚ â€‹ â‘¢æœ€åï¼Œä¸doInitializationç›¸ä¼¼ï¼Œè°ƒç”¨doFinalizationå‡½æ•°å¯¹modulesåšåå¤„ç†ï¼Œè¿™é‡Œå®é™…ä¸Šé™¤äº†CallGraphPassç±»å¯¹moduleæ›´æ–°äº†ç›¸å…³callerå’Œcalleeæ˜ å°„ï¼Œå…¶å®ƒç±»çš„doFinalizationä»€ä¹ˆéƒ½æ²¡åšã€‚æ‰€æœ‰å­ç±»çš„doFinalizationéƒ½è¿”å›äº†falseï¼Œæ•…è¿™é‡Œä¹Ÿåªéå†äº†ä¸€è½®ã€‚ &#x2F;&#x2F;KAMain.cc again &#x3D; true; while (again) &#123; again &#x3D; false; for (i &#x3D; modules.begin(), e &#x3D; modules.end(); i !&#x3D; e; ++i) &#123; again |&#x3D; doFinalization(i-&gt;first); &#125; &#125; â€‹ ç»¼ä¸Šï¼Œå­ç±»çš„runå‡½æ•°çš„ä½œç”¨å°±æ˜¯æ¥å—ä¸€ä¸ªmoduleåˆ—è¡¨ï¼Œå¯¹å…¶ä¸­çš„æ¯ä¸ªmoduleè¿è¡Œå…¶å¯¹åº”çš„Passã€‚ 2.3.2 doBasicInitialization â€‹ KAMain.ccä¸­å®ç°äº†ä¸€ä¸ªç‹¬ç«‹å‡½æ•°doBasicInitializationï¼š &#x2F;&#x2F;KAMain.cc void doBasicInitialization(Module *M) &#123; &#x2F;&#x2F; collect global object definitions &#x2F;&#x2F;llvm::GlobalVariable for (GlobalVariable &amp;G : M-&gt;globals()) &#123; &#x2F;&#x2F; bool llvm::GlobalValue::hasExternalLinkage() æŸ¥æ‰¾å…¨å±€å˜é‡æ˜¯å¦å¤–éƒ¨å¯è§ if (G.hasExternalLinkage()) GlobalCtx.Gobjs[G.getName().str()] &#x3D; &amp;G; &#125; &#x2F;&#x2F; collect global function definitions for (Function &amp;F : *M) &#123; if (F.hasExternalLinkage() &amp;&amp; !F.empty()) &#123; &#x2F;&#x2F; external linkage always ends up with the function name StringRef FNameRef &#x3D; F.getName(); std::string FName &#x3D; &quot;&quot;; if (FNameRef.startswith(&quot;__sys_&quot;)) FName &#x3D; &quot;sys_&quot; + FNameRef.str().substr(6); else FName &#x3D; FNameRef.str(); GlobalCtx.Funcs[FName] &#x3D; &amp;F; &#125; &#125; return; &#125; â€‹ å…¶åŠŸèƒ½åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œå°†è¾“å…¥çš„moduleä¸­çš„å…¨å±€å¯¹è±¡å­˜å‚¨åˆ°GlobalCtx.Gobjsä¸­ï¼Œå°†è¾“å…¥modulesä¸­çš„å…¨å±€å‡½æ•°å­˜å‚¨åˆ°GlobalCtx.Funcsä¸­ã€‚ 2.3.3 main() â€‹ mainå‡½æ•°çš„å·¥ä½œæµç¨‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š 2.3.3.1 å‡†å¤‡å·¥ä½œï¼š åˆ†é…å †æ ˆèµ„æºï¼š &#x2F;&#x2F;KAMain.cc -&gt; main() #ifdef SET_STACK_SIZE &#x2F;&#x2F;struct rlimit&#123; &#x2F;&#x2F; rlim_t rlim_cur; &#x2F;&#x2F;è½¯é™åˆ¶ &#x2F;&#x2F; rlim_t rlim_max; &#x2F;&#x2F;åº”é™åˆ¶ &#x2F;&#x2F;&#125; struct rlimit rl; &#x2F;&#x2F;getrlimitå‡½æ•°è·å–RLIMIT_STACKçš„å½“å‰èµ„æºé™åˆ¶ &#x2F;&#x2F;RLIMIT_STACKè¡¨ç¤ºæœ€å¤§çš„è¿›ç¨‹å †æ ˆï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ if (getrlimit(RLIMIT_STACK, &amp;rl) &#x3D;&#x3D; 0) &#123; rl.rlim_cur &#x3D; SET_STACK_SIZE; setrlimit(RLIMIT_STACK, &amp;rl); &#125; #endif â€‹ ä¸Šè¿°ä»£ç å°†è¿›ç¨‹çš„æ ˆé•¿åº¦è®¾ç½®ä¸ºé¢„å®šä¹‰çš„SET_STACK_SIZEï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚ æ‰“å°stack traceï¼š &#x2F;&#x2F;KAMain.cc -&gt; main() &#x2F;&#x2F; Print a stack trace if we signal out. #if LLVM_VERSION_MAJOR &#x3D;&#x3D; 3 &amp;&amp; LLVM_VERSION_MINOR &lt; 9 sys::PrintStackTraceOnErrorSignal(); #else sys::PrintStackTraceOnErrorSignal(StringRef()); #endif PrettyStackTraceProgram X(argc, argv); &#x2F;&#x2F; Call llvm_shutdown() on exit. llvm_shutdown_obj Y; â€‹ å¦‚æœç¨‹åºå‘ç”Ÿé”™è¯¯ï¼Œä¸Šè¿°ä»£ç å°†æ‰“å°Stack Traceã€‚ å‘½ä»¤è¡Œé€‰é¡¹ï¼š KAMain.ccå®šä¹‰äº†å¦‚ä¸‹å‘½ä»¤è¡Œå…¨å±€å˜é‡: &#x2F;&#x2F;KAMain.cc cl::list&lt;std::string&gt; InputFilenames( cl::Positional, cl::OneOrMore, cl::desc(&quot;&lt;input bitcode files&gt;&quot;)); cl::opt&lt;unsigned&gt; VerboseLevel( &quot;debug-verbose&quot;, cl::desc(&quot;Print information about actions taken&quot;), cl::init(0)); cl::opt&lt;std::string&gt; DumpLocation( &quot;dump-location&quot;, cl::desc(&quot;dump found structures&quot;), cl::NotHidden, cl::init(&quot;&quot;)); cl::opt&lt;std::string&gt; CrashReport( &quot;crash-report&quot;, cl::desc(&quot;crash report&quot;), cl::Required, cl::init(&quot;&quot;)); cl::opt&lt;std::string&gt; CallGraph(&quot;call-graph&quot;, cl::desc(&quot;call graph from the report&quot;), cl::Required, cl::init(&quot;&quot;)); â€‹ å…¶ä¸­ï¼ŒInputFilenamesæ˜¯ä¸€ä¸ªlistï¼ŒåŒ…å«è¾“å…¥çš„æ–‡ä»¶åç§°ï¼›VerboseLevelä»£è¡¨è¾“å‡ºç­‰çº§ï¼ˆå…·ä½“è§Common.hï¼‰ï¼›DumpLocationä»£è¡¨dumpæ–‡ä»¶å­˜å‚¨çš„ä½ç½®ï¼›CrashReportä»£è¡¨syzbotæŠ¥å‘Šçš„ä½ç½®ï¼›CallGraphä»£è¡¨ä»æŠ¥å‘Šä¸­æå–çš„call traceæ–‡ä»¶çš„ä½ç½®ã€‚ 2.3.3.2 è¯»å–æ–‡ä»¶ä¿¡æ¯ â€‹ å¯¹InputFilenamesåˆ—è¡¨ä¸­çš„æ¯ä¸ªLLVM IRæ–‡ä»¶ï¼Œéœ€è¦ä¾æ¬¡å¯¹å…¶åšä»¥ä¸‹å¤„ç†ï¼š IR File -&gt; llvm::Module &#x2F;&#x2F; KAMain.cc -&gt; main() &#x2F;&#x2F; Use separate LLVMContext to avoid type renaming LLVMContext *LLVMCtx &#x3D; new LLVMContext(); &#x2F;&#x2F;æ¥è‡ª#include &lt;llvm&#x2F;IRReader&#x2F;IRReader.h&gt; &#x2F;&#x2F;parseIRFile()å‡½æ•°æ¥æ”¶ä¸€ä¸ªbitcodeæ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ªmodule std::unique_ptr&lt;Module&gt; M &#x3D; parseIRFile(InputFilenames[i], Err, *LLVMCtx); if (M &#x3D;&#x3D; NULL) &#123; errs() &lt;&lt; argv[0] &lt;&lt; &quot;: error loading file &#39;&quot; &lt;&lt; InputFilenames[i] &lt;&lt; &quot;&#39;\\n&quot;; continue; &#125; &#x2F;&#x2F;std::unique_ptræ™ºèƒ½æŒ‡é’ˆç›¸å…³ &#x2F;&#x2F;release()å°†æŒ‡é’ˆçš„æ§åˆ¶æƒè½¬ç§»ç»™å¤–éƒ¨ä»£ç  Module *Module &#x3D; M.release(); â€‹ std::unique_ptræ˜¯c++æ™ºèƒ½æŒ‡é’ˆç±»å‹ï¼Œç”¨äºå¯¹è±¡å¯¹æŒ‡é’ˆçš„ä½¿ç”¨æƒé™ç®¡ç†ï¼Œä¸å¿…è¿‡äºæ·±ç©¶ï¼›è¿™é‡ŒLLVM::LLVMContextç±»ç”¨äºå¤šçº¿ç¨‹å…±äº«/çº¿ç¨‹ç‹¬äº«ï¼Œä¸å¿…è¿‡äºæ·±ç©¶ã€‚ â€‹ parseIRFile()æ¥è‡ªllvm/IRReader/IRReader.hï¼Œå…¶æ¥æ”¶ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯bitcodeæ–‡ä»¶ï¼Œå¦‚æœæ˜¯åˆ™å°†å…¶è½¬åŒ–ä¸ºModuleã€‚è‹¥åˆ†æå¤±è´¥åˆ™æ‰“å°å¯¹åº”æ—¥å¿—ä¿¡æ¯ã€‚ std::string -&gt; llvm::StringRef &#x2F;&#x2F; KAMain.cc -&gt; main() &#x2F;&#x2F;å°†stringå¤åˆ¶åˆ°ä¸€ä¸ªStringRefä¸Š &#x2F;&#x2F;string.data()è¿”å›stringå­—ç¬¦ä¸²çš„é¦–åœ°å€ &#x2F;&#x2F;strdup()ç”¨äºå­—ç¬¦ä¸²å¤åˆ¶ StringRef MName &#x3D; StringRef(strdup(InputFilenames[i].data())); â€‹ å°†å‡½æ•°åä»std::stringè½¬åŒ–ä¸ºllvm::StringRefï¼Œç”¨äºåç»­è®°å½•ã€‚ å…¨å±€ä¿¡æ¯è®°å½• &#x2F;&#x2F;GlobalCtx.Modulesæ˜¯ModuleListç±»å‹ &#x2F;&#x2F;ModuleList &#x3D; std::vector&lt; std::pair&lt;llvm::Module*, llvm::StringRef&gt;&gt; &#x2F;&#x2F;lobalCtx.Moduleså­˜å‚¨[&amp;Module,ModuleName]é”®å€¼å¯¹ GlobalCtx.Modules.push_back(std::make_pair(Module, MName)); GlobalCtx.ModuleMaps[Module] &#x3D; InputFilenames[i]; doBasicInitialization(Module); â€‹ å°†è¯»å–çš„Moduleå’Œå…¶åç§°å­˜åˆ°GlobalCtx.Moduleså’ŒGlobalCtx.ModuleMapsä¸­ï¼Œå¹¶è°ƒç”¨doBasicInitializationå‡½æ•°ï¼Œå°†Moduleä¸­çš„å…¨å±€å¯¹è±¡å­˜å‚¨åˆ°GlobalCtx.Gobjsä¸­ï¼Œå…¨å±€å‡½æ•°å­˜å‚¨åˆ°GlobalCtx.Funcsä¸­ã€‚ â€‹ å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š &#x2F;&#x2F; Load modules KA_LOGS(0, &quot;Total &quot; &lt;&lt; InputFilenames.size() &lt;&lt; &quot; file(s)&quot;); &#x2F;&#x2F; éå†æ¯ä¸ªæ–‡ä»¶ for (unsigned i &#x3D; 0; i &lt; InputFilenames.size(); ++i) &#123; &#x2F;&#x2F; Use separate LLVMContext to avoid type renaming KA_LOGS(1, &quot;[&quot; &lt;&lt; i &lt;&lt; &quot;] &quot; &lt;&lt; InputFilenames[i] &lt;&lt; &quot;&quot;); LLVMContext *LLVMCtx &#x3D; new LLVMContext(); &#x2F;&#x2F;æ¥è‡ª#include &lt;llvm&#x2F;IRReader&#x2F;IRReader.h&gt; &#x2F;&#x2F;parseIRFile()å‡½æ•°æ¥æ”¶ä¸€ä¸ªbitcodeæ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ªmodule std::unique_ptr&lt;Module&gt; M &#x3D; parseIRFile(InputFilenames[i], Err, *LLVMCtx); if (M &#x3D;&#x3D; NULL) &#123; errs() &lt;&lt; argv[0] &lt;&lt; &quot;: error loading file &#39;&quot; &lt;&lt; InputFilenames[i] &lt;&lt; &quot;&#39;\\n&quot;; continue; &#125; &#x2F;&#x2F;std::unique_ptræ™ºèƒ½æŒ‡é’ˆç›¸å…³ &#x2F;&#x2F;release()å°†æŒ‡é’ˆçš„æ§åˆ¶æƒè½¬ç§»ç»™å¤–éƒ¨ä»£ç  Module *Module &#x3D; M.release(); &#x2F;&#x2F;å°†stringå¤åˆ¶åˆ°ä¸€ä¸ªStringRefä¸Š &#x2F;&#x2F;string.data()è¿”å›stringå­—ç¬¦ä¸²çš„é¦–åœ°å€ &#x2F;&#x2F;strdup()ç”¨äºå­—ç¬¦ä¸²å¤åˆ¶ StringRef MName &#x3D; StringRef(strdup(InputFilenames[i].data())); &#x2F;&#x2F;GlobalCtx.Modulesæ˜¯ModuleListç±»å‹ &#x2F;&#x2F;ModuleList &#x3D; std::vector&lt; std::pair&lt;llvm::Module*, llvm::StringRef&gt;&gt; &#x2F;&#x2F;lobalCtx.Moduleså­˜å‚¨[&amp;Module,ModuleName]é”®å€¼å¯¹ GlobalCtx.Modules.push_back(std::make_pair(Module, MName)); GlobalCtx.ModuleMaps[Module] &#x3D; InputFilenames[i]; doBasicInitialization(Module); &#125; 2.3.3.3 åˆ†æCrashReport â€‹ è¯¥éƒ¨åˆ†çš„åŠŸèƒ½æ˜¯åˆ†æä»syzbotçˆ¬å–çš„æŠ¥å‘Šï¼Œå…¶ç›®çš„æ˜¯åˆ†ææŠ¥å‘Šä¸­æ˜¯å¦å­˜åœ¨å¯checkçš„ç‚¹ï¼š std::ifstream report(CrashReport); &#x2F;&#x2F; do we find explicit check expression bool explicity &#x3D; false; if (report.is_open()) &#123; &#x2F;&#x2F;std::istreambuf_iterator è¾“å…¥æµç¼“å†²åŒºè¿­ä»£å™¨ &#x2F;&#x2F;ä»æŒ‡å®šçš„æµç¼“å†²åŒºä¸­è¯»å–å­—ç¬¦å…ƒç´  &#x2F;&#x2F;è¿™å¥ä»£ç å°†reportä»æ–‡ä»¶æµè½¬åŒ–ä¸ºäº†ä¸€ä¸ªstring std::string reportContent((std::istreambuf_iterator&lt;char&gt;(report)), std::istreambuf_iterator&lt;char&gt;()); &#x2F;&#x2F;å¦‚æœreportä¸­æœ‰&quot;WARNNING&quot; å’Œ &quot;invalid_op&quot; &#x2F;&#x2F;ä»£è¡¨å­˜åœ¨å¯checkç‚¹ if (reportContent.find(&quot;WARNING&quot;) !&#x3D; string::npos &amp;&amp; reportContent.find(&quot;invalid_op&quot;) !&#x3D; string::npos) &#123; explicity &#x3D; true; &#125; &#x2F;&#x2F;å¦‚æœreportä¸­æœ‰&quot;kernel BUG at&quot; &#x2F;&#x2F;ä»£è¡¨å­˜åœ¨å¯checkç‚¹ if (reportContent.find(&quot;kernel BUG at&quot;) !&#x3D; string::npos) &#123; explicity &#x3D; true; &#125; report.close(); &#125; 2.3.3.4 åˆ†æCallGraph â€‹ CallGraphå°±æ˜¯ä½¿ç”¨get_cg.pyè„šæœ¬ä»syzbotæŠ¥å‘Šä¸­æå–çš„call tarceï¼Œå…¶ä»¥æ–‡æœ¬æ–‡ä»¶å­˜å‚¨ï¼ŒCallGraphçš„æ¯ä¸€è¡Œçš„ç»„æˆæ˜¯[å‡½æ•°å]+[ç©ºæ ¼]+[è°ƒç”¨ä½ç½®]ï¼Œä¾‹å¦‚ï¼š â€‹ ä½¿ç”¨std::ifstreamç±»æ‰“å¼€æ–‡ä»¶ï¼š std::ifstream file(CallGraph); &#x2F;&#x2F;ç”¨äºå®šä½Call Traceä¸­çš„Crashç‚¹ std::string CrashLoc; &#x2F;&#x2F;ç”¨äºæ£€æŸ¥æ˜¯å¦å­˜åœ¨KASANæŠ¥é”™ bool kasan_check &#x3D; false; if (file.is_open()) &#123; &#x2F;&#x2F;Â·Â·Â·Â·Â·Â· file.close(); &#125; â€‹ æ‰“å¼€CallGraphåï¼Œé€è¡Œåˆ†æå…¶ä¸­çš„æ¯ä¸ªå‡½æ•°æ˜¯å¦åœ¨GlobalCtx.hä¸­é¢„å®šä¹‰çš„skipFuncå‡½æ•°é›†ä¸­ï¼Œå¦‚æœåœ¨call traceä¸­å‰ä¸€ä¸ªå‡½æ•°åœ¨skipFuncä¸­è€Œå½“å‰å‡½æ•°ä¸åœ¨ï¼Œåˆ™è®¤ä¸ºå½“å‰çš„å‡½æ•°æ˜¯crash locationã€‚ if (file.is_open()) &#123; std::string line, curFunc; std::string lastFunc &#x3D; &quot;&quot;; bool skipped &#x3D; true; &#x2F;&#x2F;è¯»å–æ¯ä¸€è¡Œcall trace while (std::getline(file, line)) &#123; StringRef readin &#x3D; StringRef(line); &#x2F;&#x2F;å‡½æ•°åå°±æ˜¯CallGraphæ¯è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ curFunc &#x3D; readin.split(&quot; &quot;).first.str(); &#x2F;* if previous function is in the skipped function list while current function is not, we set current function as the crash location *&#x2F; &#x2F;&#x2F;skipFuncæœ‰å“ªäº›æ˜¯GlobalCtx.hä¸­é¢„å®šä¹‰çš„ if (skipFunc.find(curFunc) !&#x3D; skipFunc.end()) &#123; skipped &#x3D; true; &#125; else &#123; if (skipped) &#x2F;&#x2F;ä¸Šä¸ªå‡½æ•°åœ¨skipFuncä¸­ï¼Œè€Œè¿™ä¸ªä¸åœ¨ CrashLoc &#x3D; line; skipped &#x3D; false; &#125; &#x2F;&#x2F; æ£€æŸ¥æ˜¯å¦å­˜åœ¨KASANæŠ¥é”™ if (curFunc.find(&quot;kasan_check_&quot;) !&#x3D; string::npos) &#123; kasan_check &#x3D; true; &#125; if (lastFunc !&#x3D; &quot;&quot;) &#123; KA_LOGS(0, &quot;inserting &quot; &lt;&lt; lastFunc &lt;&lt; &quot; &quot; &lt;&lt; curFunc); &#x2F;&#x2F;std::map&lt;string, string&gt; &#x2F;&#x2F;è®°å½•è°ƒç”¨å…³ç³» GlobalCtx.CallGraph[lastFunc] &#x3D; curFunc; &#125; lastFunc &#x3D; curFunc; &#125; file.close(); &#125; â€‹ åœ¨éå†CallGraphçš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†å‡½æ•°çš„è°ƒç”¨å…³ç³»è®°å½•åˆ° GlobalCtx.CallGraphä¸­ã€‚ 2.3.3.5 è¿è¡ŒPass &amp;&amp; Dump â€‹ æ¥ä¸‹æ¥å¯¹GlobalCtx.Modulesä¸­å­˜å‚¨çš„æ‰€æœ‰Moduleè°ƒç”¨CallGraphPasså’ŒPointerAnalysisPassï¼š &#x2F;&#x2F;è°ƒç”¨CallGraphPass CallGraphPass CGPass(&amp;GlobalCtx); CGPass.run(GlobalCtx.Modules); &#x2F;&#x2F;è°ƒç”¨PointerAnalysisPass PointerAnalysisPass PAPass(&amp;GlobalCtx); PAPass.run(GlobalCtx.Modules); â€‹ å¦‚æœå‰æ–‡çš„åˆ†æè¿‡ç¨‹ä¸­å­˜åœ¨Crash check pointï¼Œåˆ™è°ƒç”¨CrashAnalyzer Passï¼š assert(CrashLoc !&#x3D; &quot;&quot;);&#123; &#x2F;&#x2F;è°ƒç”¨CrashAnalyzePass CrashAnalyzer CA(&amp;GlobalCtx, explicity, CrashLoc); CA.run(GlobalCtx.Modules); &#x2F;&#x2F; test_bit include&#x2F;asm-generic&#x2F;bitops&#x2F;instrumented-non-atomic.h:110 if (DumpLocation !&#x3D; &quot;&quot;) CA.dump(DumpLocation); else CA.dump(); &#125; â€‹ è¿™æ˜¯æ•´ä¸ªä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå…·ä½“Passçš„åˆ†æè¿‡ç¨‹è§åæ–‡ã€‚ 2.4 CallGraphPass 2.4.1 C/C++ç‰¹æ®Šå‡½æ•°è°ƒç”¨ â€‹ CallGraphPassçš„ç›®çš„æ˜¯æ„å»ºæ–‡ä»¶çš„CallGraphï¼Œå¹¶å°†ç›¸å…³è°ƒç”¨ä¿¡æ¯å­˜å‚¨åˆ°Ctxå…¨å±€å˜é‡ä¸­ã€‚åœ¨è¿›è¡Œå…·ä½“ä»£ç åˆ†æå‰ï¼Œé¦–å…ˆæ¥å…³æ³¨ä¸€ä¸‹Cè¯­è¨€ä¸­å‡½æ•°çš„ç‰¹æ®Šè°ƒç”¨é—®é¢˜ã€‚ 2.4.1.1 é—´æ¥è°ƒç”¨(indirect call) â€‹ Cä¸­çš„é—´æ¥è°ƒç”¨ä¸€èˆ¬æ˜¯æŒ‡é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°ï¼š //directCall_test.c #include &lt;stdio.h> void foo() &#123; printf(\"function foo\\n\"); &#125; int main(int argc, char **argv)&#123; foo(); return 0; &#125; //IndirectCall_test.c #include &lt;stdio.h> void foo() &#123; printf(\"function foo\\n\"); &#125; int main(int argc, char **argv)&#123; void (*fp)() = foo; fp(); return 0; &#125; â€‹ å°†å…¶ç¼–è¯‘ä¸ºllæ–‡ä»¶å¦‚ä¸‹ï¼š &#x2F;&#x2F;directCall_test.ll ; Function Attrs: noinline nounwind optnone uwtable define dso_local void @foo() #0 &#123; %1 &#x3D; call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64 0)) ret void &#125; declare dso_local i32 @printf(i8*, ...) #1 ; Function Attrs: noinline nounwind optnone uwtable define dso_local i32 @main() #0 &#123; %1 &#x3D; alloca i32, align 4 store i32 0, i32* %1, align 4 call void @foo() ret i32 0 &#125; &#x2F;&#x2F;IndirectCall_test.ll ; Function Attrs: noinline nounwind optnone uwtable define dso_local void @foo() #0 &#123; %1 &#x3D; call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64 0)) ret void &#125; declare dso_local i32 @printf(i8*, ...) #1 ; Function Attrs: noinline nounwind optnone uwtable define dso_local i32 @main() #0 &#123; %1 &#x3D; alloca i32, align 4 %2 &#x3D; alloca void (...)*, align 8 store i32 0, i32* %1, align 4 store void (...)* bitcast (void ()* @foo to void (...)*), void (...)** %2, align 8 %3 &#x3D; load void (...)*, void (...)** %2, align 8 call void (...) %3() ret i32 0 &#125; â€‹ å¯ä»¥çœ‹åˆ°ï¼Œç›´æ¥è°ƒç”¨æŒ‡ä»¤çš„æ“ä½œæ•°å°±æ˜¯ç¡®å®šCalleeçš„åœ°å€ï¼ˆfooï¼‰ï¼Œä½†æ˜¯é—´æ¥è°ƒå…¶æ“ä½œæ•°æ˜¯ä¸€ä¸ªè™šæ‹Ÿå¯„å­˜å™¨%3ï¼ˆåœ¨æ±‡ç¼–ä¸­å°±æ˜¯ä¸€ä¸ªç¡®å®šçš„å¯„å­˜å™¨ï¼‰ã€‚æ•…å½“Passåˆ†æåˆ°callè¯­å¥æ—¶æ²¡æœ‰åŠæ³•ç›´æ¥å¾—å‡ºç›®æ ‡å‡½æ•°çš„åœ°å€ï¼Œå› ä¸ºå¯„å­˜å™¨ä¸­çš„å€¼å¯èƒ½æ˜¯ç›´æ¥è½½å…¥çš„ç¡®å®šçš„åœ°å€ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶å®ƒåœ°æ–¹è½½å…¥çš„å€¼ã€‚æ¢å¥è¯è¯´ï¼Œç›´æ¥è°ƒç”¨è¯­å¥å¯ä»¥ç¡®å®šcallè¯­å¥è°ƒç”¨çš„fooå‡½æ•°ï¼Œä½†æ˜¯é—´æ¥è°ƒç”¨è¯­å¥ä¸èƒ½ï¼Œå› ä¸ºè°ƒç”¨ä»€ä¹ˆå‡½æ•°å–å†³äº%3å†…åŠ è½½äº†ä»€ä¹ˆå€¼ã€‚ â€‹ åœ¨ä»¥ä¸Šä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥è½»æ¾çœ‹å‡ºé—´æ¥è°ƒç”¨çš„å°±æ˜¯fooå‡½æ•°çš„åœ°å€ï¼Œä½†æ˜¯ä¸‡ä¸€é—´æ¥è°ƒç”¨çš„åœ°å€å–å†³äºç”¨æˆ·çš„è¾“å…¥/ç¨‹åºè¿è¡Œæ—¶çš„å…·ä½“çŠ¶æ€/è¯»å–çš„æ–‡ä»¶ä¿¡æ¯ç­‰ï¼Œä»£ç çš„åˆ†æ”¯æƒ…å†µå°±å¤æ‚äº†èµ·æ¥ã€‚åœ¨C++ä¸­çš„è™šå‡½æ•°è°ƒç”¨å°±æ˜¯é€šè¿‡é—´æ¥è°ƒç”¨å®Œæˆçš„ï¼Œè¿™ä¹Ÿæ˜¯å…¶å¤šæ€çš„åŸºç¡€ã€‚ 2.4.1.2 å†…è”æ±‡ç¼–è¯­å¥ â€‹ å†…è”æ±‡ç¼–è¯­è¨€ï¼ˆæˆ–â€œinline asmâ€ï¼‰æ˜¯ä¸€äº›ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå…è®¸åœ¨ä»£ç ä¸­ç›´æ¥åŒ…å«æ±‡ç¼–è¯­è¨€æŒ‡ä»¤ã€‚åœ¨éœ€è¦æ‰§è¡Œæ— æ³•ä½¿ç”¨é«˜çº§è¯­è¨€ç»“æ„æœ‰æ•ˆæˆ–æ¸…æ™°è¡¨è¾¾çš„ç‰¹å®šæ“ä½œæ—¶ï¼Œä½¿ç”¨å†…è”æ±‡ç¼–å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨å†…è”æ±‡ç¼–è®¿é—®ç¡¬ä»¶è®¾å¤‡æˆ–ä¼˜åŒ–æ€§èƒ½å…³é”®çš„ä»£ç æ®µã€‚ â€‹ å†…è”æ±‡ç¼–è¯­å¥ä¸­å¯ä»¥åŒ…å«è°ƒç”¨æŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼š #include &lt;stdio.h&gt; int main() &#123; int x &#x3D; 10; int y; &#x2F;&#x2F; ä½¿ç”¨å†…è”æ±‡ç¼–è¯­è¨€è°ƒç”¨ä¸€ä¸ªæ±‡ç¼–è¯­è¨€å‡½æ•° __asm__(&quot;movl %1, %%eax; call assembly_function; movl %%eax, %0;&quot; : &quot;&#x3D;r&quot;(y) : &quot;r&quot;(x)); printf(&quot;The result is: %d\\n&quot;, y); return 0; &#125; &#x2F;&#x2F; æ±‡ç¼–å‡½æ•°ç”¨äºå°†è¾“å…¥å‚æ•°åŠ 5å¹¶è¿”å›ç»“æœ __asm__( &quot;assembly_function:\\n&quot; &quot;addl $5, %eax\\n&quot; &quot;ret\\n&quot; ); â€‹ ä¸Šè¿°ä»£ç ä½¿ç”¨å†…è”æ±‡ç¼–è¯­è¨€è°ƒç”¨ä¸€ä¸ªåœ¨æ±‡ç¼–è¯­è¨€ä¸­å®šä¹‰çš„å‡½æ•°assembly_functionã€‚è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œå°†å…¶åŠ 5ï¼Œç„¶åè¿”å›ç»“æœã€‚å°†å…¶è½¬åŒ–ä¸ºLLVM IRå¦‚ä¸‹ï¼š define dso_local i32 @main() #0 &#123; %1 &#x3D; alloca i32, align 4 %2 &#x3D; alloca i32, align 4 %3 &#x3D; alloca i32, align 4 store i32 0, i32* %1, align 4 store i32 10, i32* %2, align 4 %4 &#x3D; load i32, i32* %2, align 4 %5 &#x3D; call i32 asm &quot;movl $1, %eax; call assembly_function; movl %eax, $0;&quot;, &quot;&#x3D;r,r,~&#123;dirflag&#125;,~&#123;fpsr&#125;,~&#123;flags&#125;&quot;(i32 %4) #2, !srcloc !2 store i32 %5, i32* %3, align 4 %6 &#x3D; load i32, i32* %3, align 4 %7 &#x3D; call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([19 x i8], [19 x i8]* @.str, i64 0, i64 0), i32 %6) ret i32 0 &#125; â€‹ å¯è§å…¶ä½¿ç”¨call i32 asmè¯­å¥ç›´æ¥è°ƒç”¨æ±‡ç¼–ï¼Œå¹¶ä¸å¯¹å…¶å¤„ç†ã€‚CallGraphPassè·³è¿‡äº†å¯¹å†…è”æ±‡ç¼–å‡½æ•°è°ƒç”¨è¯­å¥çš„åˆ†æã€‚ 2.4.1.3 Intrinsicå‡½æ•° â€‹ Intrinsicå‡½æ•°æ˜¯ç¼–è¯‘å™¨å†…å»ºçš„å‡½æ•°ï¼Œç”±ç¼–è¯‘å™¨æä¾›ï¼Œç±»ä¼¼äºå†…è”å‡½æ•°ã€‚åœ¨LLVMä¸­ï¼ŒIntrinsicå‡½æ•°ä¸€èˆ¬æ˜¯åœ¨IRçº§ä»£ç ä¼˜åŒ–æ—¶å¼•å…¥çš„ï¼Œä¹Ÿå°±æ˜¯ç”±å‰ç«¯äº§ç”Ÿã€‚ä¹Ÿå¯ä»¥åœ¨ç¨‹åºä»£ç ä¸­å†™Intrinsicå‡½æ•°ï¼Œå¹¶é€šè¿‡å‰ç«¯ç›´æ¥å‘å°„ã€‚è¿™äº›å‡½æ•°åçš„å‰ç¼€ä¸€èˆ¬æ˜¯ä¿ç•™å­—â€œllvm.â€ã€‚LLVMåç«¯é€‰æ‹©ç”¨æœ€é«˜æ•ˆçš„å½¢å¼å°†Intrinsicå‡½æ•°è½¬æ¢ç»™ç¡¬ä»¶æ‰§è¡Œï¼Œå¯ä»¥å°†Intrinsicå‡½æ•°æ‹†åˆ†ä¸ºä¸€ç³»åˆ—æœºå™¨æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜ å°„ä¸ºå•ç‹¬ä¸€æ¡æœºå™¨æŒ‡ä»¤ï¼Œå¹¶ç›´æ¥è°ƒç”¨ç›¸åº”çš„ç¡¬ä»¶åŠŸèƒ½ã€‚ â€‹ è¿™é‡ŒCallGraphPassè·³è¿‡äº†Intrinsicå‡½æ•°çš„è°ƒç”¨åˆ†æï¼Œå…¶ä¸å†…æ ¸å¹¶æ— å…³ç³»ï¼Œæ˜¯LLVMå¼•å…¥çš„ã€‚Intrinsicåå¿…é¡»å…¨éƒ¨ä»¥â€œ llvmâ€å¼€å¤´å‰ç¼€ã€‚ 2.4.2 ä»£ç åˆ†æ â€‹ CallGraphçš„Passæ‰§è¡Œä»£ç å¦‚ä¸‹ï¼š &#x2F;&#x2F;CallGraph.cc bool CallGraphPass::doModulePass(Module *M) &#123; bool Changed &#x3D; true, ret &#x3D; false; while (Changed) &#123; Changed &#x3D; false; &#x2F;&#x2F;éå†Moduleä¸­æ¯ä¸ªFunction for (Function &amp;F : *M) &#x2F;&#x2F;å¯¹æ¯ä¸ªFunctionæ“ä½œ Changed |&#x3D; runOnFunction(&amp;F); ret |&#x3D; Changed; &#125; return ret; &#125; â€‹ è¿›å…¥å‡½æ•°CallGraph::runOnFunction: &#x2F;&#x2F;CallGraph.cc -&gt; runOnFunction() &#x2F;&#x2F;llvm::GlobalObject -&gt; hasSection(): Check if this global has a custom object file section. &#x2F;&#x2F;llvm::GlobalObject -&gt; getSection(): Get the custom section of this global if it has one. if(F-&gt;hasSection() &amp;&amp; F-&gt;getSection().str() &#x3D;&#x3D; &quot;.init.text&quot;) return false; â€‹ é¦–å…ˆæ’é™¤äº†åˆå§‹åŒ–å‡½æ•°ã€‚åœ¨Cä»£ç ä¸­ï¼Œä½¿ç”¨__initå®å£°æ˜çš„å‡½æ•°ä¼šåœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°æ”¾åœ¨\".init.text\"è¿™ä¸ªä»£ç åŒºä¸­ã€‚æ ‡è®°ä¸ºåˆå§‹åŒ–çš„å‡½æ•°,è¡¨æ˜è¯¥å‡½æ•°ä¾›åœ¨åˆå§‹åŒ–æœŸé—´ä½¿ç”¨ã€‚åœ¨æ¨¡å—è£…è½½ä¹‹åï¼Œæ¨¡å—è£…è½½å°±ä¼šå°†åˆå§‹åŒ–å‡½æ•°æ‰”æ‰ã€‚è¿™æ ·å¯ä»¥å°†è¯¥å‡½æ•°å ç”¨çš„å†…å­˜é‡Šæ”¾å‡ºæ¥ã€‚ â€‹ è¿™é‡Œï¼Œç¨‹åºé€šè¿‡ä½¿ç”¨inst_iteratorç›´æ¥éå†å‡½æ•°é‡Œçš„æ¯æ¡æŒ‡ä»¤ï¼š &#x2F;&#x2F;CallGraph.cc -&gt; runOnFunction() bool Changed &#x3D; false; for (inst_iterator i &#x3D; inst_begin(F), e &#x3D; inst_end(F); i !&#x3D; e; ++i) &#123; &#x2F;&#x2F;...... &#125; â€‹ å¯¹äºæ¯æ¡æŒ‡ä»¤ï¼Œå¯èƒ½ä¸inst_iteratorçš„æŒ‡é’ˆé‡è½½æœ‰å…³ï¼Œéœ€è¦é‡æ–°å–å€è·å–æŒ‡å‘æ¯æ¡æŒ‡ä»¤çš„åœ°å€[LLVMå¼€å‘è€…æ‰‹å†Œ]ã€‚æ¥ç€ï¼Œæ’é™¤äº†asmå†…è”è°ƒç”¨å’Œintrinsicè°ƒç”¨ï¼š &#x2F;&#x2F;&#x2F;&#x2F;CallGraph.cc -&gt; runOnFunction() &#x2F;&#x2F;è·å–æŒ‡å‘æŒ‡ä»¤å¼•ç”¨çš„æŒ‡é’ˆ Instruction *I &#x3D; &amp;*i; &#x2F;&#x2F; map callsite to possible callees &#x2F;&#x2F; dyn_castæ£€æŸ¥æŒ‡é’ˆIæ˜¯å¦æ˜¯CallInstç±»å‹ if (CallInst *CI &#x3D; dyn_cast&lt;CallInst&gt;(I)) &#123; &#x2F;&#x2F; ignore inline asm or intrinsic calls if (CI-&gt;isInlineAsm() || (CI-&gt;getCalledFunction() &amp;&amp; CI-&gt;getCalledFunction()-&gt;isIntrinsic())) continue; â€‹ æ¥ä¸‹æ¥éœ€è¦è·å–è¯¥CallInstçš„Calleeï¼Œå³è¯¥æŒ‡ä»¤è°ƒç”¨çš„å‡½æ•°ã€‚å¯¹äºç›´æ¥è°ƒç”¨ï¼Œä½¿ç”¨CI-&gt;getCalledFunction()å³å¯ï¼›å¯¹äºé—´æ¥è°ƒç”¨ï¼Œç”±äºå…¶è°ƒç”¨å­˜åœ¨å¤šç§æƒ…å†µï¼Œéœ€è¦å…·ä½“åˆ†æï¼š &#x2F;&#x2F; CallGraph.cc -&gt; runOnFunction() &#x2F;&#x2F; might be an indirect call, find all possible callees FuncSet &amp;FS &#x3D; Ctx-&gt;Callees[CI]; if (!findCallees(CI, FS)) continue; â€‹ findCallees()å‡½æ•°æµç¨‹å¦‚ä¸‹ï¼š &#x2F;&#x2F; CallGraph.cc -&gt; findCallees() &#x2F;&#x2F; typedef llvm::SmallPtrSet&lt;llvm::Function*, 32&gt; FuncSet; bool CallGraphPass::findCallees(CallInst *CI, FuncSet &amp;FS) &#123; Function *CF &#x3D; CI-&gt;getCalledFunction(); &#x2F;&#x2F; real function, S &#x3D; S + &#123;F&#125; if (CF) &#123; &#x2F;&#x2F; prefer the real definition to declarations &#x2F;&#x2F; è·å–å‡½æ•°å®šä¹‰ CF &#x3D; getFuncDef(CF); return FS.insert(CF).second; &#125; &#x2F;&#x2F;...... &#125; â€‹ CI-&gt;getCalledFunction()å‡½æ•°ç”¨äºè·å–ç›´æ¥è°ƒç”¨callæŒ‡ä»¤çš„calleeåœ°å€ï¼Œè‹¥å…¶æ˜¯ä¸€ä¸ªé—´æ¥è°ƒç”¨/éè°ƒç”¨æŒ‡ä»¤åˆ™è¿”å›nullptrã€‚å¦‚æœè¿”å›ä¸ä¸ºnullptrï¼Œåˆ™è¿›å…¥ä»¥ä¸‹è°ƒç”¨è¿‡ç¨‹ï¼š â€‹ getFuncDef()è¿‡ç¨‹å¦‚ä¸‹ï¼š &#x2F;&#x2F; CallGraph.cc -&gt; getFuncDef() Function* CallGraphPass::getFuncDef(Function *F) &#123; &#x2F;&#x2F; typedef std::unordered_map&lt;std::string, llvm::Function*&gt; FuncMap FuncMap::iterator it &#x3D; Ctx-&gt;Funcs.find(getScopeName(F)); if (it !&#x3D; Ctx-&gt;Funcs.end()) return it-&gt;second; else return F; &#125; â€‹ getScopeName()è¿‡ç¨‹å¦‚ä¸‹ï¼š &#x2F;&#x2F; Annotation.h -&gt; getScopeName() static inline std::string getScopeName(const llvm::GlobalValue *GV) &#123; if (llvm::GlobalValue::isExternalLinkage(GV-&gt;getLinkage())) return GV-&gt;getName().str(); else &#123; llvm::StringRef moduleName &#x3D; llvm::sys::path::stem( GV-&gt;getParent()-&gt;getModuleIdentifier()); return &quot;_&quot; + moduleName.str() + &quot;.&quot; + GV-&gt;getName().str(); &#125; &#125; â€‹ å…¶ä¸­ï¼Œllvm::GlobalValueç±»æ˜¯llvm::Functionç±»çš„çˆ¶ç±»llvm::GlobalObjectçš„çˆ¶ç±»ï¼š â€‹ getScopeName()çš„ä½œç”¨æ˜¯æ£€æŸ¥ä¸€ä¸ªå‡½æ•°æ˜¯å¦ä¸ºå…¨å±€å‡½æ•°(extern)ï¼Œå¦‚æœæ˜¯åˆ™ç›´æ¥è¿”å›å…¶å‡½æ•°åï¼Œå¦‚æœä¸æ˜¯åˆ™æŸ¥æ‰¾è¯¥å‡½æ•°æ‰€å±çš„Moduleï¼Œæ„å»ºâ€œ_{ModuleName}.{FuncName}â€å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚ â€‹ å›åˆ°getFuncDef()å‡½æ•°ï¼Œå…¶åŠŸèƒ½æ˜¯åœ¨Ctx-&gt;Funcsä¸­æŸ¥æ‰¾å‡½æ•°çš„å®šä¹‰ï¼Œå¦‚æœå…¶åœ¨Ctx-&gt;Funcsä¸­å­˜åœ¨åˆ™è¿”å›Ctx-&gt;Funcsä¸­çš„å‡½æ•°æŒ‡é’ˆï¼Œå¦åˆ™è¿”å›è¾“å…¥çš„å‡½æ•°æŒ‡é’ˆFæœ¬èº«ã€‚ â€‹ å›åˆ°findCallees()å‡½æ•°ï¼Œå¦‚æœè¾“å…¥çš„æŒ‡ä»¤CIæ˜¯ä¸€ä¸ªç›´æ¥è°ƒç”¨ï¼Œåˆ™è·å–å…¶Calleeå‡½æ•°æŒ‡é’ˆCFï¼Œå¹¶è°ƒç”¨getFuncDef()åœ¨Ctx-&gt;Funcsä¸­æŸ¥æ‰¾å¹¶è¿”å›å‡½æ•°çš„å®šä¹‰ã€‚ç„¶åå°†æŒ‡é’ˆæ’å…¥FuncSet FSä¸­ï¼Œå¦‚æœç¬¬ä¸€æ¬¡æ’å…¥åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚å› ä¸ºCFè¿™é‡Œä¼ å…¥çš„æ˜¯Ctx-&gt;Callees[CI]ï¼Œè¿”å›falseå°±ä»£è¡¨æŸ¥æ‰¾åˆ°çš„è°ƒç”¨å…³ç³»ï¼ˆCI-&gt;CFï¼‰å·²ç»å­˜åœ¨ã€‚ â€‹ å¦‚æœfindCallees()å‡½æ•°ä¸­CIæŒ‡ä»¤å¹¶ä¸æ˜¯ç›´æ¥è°ƒç”¨ï¼Œåˆ™å°†å…¶æ’å…¥åˆ°Ctx-&gt;IndirectCallInstä¸­ï¼š &#x2F;&#x2F; CallGraph.cc -&gt; findCallees() &#x2F;&#x2F; save called values for point-to analysis Ctx-&gt;IndirectCallInsts.push_back(CI); #ifdef TYPE_BASED &#x2F;&#x2F; use type matching to concervatively find &#x2F;&#x2F; possible targets of indirect call return findCalleesByType(CI, FS); #else &#x2F;&#x2F; use assignments based approach to find possible targets &#x2F;&#x2F; const Value* llvm::CallInst::getCalledValue() &#x2F;&#x2F; getCalledValue() - Get a pointer to the function that is invoked by this instruction. return findFunctions(CI-&gt;getCalledValue(), FS); #endif â€‹ æ¥ä¸‹æ¥ï¼Œè°ƒç”¨findFunctionsæŸ¥æ‰¾å…¶æ‰€æœ‰å¯èƒ½çš„Calleeï¼Œå¹¶å­˜å‚¨åˆ°Ctx-&gt;Callees[Ins]ä¸­ï¼Œå…·ä½“ç»†èŠ‚è¿™é‡Œä¸å†å±•å¼€ã€‚ â€‹ è‡³æ­¤ï¼Œå·²ç»æ‰¾åˆ°äº†å½“å‰CallæŒ‡ä»¤çš„æ‰€æœ‰Calleeï¼Œæ¥ä¸‹æ¥åˆ†æcallInstæŒ‡ä»¤çš„æ‰€æœ‰å‚æ•°ï¼Œæ‰¾åˆ°å…¶å¯èƒ½å­˜åœ¨çš„å‡½æ•°æŒ‡é’ˆå‚æ•°å¹¶åˆ†æå…¶æ‰€æœ‰å‡½æ•°æŒ‡é’ˆçš„Calleeï¼Œå°†å…¶å­˜å‚¨åˆ°Ctx-&gt;FuncPtrs[Id]ä¸­ï¼š &#x2F;&#x2F;CallGraph.cc -&gt; runOnFunction() #ifndef TYPE_BASED &#x2F;&#x2F; looking for function pointer arguments &#x2F;&#x2F; CI-&gt;getNumArgOperands(): &#x2F;&#x2F; Return the number of invoke arguments for (unsigned no &#x3D; 0, ne &#x3D; CI-&gt;getNumArgOperands(); no !&#x3D; ne; ++no) &#123; &#x2F;&#x2F; CI-&gt;getArgOperand(no) &#x2F;&#x2F; Return the i-th invoke argument. Value *V &#x3D; CI-&gt;getArgOperand(no); if (!isFunctionPointerOrVoid(V-&gt;getType())) continue; &#x2F;&#x2F; find all possible assignments to the argument FuncSet VS; if (!findFunctions(V, VS)) continue; &#x2F;&#x2F; update argument FP-set for possible callees for (Function *CF : FS) &#123; if (!CF) &#123; WARNING(&quot;NULL Function &quot; &lt;&lt; *CI &lt;&lt; &quot;\\n&quot;); assert(0); &#125; std::string Id &#x3D; getArgId(CF, no); Changed |&#x3D; mergeFuncSet(Ctx-&gt;FuncPtrs[Id], VS); &#125; &#125; #endif â€‹ å¦‚æœIä¸æ˜¯CallInstæŒ‡ä»¤ï¼Œè€Œæ˜¯StoreInstç±»å‹æŒ‡ä»¤ï¼Œåˆ™ï¼š &#x2F;&#x2F;CallGraph.cc -&gt; runOnFunction() #ifndef TYPE_BASED if (StoreInst *SI &#x3D; dyn_cast&lt;StoreInst&gt;(I)) &#123; &#x2F;&#x2F; stores to function pointers Value *V &#x3D; SI-&gt;getValueOperand(); if (isFunctionPointerOrVoid(V-&gt;getType())) &#123; std::string Id &#x3D; getStoreId(SI); if (!Id.empty()) &#123; FuncSet FS; findFunctions(V, FS); Changed |&#x3D; mergeFuncSet(Id, FS, isFunctionPointer(V-&gt;getType())); &#125; else &#123; &#x2F;&#x2F; errs() &lt;&lt; &quot;Empty StoreID: &quot; &lt;&lt; F-&gt;getName() &lt;&lt; &quot;::&quot; &lt;&lt; *SI &lt;&lt; &quot;\\n&quot;; &#125; &#125; &#125; else if (ReturnInst *RI &#x3D; dyn_cast&lt;ReturnInst&gt;(I)) &#123; &#x2F;&#x2F; function returns if (isFunctionPointerOrVoid(F-&gt;getReturnType())) &#123; Value *V &#x3D; RI-&gt;getReturnValue(); std::string Id &#x3D; getRetId(F); FuncSet FS; findFunctions(V, FS); Changed |&#x3D; mergeFuncSet(Id, FS, isFunctionPointer(V-&gt;getType())); &#125; &#125; #endif â€‹ å¦‚æœä¸€ä¸ªStoreInstç±»å‹æŒ‡ä»¤ï¼Œå¹¶ä¸”å…¶æ“ä½œæ•°æ˜¯å‡½æ•°æŒ‡é’ˆï¼Œåˆ™è·å–å…¶å‡½æ•°æŒ‡é’ˆæ‰€æœ‰å¯èƒ½çš„Calleeå¹¶å­˜å‚¨åˆ°Ctx-&gt;FuncPtrs[]ä¸­ã€‚ â€‹ åœ¨runOnFunctionå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå…¶runå‡½æ•°è°ƒç”¨CallGraphPass::doFinalizationå¯¹æ¯ä¸ªModuleè¿›è¡Œå–„åå¤„ç†ï¼š &#x2F;&#x2F;CallGraph.cc -&gt; doFinalization() bool CallGraphPass::doFinalization(Module *M) &#123; &#x2F;&#x2F; update callee and caller mapping &#x2F;&#x2F; éå†æ¯ä¸ªå‡½æ•° for (Function &amp;F : *M) &#123; &#x2F;&#x2F;éå†æ¯æ¡æŒ‡ä»¤ for (inst_iterator i &#x3D; inst_begin(F), e &#x3D; inst_end(F); i !&#x3D; e; ++i) &#123; &#x2F;&#x2F; map callsite to possible callees &#x2F;&#x2F; å¦‚æœè¯¥æŒ‡ä»¤æ˜¯CallInstç±»å‹ &#x2F;&#x2F; æ ¹æ®ä¹‹å‰å­˜å‚¨çš„Calleesï¼Œåå‘è®¡ç®—Callers if (CallInst *CI &#x3D; dyn_cast&lt;CallInst&gt;(&amp;*i)) &#123; FuncSet &amp;FS &#x3D; Ctx-&gt;Callees[CI]; &#x2F;&#x2F; calculate the caller info here for (Function *CF : FS) &#123; CallInstSet &amp;CIS &#x3D; Ctx-&gt;Callers[CF]; CIS.insert(CI); &#125; &#125; &#125; &#125; return false; &#125; â€‹ è‡³æ­¤ï¼ŒCallGraphPassåˆ†æå®Œæ¯•ã€‚ â€‹ 2.5 PointerAnalysisPass 2.5.1 Alias Analysis â€‹ Alias Analysis/Pointer Analysisæ˜¯ä¸€ç±»è¯•å›¾ç¡®å®šä¸¤ä¸ªæŒ‡é’ˆæ˜¯å¦å¯ä»¥æŒ‡å‘å†…å­˜ä¸­åŒä¸€ä¸ªå¯¹è±¡çš„æŠ€æœ¯[LLVM Alias Analysis Infrastructure â€” LLVM 17.0.0]ã€‚ â€‹ Alias Analysisï¼ˆåˆ«ååˆ†æï¼‰æ˜¯ç¼–è¯‘å™¨ç†è®ºä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œç”¨äºç¡®å®šå­˜å‚¨ä½ç½®æ˜¯å¦å¯ä»¥ä»¥å¤šç§æ–¹å¼è®¿é—®ã€‚å¦‚æœä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ç›¸åŒçš„ä½ç½®ï¼Œåˆ™ç§°è¿™ä¸¤ä¸ªæŒ‡é’ˆä¸ºåˆ«åã€‚ ä½†æ˜¯ï¼Œå®ƒä¸èƒ½ä¸Pointer Analysisï¼ˆæŒ‡é’ˆåˆ†æï¼‰æ··æ·†ï¼ŒæŒ‡é’ˆåˆ†æè§£å†³çš„é—®é¢˜æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯èƒ½æŒ‡å‘å“ªäº›å¯¹è±¡æˆ–è€…æŒ‡å‘å“ªäº›åœ°å€ï¼Œè€Œåˆ«ååˆ†æè§£å†³çš„æ˜¯ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æŒ‡é’ˆåˆ†æå’Œåˆ«ååˆ†æé€šå¸¸é€šè¿‡é™æ€ä»£ç åˆ†ææ¥å®ç°ã€‚ â€‹ åˆ«ååˆ†æåœ¨ç¼–è¯‘å™¨ç†è®ºä¸­éå¸¸é‡è¦ï¼Œåœ¨ä»£ç ä¼˜åŒ–å’Œå®‰å…¨æ–¹é¢æœ‰ç€éå¸¸å¹¿æ³›ä¸”é‡è¦çš„åº”ç”¨ã€‚ç¼–è¯‘å™¨çº§ä¼˜åŒ–éœ€è¦æŒ‡é’ˆåˆ«åä¿¡æ¯æ¥æ‰§è¡Œæ­»ä»£ç æ¶ˆé™¤ï¼ˆåˆ é™¤ä¸å½±å“ç¨‹åºç»“æœçš„ä»£ç ï¼‰ã€å†—ä½™åŠ è½½/å­˜å‚¨æŒ‡ä»¤æ¶ˆé™¤ã€æŒ‡ä»¤è°ƒåº¦ï¼ˆé‡æ’åˆ—æŒ‡ä»¤ï¼‰ç­‰ã€‚ç¼–è¯‘å™¨çº§åˆ«çš„ç¨‹åºå®‰å…¨ä½¿ç”¨åˆ«ååˆ†ææ¥æ£€æµ‹å†…å­˜æ³„æ¼å’Œå†…å­˜ç›¸å…³çš„å®‰å…¨æ¼æ´ã€‚ 2.5.2 ä»£ç åˆ†æ â€‹ å®šä¹‰ç›¸å…³æ•°æ®ç»“æ„ï¼š &#x2F;&#x2F;GlobalCtx.h typedef DenseMap&lt;Value *, SmallPtrSet&lt;Value *, 16&gt;&gt; PointerAnalysisMap; typedef unordered_map&lt;Function *, PointerAnalysisMap&gt; FuncPointerAnalysisMap; typedef unordered_map&lt;Function *, AAResults *&gt; FuncAAResultsMap; â€‹ åˆ†æä»£ç ï¼š &#x2F;&#x2F;PointerAnalysis.cc bool PointerAnalysisPass::doModulePass(Module *M) &#123; &#x2F;&#x2F;llvm::legacy::FunctionPassManageræ˜¯æ—§ç‰ˆçš„Pass Manager legacy::FunctionPassManager *FPasses &#x3D; new legacy::FunctionPassManager(M); AAResultsWrapperPass *AARPass &#x3D; new AAResultsWrapperPass(); FPasses-&gt;add(AARPass); &#x2F;&#x2F;return false FPasses-&gt;doInitialization(); for (Function &amp;F : *M) &#123; &#x2F;&#x2F;å¦‚æœè¯¥å‡½æ•°çš„å®šä¹‰åœ¨Moduleä¹‹å¤– if (F.isDeclaration()) continue; FPasses-&gt;run(F); &#125; FPasses-&gt;doFinalization(); AAResults &amp;AAR &#x3D; AARPass-&gt;getAAResults(); for (Module::iterator f &#x3D; M-&gt;begin(), fe &#x3D; M-&gt;end(); f !&#x3D; fe; ++f) &#123; Function* F &#x3D; &amp;*f; PointerAnalysisMap aliasPtrs; if (F-&gt;empty()) continue; detectAliasPointers(F, AAR, aliasPtrs); Ctx-&gt;FuncPAResults[F] &#x3D; aliasPtrs; Ctx-&gt;FuncAAResults[F] &#x3D; &amp;AAR; &#125; return false; &#125; â€‹ å…¶ä½¿ç”¨legacy::FunctionPassManageråˆ›å»ºäº†ä¸€ä¸ªæ—§ç‰ˆçš„Function Pass Managerï¼Œå¹¶å°†Pointer Analysisåˆ†æPass AAResultsWrapperPassæ·»åŠ è¿›å»ã€‚ â€‹ æ¥ä¸‹æ¥ä½¿ç”¨(Function &amp;F : *Mï¼‰è¯­å¥éå†Moduleä¸­çš„æ¯ä¸ªå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°Fçš„å®šä¹‰ä¸åœ¨Moduleä¹‹å¤–ï¼Œåˆ™è¿è¡ŒAAResultsWrapperPassï¼Œå¹¶é€šè¿‡AAResultç»“æ„è·å–åˆ†æç»“æœã€‚ â€‹ æ¥ä¸‹æ¥å†æ¬¡éå†Moduleä¸­çš„æ¯ä¸ªFunctionï¼Œå¯¹å…¶è°ƒç”¨å‡½æ•°detectAliasPointersï¼š &#x2F;&#x2F;PointerAnalysis.cc void PointerAnalysisPass::detectAliasPointers(Function* F, AAResults &amp;AAR, PointerAnalysisMap &amp;aliasPtrs) &#123; std::set&lt;Value *&gt; addr1Set; std::set&lt;Value *&gt; addr2Set; Value *Addr1, *Addr2; &#x2F;&#x2F;è·å–æ‰€æœ‰æŒ‡é’ˆç±»å‹ for (Argument &amp;A : F-&gt;args()) if (A.getType()-&gt;isPointerTy()) addr1Set.insert(&amp;A); for (Instruction &amp;I : instructions(*F)) if (I.getType()-&gt;isPointerTy()) addr1Set.insert(&amp;I); &#x2F;&#x2F;why?? if (addr1Set.size() &gt; 1000) &#123; return; &#125; for (auto Addr1 : addr1Set) &#123; for (auto Addr2 : addr1Set) &#123; &#x2F;&#x2F;åªåˆ†æä¸åŒçš„æŒ‡é’ˆå¯¹ if (Addr1 &#x3D;&#x3D; Addr2) continue; &#x2F;&#x2F;ç”¨äºä»æ€»çš„åˆ†æç»“æœé‡Œè·å–å•å¯¹æŒ‡é’ˆåˆ†æç»“æœ AliasResult AResult &#x3D; AAR.alias(Addr1, Addr2); bool notAlias &#x3D; true; if (AResult &#x3D;&#x3D; MustAlias || AResult &#x3D;&#x3D; PartialAlias) &#123; notAlias &#x3D; false; &#x2F;&#x2F;åªè¦ç¡®å®šçš„ &#125; else if (AResult &#x3D;&#x3D; MayAlias) &#123; &#125; if (notAlias) continue; &#x2F;&#x2F;å¦‚æœå­˜åœ¨alias auto as &#x3D; aliasPtrs.find(Addr1); if (as &#x3D;&#x3D; aliasPtrs.end()) &#123; SmallPtrSet&lt;Value *, 16&gt; sv; sv.insert(Addr2); aliasPtrs[Addr1] &#x3D; sv; &#125; else &#123; as-&gt;second.insert(Addr2); &#125; &#125; &#125; &#125; â€‹ detectAliasPointers()å¯¹æ¯ä¸ªè¾“å…¥çš„å‡½æ•°ï¼Œé¦–å…ˆç”¨å¾ªç¯å°†å…¶æŒ‡é’ˆç±»å‚æ•°å’ŒæŒ‡é’ˆç±»æŒ‡ä»¤éƒ½å­˜å‚¨åˆ°é›†åˆaddr1Setä¸­ï¼Œå¹¶ä¸”å¦‚æœaddr1Setå­˜å‚¨çš„æŒ‡é’ˆæ•°é‡å¤§äº100åˆ™ç›´æ¥è¿”å›ï¼Œä¸åšåˆ†æï¼ˆä¸ºä»€ä¹ˆï¼Ÿï¼‰ã€‚ â€‹ æ¥ä¸‹æ¥å¯¹addr1Setå†…çš„æ‰€æœ‰æŒ‡é’ˆä¸¤ä¸¤åˆ†æï¼Œä½¿ç”¨AAResult.alias()å‡½æ•°è·å–ä¸¤ä¸ªæŒ‡é’ˆçš„åˆ†æç»“æœAResultï¼Œå¦‚æœAResultä¸ºMustAlias/PartialAliasåˆ™å°†è¿™ä¸ªæŒ‡é’ˆå¯¹å­˜å‚¨åˆ°aliasPtrsä¸­ã€‚ â€‹ åœ¨detectAliasPointers()åˆ†æå®Œåï¼Œå°†å…¶Ailasåˆ†æç»“æœå­˜å‚¨åˆ°Ctx-&gt;FuncPAResults[F]ä¸­ï¼Œå°†æ•´ä¸ªAAResultsWrapperPassçš„åˆ†æç»“æœå­˜å‚¨åˆ°Ctx-&gt;FuncAAResults[F]ä¸­ï¼Œè‡³æ­¤ï¼ŒPointerAnalysisPassåˆ†æå®Œæ¯•ã€‚ 2.6 CrashAnalyzer â€‹ CrashAnalyzerç”¨äºç¡®å®šåå‘æ±¡ç‚¹åˆ†æçš„sourceã€‚ â€‹ åœ¨CrashAnalyzer.hä¸­å®šä¹‰äº†CrashAnalyzerçš„æ„é€ å‡½æ•°ï¼š &#x2F;&#x2F;CrashAnalyzer.h public: &#x2F;&#x2F;æ„é€ å‡½æ•° CrashAnalyzer(GlobalContext *Ctx_, bool cond_, &#x2F;*llvm::StringRef fn, llvm::StringRef Sourcef_, unsigned l*&#x2F; llvm::StringRef CrashLoc ) : IterativeModulePass(Ctx_, &quot;CrashAnalyzer&quot;) &#123; cond &#x3D; cond_; &#x2F;&#x2F; KA_LOGS(0, &quot;crash loc : &quot; &lt;&lt; CrashLoc &lt;&lt; &quot;\\n&quot;); funcName &#x3D; CrashLoc.split(&quot; &quot;).first; auto loc &#x3D; CrashLoc.split(&quot; &quot;).second; source &#x3D; loc.split(&quot;:&quot;).first; line &#x3D; stoi(loc.split(&quot;:&quot;).second.str()); &#x2F;&#x2F; KA_LOGS(0, &quot;parsed loc: &quot; &lt;&lt; funcName &lt;&lt; &quot;\\n&quot;); &#x2F;&#x2F; KA_LOGS(0, &quot;source : &quot; &lt;&lt; source &lt;&lt; &quot;\\n&quot;); &#x2F;&#x2F; KA_LOGS(0, &quot;Line: &quot; &lt;&lt; line &lt;&lt; &quot;\\n&quot;); analyzed &#x3D; false; Ctx-&gt;InstNum &#x3D; 0; &#125; â€‹ å…¶ç»§æ‰¿äº†çˆ¶ç±»IterativeModulePassçš„æ„é€ å‡½æ•°ï¼Œå°†Ctxè®¾ç½®ä¸ºCtx_ï¼ŒIDè®¾ç½®ä¸ºâ€œCrashAnalyzerâ€ã€‚æ¥ä¸‹æ¥ï¼Œè®¾ç½®condï¼ˆå°±æ˜¯KAMain.ccä¸­çš„explicityï¼Œç”¨äºè¡¨æ˜æ˜¯å¦åœ¨reportä¸­æ‰¾åˆ°äº†æ˜¾å¼å¯checkç‚¹ï¼‰ï¼Œå¹¶å°†CrashLocä¸­çš„å‡½æ•°åç§°ä¸ä½ç½®ä¿¡æ¯æå–å‡ºæ¥ï¼Œåˆ†åˆ«èµ‹å€¼ç»™å˜é‡funcNameã€locã€ sourceã€lineã€‚æœ€åå°†Ctx-&gt;InstNumè®¾ç½®ä¸º0ã€‚ â€‹ CrashAnalyzer::doModulePasså¯¹æ¯ä¸ªå‡½æ•°è¿è¡ŒCrashAnalyzer::runOnFunction ï¼š &#x2F;&#x2F;CrashAnalyzer.cc bool CrashAnalyzer::doModulePass(Module* M) &#123; &#x2F;&#x2F; some functions are defined in headers &#x2F;&#x2F; if (moduleName.str() !&#x3D; M-&gt;getSourceFileName()) &#x2F;&#x2F; return false; for (Function &amp;F : *M) runOnFunction(&amp;F); return false; &#125; â€‹ CrashAnalyzer::runOnFunction()ä¼šå®šä½ä¹‹å‰åœ¨KAMain.ccä¸­å®šä½çš„CrashLocä¸­çš„å‡½æ•°ä»¥åŠcrashä½ç½®ï¼Œå¹¶éå†è¯¥å‡½æ•°çš„æ¯æ¡æŒ‡ä»¤ï¼š &#x2F;&#x2F;ç¡®å®šsource void CrashAnalyzer::runOnFunction(Function *F) &#123; &#x2F;&#x2F;åªå¯¹carshå‡½æ•°åšåˆ†æ if (funcName !&#x3D; F-&gt;getName() || analyzed) return; &#x2F;&#x2F;éå†æ¯æ¡æŒ‡ä»¤ for (inst_iterator i &#x3D; inst_begin(F), e &#x3D; inst_end(F); i !&#x3D; e; i++) &#123; Instruction* I &#x3D; &amp;*i; &#x2F;&#x2F;DILocation metadata node provides information &#x2F;&#x2F;such as the file name, line number, &#x2F;&#x2F;and column number of the source code location &#x2F;&#x2F;corresponding to a particular instruction or operation in the IR DILocation* Loc &#x3D; I-&gt;getDebugLoc(); if (Loc &#x3D;&#x3D; nullptr) &#123; continue; &#125; &#x2F;* remove &quot;.&#x2F;&quot; for header files *&#x2F; StringRef sourceF &#x3D; Loc-&gt;getScope()-&gt;getFilename(); if (sourceF.startswith(&quot;.&#x2F;&quot;)) &#123; sourceF &#x3D; sourceF.split(&quot;.&#x2F;&quot;).second; &#125; if (line &#x3D;&#x3D; Loc-&gt;getLine() &amp;&amp; sourceF &#x3D;&#x3D; source) &#123; &#x2F;&#x2F;æ˜¾å¼&#x2F;éšå¼å®šä½source &#x2F;&#x2F;...... &#125; &#125;&#x2F;&#x2F;end of for &#125;&#x2F;&#x2F;end of runOnFunction() â€‹ ç”±ä¸Šè¿°ä»£ç å¯çŸ¥ï¼Œå®šä½åˆ°call traceä¸­çš„crashå‡½æ•°åï¼Œä»£ç æ ¹æ®LLVM IRçš„debugä¿¡æ¯æ¥å®šä½LLVMæŒ‡ä»¤å¯¹åº”æºä»£ç çš„è¡Œæ•°ï¼Œä»¥æ­¤å®šä½åˆ°reportä¸­çš„crashè¡Œï¼Œä¾‹å¦‚å¯¹å¦‚ä¸‹call traceï¼š â€‹ æ ¹æ®å‡½æ•°åæ¥å®šä½Moduleå†…çš„Crashå‡½æ•°ï¼Œæ ¹æ®å¯¹åº”æ–‡ä»¶æ ‡å¿—çš„ä»£ç è¡Œæ•°æ¥å®šä½ç›¸å…³crashæŒ‡ä»¤ï¼ˆéå†æ¯ä¸ªæŒ‡ä»¤ï¼Œæ ¹æ®metaDataæä¾›çš„debugä¿¡æ¯æŸ¥çœ‹æŒ‡ä»¤å¯¹åº”çš„æºç è¡Œæ•°ï¼‰ã€‚ 2.6.1 Implicit Checking â€‹ CrashAnalyzer::runOnFunction()æ ¹æ®condå‚æ•°å†³å®šä»¥æ˜¾å¼/éšå¼çš„æ–¹å¼å®šä½åå‘æ±¡ç‚¹åˆ†æçš„source(å³å¯¼è‡´ç¨‹åºcrashçš„æŒ‡ä»¤)ã€‚å½“condä¸ºfalseæ—¶ï¼Œæ‰§è¡Œéšå¼æ£€æŸ¥(Implicit Checking)ï¼š &#x2F;&#x2F;CrashAnalyzer.cc -&gt; runOnFunction() &#x2F;&#x2F;Implicit Checking &#x2F;&#x2F;å¦‚æœæ²¡æœ‰å¯ä»¥æ˜ç¡®checkçš„ç‚¹ &#x2F;&#x2F;åˆ™åˆ†æéšå¼CrashæŒ‡ä»¤ if (!cond) &#123; &#x2F;&#x2F;isa&lt;&gt; ä¸ javaä¸­çš„instanceofç”¨æ³•ä¸€è‡´ &#x2F;&#x2F;ç”¨äºæµ‹è¯•Iæ˜¯å¦æ˜¯LoadInst&#x2F;StoreInstç±»å‹ &#x2F;&#x2F;æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false if (isa&lt;LoadInst&gt;(I) || isa&lt;StoreInst&gt;(I)) &#123; Ctx-&gt;TaintSrc.insert(I); Ctx-&gt;InstNum ++; &#125; &#x2F;&#x2F;å¦‚æœæ˜¯CallæŒ‡ä»¤ else if (isa&lt;CallInst&gt;(I)) &#123; Function *F &#x3D; cast&lt;CallInst&gt;(I)-&gt;getCalledFunction(); &#x2F;&#x2F;å¦‚æœä¸æ˜¯ç›´æ¥è°ƒç”¨æŒ‡ä»¤åˆ™ç›´æ¥è¿”å› if (F &#x3D;&#x3D; nullptr) &#123; KA_WARNS(0, &quot;Fail to find Function from the CallInst &quot;&lt;&lt;*I); continue; &#125; StringRef Fname &#x3D; F-&gt;getName(); &#x2F;* since we skip some debugging functions in the first step let&#39;s taint starting from these functions&#39; argument *&#x2F; &#x2F;&#x2F;è‹¥Calleeæ˜¯skipFuncï¼Œåˆ™è¯¥CallæŒ‡ä»¤ä½œä¸ºsource if (skipFunc.find(Fname) !&#x3D; skipFunc.end()) &#123; Ctx-&gt;TaintSrc.insert(I); &#x2F;&#x2F;è‹¥Calleeå‡½æ•°ååŒ…å«&quot;__write_once_size&quot; &#x2F;&#x2F;è·å–CallæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºsource &#125; else if (Fname.find(&quot;__write_once_size&quot;) !&#x3D; string::npos) &#123; Ctx-&gt;TaintSrc.insert(cast&lt;CallInst&gt;(I)-&gt;getArgOperand(0)); &#125;else &#123; KA_WARNS(0, &quot;Unknown call here &quot;&lt;&lt;*I); &#125; &#125; &#x2F;&#x2F;æ—¢ä¸æ˜¯å­˜å‚¨&#x2F;åŠ è½½æŒ‡ä»¤ï¼Œä¹Ÿä¸æ˜¯callæŒ‡ä»¤ï¼Œæ”¾å¼ƒ else &#123; KA_LOGS(1, &quot;Unknown Inst here &quot;&lt;&lt;*I); &#125; &#125;&#x2F;&#x2F;end of implicit checking &#x2F;&#x2F;explicit checking else&#123; &#x2F;&#x2F;... &#125; â€‹ å¯¹äºimplicit checkingï¼š â€‹ 1ï¼‰ è‹¥å®šä½çš„æŒ‡ä»¤æ˜¯LoadInst/StoreInstç±»å‹ï¼š â€‹ ç›´æ¥å°†æ­¤æŒ‡ä»¤ä½œä¸ºsourceã€‚ â€‹ 2ï¼‰ è‹¥å®šä½çš„æŒ‡ä»¤æ˜¯CallInstç±»å‹ï¼š â€‹ è‹¥è¯¥Callä¸æ˜¯ç›´æ¥è°ƒç”¨åˆ™ç›´æ¥ä¸¢å¼ƒï¼›å¦åˆ™è‹¥å…¶Calleeæ˜¯skipFuncï¼Œç›´æ¥å°†è¯¥æŒ‡ä»¤ä½œä¸ºsourceï¼›æˆ–è€…å…¶Calleeå‡½æ•°ååŒ…å«â€œ__write_once_sizeâ€ï¼Œå°†è¯¥CallæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä½œä¸ºsourceã€‚ â€‹ 3ï¼‰ è‹¥ä»¥ä¸ŠäºŒè€…éƒ½ä¸æ˜¯ï¼š â€‹ ä¸¢å¼ƒã€‚ 2.6.2 Explicit Checking â€‹ å½“condä¸ºtureæ—¶ï¼Œæ‰§è¡Œæ˜¾å¼æ£€æŸ¥(Explicit Checking)ã€‚å¯¹äºæ˜¾å¼æ£€æŸ¥ï¼ŒGREBEæ–‡ç« ä¸­çš„å®šä¹‰æ˜¯æœ‰æ˜ç¡®é”™è¯¯æ£€æŸ¥åŠŸèƒ½çš„é¢„å®šä¹‰å®ï¼ˆå¦‚WARN_ONå’ŒBUG_ONï¼‰ã€è¾…åŠ©å‡½æ•°ç­‰ï¼Œå…¶å…±æ€§æ˜¯åœ¨ä»£ç ä¸­ç›´æ¥è¿›è¡Œæ£€æŸ¥ï¼Œæ•…ä»£ç ä¸­åªåˆ†æCallInstç±»å‹æŒ‡ä»¤ï¼š &#x2F;&#x2F;CrashAnalyzer.cc -&gt; runOnFunction() &#x2F;&#x2F;explicit checking else&#123; if (isa&lt;CallInst&gt;(I)) &#123; CallInst *CI &#x3D; cast&lt;CallInst&gt;(I); &#x2F;&#x2F;è·å–ç›´æ¥è°ƒç”¨å­å‡½æ•° Function *F &#x3D; CI-&gt;getCalledFunction(); StringRef Fname &#x3D; &quot;&quot;; &#x2F;&#x2F; if calling asm if (F !&#x3D; nullptr) &#123; Fname &#x3D; F-&gt;getName(); &#125; &#x2F;&#x2F;...... &#125; &#123; â€‹ é’ˆå¯¹ä¸åŒçš„è°ƒç”¨æƒ…å†µï¼Œå…¶å…·ä½“å¤„ç†å¦‚ä¸‹ï¼š &#x2F;* handle ODEBUG and DEBUG_OBJECTS_FREE. * which generate warns using &quot;implicit&quot; * checkings *&#x2F; if (Fname.find(&quot;init_work&quot;) !&#x3D; string::npos || Fname.find(&quot;print_unlock_imbalance_bug&quot;) !&#x3D; string::npos || Fname.find(&quot;debug_print_object&quot;) !&#x3D; string::npos || Fname.find(&quot;debug_object_init&quot;) !&#x3D; string::npos || Fname.find(&quot;debug_assert_init&quot;) !&#x3D; string::npos || &#x2F;* DEBUG_OBJECTS_FREE *&#x2F; Fname.find(&quot;debug_check_no_obj_freed&quot;) !&#x3D; string::npos) &#123; Ctx-&gt;TaintSrc.insert(I); &#125; â€‹ å¯¹äºå­å‡½æ•°åä¸­å­˜åœ¨â€œprintkâ€/å†…è”æ±‡ç¼–è°ƒç”¨çš„ï¼Œè¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š &#x2F;&#x2F;å®šä½æŒ‡ä»¤å±äºçš„BB BasicBlock *BB &#x3D; CI-&gt;getParent(); KA_LOGS(2, &quot;Found BB : &quot;&lt;&lt;*BB); KA_LOGS(2, &quot;terminator : &quot;&lt;&lt;*BB-&gt;getTerminator()); Value *condV; bool warnOnce &#x3D; false; â€‹ æ¥ç€è¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š while (BB-&gt;getSinglePredecessor()) &#123; &#x2F;&#x2F;Predecessorï¼Œå‰èº«ï¼ŒæŒ‡åœ¨æ§åˆ¶æµä¸­ä¸€ä¸ªåŸºæœ¬å—çš„ä¸Šä¸€ä¸ªå— BasicBlock *newBB &#x3D; BB-&gt;getSinglePredecessor(); &#x2F;* heuristic: if sotring true to &#96;refcount_inc_checked.__warned&#96; * exists in the skipped BB, there should exist an redundant * checking for the &#96;refcount_inc_checked.__warned&#96; *&#x2F; &#x2F;&#x2F;éå†åŸºæœ¬å—ä¸­çš„æ¯æ¡æŒ‡ä»¤ for (Instruction &amp;BBInst : *BB) &#123; &#x2F;&#x2F;å¦‚æœæ˜¯StoreInstç±»å‹ if (isa&lt;StoreInst&gt;(&amp;BBInst)) &#123; StoreInst *SI &#x3D; cast&lt;StoreInst&gt;(&amp;BBInst); &#x2F;&#x2F;å¦‚æœStoreInstæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¸¸æ•° &#x2F;&#x2F;&amp;&amp; ç¬¬äºŒä¸ªå‚æ•°ä¸ºå…¨å±€å˜é‡ if (isa&lt;ConstantInt&gt;(SI-&gt;getOperand(0)) &amp;&amp; isa&lt;GlobalVariable&gt;(SI-&gt;getOperand(1))) &#123; &#x2F;&#x2F;è·å–ç¬¬äºŒä¸ªå‚æ•°çš„åç§° StringRef GVName &#x3D; cast&lt;GlobalVariable&gt;(SI-&gt;getOperand(1))-&gt;getName(); KA_LOGS(0, &quot;Found Global Value: &quot;&lt;&lt;GVName); &#x2F;&#x2F;å¦‚æœå…¨å±€å˜é‡åç§°åŒ…å«â€œ__warnedâ€ &#x2F;&#x2F;å¹¶ä¸”å­å‡½æ•°Få­˜åœ¨ï¼ˆç›´æ¥è°ƒç”¨ï¼‰ &#x2F;&#x2F;å¹¶ä¸”å­å‡½æ•°åç§°åŒ…å«â€œ__warn_printkâ€ if (GVName.find(&quot;__warned&quot;) !&#x3D; string::npos &amp;&amp; F &amp;&amp; F-&gt;getName().find(&quot;__warn_printk&quot;) !&#x3D; string::npos) &#123; KA_LOGS(0, &quot;Warn ONCE checking here....&quot;); warnOnce &#x3D; true; &#125; &#125; &#125; &#125; &#x2F;&#x2F;å¦‚æœæ˜¯BranchInstç±»å‹ if (isa&lt;BranchInst&gt;(newBB-&gt;getTerminator())) &#123; &#x2F;&#x2F;getTerminator()è·å–åŸºæœ¬å—çš„ç»ˆæ­¢æŒ‡ä»¤ï¼Œä¾‹å¦‚åˆ†æ”¯æŒ‡ä»¤brï¼Œretç­‰ &#x2F;&#x2F;å¦‚æœPredecessorå—ä¸­çš„ç»ˆæ­¢æŒ‡ä»¤æ˜¯BranchInstç±»å‹ BranchInst *BI &#x3D; cast&lt;BranchInst&gt;(newBB-&gt;getTerminator()); &#x2F;&#x2F;æ£€æŸ¥è¯¥bræŒ‡ä»¤æ˜¯å¦æ˜¯æ¡ä»¶è·³è½¬ï¼ŒisConditional() &#x2F;&#x2F;isConditional()è¿”å›true&#x2F;false if (BI-&gt;isConditional()) &#123; KA_LOGS(0, &quot;Found first condition : &quot;&lt;&lt;*BI-&gt;getCondition()); condV &#x3D; BI-&gt;getCondition(); break; &#125; &#125; &#x2F;&#x2F;å¦‚æœçˆ¶å—çš„ç»ˆæ­¢æŒ‡ä»¤ä¸æ˜¯conditional brï¼Œåˆ™ç»§ç»­å‘ä¸Šå¯»æ‰¾ BB &#x3D; newBB; KA_LOGS(1, &quot;Skipping BB: &quot;&lt;&lt;*BB); â€‹ å¦‚æœæŒ‡ä»¤çš„çˆ¶åŸºæœ¬å—çš„ç»ˆæ­¢æŒ‡ä»¤æ˜¯ä¸€ä¸ªcontional brå¹¶ä¸”æŒ‡ä»¤æ‰€åœ¨çš„åŸºæœ¬å—ä¸å­˜åœ¨ä¸Šè¿°çš„warnè°ƒç”¨ï¼Œåˆ™å°†conditionæŒ‡ä»¤è®¾ç½®ä¸ºæ±¡ç‚¹æºsourceï¼š &#x2F;* * if we find a condition value and the logging is not WARN_ONCE, * we mark the condition value as taint source and continue. * *&#x2F; if (condV &amp;&amp; !warnOnce ) &#123; Ctx-&gt;TaintSrc.insert(condV); continue; &#125; â€‹ æ¥ä¸‹æ¥è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š &#x2F;&#x2F; null the condition Value *SecondCondV &#x3D; nullptr; &#x2F;&#x2F; breadth first search std::vector&lt;BasicBlock *&gt; BBVec; std::set&lt;BasicBlock *&gt; BBSet; BBVec.push_back(BB); &#x2F;&#x2F;...... while (!BBVec.empty() &amp;&amp; !SecondCondV) &#123; BB &#x3D; BBVec.back(); BBVec.pop_back(); &#x2F;&#x2F; cyclic basic block if (!BBSet.insert(BB).second) &#123; continue; &#125; if (!BB-&gt;hasNPredecessorsOrMore(1)) &#123; &#x2F;* no predecessor, let&#39;s find find its parents *&#x2F; &#x2F;&#x2F;getParent()ç”¨äºè·å–å½“å‰åŸºæœ¬å—æ‰€åœ¨å‡½æ•° auto fName &#x3D; BB-&gt;getParent()-&gt;getName(); &#x2F;&#x2F;å¦‚æœè¯¥å‡½æ•°åœ¨reportæŠ¥å‘Šçš„Call traceä¸­ if (Ctx-&gt;CallGraph.find(fName) !&#x3D; Ctx-&gt;CallGraph.end()) &#123; auto callerName &#x3D; Ctx-&gt;CallGraph[fName]; for (auto M : Ctx-&gt;Callers) &#123; if (M.first-&gt;getName().endswith(fName)) &#123; auto CISet &#x3D; M.second; for (CallInst *caller : CISet) &#123; &#x2F;&#x2F;æ ¹æ®è°ƒç”¨å›¾æ‰¾åˆ°parent if (caller-&gt;getFunction()-&gt;getName() &#x3D;&#x3D; callerName) &#123; BB &#x3D; caller-&gt;getParent(); KA_LOGS(0, &quot;Backwarding to its parent &quot;&lt;&lt;callerName); break; &#125; &#125; &#125; &#125; &#125; &#125; &#x2F;&#x2F;éå†å…¶predecessors for (BasicBlock *Pred : predecessors(BB)) &#123; KA_LOGS(1, &quot;Found pre : &quot;&lt;&lt;*Pred); BBVec.push_back(Pred); if (isa&lt;BranchInst&gt;(Pred-&gt;getTerminator())) &#123; BranchInst *BI &#x3D; cast&lt;BranchInst&gt;(Pred-&gt;getTerminator()); if (BI-&gt;isConditional() &amp;&amp; condV !&#x3D; BI-&gt;getCondition()) &#123; SecondCondV &#x3D; BI-&gt;getCondition(); assert(SecondCondV); KA_LOGS(0, &quot;Found 1st condition : &quot;&lt;&lt;*condV); KA_LOGS(0, &quot;Found 2nd condition : &quot;&lt;&lt;*SecondCondV); break; &#125; &#125; &#125; &#125; if (SecondCondV) &#123; Ctx-&gt;TaintSrc.insert(SecondCondV); continue; &#125; â€‹ è¿™é‡Œå…·ä½“ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšè¿˜éœ€æ·±å…¥æ¢ç´¢ã€‚ 2.7 Backward Taint Analysis â€‹ æ±¡ç‚¹åˆ†æè¿‡ç¨‹å­˜å‚¨åœ¨StructFinderPass::doAnalyze()ä¸­ï¼š &#x2F;&#x2F; StructFinder.cc -&gt; doAnalyze() &#x2F;&#x2F; væ˜¯æ±¡ç‚¹æº void StructFinderPass::doAnalyze(Value *v) &#123; VSet vs; vs.clear(); &#x2F;&#x2F; å°†æ±¡ç‚¹åˆ†æçš„ç»“æœå­˜å‚¨åˆ°å…¨å±€å˜é‡Ctx-&gt;CriticalStä¸­ mergeSet(Ctx-&gt;CriticalSt, taintAnalysis(v, vs, false)); &#125; &#x2F;&#x2F; StructFinderPass -&gt; mergeSet() static void mergeSet(std::set&lt;llvm::StringRef&gt; &amp;a, std::set&lt;llvm::StringRef&gt; b) &#123; a.insert(b.begin(), b.end()); &#125; â€‹ æ¥ä¸‹æ¥è¿›å…¥æ­£å¼çš„æ±¡ç‚¹åˆ†æè¿‡ç¨‹StructFinderPass::taintAnalysisï¼Œé¦–å…ˆéå†æ±¡ç‚¹æºçš„ç”¨æˆ·æŒ‡ä»¤ï¼Œå¯¹å…¶ä¸­çš„CastæŒ‡ä»¤è¿›è¡Œå¤„ç†ï¼š &#x2F;&#x2F;StructFinder.cc -&gt; taintAnalysis() std::set&lt;llvm::StringRef&gt; result; &#x2F;&#x2F;æ¯ä¸ªæ±¡ç‚¹æºå•ç‹¬ä¸€ä¸ªresult result.clear(); if (!vs.insert(V).second) &#123; return result; &#125; &#x2F;&#x2F; debuging!!! remove this when deploying blockset &#x2F;&#x2F; found &#x3D; false; KA_LOGV(0, V); &#x2F;&#x2F; find the casting... &#x2F;&#x2F; V-&gt;users()è·å–æ±¡ç‚¹æºçš„ç”¨æˆ·æŒ‡ä»¤ for (auto *user : V-&gt;users()) &#123; &#x2F;&#x2F;BitCastInstç±»å‹æ˜¯LLVMçš„æ•°æ®ç±»å‹è½¬æ¢æŒ‡ä»¤ &#x2F;&#x2F;å…¶è½¬æ¢æ•°æ®æ ¼å¼ä½†ä¸æ”¹å˜å…¶å­˜å‚¨æ–¹å¼ &#x2F;&#x2F;ä¾‹å¦‚ï¼š &#x2F;&#x2F;%ptr &#x3D; alloca i32* &#x2F;&#x2F;%casted_ptr &#x3D; bitcast i32** %ptr to i8** if (isa&lt;BitCastInst&gt;(user)) &#123; BitCastInst *BCI &#x3D; dyn_cast&lt;BitCastInst&gt;(user); &#x2F;&#x2F; getDestTy &#x3D; get distination type Type *dst &#x3D; BCI-&gt;getDestTy(); &#x2F;&#x2F; *Type -&gt; StringRef auto name &#x3D; handleType(dst); KA_LOGS(0, &quot;Found &quot;&lt;&lt;name&lt;&lt;&quot; in casting&quot;); addToSet(result, name); &#125; &#125; â€‹ å¯è§ï¼Œåªè¦æ±¡ç‚¹æºçš„ç”¨æˆ·æŒ‡ä»¤æ˜¯BitCastInstç±»å‹ï¼Œå°±å°†è¯¥æŒ‡ä»¤çš„DestTypeçš„åç§°åŠ å…¥resultä¸­ã€‚ â€‹ æ¥ä¸‹æ¥ï¼Œå¯¹æ±¡ç‚¹æºæœ¬èº«åˆ†ä¸ºä¸‰ç±»ï¼šInstructionã€Argumentä¸GlobalVaribalï¼Œä¸‰ç±»æ±¡ç‚¹æºåˆ†åˆ«è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚æ— éœ€èµ˜è¿°ï¼ŒInstructionç±»å‹å°±æ˜¯æŒ‡ä»¤ç±»å‹ï¼›Argumentç±»å‹ç”¨äºæè¿°å‡½æ•°å£°æ˜ï¼ŒGlobalVaribalè¡¨ç¤ºå…¨å±€å˜é‡ã€‚ 0. StructFinderPass::handleType â€‹ handleType()å‡½æ•°ç”¨äºè·å–struct/intçš„åç§°ï¼Œå¦‚æœä¼ å…¥çš„typeæ˜¯æŒ‡é’ˆæˆ–æ•°ç»„åˆ™é€’å½’æŸ¥æ‰¾å…¶æŒ‡å‘ç±»å‹ã€‚ StringRef StructFinderPass::handleType(Type *ty) &#123; if (ty &#x3D;&#x3D; nullptr) return StringRef(&quot;&quot;); if (ty-&gt;isStructTy()) &#123; StructType *ST &#x3D; dyn_cast&lt;StructType&gt;(ty); StringRef stname &#x3D; ST-&gt;getName(); &#x2F;&#x2F;å¦‚æœè¯¥ç»“æ„ä»¥struct.ä¸ºé¦–ï¼Œ &#x2F;&#x2F;å¹¶ä¸”ä¸æ˜¯åŒ¿åç»“æ„ if (stname.startswith(&quot;struct.&quot;) &amp;&amp; !stname.startswith(&quot;struct.anon&quot;)) return stname; &#125; else if (ty-&gt;isPointerTy())&#123; ty &#x3D; cast&lt;PointerType&gt;(ty)-&gt;getElementType(); return handleType(ty); &#125; else if (ty-&gt;isArrayTy())&#123; ty &#x3D; cast&lt;ArrayType&gt;(ty)-&gt;getElementType(); return handleType(ty); &#125; else if (ty-&gt;isIntegerTy()) &#123; return StringRef(&quot;int&quot;); &#125; return StringRef(&quot;&quot;); &#125; 1. Instructionç±»å‹sourceï¼š â€‹ é’ˆå¯¹ä¸åŒç±»å‹çš„Insturctionå†åˆ†åˆ«å¤„ç†. 1.1 Instruction::Store: â€‹ åœ¨LLVM IRä¸­ï¼ŒstoreæŒ‡ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š %value = ... %ptr = ... store &lt;type1> %value, &lt;type2>* %ptr â€‹ å…¶è¡¨æ˜å°†type1æ ¼å¼çš„valueå­˜å…¥type2æ ¼å¼çš„æŒ‡é’ˆptræ‰€æŒ‡å‘çš„å†…å­˜ä¸­ã€‚type1ä¸type2å¿…é¡»ç›¸åŒæˆ–è€…å…¼å®¹ã€‚ â€‹ åœ¨LLVM IRä¸­ï¼ŒgetelementptræŒ‡ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š %array = alloca [10 x i32] %element_ptr = getelementptr [10 x i32], [10 x i32]* %array, i32 0, i32 3 â€‹ å…¶ç”¨äºè®¡ç®—ç»“æ„ä¸­æŸä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼ŒCè¯­è¨€ä¸­æ‰€æœ‰å¯¹æ•°ç»„/ç»“æ„ä½“çš„å–å€¼æ“ä½œéƒ½ä¼šè¢«ç¿»è¯‘ä¸ºgetelementptrã€‚ â€‹ åœ¨LLVM IRä¸­ï¼Œload/storeæŒ‡ä»¤ç»å¸¸ä¸getelementptræŒ‡ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºè¡¨ç¤ºå¯¹æ•°ç»„/ç»“æ„ä½“çš„èµ‹å€¼æ“ä½œï¼Œä¾‹å¦‚ï¼š %arr = alloca [10 x i32] %x = load i32, i32* getelementptr inbounds ([10 x i32], [10 x i32]* %arr, i64 0, i64 3) %arr = alloca [10 x i32] %3 = getelementptr inbounds [10 x i32], [10 x i32]* %arr, i64 0, i64 3 store i32 7, i32* %3 â€‹ ä¸Šè¿°ä¸¤ä¸ªä»£ç å—åˆ†åˆ«è¡¨ç¤ºä»æ•°ç»„ä¸­å–å€¼å’Œä¸ºæ•°ç»„æŸä¸ªæˆå‘˜èµ‹å€¼ã€‚ â€‹ é’ˆå¯¹storeæŒ‡ä»¤çš„åˆ†æè¿‡ç¨‹å¦‚ä¸‹ï¼š &#x2F;&#x2F; StructFinder.cc -&gt; taintAnalysis() &#x2F;&#x2F; if (auto *I &#x3D; dyn_cast&lt;Instruction&gt;(V)) &#x2F;&#x2F; I-&gt;getOpcode() &#x3D;&#x3D; Instruction::Store: case Instruction::Store:&#123; StoreInst *SI &#x3D; cast&lt;StoreInst&gt;(I); &#x2F;&#x2F;è·å–æŒ‡é’ˆç±»å‹ Type *SType &#x3D; SI-&gt;getPointerOperandType(); &#x2F;&#x2F;*Type -&gt; StringRef StringRef stName &#x3D; handleType(SType); &#x2F;&#x2F;å¦‚æœè¯¥æŒ‡é’ˆç±»å‹å·²ç»åœ¨è¯¥sourceçš„resultä¸­äº†åˆ™è·³è¿‡åˆ†æ if (!addToSet(result, stName)) &#123; break; &#125; &#x2F;&#x2F; would find a GetElementType if (!isa&lt;GetElementPtrInst&gt;(SI-&gt;getOperand(0))) &#123; &#x2F;&#x2F; assert(0 &amp;&amp; &quot;didn&#39;t find a GetElementPtrInst before StoreInst&quot;); &#125; Value *GetV &#x3D; SI-&gt;getOperand(1); &#x2F;&#x2F; we skip these getElement since they are nested while (isa&lt;GetElementPtrInst&gt;(GetV)) &#123; GetElementPtrInst *GEI &#x3D; cast&lt;GetElementPtrInst&gt;(GetV); &#x2F;&#x2F;getSourceElementType()è·å–å–å€¼æ“ä½œçš„åŸåœ°å€ &#x2F;&#x2F;hanleTypeè·å–ç±»å‹åç§°ï¼Œä¾‹å¦‚ç»“æ„çš„åç§° StringRef name &#x3D; handleType(GEI-&gt;getSourceElementType()); &#x2F;&#x2F;å¦‚æœè¯¥ç»“æ„å·²ç»å¤„ç†åˆ™è·³è¿‡ if (!addToSet(result, name)) &#123; break; &#125; &#x2F;&#x2F;ç»§ç»­é€’å½’ï¼Œå‘ä¸Šå¯»æ‰¾å…¶æ“ä½œæŒ‡é’ˆ GetV &#x3D; GEI-&gt;getOperand(0); &#125; &#x2F;&#x2F; the outside GetElementPtrInst &#x2F;&#x2F; å¤„ç†æœ€åçš„çš„GteV mergeSet(result, taintAnalysis(GetV, vs, found)); break; &#125; â€‹ æ­£å¸¸æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªstoreæŒ‡ä»¤ï¼Œå¦‚æœå…¶value ï¼ˆOperand(0)ï¼‰ä¸ºæ±¡ç‚¹æºï¼Œé‚£æ±¡ç‚¹å°±ä¼šé€šè¿‡è¯¥æŒ‡ä»¤ä¼ æ’­åˆ°å¯¹åº”çš„pträ¸­å»ï¼ˆOperand(1)ï¼‰ã€‚ä½†ç”±äºCè¯­è¨€ä¸­å­˜åœ¨å¯¹æ•°ç»„/ç»“æ„ä½“å–å€¼çš„æ“ä½œï¼Œæ•…storeæŒ‡ä»¤çš„Pträ¹Ÿå¯èƒ½æ˜¯GetElementPtrInstç±»å‹ï¼Œæ‰€ä»¥ä»£ç ä¸­å­˜åœ¨å¯¹storeæŒ‡ä»¤æ“ä½œæ•°çš„åå¤é€’å½’è¿­ä»£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 1.2 Instruction::load â€‹ loadæŒ‡ä»¤çš„ä½œç”¨æ˜¯ä»ç›®æ ‡åœ°å€å–æ“ä½œæ•°ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š â€‹ loadæŒ‡ä»¤å°†ptræ‰€æŒ‡å‘çš„æ•°æ®ä»¥&lt; type &gt;çš„å½¢å¼å–å‡ºï¼Œå¹¶å­˜å…¥%1ä¸­ã€‚ â€‹ LoadæŒ‡ä»¤å¤„ç†éƒ¨åˆ†ï¼š case Instruction::Load:&#123; &#x2F;&#x2F; should pair with a GetElementPtr &#x2F;&#x2F; remember to check if it is nested LoadInst *LI &#x3D; cast&lt;LoadInst&gt;(I); Type *lType &#x3D; LI-&gt;getPointerOperandType(); &#x2F;&#x2F;è·å–ptræŒ‡å‘çš„ç»“æ„åç§° StringRef stName &#x3D; handleType(lType); if (!addToSet(result, stName)) &#123; break; &#125; &#x2F;&#x2F;å¦‚æœLoadæŒ‡ä»¤çš„ptræŒ‡å‘çš„ç»“æ„ä»¥&quot;struct.list_head&quot;å¼€å¤´ &#x2F;&#x2F;å¹¶ä¸”LoadæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºConstantExpr(ç®—æœ¯å¼)ç±»å‹ if (stName &#x3D;&#x3D; &quot;struct.list_head&quot; &amp;&amp; isa&lt;ConstantExpr&gt;(LI-&gt;getOperand(0))) &#123; &#x2F;&#x2F; looking type info in list_head Value *bitcastV &#x3D; nullptr; &#x2F;&#x2F;åˆ†ææ±¡ç‚¹æºçš„æ‰€æœ‰ç”¨æˆ·æŒ‡ä»¤ for (auto *user : V-&gt;users()) &#123; &#x2F;&#x2F;å¦‚æœç”¨æˆ·æŒ‡ä»¤æ˜¯phiæŒ‡ä»¤ if (isa&lt;PHINode&gt;(user)) &#123; &#x2F;&#x2F;ç»§ç»­è·å–å…¶çˆ¶æŒ‡ä»¤ for (auto *uuser : user-&gt;users()) &#123; &#x2F;&#x2F;å¦‚æœå…¶æ˜¯ä¸€ä¸ªç±»å‹è½¬æ¢æŒ‡ä»¤ if (isa&lt;BitCastInst&gt;(uuser)) &#123; bitcastV &#x3D; uuser; &#125; &#125; &#125; &#125; &#x2F;&#x2F;å¦‚æœæ‰¾ä¸åˆ°ç±»å‹è½¬æ¢æŒ‡ä»¤åˆ™è·³è¿‡ if (bitcastV &#x3D;&#x3D; nullptr) &#123; break; &#125; &#x2F;&#x2F;éå†bitcastæŒ‡ä»¤çš„çˆ¶æŒ‡ä»¤ for (auto *user : bitcastV-&gt;users()) &#123; &#x2F;&#x2F;å¦‚æœå…¶çˆ¶æŒ‡ä»¤ä¹Ÿæ˜¯bitcast if (isa&lt;BitCastInst&gt;(user)) &#123; BitCastInst *BCI &#x3D; dyn_cast&lt;BitCastInst&gt;(user); Type *src &#x3D; BCI-&gt;getDestTy(); &#x2F;&#x2F;å°†è½¬æ¢åçš„ç±»å‹åç§°åŠ å…¥result if (!addToSet(result, handleType(src))) &#123; &#125; &#125; &#125; break; &#125; &#x2F;&#x2F; would find a GetElementType if (!isa&lt;GetElementPtrInst&gt;(LI-&gt;getOperand(0))) &#123; &#x2F;&#x2F; it may not in some cases &#x2F;&#x2F; outs() &lt;&lt; &quot;in &quot; &lt;&lt; LI-&gt;getFunction()-&gt;getName() &lt;&lt; &quot;\\n&quot;; &#x2F;&#x2F; assert(0 &amp;&amp; &quot;didn&#39;t find a GetElementPtrInst before LoadInst&quot;); &#125; &#x2F;&#x2F;åŒstoreæŒ‡ä»¤ï¼Œç»§ç»­é€’å½’åˆ†æ Value *GetV &#x3D; LI-&gt;getOperand(0); &#x2F;&#x2F; we skip these getElement since they are nested while (isa&lt;GetElementPtrInst&gt;(GetV)) &#123; GetElementPtrInst *GEI &#x3D; cast&lt;GetElementPtrInst&gt;(GetV); StringRef name &#x3D; handleType(GEI-&gt;getSourceElementType()); if (!addToSet(result, name)) &#123; break; &#125; GetV &#x3D; GEI-&gt;getOperand(0); &#125; &#x2F;&#x2F; the outside GetElementPtrInst mergeSet(result, taintAnalysis(GetV, vs, found)); break; &#125; â€‹ å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼ŒloadæŒ‡ä»¤ä¸storeæŒ‡ä»¤ç›¸æ¯”å¢åŠ äº†struct.list_headçš„åˆ†æéƒ¨åˆ†ï¼Œlist_headæ˜¯Linuxå†…æ ¸ä¸­çš„ç»å…¸åŒå‘é“¾è¡¨ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š struct list_head &#123; struct list_head *next, *prev; &#125;; â€‹ é’ˆå¯¹struct.list_headï¼Œè‹¥å…¶æ»¡è¶³stName == \"struct.list_head\" &amp;&amp; isa&lt; ConstantExpr &gt;(LI&gt;getOperand(0))ï¼š â€‹ åˆ™ä»£è¡¨å…¶LoadæŒ‡ä»¤çš„typeä¸ºstruct.list_headç±»å‹ä¸”å¯¹åº”çš„æŒ‡é’ˆptræ˜¯ConstantExprç®—æœ¯å¼ç±»å‹ï¼Œåˆ™åˆ†æè¯¥LoadæŒ‡ä»¤çš„æ‰€æœ‰çˆ¶æŒ‡ä»¤ï¼Œå…¶å…·ä½“åˆ†ææµç¨‹å¦‚ä¸‹ï¼š â€‹ å¯¹äºæŸä¸ªLoadæŒ‡ä»¤æ±¡ç‚¹æºï¼Œåˆ†æå…¶çˆ¶æŒ‡ä»¤é‡Œçš„phiæŒ‡ä»¤ï¼Œå†åˆ†æphiæŒ‡ä»¤çš„çˆ¶æŒ‡ä»¤ï¼Œæ‰¾åˆ°å…¶ä¸­çš„bitcastæŒ‡ä»¤ï¼Œåç»­å†æ¬¡åˆ†æè¿™ä¸ªbitcastæŒ‡ä»¤çš„çˆ¶æŒ‡ä»¤ï¼š â€‹ å¦‚æœbitcastVçš„çˆ¶æŒ‡ä»¤ä¹Ÿä¸ºbitcastæŒ‡ä»¤ï¼Œåˆ™å°†å…¶ç›®æ ‡typeï¼ˆå³ä¸Šå›¾æœ€åä¸€è¡Œçš„type2ï¼‰æ‰€æŒ‡å‘çš„ç»“æ„åç§°åŠ å…¥resulté›†ä¸­ã€‚æ¥ä¸‹æ¥é’ˆå¯¹GetElementPtrInstçš„åˆ†æåŒstoreæŒ‡ä»¤ï¼Œå…·ä½“è¿‡ç¨‹è§ä¸Šè¿°ä»£ç ã€‚ 1.3 Instruction::Call â€‹ éå†CallæŒ‡ä»¤çš„æ‰€æœ‰å‚æ•°ï¼Œå¦‚æœå¦‚æœè¯¥å‚æ•°ä¸æ˜¯æŸä¸ªç»“æ„ä½“ä¸­çš„å¼•ç”¨åˆ™å°†å…¶æŒ‡å‘çš„ç»“æ„ååŠ å…¥resultï¼Œç„¶åé€’å½’æ·±å…¥åˆ†æargå‚æ•°ï¼š case Instruction::Call:&#123; CallInst *CI = cast&lt;CallInst>(I); //éå†å…¶å‚æ•°åˆ—è¡¨ for (auto AI = CI->arg_begin(), E = CI->arg_end(); AI != E; AI++) &#123; //è·å–å•ä¸ªå‚æ•° Value* arg = dyn_cast&lt;Value>(&amp;*AI); //è·³è¿‡å¸¸æ•° if (dyn_cast&lt;Constant>(arg)) &#123; continue; &#125; // if not &amp;a->b // å¦‚æœè¯¥å‚æ•°ä¸æ˜¯æŸä¸ªç»“æ„ä½“ä¸­çš„å¼•ç”¨ï¼ˆåç»­ä¼šåˆ†æï¼‰ if (!isa&lt;GetElementPtrInst>(arg)) &#123; auto name = handleType(arg->getType()); addToSet(result, name); &#125; // taint argument // ç»§ç»­é€’å½’åˆ†æ mergeSet(result, taintAnalysis(arg, vs, found)); &#125; break; &#125; 1.4 Instruction::GetElementPtr â€‹ GetElementPtræŒ‡ä»¤çš„åˆ†æå¤§ä½“åŒä¸Šï¼Œä¹Ÿæ˜¯é€’å½’åˆ†æï¼Œè¯¦è§å¦‚ä¸‹ä»£ç ï¼š case Instruction::GetElementPtr:&#123; &#x2F;&#x2F; this is nested GetElementPtrInst *GEI &#x3D; cast&lt;GetElementPtrInst&gt;(I); &#x2F;&#x2F; while (isa&lt;GetElementPtrInst&gt;(GEI-&gt;getOperand(0))) &#123; &#x2F;&#x2F; &#x2F;&#x2F; nest struct &#x2F;&#x2F; Type *src &#x3D; GEI-&gt;getSourceElementType(); &#x2F;&#x2F; GEI &#x3D; cast&lt;GetElementPtrInst&gt;(I); &#x2F;&#x2F; &#125; Type *src &#x3D; GEI-&gt;getSourceElementType(); &#x2F;&#x2F; handle type auto name &#x3D; handleType(src); if (!addToSet(result, name)) &#123; break; &#125; &#x2F;&#x2F; addToSet(result, name); mergeSet(result, taintAnalysis(GEI-&gt;getOperand(0), vs, found)); &#x2F;&#x2F; handle GetElementPtr other operands for (unsigned i &#x3D; 1, e &#x3D; I-&gt;getNumOperands(); i !&#x3D; e; i++) &#123; V &#x3D; I-&gt;getOperand(i); if (dyn_cast&lt;Constant&gt;(V)) &#123; continue; &#125; &#x2F;&#x2F; taint value mergeSet(result, taintAnalysis(V, vs, found)); &#125; break; &#125; 1.5 Instruction::PHI â€‹ LLVM IRä¸­PHIæŒ‡ä»¤çš„æ ¼å¼å¦‚ä¸‹æ‰€ç¤º: â€‹ phiæŒ‡ä»¤ç”¨äºä¸åŒä»£ç å—çš„åˆ†æ”¯åˆ¤æ–­ï¼Œå…¶æ ¹æ®ä¸åŒä»£ç å—è½¬ç§»æ¥çš„labelé€‰æ‹©valueï¼Œå¯¹phiæŒ‡ä»¤çš„ç›¸å…³å‡½æ•°æ“ä½œå¦‚ä¸‹æ‰€ç¤ºï¼š PHINode::getNumIncomingValues()ï¼šè¿”å›PHIèŠ‚ç‚¹çš„å…¥è¾¹æ•°é‡ï¼Œå³ä¸Šå›¾æ–¹æ‹¬å·çš„æ•°é‡ï¼› PHINode::getIncomingValues(i)ï¼šè¿”å›ç¬¬iä¸ªèŠ‚ç‚¹çš„valueï¼› â€‹ å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š case Instruction::PHI:&#123; &#x2F;&#x2F; check code coverage here to find the node PHINode *PN &#x3D; cast&lt;PHINode&gt;(I); &#x2F;&#x2F;éå†æ¯ä¸ªå…¥è¾¹èŠ‚ç‚¹ for (unsigned i &#x3D; 0, e &#x3D; PN-&gt;getNumIncomingValues(); i !&#x3D; e; i++) &#123; &#x2F;&#x2F;è·å–è¯¥èŠ‚ç‚¹çš„value Value* IV &#x3D; PN-&gt;getIncomingValue(i); &#x2F;&#x2F;è¿™é‡Œä»€ä¹ˆéƒ½æ²¡åš if (Instruction *II &#x3D; dyn_cast&lt;Instruction&gt;(IV)) &#123; &#x2F;&#x2F; if II not get covered &#x2F;&#x2F; continue &#125; &#x2F;&#x2F;é€’å½’åˆ†ææ¯ä¸ªèŠ‚ç‚¹çš„value mergeSet(result, taintAnalysis(IV, vs, found)); &#125; break; &#125; 1.6 Instruction::Alloca â€‹ AllocaæŒ‡ä»¤ç”¨äºåˆ†é…å†…å­˜ï¼Œè¿™é‡Œéå†å…¶æ‰€æœ‰çˆ¶æŒ‡ä»¤ï¼š case Instruction::Alloca: &#x2F;&#x2F; return &#x2F;&#x2F; solve alias &#x2F;&#x2F;éå†å…¶æ‰€æœ‰çˆ¶æŒ‡ä»¤ for (auto *user : V-&gt;users()) &#123; &#x2F;&#x2F;è‹¥æ˜¯storeæŒ‡ä»¤ if (isa&lt;StoreInst&gt;(user)) &#123; StoreInst *SI &#x3D; cast&lt;StoreInst&gt;(user); &#x2F;&#x2F;è·å–storeçš„å‚æ•° Value *next &#x3D; SI-&gt;getOperand(0); &#x2F;&#x2F;é€’å½’åˆ†æ mergeSet(result, taintAnalysis(next, vs, found)); &#125; &#125; break; â€‹ 1.7 Instruction::BitCast â€‹ BitCaståŒç†ï¼Œå…·ä½“è§ä»£ç ï¼š case Instruction::BitCast:&#123; &#x2F;&#x2F; handle type info BitCastInst *BCI &#x3D; dyn_cast&lt;BitCastInst&gt;(V); Type *src &#x3D; BCI-&gt;getSrcTy(); auto name &#x3D; handleType(src); if (!addToSet(result, name)) &#123; break; &#125; mergeSet(result, taintAnalysis(BCI-&gt;getOperand(0), vs, found)); break; &#125; 1.8 case Instruction::Select â€‹ SelectæŒ‡ä»¤ç±»ä¼¼äºCè¯­è¨€ä¸­çš„x?:a:bè¯­æ³•ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š â€‹ å…¶åˆ†æé€»è¾‘è·Ÿä¸Šè¿°ä»£ç ç±»ä¼¼ï¼Œè¯¦ç»†è§ä¸‹ï¼š case Instruction::Select: for (unsigned i &#x3D; 0, e &#x3D; I-&gt;getNumOperands(); i !&#x3D; e; i++) &#123; V &#x3D; I-&gt;getOperand(i); &#x2F;&#x2F;æ’é™¤å¸¸æ•° if (dyn_cast&lt;Constant&gt;(V)) &#123; continue; &#125; &#x2F;&#x2F; taint value mergeSet(result, taintAnalysis(V, vs, found)); &#125; break; 2. Argumentç±»å‹Source else if (auto *Arg &#x3D; dyn_cast&lt;Argument&gt;(V)) &#123; &#x2F;&#x2F; argument unsigned argNo &#x3D; Arg-&gt;getArgNo(); StringRef name &#x3D; handleType(Arg-&gt;getType()); if (!addToSet(result, name)) &#123; return result; &#125; &#x2F;&#x2F;è·å–å‚æ•°å±äºçš„function Function* callee &#x3D; Arg-&gt;getParent(); &#x2F;&#x2F;ä»Ctx-&gt;CallGraphä¸­æŸ¥æ‰¾å…¶çˆ¶å‡½æ•° auto parentName &#x3D; findParents(callee-&gt;getName()); bool matched &#x3D; false; CallInstSet CISet; &#x2F;&#x2F;éå†call graph &#x2F;&#x2F;typedef llvm::DenseMap&lt;llvm::CallInst*, FuncSet&gt; CalleeMap; for (auto M : Ctx-&gt;Callers) &#123; &#x2F;* use endswith here because functions in the Callers * are like &#96;filename&#96;.functionName *&#x2F; if (M.first-&gt;getName().endswith(callee-&gt;getName())) CISet &#x3D; M.second; &#x2F;&#x2F;æŸ¥æ‰¾calleeçš„æ‰€æœ‰caller for (CallInst *caller : CISet) &#123; &#x2F;&#x2F; TODO need pricise location check if (parentName.find(caller-&gt;getFunction()-&gt;getName()) !&#x3D; parentName.end()) &#123; matched &#x3D; true; auto parentFname &#x3D; caller-&gt;getFunction()-&gt;getName(); if (parentFname.find(&quot;_sys_&quot;) !&#x3D; string::npos) continue; if (BlockFunc.find(parentFname) !&#x3D; BlockFunc.end()) continue; KA_LOGS(2, &quot;Taint to it&#39;s parent &quot;&lt;&lt;caller-&gt;getFunction()-&gt;getName()&lt;&lt;&quot; from &quot;&lt;&lt;callee-&gt;getName()); &#x2F;&#x2F;é€’å½’åˆ†æ mergeSet(result, taintAnalysis(caller-&gt;getArgOperand(argNo), vs, found)); &#125; &#125; &#125; return result; &#x2F;* global variable *&#x2F; &#125; 3. GlobalVariableç±»å‹Source â€‹ å…¨å±€å˜é‡å•çº¯çš„æ·»åŠ å³å¯ï¼š else if (isa&lt;GlobalVariable&gt;(V)) &#123; GlobalVariable *GV &#x3D; cast&lt;GlobalVariable&gt;(V); StringRef name &#x3D; handleType(GV-&gt;getType()); if (!addToSet(result, name)) &#123; return result; &#125; &#125; â€‹ â€‹ ç»¼ä¸Šæ‰€è¿°ï¼Œå°†æ±¡ç‚¹åˆ†ä¸ºinstructionã€argumentå’Œglobalvariableä¸‰ç§ç±»å‹ï¼Œå¹¶åˆ†åˆ«åˆ†æï¼Œæœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªç»“æœé›†åˆresultï¼Œè¿™å°±æ˜¯æ±¡ç‚¹åˆ†æå¾—åˆ°çš„å…³é”®ç»“æ„å¯¹è±¡ã€‚ â€‹ Reference Markakd/GREBE (github.com) LLVM Pass: LLVM Passå…¥é—¨å¯¼å¼• llvm-project/llvm at main Â· llvm/llvm-project (github.com) About â€” LLVM 17.0.0git documentation PowerPoint Presentation (llvm.org) LLVM IR SSA ä»‹ç» Â· GitBook (buaa-se-compiling.github.io) Writing an LLVM Pass â€” LLVM 17.0.0git documentation LLVMæ¯æ—¥è°ˆä¹‹å…« PASSä¾‹å­åˆ†æ- (aliyun.com) LLVMå¼€å‘è€…æ‰‹å†Œ_llvm_shutdown_-CSDN CommandLine 2.0 Library Manual â€” LLVM 17.0.0git documentation LLVM: llvm::CallInst Class Reference LLVMdev] indirect calls tracking and control flow graph (google.com) LLVM: declaring an indirect function call in C that becomes a storedinst? - Stack Overflow LLVM Alias Analysis Infrastructure â€” LLVM 17.0.0git documentation ç¼–è¯‘å™¨ä¼˜åŒ–ï¼šä½•ä¸ºåˆ«ååˆ†æ - çŸ¥ä¹ (zhihu.com) Source Level Debugging with LLVM â€” LLVM 17.0.0git documentation I.users()_-CSDNåšå®¢ kintï¼š KINT (mit.edu) Kint-learn/KINTå­¦ä¹ è®°å½•.md at master Â· zhukailongaa/Kint-learn Â· GitHub CRYPTOlab/kint: git://g.csail.mit.edu/kint (github.com) ganler/mini-kint: Enhanced implementation of Kint in LLVM-14, in C++17. (github.com) Paper: Wang X, Chen H, Jia Z, et al. Improving integer security for systems with KINT[C]//Presented as part of the 10th {USENIX} Symposium on Operaã€‚ting Systems Design and Implementation ({OSDI} 12). 2012: 163-177. Song C, Lee B, Lu K, et al. Enforcing kernel security invariants with data flow integrity[C]//NDSS. 2016. Lin Z, Chen Y, Wu Y, et al. **GREBE: Unveiling exploitation potential for Linux kernel bugs[**C]//2022 IEEE Symposium on Security and Privacy (SP). IEEE, 2022. C/C++ &amp;&amp; Kernel: è¢«çŸ¥ä¹å¤§ä½¬å˜²è®½åçš„ä¸€ä¸ªæœˆï¼Œæˆ‘é‡æ–°ç ”ç©¶äº†ä¸€ä¸‹å†…è”å‡½æ•° - çŸ¥ä¹ (zhihu.com) c++ - How can I get Function Name of indirect call from CallInst in LLVM - Stack Overflow å‡½æ•°æŒ‡é’ˆåŠå…¶å®šä¹‰å’Œç”¨æ³•ï¼ŒCè¯­è¨€å‡½æ•°æŒ‡é’ˆè¯¦è§£ (biancheng.net) å†…éƒ¨é“¾æ¥(internal linkage)å’Œå¤–éƒ¨é“¾æ¥(external linkage)_CSDNåšå®¢ compiler - Difference between direct and indirect function() calls - Software Engineering Stack Exchange Linuxå†…æ ¸ä¸­ç»å…¸é“¾è¡¨ list_head å¸¸è§ä½¿ç”¨æ–¹æ³•è§£æ_å†…æ ¸é“¾è¡¨ CSDNåšå®¢ PS åœ¨äººå·¥åˆ†æå‰ï¼Œå…ˆé—®é—®Cursorï¼š æé—®ï¼šè¿™æ®µä»£ç çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ AIï¼šæ ¹æ®æä¾›çš„ä»£ç ï¼Œè¿™æ˜¯ä¸€ä¸ªC++ç¨‹åºï¼Œç”¨äºå¯¹LLVMæ¨¡å—è¿›è¡Œå…¨å±€åˆ†æã€‚å®ƒä»è¾“å…¥æ–‡ä»¶ä¸­åŠ è½½æ¨¡å—ï¼Œæ‰§è¡ŒåŸºæœ¬åˆå§‹åŒ–ï¼Œå¹¶è¿è¡Œä¸¤ä¸ªPassï¼šCallGraphPasså’ŒPointerAnalysisPassã€‚ ç¨‹åºè¿˜ä»ä¸¤ä¸ªæ–‡ä»¶CrashReportå’ŒCallGraphä¸­è¯»å–æ•°æ®ï¼Œä»¥ç¡®å®šæ˜¯å¦å­˜åœ¨æ˜¾å¼æ£€æŸ¥è¡¨è¾¾å¼å¹¶æ‰¾åˆ°å´©æºƒä½ç½®ã€‚å¦‚æœåœ¨CrashReportæ–‡ä»¶ä¸­æ‰¾åˆ°æ˜¾å¼æ£€æŸ¥è¡¨è¾¾å¼ï¼Œåˆ™ç¨‹åºå°†å°†â€œexplicitlyâ€æ ‡å¿—è®¾ç½®ä¸ºtrueã€‚å¦‚æœåœ¨CrashReportæ–‡ä»¶ä¸­æ‰¾åˆ°â€œkernel BUG atâ€å­—ç¬¦ä¸²ï¼Œåˆ™ç¨‹åºè¿˜å°†å°†â€œexplicitlyâ€æ ‡å¿—è®¾ç½®ä¸ºtrueã€‚ç„¶åï¼Œç¨‹åºä½¿ç”¨GlobalCtxå’Œâ€œexplicitlyâ€æ ‡å¿—è¿è¡ŒCrashAnalyzeræ¥åˆ†æå´©æºƒä½ç½®ã€‚ å¦‚æœDumpLocationä¸ä¸ºç©ºï¼Œåˆ™ç¨‹åºå°†å°†åˆ†æç»“æœè½¬å‚¨åˆ°æŒ‡å®šä½ç½®ã€‚å¦åˆ™ï¼Œå®ƒå°†å°†ç»“æœè½¬å‚¨åˆ°æ ‡å‡†è¾“å‡ºã€‚æœ€åï¼Œç¨‹åºè¿”å›0ã€‚ å› æ­¤ï¼Œè¯¥ç¨‹åºçš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹LLVMæ¨¡å—è¿›è¡Œå…¨å±€åˆ†æï¼Œå¹¶åˆ†æå´©æºƒä½ç½®ã€‚ æé—®ï¼šè¯·ä»‹ç»è¿™æ®µä»£ç ä½¿ç”¨çš„LLVM APIã€‚ AIï¼šæ ¹æ®æä¾›çš„ä»£ç ï¼Œè¯¥ç¨‹åºä½¿ç”¨äº†LLVMçš„ä»¥ä¸‹APIï¼š - llvm::IRReaderï¼šç”¨äºä»æ–‡ä»¶ä¸­è¯»å–LLVM IRã€‚ - llvm::LLVMContextï¼šç”¨äºç®¡ç†LLVM IRçš„ä¸Šä¸‹æ–‡ã€‚ - llvm::Moduleï¼šè¡¨ç¤ºLLVM IRæ¨¡å—ã€‚ - llvm::PassManagerï¼šç”¨äºç®¡ç†LLVM Passã€‚ - llvm::Verifierï¼šç”¨äºéªŒè¯LLVM IRçš„æ­£ç¡®æ€§ã€‚ - llvm::ManagedStaticï¼šç”¨äºç®¡ç†é™æ€å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚ - llvm::PrettyStackTraceï¼šç”¨äºåœ¨ç¨‹åºå´©æºƒæ—¶æ‰“å°è°ƒç”¨å †æ ˆã€‚ - llvm::ToolOutputFileï¼šç”¨äºå°†è¾“å‡ºå†™å…¥æ–‡ä»¶ã€‚ - llvm::SystemUtilsï¼šæä¾›äº†ä¸€äº›ç³»ç»Ÿç›¸å…³çš„å®ç”¨å‡½æ•°ã€‚ - llvm::FileSystemï¼šæä¾›äº†ä¸€äº›æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„å®ç”¨å‡½æ•°ã€‚ - llvm::SourceMgrï¼šç”¨äºç®¡ç†æºæ–‡ä»¶å’Œç¼“å†²åŒºã€‚ - llvm::Signalsï¼šç”¨äºå¤„ç†ä¿¡å·ã€‚ - llvm::Pathï¼šæä¾›äº†ä¸€äº›è·¯å¾„ç›¸å…³çš„å®ç”¨å‡½æ•°ã€‚ æ­¤å¤–ï¼Œè¯¥ç¨‹åºè¿˜ä½¿ç”¨äº†ä¸€äº›è‡ªå®šä¹‰çš„ç±»å’Œå‡½æ•°ï¼Œå¦‚GlobalCtxã€CallGraphã€StructFinderã€CrashAnalyzerå’ŒPointerAnalysisã€‚ æé—®ï¼šè¯·é—®ä½ èƒ½ç”»å‡ºä»£ç çš„ç»“æ„å›¾å—ï¼Ÿ AIï¼š main function â”œâ”€â”€ cl::list &lt; std::string&gt; InputFilenames â”œâ”€â”€ cl::opt &lt; unsigned&gt; VerboseLevel â”œâ”€â”€ cl::opt &lt; std::string&gt; DumpLocation â”œâ”€â”€ cl::opt &lt; std::string&gt; CrashReport â”œâ”€â”€ CallGraphPass â”œâ”€â”€ PointerAnalysisPass â”œâ”€â”€ CrashAnalyzer â””â”€â”€ return 0 å…¶ä¸­ï¼ŒInputFilenamesã€VerboseLevelã€DumpLocationå’ŒCrashReportæ˜¯ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°ã€‚CallGraphPasså’ŒPointerAnalysisPassæ˜¯ä¸¤ä¸ªLLVM Passï¼Œç”¨äºåˆ†æLLVMæ¨¡å—çš„è°ƒç”¨å›¾å’ŒæŒ‡é’ˆåˆ†æã€‚CrashAnalyzeræ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»ï¼Œç”¨äºåˆ†æå´©æºƒä½ç½®ã€‚ç¨‹åºæœ€åè¿”å›0ã€‚","categories":[{"name":"Code","slug":"Code","permalink":"http://example.com/categories/Code/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"}],"author":"Shaw"},{"title":"(è®ºæ–‡é˜…è¯»)The Use of Likely Invariants as Feedback for FuzzersVulnerabilities","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘The-Use-of-Likely-Invariants-as-Feedback-for-FuzzersVulnerabilities","date":"2023-05-08T13:21:58.186Z","updated":"2023-05-08T13:23:18.820Z","comments":true,"path":"2023/05/08/ã€è®ºæ–‡é˜…è¯»ã€‘The-Use-of-Likely-Invariants-as-Feedback-for-FuzzersVulnerabilities/","link":"","permalink":"http://example.com/2023/05/08/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91The-Use-of-Likely-Invariants-as-Feedback-for-FuzzersVulnerabilities/","excerpt":"(è®ºæ–‡é˜…è¯»)The Use of Likely Invariants as Feedback for Fuzzers æ—¶é—´ï¼š2021.8 ä½œè€…ï¼šAndrea Fioraldiã€Daniele Cono Dâ€™Eliaã€Davide Balzarotti ä¼šè®®ï¼šUSENIX å¼€æºï¼šeurecom-s3/invscov: The Use of Likely Invariants as Feedback for Fuzzers (github.com) æˆªæ­¢2023.5.6è¢«å¼•23æ¬¡ ABSTRACT â€‹ å¦‚ä»ŠFuzzingçš„ä¸»è¦é™åˆ¶æ˜¯ä»¥coverage-guidedä¸ºåŸºå‡†è®¾è®¡çš„fuzzingæ–¹æ³•æ˜¯ä¸ºäº†å°½å¯èƒ½è¾¾åˆ°ç¨‹åºçš„ä¸åŒéƒ¨åˆ†è€Œé€æ¸è¢«ä¼˜åŒ–ï¼Œä½†è‹¥ä»…ä»…å¯è¾¾æ€§ä¸è¶³ä»¥è§¦å‘ä¸€ä¸ªæ¼æ´æ—¶ï¼Œè¿™ç§æ–¹æ³•å°±ä¼šé™·å…¥å›°å¢ƒã€‚å®é™…ä¸Šï¼Œè®¸å¤šbugçš„è§¦å‘ä¸ä»…ä¾èµ–äºç‰¹å®šçš„æ§åˆ¶æµï¼Œè¿˜ä¾èµ–ä¸€äº›ç¨‹åºçš„å˜é‡çš„å€¼ï¼ˆæ•°æ®æµï¼‰ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿‡å»æå‡ºçš„æ•æ‰ç¨‹åºçŠ¶æ€çš„æ›¿ä»£æ¢ç´¢ç­–ç•¥åœ¨å®è·µä¸­å¸®åŠ©ä¸å¤§ï¼Œå› ä¸ºå®ƒä»¬ä¼šç«‹å³å¯¼è‡´çŠ¶æ€çˆ†ç‚¸é—®é¢˜ã€‚ â€‹ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ–°å‹åé¦ˆæœºåˆ¶ï¼Œé€šè¿‡è€ƒè™‘åˆ°ç¨‹åºå˜é‡çš„â€ä¸å˜å€¼â€œå’Œå…¶ä¹‹é—´çš„å…³ç³»æ¥å¢å¼ºä»£ç è¦†ç›–ç‡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨åŸºæœ¬å—å±‚é¢ä¸Šå­¦ä¹ å¯èƒ½çš„å˜é‡â€œä¸å˜å€¼â€ï¼Œå¹¶ç›¸åº”åœ°åˆ’åˆ†ç¨‹åºçŠ¶æ€ç©ºé—´ã€‚æˆ‘ä»¬çš„åé¦ˆå¯ä»¥åŒºåˆ†è¾“å…¥æ˜¯å¦è¿åäº†ä¸€ä¸ªæˆ–å¤šä¸ªä¸å˜é‡ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¥–åŠ±ï¼Œä»è€Œå®Œå–„ä»£ç è¦†ç›–é€šå¸¸æä¾›çš„ç¨‹åºçŠ¶æ€è¿‘ä¼¼å€¼ã€‚ â€‹ åŸºäºLLVMå’ŒAFPL++ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªåä¸ºINVSCOVçš„åŸå‹ä¸­å®ç°äº†ä¸Šè¿°çš„æŠ€æœ¯ã€‚å®éªŒè¡¨æ˜ï¼Œä¸ä½¿ç”¨çº¯ä»£ç è¦†ç›–åé¦ˆçš„fuzzerç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å‘ç°æ›´å¤šã€æ›´ä¸åŒçš„bugã€‚æ­¤å¤–ï¼Œè¿˜å‘ç°äº†ä¸€ä¸ªåœ¨OSS-Fuzzä¸Šæ¯å¤©æµ‹è¯•çš„åº“ä¸­çš„ä¸¤ä¸ªæ¼æ´ï¼Œè€Œä¸”å½“æ—¶åœ¨å…¶æœ€æ–°ç‰ˆæœ¬ä¸­ä»ç„¶å­˜åœ¨ã€‚","text":"(è®ºæ–‡é˜…è¯»)The Use of Likely Invariants as Feedback for Fuzzers æ—¶é—´ï¼š2021.8 ä½œè€…ï¼šAndrea Fioraldiã€Daniele Cono Dâ€™Eliaã€Davide Balzarotti ä¼šè®®ï¼šUSENIX å¼€æºï¼šeurecom-s3/invscov: The Use of Likely Invariants as Feedback for Fuzzers (github.com) æˆªæ­¢2023.5.6è¢«å¼•23æ¬¡ ABSTRACT â€‹ å¦‚ä»ŠFuzzingçš„ä¸»è¦é™åˆ¶æ˜¯ä»¥coverage-guidedä¸ºåŸºå‡†è®¾è®¡çš„fuzzingæ–¹æ³•æ˜¯ä¸ºäº†å°½å¯èƒ½è¾¾åˆ°ç¨‹åºçš„ä¸åŒéƒ¨åˆ†è€Œé€æ¸è¢«ä¼˜åŒ–ï¼Œä½†è‹¥ä»…ä»…å¯è¾¾æ€§ä¸è¶³ä»¥è§¦å‘ä¸€ä¸ªæ¼æ´æ—¶ï¼Œè¿™ç§æ–¹æ³•å°±ä¼šé™·å…¥å›°å¢ƒã€‚å®é™…ä¸Šï¼Œè®¸å¤šbugçš„è§¦å‘ä¸ä»…ä¾èµ–äºç‰¹å®šçš„æ§åˆ¶æµï¼Œè¿˜ä¾èµ–ä¸€äº›ç¨‹åºçš„å˜é‡çš„å€¼ï¼ˆæ•°æ®æµï¼‰ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿‡å»æå‡ºçš„æ•æ‰ç¨‹åºçŠ¶æ€çš„æ›¿ä»£æ¢ç´¢ç­–ç•¥åœ¨å®è·µä¸­å¸®åŠ©ä¸å¤§ï¼Œå› ä¸ºå®ƒä»¬ä¼šç«‹å³å¯¼è‡´çŠ¶æ€çˆ†ç‚¸é—®é¢˜ã€‚ â€‹ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ–°å‹åé¦ˆæœºåˆ¶ï¼Œé€šè¿‡è€ƒè™‘åˆ°ç¨‹åºå˜é‡çš„â€ä¸å˜å€¼â€œå’Œå…¶ä¹‹é—´çš„å…³ç³»æ¥å¢å¼ºä»£ç è¦†ç›–ç‡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨åŸºæœ¬å—å±‚é¢ä¸Šå­¦ä¹ å¯èƒ½çš„å˜é‡â€œä¸å˜å€¼â€ï¼Œå¹¶ç›¸åº”åœ°åˆ’åˆ†ç¨‹åºçŠ¶æ€ç©ºé—´ã€‚æˆ‘ä»¬çš„åé¦ˆå¯ä»¥åŒºåˆ†è¾“å…¥æ˜¯å¦è¿åäº†ä¸€ä¸ªæˆ–å¤šä¸ªä¸å˜é‡ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¥–åŠ±ï¼Œä»è€Œå®Œå–„ä»£ç è¦†ç›–é€šå¸¸æä¾›çš„ç¨‹åºçŠ¶æ€è¿‘ä¼¼å€¼ã€‚ â€‹ åŸºäºLLVMå’ŒAFPL++ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªåä¸ºINVSCOVçš„åŸå‹ä¸­å®ç°äº†ä¸Šè¿°çš„æŠ€æœ¯ã€‚å®éªŒè¡¨æ˜ï¼Œä¸ä½¿ç”¨çº¯ä»£ç è¦†ç›–åé¦ˆçš„fuzzerç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å‘ç°æ›´å¤šã€æ›´ä¸åŒçš„bugã€‚æ­¤å¤–ï¼Œè¿˜å‘ç°äº†ä¸€ä¸ªåœ¨OSS-Fuzzä¸Šæ¯å¤©æµ‹è¯•çš„åº“ä¸­çš„ä¸¤ä¸ªæ¼æ´ï¼Œè€Œä¸”å½“æ—¶åœ¨å…¶æœ€æ–°ç‰ˆæœ¬ä¸­ä»ç„¶å­˜åœ¨ã€‚ é—®é¢˜èƒŒæ™¯ â€œcode coverage alone is a necessary but not sufficient condition to discover bugsâ€ ä»£ç è¦†ç›–ç‡æ˜¯å‘ç°bugçš„å¿…è¦æ¡ä»¶ï¼Œä¸æ˜¯å……åˆ†æ¡ä»¶ã€‚ 1. bugè¢«è§¦å‘çš„æ¡ä»¶ â€‹ ä¸€ä¸ªbugè¢«è§¦å‘åº”æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š 1. ç¨‹åºè¿è¡Œåˆ°ç‰¹å®šçš„æŒ‡ä»¤ï¼› 2. ç¨‹åºæ»¡è¶³ç¡®å®šçš„æ¡ä»¶ã€‚ â€‹ å°‘æ•°æƒ…å†µä¸‹ï¼Œç¨‹åºä¸éœ€è¦æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ä¹Ÿèƒ½è§¦å‘bugï¼Œå¦‚LAVA-Mæ•°æ®é›†ä¸­çš„bugï¼Œå…¶è¢«äººä¸ºçš„åˆ¶é€ ä¸ºåªè¦è¿è¡Œåˆ°äº†ç‰¹å®šçš„ç‚¹å°±èƒ½è§¦å‘ã€‚ 2. coverage-based fuzzingçš„ç¼ºç‚¹ â€‹ å¯¹äºç°æœ‰çš„coverage-basedçš„fuzzingæ–¹æ³•ï¼Œfuzzeræ²¡æœ‰ä»»ä½•åŠ¨åŠ›å»æ¢ç´¢æ›´å¤šçš„çŠ¶æ€ï¼Œå› ä¸ºå…¶å·²ç»è§‚å¯Ÿåˆ°äº†é‚£é‡Œã€‚å› æ­¤ï¼Œå¯¹äºç°æœ‰çš„å·¥å…·æ¥è¯´ï¼Œæ£€æµ‹æ¶‰åŠåˆ°å¯¹ç¨‹åºçŠ¶æ€çš„å¤æ‚çº¦æŸçš„bugæ˜¯ç›¸å½“å›°éš¾çš„ã€‚å¦‚æœç®€å•å¯¹fuzzeræ¢ç´¢æ›´å¤šçš„çŠ¶æ€ç©ºé—´çš„è¡Œä¸ºä½œå‡ºå¥–åŠ±ï¼Œå…¶ä¹Ÿä¼šå¯¼è‡´è·¯å¾„çˆ†ç‚¸é—®é¢˜ï¼Œå› ä¸ºå¯¹äºéç¦»æ•£çš„åº”ç”¨ï¼Œå…¶çŠ¶æ€ç©ºé—´åŸºæœ¬æ˜¯æ— é™å¤šçš„ã€‚ 3. ä¾‹å­ â€‹ å¦‚å›¾æ‰€ç¤ºçš„æ¼æ´æ˜¯libsndfileçš„WAVæ–‡ä»¶æ ¼å¼è§£æä¸­çš„å †æº¢å‡ºæ¼æ´ï¼ˆListing2ç¬¬9è¡Œï¼‰ï¼Œlibsndfileæ˜¯ä¸€ä¸ªç”¨äºæ“ä½œéŸ³é¢‘æ–‡ä»¶çš„æµè¡Œåº“ã€‚åœ¨Listing2ç¬¬9è¡Œï¼Œä»£ç å¼•ç”¨äº†pms-&gt;samplesæ‰€æŒ‡å‘çš„C99å˜é•¿æ•°ç»„ï¼ˆC99è§„å®šæ•°ç»„é•¿åº¦å¯ä»¥ä¸ºå˜é‡ï¼‰ã€‚å½“Listing1ä¸­çš„pmssizeï¼ˆListing1ç¬¬8è¡Œï¼‰è¾ƒå°ï¼Œä¸”pms-&gt;blocksizeå€¼ï¼ˆListing1ç¬¬13è¡Œï¼‰è¶³å¤Ÿé«˜æ—¶ï¼Œå†™å…¥æ“ä½œä¼šåˆ°è¾¾æ•°ç»„è¾¹ç•Œä¹‹å¤–ï¼Œé€ æˆå †æº¢å‡ºã€‚ â€‹ Coverage-based fuzzerå¾ˆå®¹æ˜“åˆ°è¾¾è¯¥é”™è¯¯çš„é—®é¢˜ç‚¹ï¼Œä½†æ˜¯å¾ˆéš¾è§¦å‘ã€‚ç”±äºå…¶å¹¶ä¸ä¼šæä¾›æ›´å¤šçš„ä»£ç è¦†ç›–ç‡ï¼Œfuzzerä¸ä¼šä¸ºè¿™ä¸ªç‚¹åˆ†é…æ›´å¤šçš„energyã€‚ åˆ›æ–°ç‚¹ â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„æ¨¡ç³Šæµ‹è¯•åé¦ˆï¼Œåœ¨è€ƒè™‘ä»£ç è¦†ç›–ç‡çš„åŒæ—¶ï¼Œä¹Ÿè€ƒè™‘åˆ°äº†ç¨‹åºçŠ¶æ€ä¸­ä¸€äº›æœ‰è¶£çš„éƒ¨åˆ†ï¼Œä»¥ä¸€ç§å®Œå…¨è‡ªåŠ¨åŒ–çš„æ–¹å¼è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä¸”ä¸ä¼šå¼•èµ·çŠ¶æ€çˆ†ç‚¸ã€‚è¿™é¡¹å·¥ä½œçš„åˆ›æ–°ç‚¹å¹¶ä¸æ˜¯â€œè€ƒè™‘ä»£ç è¦†ç›–ç‡ä»¥å¤–çš„ä¸œè¥¿â€ï¼Œè¿™éƒ¨åˆ†å·²ç»æœ‰äººåšè¿‡ï¼Œä½†å…¶é—®é¢˜æ˜¯ï¼š è·¯å¾„çˆ†ç‚¸ï¼š ä¸€äº›fuzzeré€šè¿‡ä½¿ç”¨æ›´æ•æ„Ÿçš„åé¦ˆæ¥æ¨¡æ‹Ÿç¨‹åºçŠ¶æ€ï¼Œä¾‹å¦‚å¼•å…¥å †æ ˆä¿¡æ¯ï¼Œç”šè‡³å¼•ç”¨ä»å†…å­˜åŠ è½½å’Œå­˜å‚¨çš„å€¼ã€‚ã€ŠBe sensitive and collaborative: Analyzing impact of coverage metrics in greybox fuzzingã€‹ä¸€æ–‡ä¸­å°±ä¸ä»…è€ƒè™‘äº†æ§åˆ¶æµï¼Œè¿˜è€ƒè™‘äº†ç¨‹åºçŠ¶æ€ä¸­çš„å€¼ã€‚ä½†å…¶ç¼ºç‚¹å°±æ˜¯ä¼šå¯¼è‡´è·¯å¾„çˆ†ç‚¸é—®é¢˜ã€‚ éœ€è¦äººå·¥æ ‡æ³¨ï¼š ä¸€äº›å·¥ä½œä¼šä½¿ç”¨äººå·¥è¾…åŠ©çš„æ–¹å¼è¿›è¡Œï¼Œä¾‹å¦‚FUZZFACTORYè®©å…¶å¼€å‘è€…å®šä¹‰ç‰¹å®šçš„ç›®æ ‡ï¼Œç„¶åæ·»åŠ å¯¼èˆªç‚¹ï¼Œå½“ç”Ÿæˆçš„æµ‹è¯•æ ·ä¾‹æœç€è¿™äº›ç›®æ ‡å‰è¿›ï¼ˆä¾‹å¦‚ï¼Œå½“ä¸¤ä¸ªæ¯”è¾ƒæ“ä½œæ•°ä¸­æœ‰æ›´å¤šä½ç›¸åŒæ—¶ï¼‰ï¼Œå¥–åŠ±Fuzzerã€‚ â€‹ æ•…æ­¤é¡¹å·¥ä½œçš„åˆ›æ–°ç‚¹æ˜¯ï¼šâ€œè€ƒè™‘ä»£ç è¦†ç›–ç‡ä»¥å¤–çš„ä¸œè¥¿â€ï¼Œå¹¶å°†å…¶è¿‡ç¨‹è‡ªåŠ¨åŒ–ï¼Œä¸”ä¸ä¼šå¼•å…¥è·¯å¾„çˆ†ç‚¸é—®é¢˜ã€‚ æ–¹æ³• 1. Program State Partitions-ç¨‹åºçŠ¶æ€åˆ†åŒº â€‹ ä»¥ä¸Šå›¾Listing1ä¸Listing2ä¸ºä¾‹ï¼Œç”¨æ ‡å‡†çš„CGFç³»ç»Ÿå¯¹libsndfileè¿›è¡Œä¸€å®šæ—¶é—´çš„fuzzingï¼ˆå¦‚24hï¼‰ï¼Œç„¶åè°ƒæŸ¥fuzzerä¿å­˜çš„æ‰€æœ‰ç§å­ï¼Œåˆ†æè¿™äº›ç§å­ä¸­æ‰€æœ‰å˜é‡ï¼Œä¸ºListing1ä¸­çš„åˆå§‹å‡½æ•°ç¡®å®šä¸¤ä¸ªä¸å˜é‡ï¼Œä¸ºListing2ä¸­çš„å¾ªç¯ç¡®å®šä¸€ä¸ªä¸å˜é‡ï¼ˆä¸Šå›¾ç»¿è‰²æ³¨é‡Šï¼‰ã€‚æ ¹æ®è¿™äº›æ³¨é‡Šï¼Œå°†ç¨‹åºçš„çŠ¶æ€ç©ºé—´åˆ†ä¸ºå››éƒ¨åˆ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â€‹ é™¤äº†çŠ¶æ€Aï¼Œå…¶ä½™çŠ¶æ€Fuzzeréƒ½æ²¡æœ‰è®¿é—®è¿‡ï¼Œé€šè¿‡å¦‚æ­¤æŠ½è±¡æ–¹æ³•æ¥å‘Fuzzeræä¾›åé¦ˆï¼Œä½¿å…¶æ¢ç´¢æ–°çš„çŠ¶æ€è€Œåˆä¸ä¼šå¯¼è‡´è·¯å¾„çˆ†ç‚¸ã€‚ â€‹ ä¸å˜é‡èƒ½å¤Ÿåœ¨ä¸å¼•èµ·çŠ¶æ€çˆ†ç‚¸çš„æƒ…å†µä¸‹åˆ’åˆ†ç¨‹åºçŠ¶æ€ç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯æ–¹æ³•çš„å…³é”®ä¹‹ä¸€ã€‚åœ¨æ¯ä¸ªåŸºæœ¬å—ä¸­ï¼ŒNä¸ªä¸å˜é‡å¯ä»¥å¯¹çŠ¶æ€è¿›è¡Œå±€éƒ¨åˆ’åˆ†ï¼Œå°±åƒNæ¡ä¸å¹³è¡Œçš„çº¿å¯ä»¥å°†ä¸€ä¸ªå¹³é¢åˆ’åˆ†ä¸ºNâˆ—(N+1)/2+1ä¸ªåŒºåŸŸä¸€æ ·ã€‚åœ¨å®è·µä¸­ï¼Œç”±äºæ¯ä¸ªåŸºæœ¬å—é€šå¸¸åªæ“çºµå‡ ä¸ªå˜é‡ï¼ŒNé€šå¸¸æ˜¯ä¸€ä¸ªéå¸¸ä½çš„å€¼ï¼ˆé™„å½•Aä¸­çš„ç»Ÿè®¡æ•°æ®ï¼‰ã€‚ 2. Using Invariants as Feedback-ä½¿ç”¨â€œä¸å˜é‡â€åé¦ˆ â€‹ åŠ¨æ€â€œä¸å˜é‡â€æ£€æµ‹çš„å¸¸è§é™åˆ¶æ˜¯ï¼Œæ‰€äº§ç”Ÿçš„â€œä¸å˜é‡â€å¾€å¾€æ›´å¤šçš„æ˜¯æ•è·æµ‹è¯•å¥—ä»¶çš„å±€éƒ¨å±æ€§è€Œä¸æ˜¯ç¨‹åºçš„é™æ€å±æ€§ã€‚ç„¶è€Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¿åä»…ä»Fuzzerè¯­æ–™åº“ä¸­å­¦ä¹ åˆ°çš„å¯èƒ½çš„â€œä¸å˜é‡â€å¯ä»¥æç¤ºFuzzerå“ªäº›ç¨‹åºçŠ¶æ€ç»„åˆæ˜¯ä¸å¯»å¸¸çš„ï¼Œè¿›è€Œå®šä½é”™è¯¯çš„æ ¹æºã€‚ â€‹ è¿™é‡Œï¼Œä½¿ç”¨â€œä¸å˜é‡â€å¯¹Fuzzerè¿›è¡Œåé¦ˆæŒ‡çš„æ˜¯edge-coverageä¸å“ªäº›â€œä¸å˜é‡â€è¢«è¿åçš„ä¿¡æ¯çš„ç»„åˆã€‚æˆ‘ä»¬è°ƒæ•´äº†å¤§å¤šæ•°Coverage-basedç³»ç»Ÿé‡‡ç”¨çš„æ–°é¢–æ€§ç®—æ³•ï¼Œä¸ºæ¯ä¸ªè¢«è¿åçš„â€œä¸å˜é‡â€ç»„åˆäº§ç”Ÿä¸€ä¸ªä¸åŒçš„æœç´¢å€¼ï¼Œä½¿å…¶å¯ä»¥è·Ÿè¸ªè¿™äº›çŠ¶æ€ã€‚ â€‹ ä¸Šè¿°æ¼æ´è§¦å‘åœ¨Båˆ†åŒºï¼Œå½“{blockalign = 1280, samplesperblock = 8}æ—¶ä¼šè§¦å‘ã€‚æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥é€šè¿‡ç»“åˆæˆ–çªå˜ä»¥å‰çš„ç§å­ï¼Œç”Ÿæˆè¿åå¤šä¸ª\"ä¸å˜é‡\"çš„è¾“å…¥ï¼Œæ¯ä¸ªéƒ½è¿åä¸€ä¸ªæˆ–å¤šä¸ªä¸åŒçš„\"ä¸å˜é‡\"ã€‚ 3. Pruning the Generated Checks-ä¿®å‰ªç”Ÿæˆçš„Check â€‹ è¿™é‡Œè®¾è®¡äº†ä¸‰ç±»ä¿®å‰ªè§„åˆ™ä»¥æ’é™¤ä¸å¿…è¦çš„/æœ‰å®³çš„â€œä¸å˜é‡â€ã€‚ â€‹ 1ï¼‰ç¬¬ä¸€ç±»éœ€è¦ä¸¢æ‰çš„â€œä¸å˜é‡â€æ˜¯ä¸å¯èƒ½è¢«è¿åçš„ï¼š â€‹ ä¾‹å¦‚ï¼Œunsigned integer &gt;= 0ã€‚å…¶ä¸å¯èƒ½è¢«è¿åï¼Œå¯¹æµ‹è¯•æ²¡æœ‰å¸®åŠ©ã€‚ â€‹ ä¸ºäº†è¯†åˆ«ç±»ä¼¼çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯¹è¢«æµ‹ç¨‹åºçš„æ¯ä¸ªå‡½æ•°è¿›è¡Œäº†ä»·å€¼èŒƒå›´åˆ†æ[36]ã€‚å‚æ•°å’Œå…¨å±€å­˜å‚¨æœ€åˆæ˜¯ä¸å—é™åˆ¶çš„ï¼Œåˆ†æäº§ç”Ÿçš„å‡½æ•°å˜é‡ç•Œé™åœ¨ä»»ä½•æ‰§è¡Œä¸­éƒ½æ˜¯æˆç«‹çš„ã€‚åˆ©ç”¨è¿™äº›åˆ†æå‡ºæ¥çš„èŒƒå›´ä¿¡æ¯ï¼ŒæŒ‡ç¤ºåˆ†æå™¨æ°¸è¿œä¸è¦ç”Ÿæˆé€»è¾‘ä¸Šæ¯”è¿™äº›é™æ€åˆ†æå‡ºçš„é™åˆ¶æ›´å¼±çš„é€»è¾‘â€œä¸å˜å¼â€ã€‚ â€‹ 2ï¼‰ç¬¬äºŒç±»æ˜¯åŒ…å«æ— å…³å˜é‡ï¼š â€‹ ä¸ºè¢«æµ‹ç¨‹åºçš„æ¯ä¸ªå‡½æ•°è®¡ç®—å¯æ¯”è¾ƒæ€§é›†ï¼šæ¯ä¸ªå˜é‡åªå±äºä¸€ä¸ªè¿™æ ·çš„é›†ï¼Œå°†ä¸åŒé›†çš„å˜é‡ç»“åˆåœ¨ä¸€èµ·çš„â€œä¸å˜é‡â€è¢«ä¸¢å¼ƒã€‚ â€‹ æœ€åˆä¸ºæ¯ä¸ªå˜é‡åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„é›†åˆï¼Œç„¶åä½¿ç”¨åŸºäºç»Ÿä¸€çš„ç­–ç•¥ï¼Œéå†å‡½æ•°æŒ‡ä»¤ï¼Œå¹¶åœ¨ä¸¤ä¸ªå˜é‡ä½œä¸ºåŒä¸€è¯­å¥çš„æ“ä½œæ•°å‡ºç°æ—¶åˆå¹¶è¿™ä¸¤ä¸ªå˜é‡çš„é›†åˆã€‚æœ€ç»ˆï¼Œä¸€ä¸ªå¯æ¯”æ€§é›†åˆåŒ…å«äº†å‚ä¸ç›¸å…³è®¡ç®—çš„å˜é‡ã€‚è¿™å¾ˆå°‘æœ‰ä¾‹å¤–ï¼šä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆè®¡ç®—ä¸­ï¼Œæˆ‘ä»¬ä¸åˆå¹¶åŸºæ•°å’Œç´¢å¼•å…ƒç´ çš„é›†åˆï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚ â€‹ 3ï¼‰ ç¬¬ä¸‰ç±»æ˜¯ä¸å…¶ä»–â€œä¸å˜é‡â€çš„æ¡ä»¶é‡å ï¼š â€‹ å¦‚æœâ€œä¸å˜é‡â€é€»è¾‘é‡å ï¼Œå°±å­˜åœ¨å¯ä»¥ä¼˜åŒ–çš„ç©ºé—´ã€‚ 4. Corpus Selection-è¯­æ–™åº“é€‰æ‹© â€‹ ä»…ä½¿ç”¨æœ‰æ•ˆæ–‡ä»¶æ˜¯ä¸å¤Ÿçš„ã€‚ â€‹ åªè¦è¯¥æ¨¡ç³Šå™¨åœ¨è¾¾åˆ°æ–°çš„è¦†ç›–ç‚¹æ—¶æœ‰æ”¾ç¼“çš„è¿¹è±¡ï¼Œå°±å¯ä»¥ä½œä¸ºè¯­æ–™åº“ã€‚ï¼ˆwhyï¼Ÿï¼‰ REFERENCE è½¯ä»¶åˆ†æï¼š å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹ç¬”è®°01 Introduction_CSDN C/C++: Variable Length (Using the GNU Compiler Collection (GCC)) c99å˜é•¿æ•°ç»„_Cè¯­è¨€å˜é•¿æ•°ç»„ï¼šä½¿ç”¨å˜é‡æŒ‡æ˜æ•°ç»„çš„é•¿åº¦ CSDNåšå®¢","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"}],"author":"Shaw"},{"title":"(æŠ€æœ¯æ€»ç»“)The Kernel Address Sanitizer(KASAN)","slug":"ã€æŠ€æœ¯æ€»ç»“ã€‘The Kernel Address Sanitizer(KASAN)","date":"2023-05-04T06:33:12.791Z","updated":"2023-05-10T03:43:10.042Z","comments":true,"path":"2023/05/04/ã€æŠ€æœ¯æ€»ç»“ã€‘The Kernel Address Sanitizer(KASAN)/","link":"","permalink":"http://example.com/2023/05/04/%E3%80%90%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93%E3%80%91The%20Kernel%20Address%20Sanitizer(KASAN)/","excerpt":"The Kernel Address Sanitizer(KASAN) 1. å…¼å®¹æ€§ â€‹ KASANæ˜¯ä¸€ä¸ªåŠ¨æ€å†…å­˜å®‰å…¨é”™è¯¯æ£€æµ‹å™¨ï¼Œæ—¨åœ¨å‘ç°å†…æ ¸out-of-boundså’ŒUAFé”™è¯¯ã€‚KASANæœ‰ä¸‰ä¸ªæ¨¡å—ï¼šGeneric KASANã€Software Tag-Based KASANã€Hardware Tag-Based KASANã€‚Generic KASANå…¼å®¹è®¸å¤šCPUæ¶æ„ï¼Œä½†æ€§èƒ½å¼€é”€å¾ˆå¤§ï¼›Software Tag-Based KASANå’ŒHardware Tag-Based KASANéƒ½åªå…¼å®¹arm64æ¶æ„çš„CPUï¼Œæ€§èƒ½å¼€é”€ä¼šæ›´å°ã€‚ â€‹ ä¸€èˆ¬çš„ï¼Œç§°Generic KASANå’ŒSoftware Tag-Based KASANä¸ºsoftware KASANï¼› â€‹ ç§°Software Tag-Based KASANå’ŒHardware Tag-Based KASANä¸ºtag-based KASANã€‚ â€‹ Generic KASANæ”¯æŒçš„æŒ‡ä»¤é›†æ¶æ„æœ‰ï¼šx86_64, arm, arm64, powerpc, riscv, s390, å’Œ xtensaï¼›tag-based KASANåªæ”¯æŒarm64ã€‚","text":"The Kernel Address Sanitizer(KASAN) 1. å…¼å®¹æ€§ â€‹ KASANæ˜¯ä¸€ä¸ªåŠ¨æ€å†…å­˜å®‰å…¨é”™è¯¯æ£€æµ‹å™¨ï¼Œæ—¨åœ¨å‘ç°å†…æ ¸out-of-boundså’ŒUAFé”™è¯¯ã€‚KASANæœ‰ä¸‰ä¸ªæ¨¡å—ï¼šGeneric KASANã€Software Tag-Based KASANã€Hardware Tag-Based KASANã€‚Generic KASANå…¼å®¹è®¸å¤šCPUæ¶æ„ï¼Œä½†æ€§èƒ½å¼€é”€å¾ˆå¤§ï¼›Software Tag-Based KASANå’ŒHardware Tag-Based KASANéƒ½åªå…¼å®¹arm64æ¶æ„çš„CPUï¼Œæ€§èƒ½å¼€é”€ä¼šæ›´å°ã€‚ â€‹ ä¸€èˆ¬çš„ï¼Œç§°Generic KASANå’ŒSoftware Tag-Based KASANä¸ºsoftware KASANï¼› â€‹ ç§°Software Tag-Based KASANå’ŒHardware Tag-Based KASANä¸ºtag-based KASANã€‚ â€‹ Generic KASANæ”¯æŒçš„æŒ‡ä»¤é›†æ¶æ„æœ‰ï¼šx86_64, arm, arm64, powerpc, riscv, s390, å’Œ xtensaï¼›tag-based KASANåªæ”¯æŒarm64ã€‚ ### 2. ç¼–è¯‘å™¨è¦æ±‚ â€‹ KASANå¯¹å†…å­˜æ£€æŸ¥çš„é€»è¾‘æ˜¯åœ¨ç¼–è¯‘çš„æ—¶å€™åœ¨å†…å­˜è®¿é—®æ“ä½œä¹‹å‰æ’å…¥ç›¸å…³æ£€æŸ¥æŒ‡ä»¤ï¼Œæ•…éœ€è¦ç›¸åº”çš„ç¼–è¯‘å™¨æ”¯æŒè¯¥æ“ä½œã€‚ â€‹ Generic KASANéœ€è¦GCC 8.3.0+/ä»»ä½•ç‰ˆæœ¬çš„Clang(åªè¦å†…æ ¸æ”¯æŒ)ï¼› â€‹ Software Tag-Based KASANéœ€è¦GCC 11+/ä»»ä½•ç‰ˆæœ¬çš„Clang(åªè¦å†…æ ¸æ”¯æŒ)ï¼› â€‹ Hardware Tag-Based KASANéœ€è¦GCC10+/Clang12+ã€‚ 3. ä½¿ç”¨æ–¹æ³• â€‹ å¼€å¯KASANéœ€è¦åœ¨å†…æ ¸é…ç½®æ–‡ä»¶ä¸­å¼€å¯å¯¹åº”é…ç½®ï¼š CONFIG_KASAN=y â€‹ ç„¶åæ ¹æ®é€‰æ‹©çš„KASANç±»å‹é€‰æ‹©æ ‡ç­¾ï¼šCONFIG_KASAN_GENERICã€CONFIG_KASAN_SW_TAGSã€CONFIG_KASAN_HW_TAGSã€‚ â€‹ å¯¹äºsoftware KASANï¼Œå…¶éœ€è¦æŒ‡å®šå…¶ç¼–è¯‘æ’è£…ç±»å‹ï¼šCONFIG_KASAN_OUTLINEã€CONFIG_KASAN_INLINEï¼Œoutlineç±»å‹ç”Ÿæˆä½“ç§¯æ›´å°çš„äºŒè¿›åˆ¶ä»£ç ï¼Œè€Œinlineç±»å‹é€Ÿåº¦æ¯”outlineå¿«ä¸¤å€ã€‚ â€‹ ä¸ºäº†åœ¨æŠ¥å‘Šä¸­åŒ…æ‹¬å—å½±å“çš„slabå¯¹è±¡çš„stack tracesï¼ŒæŒ‡å®šï¼šCONFIG_STACKTRACE;åŒ…æ‹¬å—å½±å“çš„ç‰©ç†é¡µçš„stack tracesï¼ŒæŒ‡å®šCONFIG_PAGE_OWNERå¹¶page_owner=onã€‚ 4. Report â€‹ é»˜è®¤æƒ…å†µä¸‹ï¼ŒKASANåªå¯¹ç¬¬ä¸€ä¸ªæ— æ•ˆçš„å†…å­˜è®¿é—®æ‰“å°é”™è¯¯æŠ¥å‘Šã€‚ä½¿ç”¨ kasan_multi_shotï¼ŒKASANå¯¹æ¯ä¸€ä¸ªæ— æ•ˆçš„è®¿é—®éƒ½æ‰“å°ä¸€ä»½æŠ¥å‘Šã€‚è¿™ä¼šç¦ç”¨ äº†KASANæŠ¥å‘Šçš„ panic_on_warnã€‚ â€‹ å…¸å‹çš„KASANæŠ¥å‘Šå¦‚ä¸‹æ‰€ç¤º: ================================================================== BUG: KASAN: slab-out-of-bounds in kmalloc_oob_right+0xa8/0xbc [test_kasan] Write of size 1 at addr ffff8801f44ec37b by task insmod/2760 CPU: 1 PID: 2760 Comm: insmod Not tainted 4.19.0-rc3+ #698 Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1 04/01/2014 Call Trace: dump_stack+0x94/0xd8 print_address_description+0x73/0x280 kasan_report+0x144/0x187 __asan_report_store1_noabort+0x17/0x20 kmalloc_oob_right+0xa8/0xbc [test_kasan] kmalloc_tests_init+0x16/0x700 [test_kasan] do_one_initcall+0xa5/0x3ae do_init_module+0x1b6/0x547 load_module+0x75df/0x8070 __do_sys_init_module+0x1c6/0x200 __x64_sys_init_module+0x6e/0xb0 do_syscall_64+0x9f/0x2c0 entry_SYSCALL_64_after_hwframe+0x44/0xa9 RIP: 0033:0x7f96443109da RSP: 002b:00007ffcf0b51b08 EFLAGS: 00000202 ORIG_RAX: 00000000000000af RAX: ffffffffffffffda RBX: 000055dc3ee521a0 RCX: 00007f96443109da RDX: 00007f96445cff88 RSI: 0000000000057a50 RDI: 00007f9644992000 RBP: 000055dc3ee510b0 R08: 0000000000000003 R09: 0000000000000000 R10: 00007f964430cd0a R11: 0000000000000202 R12: 00007f96445cff88 R13: 000055dc3ee51090 R14: 0000000000000000 R15: 0000000000000000 Allocated by task 2760: save_stack+0x43/0xd0 kasan_kmalloc+0xa7/0xd0 kmem_cache_alloc_trace+0xe1/0x1b0 kmalloc_oob_right+0x56/0xbc [test_kasan] kmalloc_tests_init+0x16/0x700 [test_kasan] do_one_initcall+0xa5/0x3ae do_init_module+0x1b6/0x547 load_module+0x75df/0x8070 __do_sys_init_module+0x1c6/0x200 __x64_sys_init_module+0x6e/0xb0 do_syscall_64+0x9f/0x2c0 entry_SYSCALL_64_after_hwframe+0x44/0xa9 Freed by task 815: save_stack+0x43/0xd0 __kasan_slab_free+0x135/0x190 kasan_slab_free+0xe/0x10 kfree+0x93/0x1a0 umh_complete+0x6a/0xa0 call_usermodehelper_exec_async+0x4c3/0x640 ret_from_fork+0x35/0x40 The buggy address belongs to the object at ffff8801f44ec300 which belongs to the cache kmalloc-128 of size 128 The buggy address is located 123 bytes inside of 128-byte region [ffff8801f44ec300, ffff8801f44ec380) The buggy address belongs to the page: page:ffffea0007d13b00 count:1 mapcount:0 mapping:ffff8801f7001640 index:0x0 flags: 0x200000000000100(slab) raw: 0200000000000100 ffffea0007d11dc0 0000001a0000001a ffff8801f7001640 raw: 0000000000000000 0000000080150015 00000001ffffffff 0000000000000000 page dumped because: kasan: bad access detected Memory state around the buggy address: ffff8801f44ec200: fc fc fc fc fc fc fc fc fb fb fb fb fb fb fb fb ffff8801f44ec280: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc >ffff8801f44ec300: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 ^ ffff8801f44ec380: fc fc fc fc fc fc fc fc fb fb fb fb fb fb fb fb ffff8801f44ec400: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc ================================================================== â€‹ BUG: KASAN: ç¬¬ä¸€è¡ŒæŠ¥å‘Šäº†é”™è¯¯ç±»å‹ï¼Œslab-out-of-boundsï¼› â€‹ Call Trace:è¡¨æ˜äº†å½“å‰errorçš„å †æ ˆè·Ÿè¸ªï¼› â€‹ Allocated by task 2760:è¡¨æ˜äº†æ‰€è®¿é—®å†…å­˜åˆ†é…ä½ç½®çš„å †æ ˆè·Ÿè¸ªï¼ˆâ€œwhere the accessed memory was allocated â€ï¼‰ï¼› â€‹ Freed by task 815:è¡¨æ˜äº†å¯¹è±¡è¢«é‡Šæ”¾çš„ä½ç½®çš„å †æ ˆè·Ÿè¸ªï¼ˆâ€œwhere the object was freedâ€ï¼‰ï¼› â€‹ The buggy address belongs to â€¦â€¦:è¡¨æ˜äº†è®¿é—®çš„slabå¯¹è±¡çš„ç›¸å…³æè¿°ï¼› â€‹ Memory state around the buggy address:è¡¨æ˜äº†è®¿é—®slabå¯¹è±¡å‘¨å›´çš„å†…å­˜æƒ…å†µã€‚ 5. å½±å­å†…å­˜ â€‹ KASANçš„åŸç†æ˜¯åˆ©ç”¨â€œé¢å¤–â€çš„å†…å­˜æ¥æ ‡è®°é‚£äº›å¯ä»¥è¢«ä½¿ç”¨çš„å†…å­˜çš„çŠ¶æ€ã€‚è¿™äº›åšæ ‡è®°çš„åŒºåŸŸè¢«ç§°ä¸ºå½±å­åŒºåŸŸï¼ˆshadow regionï¼‰ã€‚äº†è§£ Linux å†…å­˜ç®¡ç†çš„è¯»è€…çŸ¥é“ï¼Œå†…å­˜ä¸­çš„æ¯ä¸ªç‰©ç†é¡µåœ¨å†…å­˜ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ª struct page è¿™æ ·çš„ç»“æ„ä½“æ¥è¡¨ç¤ºï¼Œå³æ¯ 4KB çš„é¡µéœ€è¦ 40B çš„ç»“æ„ä½“ï¼Œå¤§çº¦ 1% çš„å†…å­˜ç”¨æ¥è¡¨ç¤ºå†…å­˜æœ¬èº«ã€‚Kasan ä¸å…¶ç±»ä¼¼ä½†â€œæµªè´¹â€æ›´ä¸ºä¸¥é‡ï¼Œå½±å­åŒºåŸŸçš„æ¯”ä¾‹æ˜¯ 1:8ï¼Œå³æ€»å†…å­˜çš„ä¹åˆ†ä¹‹ä¸€ä¼šè¢«â€œæµªè´¹â€ã€‚ç”¨å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¾‹å­ï¼Œå¦‚æœæœ‰ 128TB çš„å¯ç”¨å†…å­˜ï¼Œéœ€è¦æœ‰é¢å¤– 16TB çš„å†…å­˜ç”¨æ¥åšæ ‡è®°ã€‚ Shadow Memory of KASAN â€‹ åšæ ‡è®°çš„æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œå°†å¯ç”¨å†…å­˜æŒ‰ç…§ 8 å­èŠ‚çš„å¤§å°åˆ†ç»„ï¼Œå¦‚æœæ¯ç»„ä¸­æ‰€æœ‰ 8 ä¸ªå­—èŠ‚éƒ½å¯ä»¥è®¿é—®ï¼Œåˆ™å½±å­å†…å­˜ä¸­ç›¸åº”çš„åœ°æ–¹ç”¨å…¨é›¶ï¼ˆ0x00ï¼‰è¡¨ç¤ºï¼›å¦‚æœå¯ç”¨å†…å­˜çš„å‰ Nï¼ˆ1 åˆ° 7 èŒƒå›´ä¹‹é—´ï¼‰ä¸ªå­—èŠ‚å¯ç”¨ï¼Œåˆ™å½±å­å†…å­˜ä¸­å“åº”çš„ä½ç½®ç”¨ N è¡¨ç¤ºï¼›å…¶å®ƒæƒ…å†µå½±å­å†…å­˜ç”¨è´Ÿæ•°è¡¨ç¤ºè¯¥å†…å­˜ä¸å¯ç”¨ï¼ˆKASANä½¿ç”¨ä¸åŒçš„è´Ÿå€¼æ¥åŒºåˆ†ä¸åŒç±»å‹çš„ä¸å¯è®¿é—®å†…å­˜ï¼Œå¦‚redzones æˆ–å·²é‡Šæ”¾çš„å†…å­˜ï¼Œå‚è§ mm/kasan/kasan.hï¼‰ã€‚ â€‹ ä¸Šè¿°Reportä¸­ï¼Œç®­å¤´æŒ‡å‘çš„å½±å­å­—èŠ‚03ï¼Œè¡¨ç¤ºè®¿é—®çš„åœ°å€æ˜¯éƒ¨åˆ†å¯è®¿é—®çš„ã€‚æŠ¥å‘Šä¸­å¯è®¿é—®çš„å†…å­˜æ˜¯â€œ00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03â€ï¼Œä¸€å…±15ä¸ª00å’Œä¸€ä¸ª03ï¼Œå…¶è¡¨æ˜äº†ä¸€å…±æœ‰15Ã—8+3=123ä¸ªå­—èŠ‚å¯ä»¥è®¿é—®ï¼Œå½“è¯•å›¾è®¿é—®è¿™123ä¸ªå­—èŠ‚ä¹‹å¤–çš„å†…å®¹æ—¶ï¼Œå°±ä¼šæŠ¥é”™out-of-boundsã€‚ â€‹ KASANé”™è¯¯æ ‡é¢˜ï¼ˆå¦‚ slab-out-of-bounds æˆ– use-after-free ï¼‰ æ˜¯å°½é‡æ¥è¿‘çš„KASANæ ¹æ®å…¶æ‹¥æœ‰çš„æœ‰é™ä¿¡æ¯æ‰“å°å‡ºæœ€å¯èƒ½çš„é”™è¯¯ç±»å‹ã€‚é”™è¯¯çš„å®é™…ç±»å‹ å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ Reference æ–‡æ¡£ï¼š The Kernel Address Sanitizer (KASAN) â€” The Linux Kernel documentation å†…æ ¸åœ°å€æ¶ˆæ¯’å‰‚(KASAN) â€” The Linux Kernel documentation Kasan - Linux å†…æ ¸çš„å†…å­˜æ£€æµ‹å·¥å…· - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com) å†…å­˜åˆ†é…: Linux å†…æ ¸ | å†…å­˜ç®¡ç†â€”â€”slab åˆ†é…å™¨ - çŸ¥ä¹ (zhihu.com) (60æ¡æ¶ˆæ¯) Linuxå†…å­˜å­ç³»ç»Ÿâ€”â€”åˆ†é…ç‰©ç†é¡µé¢ï¼ˆalloc_pagesï¼‰_ç»å…´å°è´µå®çš„åšå®¢-CSDNåšå®¢","categories":[{"name":"Code","slug":"Code","permalink":"http://example.com/categories/Code/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"}],"author":"Shaw"},{"title":"(LLVMå…¥é—¨)ç¼–å†™LLVM PASS","slug":"ã€æŠ€æœ¯ç§¯ç´¯ã€‘(LLVMå…¥é—¨)ç¼–å†™LLVM PASS","date":"2023-05-01T06:40:01.508Z","updated":"2023-05-01T06:42:38.683Z","comments":true,"path":"2023/05/01/ã€æŠ€æœ¯ç§¯ç´¯ã€‘(LLVMå…¥é—¨)ç¼–å†™LLVM PASS/","link":"","permalink":"http://example.com/2023/05/01/%E3%80%90%E6%8A%80%E6%9C%AF%E7%A7%AF%E7%B4%AF%E3%80%91(LLVM%E5%85%A5%E9%97%A8)%E7%BC%96%E5%86%99LLVM%20PASS/","excerpt":"(LLVMå…¥é—¨)ç¼–å†™LLVM PASS â€‹ å‰ç½®çŸ¥è¯†ï¼š LLVM IRç»“æ„ï¼› C++ é¢å‘å¯¹è±¡ï¼› CMakeï¼›","text":"(LLVMå…¥é—¨)ç¼–å†™LLVM PASS â€‹ å‰ç½®çŸ¥è¯†ï¼š LLVM IRç»“æ„ï¼› C++ é¢å‘å¯¹è±¡ï¼› CMakeï¼› ä¸€ã€ç†è®º LLVM IR LLVM IR æ–‡ä»¶çš„åŸºæœ¬å•ä½ç§°ä¸º moduleï¼ŒLLVMä¸­çš„Moduleï¼Œä»£è¡¨äº†ä¸€å—ä»£ç ã€‚å®ƒæ˜¯ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´ç‹¬ç«‹çš„ä»£ç å—ï¼Œæ˜¯ä¸€ä¸ªæœ€å°çš„ç¼–è¯‘å•å…ƒã€‚ï¼› ä¸€ä¸ª module ä¸­å¯ä»¥æ‹¥æœ‰å¤šä¸ªé¡¶å±‚å®ä½“ï¼Œæ¯”å¦‚ function å’Œ global variavleï¼› ä¸€ä¸ª function define ä¸­è‡³å°‘æœ‰ä¸€ä¸ª basicblockï¼› æ¯ä¸ª basicblock ä¸­æœ‰è‹¥å¹² instructionï¼Œå¹¶ä¸”éƒ½ä»¥ terminator instruction ç»“å°¾ã€‚ (è¯¦è§ï¼šPowerPoint Presentation (llvm.org)) What is a PASS? pass å¯¹LLVM IRçš„ä¸€äº›å•å…ƒè¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚moduleæˆ–è€…functionï¼› passæœ‰ä¸¤ç±»ï¼ŒAnalysis passå’ŒTransformation passã€‚Transformation passä¼šå¯¹å•å…ƒè¿›è¡Œä¿®æ”¹æ“ä½œï¼ŒAnalysis passä¸ä¿®æ”¹ï¼Œåªè§‚å¯Ÿå¹¶ç”Ÿæˆä¸€äº›é«˜å±‚ä¿¡æ¯ï¼› â€‹ Pass Managerï¼šè°ƒåº¦Passåœ¨å„IRå±‚çº§æŒ‰é¡ºåºè¿è¡Œã€‚ ï¼ˆä»€ä¹ˆæ˜¯å„IRå±‚çº§ï¼Ÿï¼‰ opt â€‹ optæ˜¯LLVMçš„ä»£ç ä¼˜åŒ–å™¨ï¼Œå…¶è¾“å…¥llæºæ–‡ä»¶ï¼Œå…¶å¯ä»¥å¯¹æºæ–‡ä»¶è¿›è¡Œä¼˜åŒ–ï¼ˆè¾“å‡ºä¼˜åŒ–åçš„llæºæ–‡ä»¶ï¼‰æˆ–è€…åˆ†æï¼ˆè¾“å‡ºåˆ†æç»“æœï¼‰ã€‚ â€‹ åœ¨ä½¿ç”¨optå‘½ä»¤æ—¶ï¼Œ-{passname}æä¾›äº†ä»¥ä»»ä½•é¡ºåºè¿è¡Œä»»ä½•LLVMä¼˜åŒ–æˆ–åˆ†æPassçš„èƒ½åŠ›ã€‚ äºŒã€ä»£ç å®è·µ å¸¸è§llvmç¼–è¯‘å‘½ä»¤ï¼š #.c -> .llï¼š clang -emit-llvm -S a.c -o a.ll #.c -> .bc: clang -emit-llvm -c a.c -o a.bc #.ll -> .bc: llvm-as a.ll -o a.bc #.bc -> .ll: llvm-dis a.bc -o a.ll #.bc -> .s: lc a.bc -o a.s 2. Hellow World PASS ç›®æ ‡ï¼šæ‰“å°å‡ºç¼–è¯‘ç¨‹åºä¸­å­˜åœ¨çš„éå¤–éƒ¨å‡½æ•°çš„åç§°ï¼Œè¯¥ Pass åªæ˜¯æ£€æŸ¥ç¨‹åºï¼Œä¸ä¿®æ”¹åŸç¨‹åºã€‚ â€‹ llvmå®‰è£…ç¼–è¯‘è¿‡ç¨‹ç•¥ï¼Œè¯¦è§githubå®˜æ–¹é¡¹ç›®ã€‚ 2.1 old manager â€‹ æ—§ç‰ˆpass manageré‡‡ç”¨ç»§æ‰¿å¯¹åº”PASSç±»ï¼Œè¦†å†™çˆ¶ç±»è™šå‡½æ•°çš„æ–¹å¼å®šä¹‰ç”¨æˆ·è‡ªå·±çš„passç±»ï¼Œç¼–å†™old_hello.cppå¦‚ä¸‹ï¼š //old_Hello.cpp #include \"llvm/Pass.h\" #include \"llvm/IR/Function.h\" #include \"llvm/Support/raw_ostream.h\" using namespace llvm; //ä½¿ç”¨åŒ¿åå‘½åç©ºé—´ï¼Œä½¿å¾—å…¶ä¸­å®šä¹‰çš„å‡½æ•°å¯¹å…¶å®ƒæ–‡ä»¶ä¸å¯è§ï¼› //é˜²æ­¢å‘½åç©ºé—´æ±¡æŸ“ namespace&#123; //FunctionPassæ¯æ¬¡æ“ä½œä¸€ä¸ªå‡½æ•°,Hellpç»§æ‰¿å®ƒ struct Hello:public FunctionPass&#123; static char ID; Hello() : FunctionPass(ID)&#123;&#125; //è¦†å†™çˆ¶ç±»çš„è™šå‡½æ•°ï¼Œoverrideæ˜¯è¦†å†™æ ‡å¿—ï¼Œä½¿ç”¨å®ƒæ—¶å½“æ²¡æœ‰æ­£ç¡® //è¿›è¡Œè¦†å†™æ“ä½œæ—¶ç¼–è¯‘å™¨ä¼šæŠ¥errorè€Œä¸æ˜¯warnningï¼Œä¸”å­ç±»è¦†å†™ //çš„è™šå‡½æ•°ä¹Ÿä¸ç”¨å†åŠ virtualå…³é”®å­—ï¼› //å¦‚æœè¦ç¦æ­¢å­ç±»è¦†å†™è™šå‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨finalå…³é”®å­—ã€‚ bool runOnFunction(Function &amp;F) override &#123; //æ‰“å°\"Hello: å‡½æ•°åç§°\" errs() &lt;&lt; \"Hello: \"; errs().write_escaped(F.getName()) &lt;&lt; '\\n'; return false; &#125; &#125;; &#125; //åˆå§‹åŒ–ID char Hello::ID = 0; //Register for opt static RegisterPass&lt;Hello> X(\"hello\",\"Hello World Pass\", false/* Only looks at CFG */, false/* Only looks at CFG */); â€‹ ç¼–å†™ä¸€ä¸ªå¾…æµ‹è¯•æ–‡ä»¶test.cppï¼š #include&lt;stdio.h> void fun1()&#123; printf(\"111\\n\"); &#125; void fun2()&#123; printf(\"222\\n\"); &#125; void fun3()&#123; printf(\"333\\n\"); &#125; int main(void)&#123; printf(\"%d\\n\",fun1()); printf(\"%d\\n\",fun2()); //printf(\"%d\\n\",fun3()); return 0; &#125; â€‹ ç¼–è¯‘passå’Œtestæ–‡ä»¶ï¼š #ç¼–è¯‘passï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰CMakeListsæ–‡ä»¶ï¼Œæ‰‹åŠ¨ç¼–è¯‘; #llvm-configæä¾›äº†CXXFLAGSä¸LDFLAGSå‚æ•°æ–¹ä¾¿æŸ¥æ‰¾LLVMçš„å¤´æ–‡ä»¶ä¸åº“æ–‡ä»¶; #å¦‚æœé“¾æ¥æœ‰é—®é¢˜ï¼Œè¿˜å¯ä»¥ç”¨llvm-config --libsæä¾›åŠ¨æ€é“¾æ¥çš„LLVMåº“; #å…·ä½“llvm-configæ‰“å°äº†ä»€ä¹ˆï¼Œè¯·è‡ªè¡Œå°è¯•æˆ–æŸ¥æ‰¾å®˜æ–¹æ–‡æ¡£; #-fPIC -shared æ˜¯ç¼–è¯‘åŠ¨æ€åº“çš„å¿…è¦å‚æ•°ã€‚ #å› ä¸ºLLVMæ²¡ç”¨åˆ°RTTIï¼Œæ‰€ä»¥ç”¨-fno-rtti æ¥è®©æˆ‘ä»¬çš„Passä¸ä¹‹ä¸€è‡´; #-Wl,-znodeleteæ˜¯ä¸ºäº†åº”å¯¹LLVM 5.0+ä¸­åŠ è½½ModulePasså¼•èµ·segmentation faultçš„bug; #è‹¥Passç»§æ‰¿äº†ModulePassï¼ŒåŠ¡å¿…åŠ ä¸Šã€‚ clang `llvm-config --cxxflags` -Wl,-znodelete -fno-rtti -fPIC -shared old_hello.cpp -o LLVMHello.so `llvm-config --ldflags` #å°†å¾…æµ‹è¯•æ–‡ä»¶ç¼–è¯‘ä¸ºbitcode clang -emit-llvm -c test.cpp -o test.bc â€‹ ä½¿ç”¨optå‘½ä»¤åŠ è½½è¿è¡Œï¼Œè¿è¡Œç»“æœï¼š #-loda é€‰é¡¹è¡¨æ˜è¦åŠ è½½è¿›ç¨‹åºçš„pass #-hello æ˜¯æ³¨å†Œæ—¶è§„å®šçš„å‚æ•° #ç”±äºæ­¤passå¹¶ä¸ä¿®æ”¹ç¨‹åºï¼Œæ•…å°†optçš„è¾“å‡ºç»“æœæ”¾å…¥/dev/null(ä¸¢å¼ƒ) sudo opt -load ./LLVMHello.so -hello &lt; test.bc > /dev/null Hello: _Z4fun1v Hello: _Z4fun2v Hello: _Z4fun3v Hello: main â€‹ åœ¨å‘½ä»¤ä¸­åŠ å…¥-time-passeså‚æ•°ï¼Œå¯ä»¥è·å¾—è¿è¡Œæ—¶é—´ç›¸å…³ç»“æœï¼š $sudo opt -load ./LLVMHello.so -hello -time-passes &lt; test.bc > /dev/null Hello: _Z4fun1v Hello: _Z4fun2v Hello: _Z4fun3v Hello: main ==-------------------------------------------------------------------------== ... Pass execution timing report ... ==-------------------------------------------------------------------------== Total Execution Time: 0.0006 seconds (0.0006 wall clock) ---User Time--- --System Time-- --User+System-- ---Wall Time--- ---Name --- 0.0001 ( 61.1%) 0.0002 ( 62.0%) 0.0003 ( 61.7%) 0.0003 ( 62.0%) Bitcode Writer 0.0001 ( 33.7%) 0.0001 ( 33.2%) 0.0002 ( 33.3%) 0.0002 ( 33.0%) Hello World Pass 0.0000 ( 5.3%) 0.0000 ( 4.8%) 0.0000 ( 5.0%) 0.0000 ( 5.0%) Module Verifier 0.0002 (100.0%) 0.0004 (100.0%) 0.0006 (100.0%) 0.0006 (100.0%) Total ==-------------------------------------------------------------------------== LLVM IR Parsing ===-------------------------------------------------------------------------== Total Execution Time: 0.0005 seconds (0.0005 wall clock) ---User Time--- --System Time-- --User+System-- ---Wall Time--- --- Name --- 0.0002 (100.0%) 0.0003 (100.0%) 0.0005 (100.0%) 0.0005 (100.0%) Parse IR 0.0002 (100.0%) 0.0003 (100.0%) 0.0005 (100.0%) 0.0005 (100.0%) Total â€‹ å¦‚æœæƒ³ç›´æ¥ä½¿ç”¨clangé›†æˆè¿™ä¸ªè¿‡ç¨‹ï¼Œéœ€è¦åœ¨passæ³¨å†Œæ—¶æ·»åŠ ï¼š #include \"llvm/IR/LegacyPassManager.h\" #include \"llvm/Transforms/IPO/PassManagerBuilder.h\" // Register for clang static RegisterStandardPasses Y(PassManagerBuilder::EP_EarlyAsPossible, [](const PassManagerBuilder &amp;Builder, legacy::PassManagerBase &amp;PM) &#123; PM.add(new Hello()); &#125;); â€‹ æ¥ä¸‹æ¥æ— éœ€æå‰ç¼–è¯‘bcæ–‡ä»¶å†è°ƒç”¨optï¼Œç›´æ¥ä½¿ç”¨clangå³å¯ï¼š clang -Xclang -load -Xclang ./LLVMHello.so test.cpp -o clang_test Hello: _Z4fun1v Hello: _Z4fun2v Hello: _Z4fun3v Hello: main 2.2 new manager â€‹ llvmæ–°ç‰ˆæœ¬çš„pass managerå®šä¹‰ä¾èµ–äºå¤šæ€ï¼Œæ„å‘³ç€å¹¶ä¸å­˜åœ¨æ˜¾ç¤ºçš„æ¥å£ï¼Œæ‰€æœ‰çš„ Pass æ˜¯ç»§æ‰¿è‡ª CRTP æ¨¡æ¿PassInfoMixin&lt;PassT&gt;ï¼Œå…¶ä¸­éœ€è¦æœ‰ä¸€ä¸ªrun()æ–¹æ³•ï¼Œæ¥æ”¶ä¸€äº› IR å•å…ƒå’Œä¸€ä¸ªåˆ†æç®¡ç†å™¨ï¼Œè¿”å›ç±»å‹ä¸º PreservedAnalysesã€‚ &#x2F;&#x2F;new_hellp.cpp #include &quot;llvm&#x2F;IR&#x2F;LegacyPassManager.h&quot; #include &quot;llvm&#x2F;Passes&#x2F;PassBuilder.h&quot; #include &quot;llvm&#x2F;Passes&#x2F;PassPlugin.h&quot; #include &quot;llvm&#x2F;Support&#x2F;raw_ostream.h&quot; using namespace llvm; namespace&#123; void visitor(Function &amp;F)&#123; errs() &lt;&lt; &quot;(New Hello)FunctionName: &quot; &lt;&lt; F.getName() &lt;&lt; &quot;\\n&quot;; errs() &lt;&lt; &quot;(New Hello)ArgSize: &quot; &lt;&lt; F.arg_size() &lt;&lt; &quot;\\n&quot;; &#125; struct HelloWorld:PassInfoMixin&lt;HelloWorld&gt;&#123; PreservedAnalyses run(Function &amp;F,FunctionAnalysisManager &amp;)&#123; visitor(F); return PreservedAnalyses::all(); &#125; static bool isRequired()&#123;return true;&#125; &#125;; &#125;&#x2F;&#x2F;namespace llvm::PassPluginLibraryInfo getHelloWorldPluginInfo()&#123; return&#123; LLVM_PLUGIN_API_VERSION,&quot;HelloWorld&quot;,LLVM_VERSION_STRING, [](PassBuilder &amp;PB)&#123; PB.registerPipelineParsingCallback( [](StringRef Name, FunctionPassManager &amp;FPM, ArrayRef&lt;PassBuilder::PipelineElement&gt;)&#123; if(Name &#x3D;&#x3D; &quot;hello-world&quot;)&#123; FPM.addPass(HelloWorld()); return true; &#125; return true; &#125;); &#125; &#125;; &#125; extern &quot;C&quot; LLVM_ATTRIBUTE_WEAK ::llvm::PassPluginLibraryInfo llvmGetPassPluginInfo()&#123; return getHelloWorldPluginInfo(); &#125; â€‹ ä»¥ä¸Šä»£ç åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒPassæœ¬ä½“å’ŒPassæ³¨å†Œï¼Œå…·ä½“å«ä¹‰å’Œå¯¹åº”çš„CMakeLists.txtå¯å‚ç…§llvm-tutorï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚å°è¯•è¿è¡Œï¼š #ç¼–è¯‘Pass export LLVM_DIR=/usr/local/include/llvm/ cmake -DLT_LLVM_INSTALL_DIR=$LLVM_DIR ../ make #ç¼–è¯‘è¾“å…¥æ–‡ä»¶ clang -O1 -S -emit-llvm ../../data/test.cpp -o ../../data/test.ll #ä½¿ç”¨new manageråŠ è½½pass opt -load-pass-plugin ./libHelloWorld.so -passes=hello-world -disable-output ../../data/test.ll Reference LLVM IR çš„ç¬¬äºŒä¸ª Passï¼šä¸Šæ‰‹å®˜æ–¹æ–‡æ¡£ New Pass Manager HelloWorld Pass - çŸ¥ä¹ (zhihu.com) LLVMä¸­çš„passåŠå…¶ç®¡ç†æœºåˆ¶ - çŸ¥ä¹ (zhihu.com) Using the New Pass Manager â€” LLVM 17.0.0git documentation 2019 LLVM Developersâ€™ Meeting: A. Warzynski â€œWriting an LLVM Pass: 101â€ - YouTube banach-space/llvm-tutor: A collection of out-of-tree LLVM passes for teaching and learning (github.com)","categories":[{"name":"Code","slug":"Code","permalink":"http://example.com/categories/Code/"}],"tags":[{"name":"LLVM","slug":"LLVM","permalink":"http://example.com/tags/LLVM/"}],"author":"Shaw"},{"title":"GREBE-Unveiling Exploitation Potential for Linux Kernel Bugs","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘GREBE-Unveiling-Exploitation-Potential-for-Linux-Kernel-Bugs","date":"2023-04-10T07:24:25.618Z","updated":"2023-04-10T07:28:59.767Z","comments":true,"path":"2023/04/10/ã€è®ºæ–‡é˜…è¯»ã€‘GREBE-Unveiling-Exploitation-Potential-for-Linux-Kernel-Bugs/","link":"","permalink":"http://example.com/2023/04/10/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91GREBE-Unveiling-Exploitation-Potential-for-Linux-Kernel-Bugs/","excerpt":"GREBE: Unveiling Exploitation Potential for Linux Kernel Bugs æ—¶é—´ï¼š2022 ä½œè€…ï¼šZhenpeng Lin,Yueqi Chen,Yuhang Wu ä¼šè®®ï¼šSP ABSTRACT â€‹ æœ€è¿‘ï¼ŒåŠ¨æ€æµ‹è¯•å·¥å…·æ˜¾è‘—æå‡äº†Linuxå†…æ ¸æ¼æ´çš„å‘æ˜é€Ÿåº¦ï¼Œè¿™äº›å·¥å…·ä¼šåœ¨æŒ–æ˜æ¼æ´æ—¶è‡ªåŠ¨åœ°ç”ŸæˆæŠ¥å‘Šï¼Œå…·ä½“è¯´æ˜Linuxç³»ç»Ÿçš„errorã€‚æŠ¥å‘Šä¸­çš„erroræš—ç¤ºäº†ç›¸åº”çš„å†…æ ¸é”™è¯¯çš„å¯èƒ½çš„exploitabilityï¼Œå› æ­¤ï¼Œè®¸å¤šå®‰å…¨åˆ†æå‘˜ä½¿ç”¨(æŠ¥å‘Šä¸­)è¡¨ç°å‡ºæ¥çš„erroræ¥æ¨æ–­ä¸€ä¸ªé”™è¯¯çš„å¯åˆ©ç”¨æ€§ï¼Œä»è€Œè€ƒè™‘å…¶exploitå¼€å‘çš„ä¼˜å…ˆçº§ã€‚ç„¶è€Œï¼Œä½¿ç”¨æŠ¥å‘Šä¸­çš„errorå¯èƒ½ä¼šä½ä¼°ä¸€ä¸ªé”™è¯¯çš„å¯åˆ©ç”¨æ€§ã€‚æŠ¥å‘Šä¸­è¡¨ç°å‡ºçš„errorå¯èƒ½å–å†³äºè¯¥erroræ˜¯å¦‚ä½•è¢«è§¦å‘çš„ã€‚é€šè¿‡ä¸åŒçš„è·¯å¾„æˆ–åœ¨ä¸åŒçš„èƒŒæ™¯ä¸‹ï¼Œä¸€ä¸ªerrorå¯èƒ½è¡¨ç°å‡ºå„ç§é”™è¯¯è¡Œä¸ºï¼Œæ„å‘³ç€éå¸¸ä¸åŒçš„åˆ©ç”¨æ½œåŠ›ã€‚ â€‹ æ­¤æ–‡æå‡ºäº†ä¸€ä¸ªæ–°çš„å†…æ ¸fuzzæŠ€æœ¯æ¥æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„å†…æ ¸æ¼æ´çš„errorçš„è¡¨ç°ã€‚ä¸ä¼ ç»Ÿçš„ä¸“æ³¨äºå†…æ ¸ä»£ç è¦†ç›–ç‡çš„å†…æ ¸fuzzingæŠ€æœ¯ä¸åŒï¼Œæˆ‘ä»¬çš„fuzzingæŠ€æœ¯æ›´å¤šçš„æ˜¯é’ˆå¯¹æœ‰æ¼æ´çš„ä»£ç ç‰‡æ®µã€‚ä¸ºäº†æ¢ç´¢ä¸åŒè§¦å‘åŒä¸€ä¸ªbugçš„ä¸Šä¸‹æ–‡/è·¯å¾„ï¼Œæ–‡ç« å¼•å…¥äº†object-drivenå†…æ ¸fuzzingæŠ€æœ¯ã€‚é€šè¿‡æ–°æ¢ç´¢çš„errorï¼Œå®‰å…¨ç ”ç©¶äººå‘˜å¯ä»¥æ›´å¥½åœ°æ¨æ–­å‡ºä¸€ä¸ªerrorçš„å¯åˆ©ç”¨æ€§ã€‚ â€‹ ä¸ºäº†è¯„ä¼°æˆ‘ä»¬æå‡ºçš„æŠ€æœ¯çš„æœ‰æ•ˆæ€§ã€æ•ˆç‡å’Œå½±å“ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„fuzzingæŠ€æœ¯ä½œä¸ºä¸€ä¸ªå·¥å…·GREBEæ¥å®ç°ï¼Œå¹¶å°†å…¶åº”ç”¨äº60ä¸ªçœŸå®ä¸–ç•Œçš„Linuxå†…æ ¸æ¼æ´ã€‚å¹³å‡æ¥è¯´ï¼ŒGREBEå¯ä»¥ä¸ºæ¯ä¸ªå†…æ ¸æ¼æ´è¡¨ç°å‡º2ä¸ªä»¥ä¸Šçš„é¢å¤–é”™è¯¯è¡Œä¸ºã€‚å¯¹äº26ä¸ªå†…æ ¸é”™è¯¯ï¼ŒGREBEå‘ç°äº†æ›´é«˜çš„å¼€å‘æ½œåŠ›ã€‚æˆ‘ä»¬å‘å†…æ ¸ä¾›åº”å•†æŠ¥å‘Šäº†å…¶ä¸­çš„ä¸€äº›é”™è¯¯--è¿™äº›é”™è¯¯çš„å¯åˆ©ç”¨æ€§è¢«é”™è¯¯åœ°è¯„ä¼°äº†ï¼Œç›¸åº”çš„è¡¥ä¸è¿˜æ²¡æœ‰è¢«ä»”ç»†åœ°åº”ç”¨--å¯¼è‡´ä»–ä»¬è¿…é€Ÿåœ°é‡‡ç”¨è¡¥ä¸ã€‚","text":"GREBE: Unveiling Exploitation Potential for Linux Kernel Bugs æ—¶é—´ï¼š2022 ä½œè€…ï¼šZhenpeng Lin,Yueqi Chen,Yuhang Wu ä¼šè®®ï¼šSP ABSTRACT â€‹ æœ€è¿‘ï¼ŒåŠ¨æ€æµ‹è¯•å·¥å…·æ˜¾è‘—æå‡äº†Linuxå†…æ ¸æ¼æ´çš„å‘æ˜é€Ÿåº¦ï¼Œè¿™äº›å·¥å…·ä¼šåœ¨æŒ–æ˜æ¼æ´æ—¶è‡ªåŠ¨åœ°ç”ŸæˆæŠ¥å‘Šï¼Œå…·ä½“è¯´æ˜Linuxç³»ç»Ÿçš„errorã€‚æŠ¥å‘Šä¸­çš„erroræš—ç¤ºäº†ç›¸åº”çš„å†…æ ¸é”™è¯¯çš„å¯èƒ½çš„exploitabilityï¼Œå› æ­¤ï¼Œè®¸å¤šå®‰å…¨åˆ†æå‘˜ä½¿ç”¨(æŠ¥å‘Šä¸­)è¡¨ç°å‡ºæ¥çš„erroræ¥æ¨æ–­ä¸€ä¸ªé”™è¯¯çš„å¯åˆ©ç”¨æ€§ï¼Œä»è€Œè€ƒè™‘å…¶exploitå¼€å‘çš„ä¼˜å…ˆçº§ã€‚ç„¶è€Œï¼Œä½¿ç”¨æŠ¥å‘Šä¸­çš„errorå¯èƒ½ä¼šä½ä¼°ä¸€ä¸ªé”™è¯¯çš„å¯åˆ©ç”¨æ€§ã€‚æŠ¥å‘Šä¸­è¡¨ç°å‡ºçš„errorå¯èƒ½å–å†³äºè¯¥erroræ˜¯å¦‚ä½•è¢«è§¦å‘çš„ã€‚é€šè¿‡ä¸åŒçš„è·¯å¾„æˆ–åœ¨ä¸åŒçš„èƒŒæ™¯ä¸‹ï¼Œä¸€ä¸ªerrorå¯èƒ½è¡¨ç°å‡ºå„ç§é”™è¯¯è¡Œä¸ºï¼Œæ„å‘³ç€éå¸¸ä¸åŒçš„åˆ©ç”¨æ½œåŠ›ã€‚ â€‹ æ­¤æ–‡æå‡ºäº†ä¸€ä¸ªæ–°çš„å†…æ ¸fuzzæŠ€æœ¯æ¥æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„å†…æ ¸æ¼æ´çš„errorçš„è¡¨ç°ã€‚ä¸ä¼ ç»Ÿçš„ä¸“æ³¨äºå†…æ ¸ä»£ç è¦†ç›–ç‡çš„å†…æ ¸fuzzingæŠ€æœ¯ä¸åŒï¼Œæˆ‘ä»¬çš„fuzzingæŠ€æœ¯æ›´å¤šçš„æ˜¯é’ˆå¯¹æœ‰æ¼æ´çš„ä»£ç ç‰‡æ®µã€‚ä¸ºäº†æ¢ç´¢ä¸åŒè§¦å‘åŒä¸€ä¸ªbugçš„ä¸Šä¸‹æ–‡/è·¯å¾„ï¼Œæ–‡ç« å¼•å…¥äº†object-drivenå†…æ ¸fuzzingæŠ€æœ¯ã€‚é€šè¿‡æ–°æ¢ç´¢çš„errorï¼Œå®‰å…¨ç ”ç©¶äººå‘˜å¯ä»¥æ›´å¥½åœ°æ¨æ–­å‡ºä¸€ä¸ªerrorçš„å¯åˆ©ç”¨æ€§ã€‚ â€‹ ä¸ºäº†è¯„ä¼°æˆ‘ä»¬æå‡ºçš„æŠ€æœ¯çš„æœ‰æ•ˆæ€§ã€æ•ˆç‡å’Œå½±å“ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„fuzzingæŠ€æœ¯ä½œä¸ºä¸€ä¸ªå·¥å…·GREBEæ¥å®ç°ï¼Œå¹¶å°†å…¶åº”ç”¨äº60ä¸ªçœŸå®ä¸–ç•Œçš„Linuxå†…æ ¸æ¼æ´ã€‚å¹³å‡æ¥è¯´ï¼ŒGREBEå¯ä»¥ä¸ºæ¯ä¸ªå†…æ ¸æ¼æ´è¡¨ç°å‡º2ä¸ªä»¥ä¸Šçš„é¢å¤–é”™è¯¯è¡Œä¸ºã€‚å¯¹äº26ä¸ªå†…æ ¸é”™è¯¯ï¼ŒGREBEå‘ç°äº†æ›´é«˜çš„å¼€å‘æ½œåŠ›ã€‚æˆ‘ä»¬å‘å†…æ ¸ä¾›åº”å•†æŠ¥å‘Šäº†å…¶ä¸­çš„ä¸€äº›é”™è¯¯--è¿™äº›é”™è¯¯çš„å¯åˆ©ç”¨æ€§è¢«é”™è¯¯åœ°è¯„ä¼°äº†ï¼Œç›¸åº”çš„è¡¥ä¸è¿˜æ²¡æœ‰è¢«ä»”ç»†åœ°åº”ç”¨--å¯¼è‡´ä»–ä»¬è¿…é€Ÿåœ°é‡‡ç”¨è¡¥ä¸ã€‚ é—®é¢˜èƒŒæ™¯ 1. æ ¹æ®åˆ†æç»“æœç¡®å®šæ¼æ´ä¼˜å…ˆçº§ â€‹ ä¸ºäº†æé«˜Linuxå…¶å®‰å…¨æ€§ï¼Œç ”ç©¶äººå‘˜å’Œåˆ†æäººå‘˜å¼•å…¥äº†è‡ªåŠ¨åŒ–çš„å†…æ ¸fuzzingæŠ€æœ¯å’Œå„ç§è°ƒè¯•/sanitzationåŠŸèƒ½ã€‚åœ¨ä»–ä»¬çš„æ¨åŠ¨ä¸‹ï¼Œå®‰å…¨ç ”ç©¶äººå‘˜å’Œå†…æ ¸å¼€å‘äººå‘˜å˜å¾—æ›´å®¹æ˜“ç¡®å®šLinuxå†…æ ¸ä¸­çš„é”™è¯¯ã€‚ç„¶è€Œï¼Œè¦ç¡®å®šè§¦å‘bugçš„æ¡ä»¶æ˜¯å¦è¶³ä»¥ä»£è¡¨å®‰å…¨æ¼æ´ï¼Œä»ç„¶æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè¡¨ç°out-of-boundé”™è¯¯è¡Œä¸ºçš„bugé€šå¸¸æ„å‘³ç€æ¯”é‚£äº›è¡¨ç°å‡ºç©ºæŒ‡é’ˆè§£é™¤å¼•ç”¨é”™è¯¯è¡Œä¸ºçš„bugæœ‰æ›´é«˜çš„æœºä¼šè¢«åˆ©ç”¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„è°ƒæŸ¥ç»“æœå’Œä»¥å‰çš„ç ”ç©¶[1]ã€[2]ã€[3]éƒ½è¡¨æ˜ï¼Œåœ¨ç¡®å®šæ¼æ´å¼€å‘å·¥ä½œçš„ä¼˜å…ˆæ¬¡åºæ—¶ï¼Œæ¼æ´çš„è¡¨ç°å‡ºçš„é”™è¯¯è¡Œä¸ºèµ·ç€å…³é”®ä½œç”¨ã€‚ 2. è‡ªåŠ¨åŒ–æ¼æ´æ‰«æå·¥å…·æä¾›çš„é”™è¯¯æŠ¥å‘Šä¸å®Œå–„ â€‹ åœ¨å®è·µä¸­ï¼Œå½“ç°æœ‰çš„fuzzingå·¥å…·è¯†åˆ«å‡ºä¸€ä¸ªå†…æ ¸é”™è¯¯æ—¶ï¼Œè¯¥é”™è¯¯æ‰€è¡¨ç°å‡ºæ¥çš„é”™è¯¯è¡Œä¸ºå¯èƒ½æ˜¯å…¶ä¼—å¤šå¯èƒ½çš„é”™è¯¯è¡Œä¸ºä¹‹ä¸€ã€‚å®ƒçš„å…¶ä»–å¯èƒ½çš„é”™è¯¯è¡Œä¸ºå¯èƒ½ä¸å·²ç»æš´éœ²çš„é”™è¯¯è¡Œä¸ºç›¸å»ç”šè¿œã€‚é€šè¿‡éµå¾ªä¸åŒçš„è·¯å¾„æˆ–æ‰§è¡Œç¯å¢ƒæ¥è§¦å‘å†…æ ¸é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿å†…æ ¸é”™è¯¯ä¸ä»…è¡¨ç°å‡ºä¸å¤ªå¯èƒ½è¢«åˆ©ç”¨çš„GPFé”™è¯¯ï¼Œè€Œä¸”è¡¨ç°å‡ºæå¯èƒ½è¢«åˆ©ç”¨çš„UAFé”™è¯¯ã€‚å› æ­¤ï¼Œå¦‚æœåªä½¿ç”¨å•ä¸€è¡¨ç°çš„é”™è¯¯è¡Œä¸ºæ¥æ¨æ–­è¯¥é”™è¯¯å¯èƒ½çš„å¯åˆ©ç”¨æ€§ï¼Œè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€å®šè¯¯å¯¼ã€‚ 3. è§£å†³æ€è·¯ â€‹ ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä¸€ç§æœ¬èƒ½çš„ååº”æ˜¯æŠŠä¸€ä¸ªå†…æ ¸é”™è¯¯æŠ¥å‘Šä½œä¸ºè¾“å…¥ï¼Œåˆ†æè¯¥å†…æ ¸é”™è¯¯çš„æ ¹æœ¬åŸå› ï¼Œå¹¶æ¨æ–­å‡ºè¯¥é”™è¯¯çš„æ ¹æœ¬åŸå› å¯èƒ½å¸¦æ¥çš„æ‰€æœ‰å¯èƒ½çš„åæœï¼ˆä¾‹å¦‚ï¼Œå†…å­˜è¶Šç•Œã€ç©ºæŒ‡é’ˆè§£å¼•ç”¨å’Œå†…å­˜æ³„æ¼ç­‰ï¼‰ã€‚ç„¶è€Œï¼Œæ ¹æºè¯Šæ–­é€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸€é¡¹è´¹æ—¶è´¹åŠ›çš„å·¥ä½œã€‚å› æ­¤ï¼Œæˆ‘ä»¬è®¤ä¸ºï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªæ›´ç°å®çš„ç­–ç•¥æ˜¯ï¼Œåœ¨ä¸è¿›è¡Œæ ¹æœ¬åŸå› åˆ†æçš„æƒ…å†µä¸‹ï¼Œæ­éœ²å‡ºä¸€ä¸ªç»™å®šçš„å†…æ ¸é”™è¯¯çš„è®¸å¤šå¯èƒ½çš„åè§¦å‘é”™è¯¯è¡Œä¸ºã€‚ç„¶åï¼Œä»å…¬å¸ƒçš„é”™è¯¯è¡Œä¸ºä¸­ï¼Œå®‰å…¨åˆ†æå¸ˆå¯ä»¥æ›´å¥½åœ°ä»¥æ›´å‡†ç¡®çš„æ–¹å¼æ¨æ–­å…¶å¯èƒ½çš„å¯åˆ©ç”¨æ€§ã€‚ 4. å·²æœ‰çš„æ–¹æ³• â€‹ æˆ‘ä»¬å¯ä»¥å€Ÿç”¨å†…æ ¸fuzzingçš„æ¦‚å¿µã€‚ç„¶è€Œï¼Œç°æœ‰çš„å†…æ ¸fuzzingæ–¹æ³•ä¸»è¦æ˜¯ä¸ºäº†æœ€å¤§åŒ–ä»£ç è¦†ç›–ç‡è€Œè®¾è®¡çš„ï¼ˆä¾‹å¦‚ï¼ŒSyzkaller[4]ã€KAFL[5]å’ŒTrinity[6]ç­‰ï¼‰ã€‚åœ¨æˆ‘ä»¬çš„ä»»åŠ¡ä¸­ä½¿ç”¨è¿™äº›æ–¹æ³•ä¸å¯é¿å…åœ°å­˜åœ¨æ•ˆç‡ä½ä¸‹å’Œæ•ˆæœå·®çš„é—®é¢˜ï¼Œè¿™åªæ˜¯å› ä¸ºä»£ç è¦†ç›–ç‡é©±åŠ¨çš„å†…æ ¸fuzzingæ³•æ²¡æœ‰è¢«åœ¨è¯¥é—®é¢˜ä¸‹å®šåˆ¶ï¼Œä¹Ÿæ²¡æœ‰ä¸ºå¯»æ‰¾ä¸åŒä¸€é”™è¯¯ä»£ç ç‰‡æ®µç›¸å…³çš„å„ç§è·¯å¾„æˆ–ä¸Šä¸‹æ–‡è¿›è¡Œä¼˜åŒ–ã€‚ â€‹ ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å®šåˆ¶çš„å†…æ ¸fuzzingå¤„ç†æœºåˆ¶ï¼Œå®ƒå°†fuzzingå¤„ç†çš„èƒ½é‡é›†ä¸­åœ¨æœ‰ç¼ºé™·çš„ä»£ç åŒºåŸŸï¼ŒåŒæ—¶ï¼Œå°†å†…æ ¸æ‰§è¡Œè·¯å¾„å’Œä¸Šä¸‹æ–‡åˆ†æ•£åˆ°ç›®æ ‡æœ‰ç¼ºé™·çš„ä»£ç ç‰‡æ®µã€‚ é—®é¢˜å¼•å…¥ â€‹ æˆ‘ä»¬æå‡ºçš„å†…æ ¸fuzzingæŠ€æœ¯å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ç§å®šå‘fuzzingæŠ€æœ¯ã€‚å®ƒé¦–å…ˆå°†ä¸€ä¸ªå†…æ ¸é”™è¯¯æŠ¥å‘Šä½œä¸ºè¾“å…¥ï¼Œå¹¶æå–ä¸æŠ¥å‘Šçš„å†…æ ¸é”™è¯¯ç›¸å…³çš„å†…æ ¸ç»“æ„/å¯¹è±¡ã€‚ç„¶åï¼Œè¯¥æ–¹æ³•è¿›è¡Œfuzzingæµ‹è¯•ï¼Œå¹¶åˆ©ç”¨å·²è¯†åˆ«çš„å†…æ ¸ç»“æ„/å¯¹è±¡çš„ç‚¹å‡»ç‡ä½œä¸ºå¯¹fuzzerçš„åé¦ˆã€‚ç”±äºç¡®å®šçš„å†…æ ¸ç»“æ„/å¯¹è±¡å¯¹æˆåŠŸè§¦å‘é”™è¯¯è‡³å…³é‡è¦ï¼Œåˆ©ç”¨å®ƒä»¬æ¥æŒ‡å¯¼fuzzingå¯ä»¥ç¼©å°å†…æ ¸fuzzerçš„èŒƒå›´ï¼Œä½¿fuzzerä¸»è¦å…³æ³¨ä¸æŠ¥å‘Šé”™è¯¯æœ‰å…³çš„è·¯å¾„å’ŒèƒŒæ™¯ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å°†è¿™ç§æ–¹æ³•ä½œä¸ºä¸€ä¸ªå†…æ ¸å¯¹è±¡é©±åŠ¨çš„fuzzingå·¥å…·æ¥å®ç°ï¼Œå¹¶ä»¥GREBEå‘½åï¼Œæ„å‘³ç€ \"å¤šè¡Œä¸ºæ¢ç´¢fuzzing\"ã€‚ 1. ä¾‹å­ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡½æ•°tun_attachæ˜¯ç½‘ç»œæ¥å£é…ç½®å‡½æ•°ï¼Œå®ƒçš„å‚æ•°tunæ˜¯ä¸€ä¸ªæ‰€æœ‰å¤„äºopençŠ¶æ€çš„tunæ–‡ä»¶å…±äº«çš„å…¨å±€å˜é‡ã€‚ä»£ç ç¬¬3è¡Œè¡¨æ˜ï¼Œå¦‚æœIFF_NAPIåœ¨tun-&gt;flagsä¸­è¢«è®¾å®šï¼Œå†…æ ¸å°†åˆå§‹åŒ–ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¹¶å°†ç›¸åº”çš„napié“¾æ¥åˆ°ç½‘ç»œè®¾å¤‡napi_listçš„åˆ—è¡¨ä¸­ã€‚ä»£ç ç¬¬12è¡Œè¡¨æ˜ï¼Œå‡½æ•°tun_detachè´Ÿè´£æ¸…ç†tun_fileä¸­åŒ…å«çš„æ•°æ®ä»¥åŠå…³é—­è¯¥æ–‡ä»¶ã€‚å¦‚æœIFF_NAPIè¢«è®¾ç½®ï¼Œå†…æ ¸å°†å–æ¶ˆå®šæ—¶å™¨å¹¶ä»è®¾å¤‡çš„napi_listä¸­åˆ é™¤napiã€‚åœ¨ç¬¬24è¡Œï¼Œå‡½æ•°free_netdevå°†é€šè¿‡napi_listæ¥åˆ é™¤åˆ—è¡¨ä¸­çš„napiã€‚ â€‹ è¿™é‡Œçš„bugæ˜¯ç”±äºtun_attachå’Œtun_detachä¸­çš„æ ‡å¿—tun-&gt;flagsçš„å¯èƒ½å­˜åœ¨çš„ä¸ä¸€è‡´å¯¼è‡´çš„ã€‚ â€‹ ä»¥Syzkalleräº§ç”Ÿçš„å†…æ ¸é”™è¯¯æŠ¥å‘Šä¸ºä¾‹ï¼š â€‹ æŠ¥å‘Šæ‰€é™„çš„PoCæ˜¾ç¤ºï¼Œä¸€ä¸ªç³»ç»Ÿè°ƒç”¨åœ¨IFF_NAPIæœªè®¾ç½®çš„æƒ…å†µä¸‹è°ƒç”¨äº†tun_attachã€‚è¿™æ ·ä¸€æ¥ï¼Œå†…æ ¸æ—¢æ²¡æœ‰åˆå§‹åŒ–å®šæ—¶å™¨ï¼Œä¹Ÿæ²¡æœ‰å°†ç›¸åº”çš„napiæ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚åœ¨è¿™ä¸ªè®¾ç½®ä¹‹åï¼ŒPoCç¨‹åºè¿›ä¸€æ­¥è°ƒç”¨ç³»ç»Ÿè°ƒç”¨ioctlå‡½æ•°ï¼Œåœ¨è°ƒç”¨tun_detachä¹‹å‰åœ¨tun-&gt;flagsä¸­è®¾ç½®IFF_NAPIï¼Œè¿™å¯¼è‡´tun_attachå’Œtun_detachçš„æ ‡å¿—ä¸ä¸€è‡´ã€‚ç„¶åï¼Œåœ¨ç¬¬17è¡Œï¼Œå†…æ ¸è¯•å›¾åœæ­¢å®šæ—¶å™¨ï¼Œå®ƒè§£é™¤äº†å¯¹tun_detachä¸­çš„å®šæ—¶å™¨å¯¹è±¡æ‰€åŒ…å«çš„æŒ‡é’ˆçš„å¼•ç”¨ã€‚ç„¶è€Œï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå®šæ—¶å™¨åœ¨tun_attachä¸­æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œè¿™å¯¼è‡´äº†ä¸€ä¸ªä¸€èˆ¬ä¿æŠ¤æ•…éšœã€‚ä¸€èˆ¬ä¿æŠ¤æ•…éšœæ„å‘³ç€è®¿é—®æœªè¢«æŒ‡å®šä½¿ç”¨çš„å­˜å‚¨ã€‚å› æ­¤ï¼ŒåŸºäºè¿™ä¸ªå•ä¸€çš„è§‚å¯Ÿï¼Œè®¸å¤šåˆ†æäººå‘˜å¯èƒ½ä¼šæ¨æ–­å‡ºè¿™ä¸ªé”™è¯¯å¯èƒ½æ˜¯ä¸å¯åˆ©ç”¨çš„ã€‚ â€‹ ç„¶è€Œï¼Œé€šè¿‡æ”¹å˜PoCç¨‹åºï¼Œä¿®æ”¹å…±äº«å˜é‡çš„èµ‹å€¼æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è®©å†…æ ¸è¡¨ç°å‡ºä¸€ä¸ªUAFé”™è¯¯ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨å‡½æ•°tun_attachä¹‹å‰ç”¨IFF_NAPIè®¾ç½®tun-&gt;flagsã€‚è¿™æ ·ï¼Œåœ¨è°ƒç”¨tun_attachåï¼Œå®ƒå¯ä»¥å°†ç›¸åº”çš„tun_fileæ·»åŠ åˆ°è®¾å¤‡åˆ—è¡¨napi_listã€‚åœ¨è¿™ä¸ªè®¾ç½®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥è°ƒç”¨ioctlæ¥æ¸…é™¤tun_flagsï¼Œç„¶åå†è°ƒç”¨tun_detachã€‚å¦‚ä¸Šå›¾ï¼Œå‡½æ•°tun_detachåœ¨ç¬¬18âˆ¼19è¡Œæ²¡æœ‰ä»åˆ—è¡¨ä¸­åˆ é™¤ç›¸åº”çš„napiï¼Œè€Œæ˜¯åœ¨ç¬¬21è¡Œfreeäº†å®ƒã€‚å› æ­¤ï¼Œå½“éå†è®¾å¤‡åˆ—è¡¨æ—¶ï¼Œæ‹¥æœ‰KASANåŠŸèƒ½çš„å†…æ ¸å°†æŠ›å‡ºUAFçš„é”™è¯¯ã€‚ä¸æŠ¥ä¸­æ˜¾ç¤ºçš„é”™è¯¯ç›¸æ¯”ï¼Œè¿™ç§éå…è®¸çš„è®¿é—®ä¸æ˜¯è®¿é—®ä¸€ä¸ªæ— æ•ˆçš„å†…æ ¸å†…å­˜åœ°å€è€Œäº§ç”Ÿä¸€èˆ¬çš„ä¿æŠ¤æ•…éšœï¼Œè€Œæ˜¯ä¸ä¸€ä¸ªæœ‰æ•ˆçš„å†…æ ¸å†…å­˜åœ°å€è”ç³»åœ¨ä¸€èµ·ï¼Œå¹¶æœ€ç»ˆå¯ä»¥ç ´åå†…æ ¸å†…å­˜ã€‚å› æ­¤ï¼ŒåŸºäºè¿™ä¸ªUAFé”™è¯¯ï¼Œè®¸å¤šåˆ†æäººå‘˜å¯èƒ½è®¤ä¸ºè¿™ä¸ªé”™è¯¯å¯èƒ½æ˜¯å¯åˆ©ç”¨çš„ã€‚ ps: Kernel Address SANitizer(KASAN)æ˜¯ä¸€ç§åŠ¨æ€å†…å­˜å®‰å…¨é”™è¯¯æ£€æµ‹å·¥å…·ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æ£€æŸ¥å†…å­˜è¶Šç•Œè®¿é—®å’Œä½¿ç”¨å·²é‡Šæ”¾å†…å­˜çš„é—®é¢˜ï¼› UAFï¼ŒUse after freeã€‚ 2. è®¾è®¡åŸç† â€‹ é‰´äºå†…æ ¸é”™è¯¯æŠ¥å‘Šå±•ç¤ºäº†ä¸€ä¸ªç‰¹å®šçš„é”™è¯¯è¡Œä¸ºï¼Œæ¢ç´¢è¯¥é”™è¯¯å…¶ä»–å¯èƒ½çš„é”™è¯¯è¡Œä¸ºçš„ä¸€ä¸ªæœ¬èƒ½ååº”æ˜¯åˆ©ç”¨directed fuzzingï¼Œå³æ¢ç´¢é€šå¾€æˆ‘ä»¬æ„Ÿå…´è¶£çš„ç¨‹åºç«™ç‚¹çš„è·¯å¾„ã€‚ä½†è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªå±€é™ï¼š é¦–å…ˆï¼Œä¸ºäº†ä½¿ç”¨directed fuzzingæ¥æš´éœ²å¤šç§é”™è¯¯è¡Œä¸ºï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæœ‰é”™è¯¯çš„ä»£ç ç‰‡æ®µï¼ˆå³é”™è¯¯çš„rootï¼‰ï¼Œå°†å…¶ä½œä¸ºé”šç‚¹ï¼Œå¹¶å°†å…¶æä¾›ç»™directed fuzzerã€‚ç„¶è€Œï¼Œè¦æ­£ç¡®å’Œè‡ªåŠ¨åœ°ç¡®å®šå†…æ ¸é”™è¯¯çš„rootæ˜¯å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„ã€‚å¦‚æœä¸æ­£ç¡®åœ°å°†ä¸€ä¸ªéæ ¹æœ¬åŸå› çš„ç‚¹è§†ä¸ºfuzzerçš„é”šç‚¹ï¼Œç”šè‡³å¯èƒ½ä½¿fuzzeræ— æ³•è§¦å‘è¯¥é”™è¯¯ï¼Œæ›´ä¸ç”¨è¯´æ‰¾åˆ°è¯¥é”™è¯¯çš„å¤šç§é”™è¯¯è¡Œä¸ºäº†; å…¶æ¬¡ï¼Œå³ä½¿æˆ‘ä»¬èƒ½å¤ŸæŒ‡å‡ºå†…æ ¸é”™è¯¯çš„æ ¹æºï¼Œä¹Ÿä¸æ„å‘³ç€å†…æ ¸å¯ä»¥è¡¨ç°å‡ºå¤šç§é”™è¯¯è¡Œä¸ºã€‚é™¤äº†éµå¾ªä¸åŒçš„è·¯å¾„åˆ°è¾¾æœ‰ç¼ºé™·çš„ä»£ç å¤–ï¼Œé”™è¯¯è¡Œä¸ºçš„å±•ç¤ºä¹Ÿä¾èµ–äºé”™è¯¯è§¦å‘åçš„ç¯å¢ƒã€‚ä¾‹å¦‚ï¼Œé™¤äº†éµå¾ªä¸€ä¸ªç‰¹å®šçš„è·¯å¾„åˆ°æœ‰ç¼ºé™·çš„ä»£ç ç‰‡æ®µï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå•ç‹¬çš„å†…æ ¸çº¿ç¨‹æ¥æ”¹å˜ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä½¿è§¦å‘é”™è¯¯å’Œå±•ç¤ºä¸åŒé”™è¯¯æ‰€éœ€çš„èƒŒæ™¯å¤šæ ·åŒ–ã€‚æ ¹æ®è®¾è®¡ï¼Œå®šå‘fuzzingæ³•åœ¨æ¥è§¦åˆ°å…¶æ„Ÿå…´è¶£çš„ç›®æ ‡ä»£ç åä¸èƒ½æ”¹å˜ä¸Šä¸‹æ–‡ã€‚ â€‹ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬é€šè¿‡æ‰©å±•ç°æœ‰çš„å¸¦æœ‰å†…æ ¸-å¯¹è±¡æŒ‡å¯¼çš„å†…æ ¸fuzzingæ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ ¹æ®æˆ‘ä»¬å¯¹è®¸å¤šå†…æ ¸é”™è¯¯çš„è§‚å¯Ÿï¼Œæˆ‘ä»¬å‘ç°å†…æ ¸é”™è¯¯çš„æ ¹æœ¬åŸå› é€šå¸¸æ¥è‡ªä¸¤ç§ï¼š å¯¹å†…æ ¸å¯¹è±¡çš„ä¸æ°å½“ä½¿ç”¨ã€‚è¿™è¿›ä¸€æ­¥å¯¼è‡´äº†å†…æ ¸é”™è¯¯ï¼ˆä¾‹å¦‚å‰é¢æåˆ°çš„ä¸ºtun_structç±»å‹çš„å†…æ ¸å¯¹è±¡åˆ†é…ä¸ä¸€è‡´çš„æ ‡å¿—å€¼çš„æ¡ˆä¾‹ï¼‰ï¼› åœ¨ä½¿ç”¨å†…æ ¸å¯¹è±¡è¿›è¡Œè®¡ç®—æ—¶æ¶‰åŠåˆ°ä¸€ä¸ªä¸æ­£ç¡®çš„å€¼ï¼Œå®ƒè¢«è¿›ä¸€æ­¥ä¼ æ’­åˆ°ä¸€ä¸ªå…³é”®çš„å†…æ ¸æ“ä½œä¸­ï¼Œè¿«ä½¿å†…æ ¸è¡¨ç°å‡ºä¸€ä¸ªé”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªæœªæ¶ˆæ¯’çš„æ•´æ•°è¢«ç”¨ä½œå†…æ ¸å¯¹è±¡çš„åç§»é‡ï¼Œå¯¼è‡´ä¸€ä¸ªè¶Šç•Œçš„å†…å­˜è®¿é—®ï¼‰ã€‚ â€‹ å› æ­¤ï¼Œåœ¨é”™è¯¯æŠ¥å‘Šä¸­æŒ‡å®šçš„ä¸é”™è¯¯ç›¸å…³çš„å¯¹è±¡çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®©å†…æ ¸fuzzerè¿œç¦»é‚£äº›ä¸é”™è¯¯æ— å…³çš„è·¯å¾„å’Œä¸Šä¸‹æ–‡ï¼Œä»è€Œæ˜¾è‘—æé«˜å…¶æ•ˆç‡ã€‚ æ¨¡å‹æ–¹æ³• â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé¦–å…ˆå°†ä¸€ä¸ªå†…æ ¸é”™è¯¯æŠ¥å‘Šä½œä¸ºè¾“å…¥ï¼Œè¿è¡Œæ‰€é™„å¸¦çš„PoCï¼Œå¹¶è¿½è¸ªé‚£äº›æ¶‰åŠå†…æ ¸é”™è¯¯çš„å†…æ ¸ç»“æ„ï¼ˆä¾‹å¦‚ï¼Œä¾‹å­ä¸­çš„ç»“æ„tun_fileï¼‰ã€‚è¿›ä¸€æ­¥æ£€æŸ¥å†…æ ¸æºä»£ç ï¼Œæ‰¾å‡ºæ“ä½œè¿™äº›ç±»å‹çš„å¯¹è±¡çš„ä»£ç è¯­å¥ã€‚æˆ‘ä»¬å°†è¿™äº›è¯­å¥è§†ä¸ºå¯¹å†…æ ¸é”™è¯¯è§¦å‘çš„æˆåŠŸè‡³å…³é‡è¦çš„é”šç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯¹è¿™äº›è¯­å¥è¿›è¡Œæ£€æµ‹ï¼Œä»¥ä¾¿åœ¨è¿›è¡Œå†…æ ¸fuzzingæ—¶æ”¶é›†å¯¹è±¡è¦†ç›–ç‡ä½œä¸ºåé¦ˆï¼Œç„¶ååˆ©ç”¨è¦†ç›–ç‡æ¥è°ƒæ•´ç›¸åº”çš„PoCç¨‹åºã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„å†…æ ¸fuzzingæœºåˆ¶å°†é”™è¯¯æŠ¥å‘Šä¸­é™„åŠ çš„åŸå§‹PoCç¨‹åºä½œä¸ºè¾“å…¥ã€‚ä½¿ç”¨ä¸€ç§æ–°çš„çªå˜å’Œç§å­ç”Ÿæˆæ–¹æ³•ï¼Œå®ƒé€æ­¥æ”¹å˜PoCï¼Œæé«˜äº†å·²çŸ¥é”™è¯¯çš„å¤šç§é”™è¯¯è¡Œä¸ºæ¢ç´¢çš„æ•ˆç‡å’Œæ•ˆæœã€‚ 1. ç¡®å®šå…³é”®ç»“æ„ â€‹ åˆ©ç”¨åå‘æ±¡ç‚¹åˆ†ææ¥è¯†åˆ«åŸºæœ¬çš„å†…æ ¸ç»“æ„ï¼ˆå³å‚ä¸ç»™å®šæŠ¥å‘Šä¸­é”™è¯¯çš„ç›¸å…³ç»“æ„ï¼‰ã€‚ 1.1 æŠ¥å‘Šåˆ†æ &amp; ç¡®å®šæ±¡ç‚¹æº 1.1.1 Explicit Checking â€‹ åœ¨ä¸Šå›¾ä¸­ï¼Œå‡½æ•°vhost_dev_cleanup()çš„ä½œç”¨æ˜¯ï¼šå¦‚æœdev-&gt;work_listä¸ºç©ºï¼Œæ¸…é™¤è¿æ¥åˆ°vhost_devè®¾å¤‡ä¸Šçš„workerï¼›å¦åˆ™é€šè¿‡WARN_ONå†…çš„å®æŠ¥é”™ã€‚æ•…åœ¨è¿™é‡Œï¼Œæ±¡ç‚¹åˆ†æçš„sourcesåº”è¯¥å°±æ˜¯dev-&gt;work_listã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå†…æ ¸å¼€å‘è€…æ˜ç¡®åœ°å°†é¢„å®šä¹‰çš„æ¡ä»¶åˆ¶å®šä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™å®WARN_ONè¿›è¡Œé”™è¯¯å¤„ç†ã€‚ç„¶è€Œï¼Œå¯¹äºå…¶ä»–ä¸€äº›è°ƒè¯•åŠŸèƒ½ï¼Œæ£€æŸ¥æ˜¯ç”±ç¼–è¯‘å™¨æ£€æµ‹çš„ï¼Œæˆ–è€…ç”±ç¡¬ä»¶å®Œæˆï¼Œè€Œä¸æ˜¯ç”±å†…æ ¸å¼€å‘è€…ç¼–å†™çš„ä¸€æ®µæºä»£ç ã€‚å¯¹äºè¿™äº›åŠŸèƒ½ï¼Œæ¡ä»¶æ˜¯éšå«çš„ï¼Œä¸èƒ½ä»å†…æ ¸çš„æºä»£ç ä¸­è¯†åˆ«ã€‚ â€‹ Explicit Checkingå°±æ˜¯å¯¹è¿™ä¸€ç±»æ˜ç¡®æ¡ä»¶çš„æ£€æŸ¥ã€‚å†…æ ¸å¼€å‘è€…æ˜ç¡®åœ°å°†æ£€æŸ¥åˆ¶å®šä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™æ ‡å‡†è°ƒè¯•åŠŸèƒ½ï¼Œå¦‚WARN_ONå’ŒBUG_ONã€‚è¿™äº›å®æ˜¯æ¨¡å¼åŒ–çš„ä»£ç å—ï¼ŒåŒ…æ‹¬æ¡ä»¶è¯­å¥å’Œæ—¥å¿—è¯­å¥ï¼Œå¦‚æœæ¡ä»¶å¾—åˆ°æ»¡è¶³å°±ä¼šæ‰§è¡Œã€‚é™¤äº†è¿™ç§æ ‡å‡†åŒ–çš„è®°å½•å†…æ ¸é”™è¯¯çš„æ–¹å¼å¤–ï¼Œå¼€å‘è€…è¿˜å¯ä»¥å»ºç«‹è‡ªå·±çš„å®ï¼Œå°†æ—¥å¿—è¯­å¥åŒ…è£¹åœ¨ä¸€ä¸ªè¾…åŠ©å‡½æ•°ä¸­ï¼ˆå¦‚ä¸Šå›¾15,16è¡Œï¼‰ã€‚ â€‹ ä¸ºäº†æ‰¾åˆ°è§¦å‘bugæ—¥å¿—è®°å½•è¯­å¥çš„æºå¤´ï¼Œç¡®å®šæ±¡ç‚¹åˆ†æçš„sourcesï¼Œéœ€è¦æ²¿ç€æ”¯é…æ ‘ï¼ˆå¦‚ä¸Šå›¾å³åŠéƒ¨åˆ†ï¼‰å›æº¯ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ¡ä»¶è·³è½¬åŸºæœ¬å—ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†å…¶ç›¸åº”çš„æ¯”è¾ƒè¯­å¥ä½œä¸ºè§¦å‘errorè®°å½•æ“ä½œçš„æ¡ä»¶ï¼Œä»å…¶ä¸­æå–ç›¸åº”çš„å˜é‡ä½œä¸ºsourcesã€‚ 1.1.2 Implicit Checking â€‹ å¯¹äºç”±ç¼–è¯‘å™¨æ£€æµ‹æˆ–ç”±ç¡¬ä»¶å®Œæˆçš„ç›¸å…³æ¡ä»¶æ£€æŸ¥ï¼Œç§°ä¹‹ä¸ºéšå¼æ£€æŸ¥ã€‚ â€‹ å¯¹äºé€šè¿‡ç¼–è¯‘å™¨å·¥å…·å®Œæˆçš„éšå¼æ£€æŸ¥ï¼Œå†…æ ¸åœ°å€æ¶ˆæ¯’å™¨ï¼ˆKASANï¼‰å¯ä»¥å¯¹æ¯ä¸€ä¸ªå†…å­˜è®¿é—®è¿›è¡Œæ£€æµ‹ï¼Œè¿™æ ·å°±å¯ä»¥æ£€æŸ¥å¯¹ä¸€ä¸ªå†…å­˜åœ°å€çš„è®¿é—®æ˜¯å¦åˆæ³•ã€‚KASANä¾é å½±å­å†…å­˜æ¥è®°å½•å†…å­˜çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¢«æ£€æµ‹çš„å†…æ ¸è§¦åŠä¸€ä¸ªå·²é‡Šæ”¾çš„å†…å­˜åŒºåŸŸï¼Œå®ƒå°†äº§ç”Ÿä¸€ä¸ªé”™è¯¯æŠ¥å‘Šï¼ŒæŒ‡å‡ºå¼•å‘ä½¿ç”¨åé‡Šæ”¾é”™è¯¯çš„æŒ‡ä»¤ã€‚å…³äºä¸­æ–­æ‰€åšçš„éšæ€§æ£€æŸ¥ï¼ˆä¾‹å¦‚ï¼Œç”±MMUæ£€æµ‹åˆ°çš„ä¸€èˆ¬ä¿æŠ¤æ•…éšœï¼‰ï¼Œä¸­æ–­å¤„ç†ç¨‹åºè´Ÿè´£è®°å½•ç›¸åº”çš„æŒ‡ä»¤ã€‚ä»è¿™äº›è°ƒè¯•æœºåˆ¶äº§ç”Ÿçš„é”™è¯¯æŠ¥å‘Šä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç¡®å®šæ‰§è¡Œæ— æ•ˆå†…å­˜è®¿é—®çš„æŒ‡ä»¤ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬çš„ä¸‹ä¸€æ­¥å°±æ˜¯ç¡®å®šä¸è¯¥æ— æ•ˆå†…å­˜è®¿é—®ç›¸å…³çš„å˜é‡ã€‚ â€‹ ä¸€èˆ¬æŠ¥å‘Šä¸­æ‰€åŒ…å«çš„é”™è¯¯æŒ‡ä»¤æ˜¯äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä»è°ƒè¯•ä¿¡æ¯ä¸­ï¼Œéœ€è¦å°†äºŒè¿›åˆ¶æŒ‡ä»¤ä¸æºä»£ç ä¸­çš„ç›¸åº”è¯­å¥è¿›è¡Œæ˜ å°„ã€‚å‡è®¾å¯¹åº”çš„æºä»£ç æ˜¯ä¸€ä¸ªç®€å•è¯­å¥ï¼Œåªæœ‰ä¸€ä¸ªåŠ è½½æˆ–å­˜å‚¨æ“ä½œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¯­å¥å°±æ˜¯å¯¼è‡´éæ³•å†…å­˜è®¿é—®çš„è¯­å¥ï¼Œå¹¶å°†æ“ä½œæ•°å˜é‡ä½œä¸ºæ±¡ç‚¹æºå¤„ç†ã€‚ç„¶è€Œï¼Œå¦‚æœè¢«è¯†åˆ«çš„æŒ‡ä»¤é“¾æ¥åˆ°ä¸€ä¸ªæ¶‰åŠå¤šä¸ªå†…å­˜åŠ è½½å’Œå­˜å‚¨çš„å¤åˆè¯­å¥ï¼ˆå¦‚ä¸Šå›¾ä¸­æè¿°çš„walk-&gt;offset = sg-&gt;offsetï¼‰ï¼Œå°†è¿›è¡Œè¿›ä¸€æ­¥çš„åˆ†æã€‚ â€‹ å…·ä½“æ¥è¯´ï¼Œé¦–å…ˆæ£€æŸ¥é”™è¯¯æŠ¥å‘Šï¼Œå¹¶æ‰¾å‡ºæ•æ‰åˆ°å†…æ ¸é”™è¯¯çš„å…·ä½“æŒ‡ä»¤ã€‚ç„¶åï¼ŒæŠŠä¸æ•æ‰é”™è¯¯çš„æŒ‡ä»¤ç›¸å…³çš„å†…å­˜è®¿é—®æ“ä½œä½œä¸ºæˆ‘ä»¬çš„sourcesã€‚å†æ¬¡ä»¥ä¸Šå›¾ä¸­çš„æƒ…å†µä¸ºä¾‹ã€‚é”™è¯¯æŠ¥å‘ŠæŒ‡å‡ºé”™è¯¯æ˜¯ç”±è¯­å¥kasan_check_read(&amp;sg-&gt;offset, sizeof(var))æ•è·çš„ï¼Œå®ƒä¸sg-&gt;offsetæœ‰å…³ã€‚æ•…è¿™é‡Œè®¤ä¸ºç¬¬2è¡Œçš„sg-&gt;offsetæ˜¯æ±¡ç‚¹æºã€‚ â€‹ 1.2 æ±¡ç‚¹ä¼ æ’­ &amp; ç¡®å®šsink â€‹ ä»é”™è¯¯æŠ¥å‘Šä¸­æå–è°ƒç”¨ç—•è¿¹ï¼ˆcall traceï¼‰ï¼ŒåŸºäºcall traceæ„å»ºcfgï¼Œå¹¶åœ¨è¯¥å›¾ä¸Šå‘åä¼ æ’­æ±¡ç‚¹æºã€‚ å¦‚æœè¢«æ±¡æŸ“çš„å˜é‡æ˜¯ä¸€ä¸ªåµŒå¥—ç»“æ„çš„å­—æ®µæˆ–ä¸€ä¸ªè”åˆå˜é‡ï¼Œåˆ™è¿›ä¸€æ­¥æ±¡æŸ“å…¶çˆ¶ç»“æ„å˜é‡ï¼Œå¹¶å°†çˆ¶ç»“æ„è§†ä¸ºä¸€ä¸ªå…³é”®ç»“æ„ï¼ˆåŸå› æ˜¯ï¼ŒåµŒå¥—ç»“æ„æˆ–è”åˆå˜é‡æ˜¯å†…å­˜ä¸­çˆ¶ç»“æ„å˜é‡çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœåµŒå¥—ç»“æ„æˆ–è”åˆå˜é‡çš„æŸä¸ªå­—æ®µå¸¦æœ‰ä¸€ä¸ªæ— æ•ˆçš„å€¼ï¼Œè¿™å¾ˆå¯èƒ½æ˜¯ç”±äºå¯¹å…¶çˆ¶ç»“æ„å˜é‡çš„ä¸æ°å½“ä½¿ç”¨é€ æˆçš„ï¼‰ï¼› å½“æ±¡ç‚¹ä¼ æ’­é‡åˆ°ä¸€ä¸ªå¾ªç¯æ—¶ï¼Œå¦‚æœæ±¡ç‚¹æºåœ¨å¾ªç¯å†…è¢«æ›´æ–°ï¼Œé‚£ä¹ˆä¹Ÿå°†å¾ªç¯è®¡æ•°å™¨æ±¡æŸ“ï¼ˆä¸¾ä¾‹ï¼Œä¸€äº›è¶Šç•Œæ“ä½œå°±æ˜¯ç”±äºå¾ªç¯è®¡æ•°å™¨è¢«ä¿®æ”¹/ç ´å/æ‰©å¤§ï¼Œå¯¼è‡´è®¿é—®äº†æ— æ•ˆçš„å†…å­˜åŒºåŸŸï¼‰ã€‚ â€‹ å½“ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€æˆç«‹æ—¶ç»ˆæ­¢æ±¡ç‚¹ä¼ æ’­ï¼Œåœ¨è¿›è¡Œæ±¡ç‚¹å‘åä¼ æ’­çš„åŒæ—¶ï¼Œä¹Ÿå°†ä¼ æ’­æ‰©å±•åˆ°è¢«æ±¡ç‚¹å˜é‡çš„åˆ«åä¸Šï¼š æ±¡ç‚¹ä¼ æ’­åˆ°äº†æ±¡ç‚¹å˜é‡æœ¬èº«çš„å®šä¹‰è¯­å¥ï¼› æ±¡ç‚¹ä¼ æ’­åˆ°äº†ç³»ç»Ÿè°ƒç”¨çš„å…¥å£ã€ä¸­æ–­å¤„ç†ç¨‹åºæˆ–å¯åŠ¨å·¥ä½œé˜Ÿåˆ—è°ƒåº¦å™¨çš„å‡½æ•°å…¥å£ï¼› 2. å†…æ ¸ç»“æ„æ’åº â€‹ æˆåŠŸè¯†åˆ«æ‰€æœ‰ä¸æŠ¥å‘Šä¸­çš„é”™è¯¯æœ‰å…³çš„å†…æ ¸ç»“æ„åï¼Œç›´æ¥fuzzingå¯èƒ½å¯¼è‡´æ•ˆç‡ä½ä¸‹é—®é¢˜ï¼Œæ•…è¿™é‡Œåšè¿›ä¸€æ­¥ç¼©å°æ“ä½œã€‚ 2.1 å†…æ ¸ç»“æ„é€‰æ‹© â€‹ åœ¨Linuxå†…æ ¸ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªç”¨æ¥åˆ›å»ºåŒå‘å¾ªç¯é“¾è¡¨çš„ç»“æ„ list_headã€‚è™½ç„¶linuxå†…æ ¸æ˜¯ç”¨Cè¯­è¨€å†™çš„ï¼Œä½†æ˜¯list_headçš„å¼•å…¥ï¼Œä½¿å¾—å†…æ ¸æ•°æ®ç»“æ„ä¹Ÿå¯ä»¥æ‹¥æœ‰é¢å‘å¯¹è±¡çš„ç‰¹æ€§ï¼Œé€šè¿‡ä½¿ç”¨æ“ä½œlist_head çš„é€šç”¨æ¥å£å¾ˆå®¹æ˜“å®ç°ä»£ç çš„é‡ç”¨ã€‚åœ¨æ•´ä¸ªå†…æ ¸ä»£ç åº“ä¸­ï¼Œlist_headç»“æ„è¢«å¹¿æ³›åœ°ä½¿ç”¨ã€‚å¦‚æœå°†è¿™ç§ç»“æ„å’Œç›¸åº”çš„å¯¹è±¡çº³å…¥å†…æ ¸æ¨¡ç³ŠæŒ‡å¯¼ï¼Œå†…æ ¸æ¨¡ç³Šå™¨å°†ä¸å¯é¿å…åœ°æ¢ç´¢ä¸€ä¸ªå¤§çš„ä»£ç ç©ºé—´ï¼Œä½¿æ¨¡ç³Šå™¨åç¦»é‡å¿ƒã€‚å› æ­¤ï¼Œä¸ºäº†ä¿æŒå†…æ ¸fuzzeræ¢ç´¢çš„æ•ˆç‡ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›ç»“æ„ä»æˆ‘ä»¬çš„å†…æ ¸fuzzingä¸­æ’é™¤ã€‚ â€‹ é™¤äº†ä¸Šé¢æåˆ°çš„ç»“æ„ï¼ŒLinuxå†…æ ¸å¼€å‘è€…è¿˜å®ç°äº†è®¸å¤šå…¶ä»–ä¸æŠ½è±¡æ¥å£æœ‰å…³çš„ç»“æ„ã€‚è¿™äº›æ¥å£ä¸å®ç°å±‚è€¦åˆåœ¨ä¸€èµ·ï¼Œä»¥æ”¯æŒå¤§é‡çš„è®¾å¤‡å’ŒåŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå†…æ ¸ä¸ºæ‰€æœ‰ä»ç”¨æˆ·ç©ºé—´è¯·æ±‚çš„ç½‘ç»œæœåŠ¡åˆ›å»ºäº†ä¸€ä¸ªç»“æ„socket ï¼Œä¸ç®¡æŒ‡å®šä»€ä¹ˆåè®®ã€‚å› æ­¤ï¼Œä¸struct list_headç±»ä¼¼ï¼Œå®ƒä»¬ä¹Ÿåº”è¯¥åœ¨åæœŸçš„å†…æ ¸fuzzingä¸­è¢«æ’é™¤ã€‚ â€‹ ä¸ºäº†ç²¾ç¡®å®šä½å¹¶æ’é™¤è¿™äº›ç»“æ„ï¼Œè¿™é‡Œè®¾è®¡äº†ä¸€ç§ç³»ç»Ÿçš„æ–¹æ³•ï¼Œæ ¹æ®å†…æ ¸ç»“æ„çš„æµè¡Œç¨‹åº¦å¯¹å…¶è¿›è¡Œæ’åºã€‚åœ¨æ›´é«˜å±‚æ¬¡ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•æ„å»ºäº†ä¸€ä¸ªæè¿°å†…æ ¸ç»“æ„ä¹‹é—´å¼•ç”¨å…³ç³»çš„å›¾ã€‚å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå†…æ ¸ç»“æ„ï¼Œè€ŒèŠ‚ç‚¹ä¹‹é—´çš„æœ‰å‘è¾¹è¡¨ç¤ºå‚è€ƒå…³ç³»ã€‚åœ¨è¯¥å›¾ä¸Šï¼Œåº”ç”¨PageRankç®—æ³•ï¼Œç»™æ¯ä¸ªç»“æ„åˆ†é…ä¸€ä¸ªæƒé‡ï¼Œæ’é™¤è¾ƒé«˜æƒå€¼çš„ç»“æ„ã€‚ 2.2 æ„å»ºå›¾ç»“æ„ â€‹ å¯¹äºç»“æ„å®šä¹‰è¯­å¥ï¼Œç»™å®šä¸€ä¸ªç»“æ„ï¼Œæˆ‘ä»¬æµè§ˆå®ƒçš„æ‰€æœ‰å­—æ®µæˆå‘˜ã€‚å¦‚æœå­—æ®µæ˜¯ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªç»“æ„çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬å°±æŠŠç»™å®šçš„ç»“æ„ä¸è¢«å¼•ç”¨çš„ç»“æ„è”ç³»èµ·æ¥ã€‚å¦‚ä¸Šå›¾extensionsæ˜¯ä¸€ä¸ªå¼•ç”¨struct skb_extçš„æŒ‡é’ˆï¼Œå°±åœ¨å›¾ä¸­æŠŠsk_buffç»“æ„é“¾æ¥åˆ°skb_extç»“æ„ã€‚ â€‹ struct rb_nodeæ˜¯ä¸€ä¸ªåŒ¿åunionä¸­çš„è‡ªæˆ‘å¼•ç”¨ç»“æ„ã€‚è¿™é‡Œå°±è·³è¿‡åŒ¿åunionï¼Œåªå°†struct sk_buffç›´æ¥é“¾æ¥åˆ°struct rb_nodeï¼Œè€Œæ— éœ€è¿›ä¸€æ­¥æ‰©å±•ã€‚ â€‹ å¯¹äºç±»å‹è½¬æ¢è¯­å¥ï¼Œç”±äºå†…æ ¸æ”¯æŒå¤šæ€ï¼Œä¾‹å¦‚ä¸Šå›¾ä¸­ip6_fraglist_initå‡½æ•°ï¼Œskb-&gt;dataä»voidè¢«æŠ•å°„åˆ°struct frag_hdrã€‚void* æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œè€Œç»“æ„ç±»å‹struct frag_hdr*åˆ™æ›´åŠ å…·ä½“åŒ–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç»“æ„å›¾ä¸­å¢åŠ äº†ä¸€æ¡è¾¹ï¼Œå°†ç»“æ„skb_buffè¿æ¥åˆ°ç»“æ„frag_hdrã€‚ â€‹ åˆ©ç”¨æ„å»ºçš„å›¾ï¼Œä½¿ç”¨PageRankç®—æ³•å¯¹å…¶æµè¡Œç¨‹åº¦è¿›è¡Œæ’åºã€‚åªä½¿ç”¨é‚£äº›ç­‰çº§è¾ƒä½çš„å†…æ ¸ç»“æ„å’Œå¯¹è±¡æ¥æŒ‡å¯¼fuzzingã€‚ 2.3 æŠ€æœ¯æ€§ç ”è®¨ â€‹ æ ¹æ®æˆ‘ä»¬å¯¹æ•°ç™¾ä¸ªçœŸå®ä¸–ç•Œçš„å†…æ ¸é”™è¯¯çš„è§‚å¯Ÿï¼Œå¤§å¤šæ•°å†…æ ¸é”™è¯¯çš„æ ¹æœ¬åŸå› ä¸ä¸å¤ªæµè¡Œçš„ç»“æ„æœ‰å…³ã€‚å› æ­¤ï¼Œåˆ é™¤æµè¡Œçš„ç»“æ„å¹¶ä¸ä¼šå¯¹æ¨¡ç³Šå™¨è§¦å‘æˆ‘ä»¬æ„Ÿå…´è¶£çš„é”™è¯¯äº§ç”Ÿè´Ÿé¢å½±å“ã€‚ â€‹ å³ä½¿è¢«æ¶ˆé™¤çš„æµè¡Œç»“æ„ä¸æˆ‘ä»¬æ„Ÿå…´è¶£çš„å†…æ ¸é”™è¯¯çš„æ ¹æºæœ‰å…³ï¼Œè®©æ¨¡ç³Šå™¨ä¸“æ³¨äºè¿™äº›ä¸å¤ªæµè¡Œçš„ç»“æ„ï¼Œä»ç„¶å¯ä»¥è®©æˆ‘ä»¬æ¥è§¦åˆ°æµè¡Œç»“æ„ç±»å‹ä¸­çš„ä¸€äº›å¯¹è±¡ã€‚åŸå› æ˜¯ä¸å¤ªå—æ¬¢è¿çš„ç»“æ„é€šå¸¸æ˜¯ç”±å—æ¬¢è¿çš„ç»“æ„ç»„æˆçš„ï¼ˆä¾‹å¦‚ï¼Œlist 1ä¸­ç½•è§çš„ç»“æ„struct napi_structåŒ…å«å—æ¬¢è¿çš„ç»“æ„struct hrtimerï¼‰ã€‚ 3. å¯¹è±¡é©±åŠ¨å†…æ ¸fuzzing â€‹ ä¼ ç»Ÿçš„å†…æ ¸æ¢ç´¢æ–¹æ³•æ˜¯åˆ©ç”¨è·Ÿè¸ªå‡½æ•°æ¥è·Ÿè¸ªå·²ç»æ‰§è¡Œçš„åŸºæœ¬å—ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„æ¢ç´¢æœºåˆ¶ä¿ç•™äº†è¿™ç§èƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å¼•å…¥äº†ä¸€ä¸ªé¢å¤–çš„å·¥å…·åŒ–ç»„ä»¶ã€‚å…¶è¢«è®¾è®¡æˆä¸€ä¸ªç¼–è¯‘å™¨æ’ä»¶ï¼Œè¯¥æ’ä»¶æ£€æŸ¥åŸºæœ¬å—ä¸­çš„æ¯æ¡è¯­å¥ï¼Œå¹¶è¯†åˆ«é‚£äº›è´Ÿè´£åˆ†é…ã€åˆ é™¤å’Œä½¿ç”¨å…³é”®å¯¹è±¡çš„åŸºæœ¬å—ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œç»„ä»¶å¼•å…¥äº†ä¸€ä¸ªæ–°çš„è¿½è¸ªåŠŸèƒ½ï¼Œå®ƒå°†è®°å½•çš„åŸºæœ¬å—åœ°å€ä¸­æœ€é‡è¦çš„16ä½æ›¿æ¢ä¸ºä¸€ä¸ªç¥å¥‡çš„æ•°å­—ï¼Œä»¥å°†è¿™äº›åŸºæœ¬å—ä¸å…¶ä»–åŸºæœ¬å—åŒºåˆ†å¼€æ¥ã€‚æœ‰äº†è¿™äº›å·¥å…·ï¼Œé€šè¿‡è§‚å¯Ÿä»£ç è¦†ç›–ç‡åé¦ˆä¸­æœ€é‡è¦çš„16ä½åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç¡®å®šå“ªäº›ä¸å…³é”®å¯¹è±¡æœ‰å…³çš„åŸºæœ¬å—æ˜¯åœ¨fuzzingç¨‹åºçš„æ“ä½œä¹‹ä¸‹çš„ã€‚å½“è¿è¡Œä¸€ä¸ªæ¨¡ç³Šæµ‹è¯•ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç¡®å®šå®ƒæ˜¯å¦æ¥è§¦åˆ°äº†ä¸€ä¸ªå…³é”®å¯¹è±¡ã€‚ 3.1 ç§å­é€‰æ‹© â€‹ è‹¥ç¨‹åºæ¥è§¦åˆ°äº†ä¸€ä¸ªæ–°çš„æ¶‰åŠå…³é”®å¯¹è±¡çš„åŸºæœ¬å—/è‡³å°‘æœ‰ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨æ¶µç›–äº†æ›´å¤šçš„ä»£ç ï¼ˆå…è®¸å†…æ ¸fuzzerç§¯ç´¯å†…æ ¸çŠ¶æ€ï¼Œä»è€Œå¢åŠ æœªæ¥çªå˜çš„å¯èƒ½æ€§ï¼Œä»¥è¾¾åˆ°æ¶‰åŠå…³é”®å¯¹è±¡çš„æœªè§è¿‡çš„åŸºæœ¬å—ã€‚ï¼‰ï¼Œå¹¶æ“ä½œäº†å…³é”®å¯¹è±¡æ—¶ï¼Œå°†å˜å¼‚çš„ç§å­æ·»åŠ åˆ°åº“ä¸­ã€‚ 3.2 ç§å­ç”Ÿæˆ &amp; å˜å¼‚ â€‹ ä½¿ç”¨æŠ¥å‘Šä¸­çš„POCç¨‹åºç”¨ä½œåˆå§‹ç§å­ï¼Œæ¯æ¬¡åœ¨ç”Ÿæˆæ–°çš„ç§å­æ—¶ï¼Œåªä½¿ç”¨å·²ç»åŒ…å«åœ¨ç§å­åº“ä¸­çš„ç³»ç»Ÿè°ƒç”¨æ¥ç»„è£…æ–°çš„ç§å­ã€‚ â€‹ è¿›ä¸€æ­¥å¼•å…¥äº†ç°æœ‰å†…æ ¸fuzzingï¼ˆå³Syzkallerï¼‰ä¸­ä½¿ç”¨çš„å˜å¼‚æœºåˆ¶ã€‚è¿™ç§çªå˜æœºåˆ¶å°†ä¸ç§å­åº“ä¸­å·²åŒ…å«çš„ç³»ç»Ÿè°ƒç”¨ç›¸å…³çš„æ–°ç³»ç»Ÿè°ƒç”¨å¼•å…¥ç§å­ä¸­ã€‚ 3.3 å˜å¼‚ä¼˜åŒ– â€‹ åœ¨å¯¹æ¨¡ç³Šç¨‹åºè¿›è¡Œçªå˜æ—¶ï¼ŒSyzkallerçš„çªå˜æœºåˆ¶åˆ©ç”¨é¢„å®šä¹‰çš„æ¨¡æ¿æ¥æŒ‡å¯¼æ–°ç§å­çš„åˆæˆã€‚æ¨¡æ¿è§„å®šäº†ç³»ç»Ÿè°ƒç”¨ä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œç›¸åº”ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°æ ¼å¼ã€‚ä¾‹å¦‚ï¼ŒSyzkallerçš„æ¨¡æ¿è§„å®šï¼Œç³»ç»Ÿè°ƒç”¨readéœ€è¦ä¸€ä¸ªresourceï¼ˆå³æ–‡ä»¶æè¿°ç¬¦ï¼‰ä½œä¸ºå…¶å‚æ•°ä¹‹ä¸€ï¼Œopenatï¼ˆï¼‰ä»¥åŠsocketï¼ˆï¼‰å°†äº§ç”Ÿç›¸åº”çš„resourceã€‚åœ¨è¿™ä¸ªæ¨¡æ¿çš„æŒ‡å¯¼ä¸‹ï¼ŒSyzkallerå¯ä»¥é€šè¿‡åœ¨ç³»ç»Ÿè°ƒç”¨openatï¼ˆï¼‰ä¸Šé™„åŠ ç³»ç»Ÿè°ƒç”¨readï¼ˆï¼‰æˆ–socketï¼ˆï¼‰æ¥å¯¹æ¨¡ç³Šç¨‹åºç§å­è¿›è¡Œå˜å¼‚ã€‚æ¨¡æ¿æŒ‡å¯¼ä¸‹çš„çªå˜ç¡®ä¿äº†ç§å­ç¨‹åºï¼ˆä¹Ÿå°±æ˜¯runnerçš„è¾“å…¥ï¼‰çš„åˆæ³•æ€§ï¼Œä»è€Œé¿å…äº†è¿‡æ—©äº§ç”Ÿæ— æ•ˆè¾“å…¥ã€‚ â€‹ ä½†æ˜¯ï¼Œè¿™ç§åŸºäºæ¨¡æ¿çš„çªå˜æ–¹å¼ä¹Ÿä¸ä¸€å®šç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚ä»¥ä¸Šå›¾ä¸¤ä¸ªPOCç¨‹åºä¸ºä¾‹ï¼ŒSyzkalleråœ¨aä¸­æ’å…¥äº†socket()ï¼Œæ˜¾ç„¶å¢å¤§äº†æœç´¢ç©ºé—´ï¼Œä¸åˆ©äºfuzzingï¼›åœ¨bä¸­ï¼ŒSyzkalleræ ¹æ®@maxå˜é‡çš„åˆæ³•èŒƒå›´æ˜¯[INT_MINï¼ŒINT_MAX]ä»è€Œæ”¹å˜äº†@maxçš„å€¼ï¼Œä½†åœ¨æ­¤Bugä¸­ï¼Œåªæœ‰@max=-1æ—¶bugæ‰ä¼šè¢«è§¦å‘ï¼Œæ•…è¿™é‡Œçš„çªå˜ä¹Ÿæ˜¯å‰¯ä½œç”¨çš„ã€‚ â€‹ æ•…ä¸ºäº†æ›´é«˜æ•ˆçš„fuzzingï¼Œè¿™é‡Œéœ€è¦è¿›è¡Œå˜å¼‚ä¼˜åŒ–ã€‚æ ¹æ®ç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨æ‰€ä¾æ®çš„èµ„æºç±»å‹å¯¹ç³»ç»Ÿè°ƒç”¨è§„èŒƒæ¨¡æ¿è¿›è¡Œåˆ†ç»„ï¼ˆä¾‹å¦‚å°†ä¸ç½‘ç»œå¥—æ¥å­—å’Œè®¾å¤‡æ–‡ä»¶æœ‰å…³çš„ç³»ç»Ÿè°ƒç”¨åˆ†åˆ«å½’ç±»ï¼‰ã€‚åœ¨æ¯ç»„ä¸­ï¼Œå†å°†ç³»ç»Ÿè°ƒç”¨åˆ†ä¸ºä¸¤ä¸ªå­ç»„ã€‚ä¸€ä¸ªæ˜¯è´Ÿè´£èµ„æºçš„åˆ›å»ºï¼Œå¦ä¸€ä¸ªæ˜¯è´Ÿè´£èµ„æºçš„ä½¿ç”¨ã€‚å½“å˜å¼‚ç§å­ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬çš„æ¨¡ç³Šç»„ä»¶è¦ä¹ˆç”¨åŒä¸€ç»„ä¸­çš„ç³»ç»Ÿè°ƒç”¨æ›¿æ¢ï¼Œè¦ä¹ˆæ’å…¥ä¸ç§å­ç¨‹åºä¸­æ˜¾ç¤ºçš„èµ„æºç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ã€‚ psï¼š æ±¡ç‚¹åˆ†æï¼šä¸‰å…ƒç»„&lt;sources, sinks, sanitizers&gt;ï¼Œä»£è¡¨æ±¡ç‚¹æºï¼Œæ±¡ç‚¹ä¼šèšå¤„å’Œæ¶ˆæ¯’å™¨ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"}],"author":"Shaw"},{"title":"Demons in the Shared Kernel--Abstract Resource Attacks Against OS-level Virtualization","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Demons-in-the-Shared-Kernel-Abstract-Resource-Attacks-Against-OS-level-Virtualization","date":"2023-03-15T07:29:02.891Z","updated":"2023-03-15T07:31:18.618Z","comments":true,"path":"2023/03/15/ã€è®ºæ–‡é˜…è¯»ã€‘Demons-in-the-Shared-Kernel-Abstract-Resource-Attacks-Against-OS-level-Virtualization/","link":"","permalink":"http://example.com/2023/03/15/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Demons-in-the-Shared-Kernel-Abstract-Resource-Attacks-Against-OS-level-Virtualization/","excerpt":"Demons in the Shared Kernel: Abstract Resource Attacks Against OS-level Virtualization æ—¶é—´ï¼š2021.11 ä½œè€…ï¼šNanzi Yangï¼ˆè¥¿ç”µï¼‰ã€Wenbo Shenï¼ˆæµ™å¤§ï¼‰ ä¼šè®®ï¼šCCS å¯¹dockerçš„ä¸€ç§Ddosæ”»å‡»ï¼Œå®ç°äº†è‡ªåŠ¨åŒ–æ£€æµ‹ã€‚ ABSTRACT â€‹ ç”±äºå…¶æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦å’Œæ›´å¥½çš„èµ„æºåˆ©ç”¨æ•ˆç‡ï¼Œæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–(OS-level virtualization)å·²è¢«å¹¿æ³›é‡‡ç”¨ï¼Œå¹¶å·²æˆä¸ºäº‘è®¡ç®—çš„ä¸€é¡¹åŸºæœ¬æŠ€æœ¯ã€‚ä¸ç¡¬ä»¶è™šæ‹ŸåŒ–ç›¸æ¯”ï¼Œæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–åˆ©ç”¨å…±äº«å†…æ ¸è®¾è®¡æ¥è¾¾åˆ°æ›´é«˜çš„æ•ˆç‡ï¼Œå¹¶åœ¨å…±äº«å†…æ ¸ä¸Šè¿è¡Œå¤šä¸ªç”¨æˆ·ç©ºé—´å®ä¾‹ï¼ˆåˆç§°å®¹å™¨ï¼‰ã€‚ç„¶è€Œï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ­ç¤ºäº†ä¸€ä¸ªæ–°çš„æ”»å‡»é¢ï¼Œæ­¤æ¼æ´æ˜¯æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯æ‰€å›ºæœ‰çš„ï¼Œä¼šå½±å“åˆ°Linuxã€FreeBSDå’ŒFuchsiaã€‚ â€‹ äº§ç”Ÿæ¼æ´çš„æ ¹æœ¬åŸå› æ˜¯ï¼Œæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–ä¸­çš„å…±äº«å†…æ ¸è®¾è®¡å¯¼è‡´å®¹å™¨ç›´æ¥æˆ–é—´æ¥åœ°å…±äº«æˆåƒä¸Šä¸‡çš„å†…æ ¸å˜é‡å’Œæ•°æ®ç»“æ„ã€‚åœ¨ä¸åˆ©ç”¨ä»»ä½•å†…æ ¸æ¼æ´çš„æƒ…å†µä¸‹ï¼Œéç‰¹æƒå®¹å™¨å¯ä»¥è½»æ˜“åœ°ç”¨å°½å…±äº«çš„å†…æ ¸å˜é‡å’Œæ•°æ®ç»“æ„å®ä¾‹ï¼Œå¯¹å…¶ä»–å®¹å™¨è¿›è¡ŒDoSæ”»å‡»ã€‚ä¸ç‰©ç†èµ„æºç›¸æ¯”ï¼Œè¿™äº›å†…æ ¸å˜é‡æˆ–æ•°æ®ç»“æ„å®ä¾‹ï¼ˆç§°ä¸ºæŠ½è±¡èµ„æºï¼‰æ›´æ™®éï¼Œä½†å—åˆ°çš„ä¿æŠ¤ä¸è¶³ã€‚ â€‹ ä¸ºäº†æ˜¾ç¤ºé™åˆ¶æŠ½è±¡èµ„æºï¼ˆAbstract Resourcesï¼‰çš„é‡è¦æ€§ï¼Œæˆ‘ä»¬é’ˆå¯¹æ“ä½œç³»ç»Ÿå†…æ ¸çš„ä¸åŒæ–¹é¢è¿›è¡Œäº†æŠ½è±¡èµ„æºæ”»å‡»ã€‚ç»“æœè¡¨æ˜ï¼Œæ”»å‡»æŠ½è±¡èµ„æºæ˜¯éå¸¸å®ç”¨å’Œå…³é”®çš„ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥è¿›è¡Œäº†ç³»ç»Ÿåˆ†æï¼Œä»¥è¯†åˆ«Linuxå†…æ ¸ä¸­æ˜“å—æ”»å‡»çš„æŠ½è±¡èµ„æºï¼ŒæˆåŠŸæ£€æµ‹å‡º1010ä¸ªæŠ½è±¡èµ„æºï¼Œå…¶ä¸­501ä¸ªå¯ä»¥è¢«åŠ¨æ€åœ°é‡å¤æ¶ˆè€—ã€‚æˆ‘ä»¬è¿˜åœ¨å››å¤§äº‘å‚å•†çš„è‡ªéƒ¨ç½²å…±äº«å†…æ ¸å®¹å™¨ç¯å¢ƒä¸­è¿›è¡Œäº†æ”»å‡»å®éªŒã€‚ç»“æœæ˜¾ç¤ºï¼Œæ‰€æœ‰ç¯å¢ƒéƒ½å®¹æ˜“å—åˆ°æŠ½è±¡èµ„æºçš„æ”»å‡»ã€‚æˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œé™åˆ¶æŠ½è±¡èµ„æºçš„ä½¿ç”¨æ˜¯å¾ˆéš¾çš„ï¼Œå¹¶ç»™å‡ºäº†å‡è½»æ­¤é£é™©çš„å¤šç§ç­–ç•¥ã€‚","text":"Demons in the Shared Kernel: Abstract Resource Attacks Against OS-level Virtualization æ—¶é—´ï¼š2021.11 ä½œè€…ï¼šNanzi Yangï¼ˆè¥¿ç”µï¼‰ã€Wenbo Shenï¼ˆæµ™å¤§ï¼‰ ä¼šè®®ï¼šCCS å¯¹dockerçš„ä¸€ç§Ddosæ”»å‡»ï¼Œå®ç°äº†è‡ªåŠ¨åŒ–æ£€æµ‹ã€‚ ABSTRACT â€‹ ç”±äºå…¶æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦å’Œæ›´å¥½çš„èµ„æºåˆ©ç”¨æ•ˆç‡ï¼Œæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–(OS-level virtualization)å·²è¢«å¹¿æ³›é‡‡ç”¨ï¼Œå¹¶å·²æˆä¸ºäº‘è®¡ç®—çš„ä¸€é¡¹åŸºæœ¬æŠ€æœ¯ã€‚ä¸ç¡¬ä»¶è™šæ‹ŸåŒ–ç›¸æ¯”ï¼Œæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–åˆ©ç”¨å…±äº«å†…æ ¸è®¾è®¡æ¥è¾¾åˆ°æ›´é«˜çš„æ•ˆç‡ï¼Œå¹¶åœ¨å…±äº«å†…æ ¸ä¸Šè¿è¡Œå¤šä¸ªç”¨æˆ·ç©ºé—´å®ä¾‹ï¼ˆåˆç§°å®¹å™¨ï¼‰ã€‚ç„¶è€Œï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ­ç¤ºäº†ä¸€ä¸ªæ–°çš„æ”»å‡»é¢ï¼Œæ­¤æ¼æ´æ˜¯æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–æŠ€æœ¯æ‰€å›ºæœ‰çš„ï¼Œä¼šå½±å“åˆ°Linuxã€FreeBSDå’ŒFuchsiaã€‚ â€‹ äº§ç”Ÿæ¼æ´çš„æ ¹æœ¬åŸå› æ˜¯ï¼Œæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–ä¸­çš„å…±äº«å†…æ ¸è®¾è®¡å¯¼è‡´å®¹å™¨ç›´æ¥æˆ–é—´æ¥åœ°å…±äº«æˆåƒä¸Šä¸‡çš„å†…æ ¸å˜é‡å’Œæ•°æ®ç»“æ„ã€‚åœ¨ä¸åˆ©ç”¨ä»»ä½•å†…æ ¸æ¼æ´çš„æƒ…å†µä¸‹ï¼Œéç‰¹æƒå®¹å™¨å¯ä»¥è½»æ˜“åœ°ç”¨å°½å…±äº«çš„å†…æ ¸å˜é‡å’Œæ•°æ®ç»“æ„å®ä¾‹ï¼Œå¯¹å…¶ä»–å®¹å™¨è¿›è¡ŒDoSæ”»å‡»ã€‚ä¸ç‰©ç†èµ„æºç›¸æ¯”ï¼Œè¿™äº›å†…æ ¸å˜é‡æˆ–æ•°æ®ç»“æ„å®ä¾‹ï¼ˆç§°ä¸ºæŠ½è±¡èµ„æºï¼‰æ›´æ™®éï¼Œä½†å—åˆ°çš„ä¿æŠ¤ä¸è¶³ã€‚ â€‹ ä¸ºäº†æ˜¾ç¤ºé™åˆ¶æŠ½è±¡èµ„æºï¼ˆAbstract Resourcesï¼‰çš„é‡è¦æ€§ï¼Œæˆ‘ä»¬é’ˆå¯¹æ“ä½œç³»ç»Ÿå†…æ ¸çš„ä¸åŒæ–¹é¢è¿›è¡Œäº†æŠ½è±¡èµ„æºæ”»å‡»ã€‚ç»“æœè¡¨æ˜ï¼Œæ”»å‡»æŠ½è±¡èµ„æºæ˜¯éå¸¸å®ç”¨å’Œå…³é”®çš„ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥è¿›è¡Œäº†ç³»ç»Ÿåˆ†æï¼Œä»¥è¯†åˆ«Linuxå†…æ ¸ä¸­æ˜“å—æ”»å‡»çš„æŠ½è±¡èµ„æºï¼ŒæˆåŠŸæ£€æµ‹å‡º1010ä¸ªæŠ½è±¡èµ„æºï¼Œå…¶ä¸­501ä¸ªå¯ä»¥è¢«åŠ¨æ€åœ°é‡å¤æ¶ˆè€—ã€‚æˆ‘ä»¬è¿˜åœ¨å››å¤§äº‘å‚å•†çš„è‡ªéƒ¨ç½²å…±äº«å†…æ ¸å®¹å™¨ç¯å¢ƒä¸­è¿›è¡Œäº†æ”»å‡»å®éªŒã€‚ç»“æœæ˜¾ç¤ºï¼Œæ‰€æœ‰ç¯å¢ƒéƒ½å®¹æ˜“å—åˆ°æŠ½è±¡èµ„æºçš„æ”»å‡»ã€‚æˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œé™åˆ¶æŠ½è±¡èµ„æºçš„ä½¿ç”¨æ˜¯å¾ˆéš¾çš„ï¼Œå¹¶ç»™å‡ºäº†å‡è½»æ­¤é£é™©çš„å¤šç§ç­–ç•¥ã€‚ é’ˆå¯¹å®¹å™¨çš„æŠ½è±¡èµ„æºæ”»å‡» â€‹ æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–å¯ä»¥åœ¨åŒä¸€ä¸ªå†…æ ¸ä¸Šè¿è¡Œå¤šä¸ªç”¨æˆ·ç©ºé—´å®¹å™¨ï¼Œä¸ç¡¬ä»¶è™šæ‹ŸåŒ–ç›¸æ¯”ï¼Œå…¶å‡è½»äº†æ¨¡æ‹Ÿæ“ä½œç³»ç»Ÿå†…æ ¸çš„è´Ÿæ‹…ï¼Œæ•…æœ‰ç€æ›´å¿«çš„é€Ÿåº¦å’Œæ›´é«˜çš„èµ„æºåˆ©ç”¨ç‡ã€‚ç”¨æˆ·ç©ºé—´çš„æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–å®ä¾‹ï¼Œåœ¨FreeBSDä¸Šå«jailsã€åœ¨Solarisä¸Šå«Zonesã€åœ¨Liunxä¸Šå«containersã€‚ â€‹ ç”±äºå…±äº«å†…æ ¸æœºåˆ¶çš„å­˜åœ¨ï¼Œæ³¨æ„åˆ°ï¼Œåº•å±‚çš„æ“ä½œç³»ç»Ÿå†…æ ¸åŒ…å«æ•°ä¸ºå®¹å™¨æä¾›æœåŠ¡çš„åä¸‡ä¸ªå˜é‡å’Œæ•°æ®ç»“æ„å®ä¾‹ã€‚å› æ­¤ï¼Œè¿™äº›å®¹å™¨ç›´æ¥æˆ–é—´æ¥åœ°å…±äº«è¿™äº›å†…æ ¸å˜é‡å’Œæ•°æ®ç»“æ„å®ä¾‹ã€‚ â€‹ è¿™äº›æŠ½è±¡èµ„æºå¯ä»¥è¢«åˆ©ç”¨æ¥è¿›è¡ŒDoSæ”»å‡»ï¼Œå¹¶ä¸”ç³»ç»Ÿå¯¹å®ƒä»¬çš„ä¿æŠ¤æªæ–½å¾€å¾€ä¸è¶³ã€‚å†…æ ¸å’Œå®¹å™¨å¼€å‘è€…æ›´æ³¨é‡ä¿æŠ¤ç‰©ç†èµ„æºè€Œä¸æ˜¯æŠ½è±¡èµ„æºã€‚ä¾‹å¦‚ï¼ŒLinuxå†…æ ¸æä¾›æ§åˆ¶ç»„æ¥é™åˆ¶æ¯ä¸ªå®¹å™¨å®ä¾‹çš„èµ„æºä½¿ç”¨ã€‚ç„¶è€Œï¼Œåœ¨13ä¸ªæ§åˆ¶ç»„ä¸­ï¼Œæœ‰12ä¸ªæ˜¯é’ˆå¯¹ç‰©ç†èµ„æºçš„ï¼Œé™åˆ¶äº†CPUã€å†…å­˜ã€å­˜å‚¨å’ŒIOçš„ä½¿ç”¨ã€‚åªæœ‰PIDsæ§åˆ¶ç»„æ˜¯ä¸ºé™åˆ¶æŠ½è±¡èµ„æºPIDè€Œè®¾è®¡çš„ã€‚å› æ­¤ï¼Œæ•°ç™¾ä¸ªå®¹å™¨å…±äº«çš„æŠ½è±¡èµ„æºæ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œå¦‚global dirty ratioã€open-file structsã€pseudo-terminal structsç­‰ï¼Œè¿™ä½¿å¾—å®ƒä»¬å®¹æ˜“å—åˆ°DoSæ”»å‡»ã€‚ â€‹ ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹å›¾æ˜¯Linuxå†…æ ¸ä¸­çš„ä¸€ä¸ªå…¨å±€å˜é‡nr_filesåŠå…¶åˆ©ç”¨å‡½æ•°ï¼Œnr_filesæ˜¯ç³»ç»Ÿä¸­ä»»æ„æ—¶åˆ»æ–‡ä»¶æ•°é‡çš„ä¸Šé™å€¼ï¼Œé™åˆ¶çš„æ–‡ä»¶æ€»æ•°ã€‚ç„¶è€ŒLinuxå†…æ ¸å¹¶æ²¡æœ‰å¯¹nr_fileså˜é‡æä¾›ä»»ä½•æ§åˆ¶éš”ç¦»æªæ–½ï¼Œå› æ­¤ï¼Œæ‰€æœ‰å®¹å™¨éƒ½å¯ä»¥ç›´æ¥æ§åˆ¶nr_filesçš„å€¼ã€‚ â€‹ åœ¨Linuxä¸–ç•Œä¸­ï¼Œæ‰€æœ‰å‡ ä¹æ‰€æœ‰æ“ä½œéƒ½å¯ä»¥çœ‹åšæ–‡ä»¶æ“ä½œï¼Œè®¡æ—¶å™¨ã€äº‹ä»¶ç”Ÿæˆã€è¿è¡Œå‘½ä»¤ç­‰ã€‚ä¸€ä¸ªå®¹å™¨å¯ä»¥åœ¨å‡ ç§’å†…è½»æ¾æ¶ˆè€—å®Œnr_filesçš„å€¼ï¼Œè¿™æ ·å¯¼è‡´çš„ç»“æœå°±æ˜¯åŒä¸€ç³»ç»Ÿå†…çš„å…¶å®ƒå®¹å™¨åœ¨ç³»ç»Ÿèµ„æºè¿˜å¾ˆå……è£•çš„æ—¶å€™ï¼Œä¸€æ¡å‘½ä»¤ã€ä¸€ä¸ªç¨‹åºéƒ½ä¸èƒ½è¿è¡Œã€‚ è‡ªåŠ¨æ£€æµ‹å¯åˆ©ç”¨çš„æŠ½è±¡èµ„æº â€‹ æ–‡ç« çš„æ•´ä½“æ€è·¯å°±æ˜¯å›´ç»•ç€æŠ½è±¡èµ„æºçš„æ£€æµ‹ä¸åˆ©ç”¨è¿›è¡Œã€‚ä¸ºäº†æ£€æµ‹å‡ºç³»ç»Ÿä¸­å¯åˆ©ç”¨çš„æŠ½è±¡èµ„æºï¼Œæ–‡ç« æå‡ºäº†ï¼š configuration-based analysis å’Œaccess-based analysisæ–¹æ³•ç”¨äºæŸ¥æ‰¾å†…æ ¸ä¸­å…±äº«åœ¨å®¹å™¨ä¸­çš„æŠ½è±¡èµ„æºï¼› Syscall Reachability Analysiså’Œä¸‰ä¸ªRestriction Analysisæ–¹æ³•ç”¨äºç¡®å®šæŠ½è±¡èµ„æºå¯ä»¥è¢«å®¹å™¨æ¶ˆè€—å®Œã€‚ 1. Configuration-based Analysis &amp; Access-based Analysis 1.1 configuration-based analysis â€‹ Linuxä¸‹çš„sysctlå‘½ä»¤å¯ä»¥æŸ¥çœ‹/ä¿®æ”¹å†…æ ¸å‚æ•°ï¼Œè¿™äº›å‚æ•°ä½äº/proc/sysç›®å½•ä¸‹ã€‚æ³¨æ„åˆ°ï¼Œè¿™äº›sysctlé…ç½®å¤§å¤šç”¨äºæŠ½è±¡çš„èµ„æºé™åˆ¶ï¼Œæ¯”å¦‚é™åˆ¶æ–‡ä»¶æ•°é‡fs.file-nræˆ–å†…å­˜å¤§é¡µé¢vm.nr_hugepagesã€‚å› æ­¤ï¼Œæ‰€æœ‰çš„å®¹å™¨éƒ½åœ¨å…±äº«ç”±sysctlé…ç½®æŒ‡å®šçš„ç›¸åŒçš„å…¨å±€é™åˆ¶ã€‚è¿™ç§sysctlé…ç½®æä¾›äº†å…³äºå®¹å™¨ä¹‹é—´å¯å…±äº«çš„æŠ½è±¡èµ„æºçš„é‡è¦çº¿ç´¢ã€‚ â€‹ æ•…è¿™é‡Œçš„configurationæŒ‡çš„å°±æ˜¯sysctlé…ç½®å‚æ•°ã€‚åŸºäºé…ç½®çš„åˆ†æåˆ†ä¸ºä¸‰æ­¥ï¼š é¦–å…ˆï¼Œå®ƒä½¿ç”¨ç‰¹å®šçš„sysctlæ•°æ®ç±»å‹æ¥è¯†åˆ«æ‰€æœ‰ä¸sysctlç›¸å…³çš„æ•°æ®ç»“æ„ã€‚è¿™äº›æ•°æ®ç»“æ„åŒ…å«å¯é…ç½®çš„sysctlå†…æ ¸å‚æ•°ï¼› å…¶æ¬¡ï¼Œsysctlæ•°æ®ç»“æ„é€šå¸¸åŒ…å«åœ¨/proc/sys/æ–‡ä»¶å¤¹ä¸­æ˜¾ç¤ºsysctlå€¼çš„å‡½æ•°ã€‚å› æ­¤ï¼Œé€šè¿‡åˆ†æè¯¥å‡½æ•°ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå‡†ç¡®åœ°æ‰¾å‡ºè¯¥å†…æ ¸å‚æ•°çš„å˜é‡ï¼› æœ€åï¼Œå¦‚æœä¸€ä¸ªå†…æ ¸å‚æ•°è¢«ç”¨äºé™åˆ¶èµ„æºæ¶ˆè€—ï¼Œå…¶ç›¸åº”çš„å˜é‡åº”è¯¥å‡ºç°åœ¨æ¯”è¾ƒæŒ‡ä»¤ä¸­ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æŒ‰ç…§ä½¿ç”¨-å®šä¹‰é“¾æ¥æ£€æŸ¥æ‰€ç¡®å®šçš„å˜é‡çš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚æœå®ƒåœ¨æ¯”è¾ƒæŒ‡ä»¤ä¸­è¢«ä½¿ç”¨ï¼Œå°±æŠŠå®ƒæ ‡è®°ä¸ºæŠ½è±¡èµ„æº â€‹ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒLinuxçš„procæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨æ•°æ®ç»“æ„ctl_tableæ¥é…ç½®sysctlå†…æ ¸å‚æ•°ã€‚æˆ‘ä»¬åœ¨LLVMä¸­è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªç¨‹åºé—´åˆ†æé€šé“ï¼Œåˆ†æç¨‹åºé¦–å…ˆéå†æ‰€æœ‰å†…æ ¸å…¨å±€å˜é‡æ¥æŸ¥æ‰¾æ‰€æœ‰ctl_tableæ•°æ®ç»“æ„ï¼Œè·Ÿéš.proc_handlerå›è°ƒæŒ‡é’ˆå¯åŠ¨ç¨‹åºé—´åˆ†æä»¥è·å¾—ç¡®åˆ‡çš„å˜é‡ï¼Œå®šä½åˆ°19è¡Œçš„nr_fileså…³é”®å˜é‡ã€‚æœ€åï¼Œæ£€æŸ¥æ‰€æœ‰å·²è¯†åˆ«çš„å…³é”®å˜é‡çš„ä½¿ç”¨æƒ…å†µã€‚å¦‚æœä¸€ä¸ªå…³é”®å˜é‡åœ¨æ¯”è¾ƒæŒ‡ä»¤ä¸­è¢«ä½¿ç”¨ï¼ˆå³LLVM IRä¸­çš„icmpï¼‰ï¼Œå°±ä¼šè®°å½•è¿™äº›ä½ç½®å¹¶å°†è¿™ä¸ªå˜é‡æ ‡è®°ä¸ºæŠ½è±¡èµ„æºï¼ˆ25è¡Œï¼Œnr_filesï¼‰ã€‚ 1.2 access-based analysis â€‹ é™¤äº†sysctlé…ç½®ï¼ŒLinuxå†…æ ¸è¿˜ä½¿ç”¨é”æˆ–åŸè¯­æœºåˆ¶æ¥ä¿æŠ¤å¹¶å‘è®¿é—®çš„èµ„æºã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨å¹¶å‘è®¿é—®æ€§è´¨ä½œä¸ºæ ‡è¯†ä¸€ç»„å¯å…±äº«çš„æŠ½è±¡èµ„æºçš„æ ‡å¿—ã€‚å¦‚æœæŸä¸ªæ•°æ®ç»“æ„æœ¬èº«å°±æ˜¯é”ï¼Œæˆ–è€…åœ¨ä¸Šé”/è§£é”ä¹‹é—´è¢«å®šé‡ä¿®æ”¹ï¼Œæˆ‘ä»¬å°±å°†å…¶å®šä½ä¸ºæŠ½è±¡èµ„æºã€‚ â€‹ åŒæ—¶ï¼Œåˆ†ææ–¹æ³•è¿˜è€ƒè™‘äº†atomicå’Œpercpuè®¡æ•°å™¨ï¼Œå…¶åˆ†ææ–¹æ³•éƒ½é›†æˆåœ¨LLVMä¸­ã€‚ 2. Syscall Reachability Analysis &amp; Restriction Analysis 2.1 syscall reachability analysis â€‹ ä¸ºäº†ç¡®å®šç­›é€‰å‡ºæ¥çš„æŠ½è±¡èµ„æºå¯ä»¥è¢«å®¹å™¨æ¶ˆè€—ï¼Œæˆ‘ä»¬æ ¹æ®å†…æ ¸æ§åˆ¶æµå›¾è¿›è¡Œä¼ ç»Ÿçš„åå‘æ§åˆ¶æµåˆ†æï¼Œå…¶ä¸­é—´æ¥è°ƒç”¨æ˜¯æ ¹æ®ç»“æ„ç±»å‹æ¥è§£å†³çš„[42, 70]ã€‚å¦‚æœæ²¡æœ‰ä»ç³»ç»Ÿè°ƒç”¨æ¡ç›®åˆ°æŠ½è±¡èµ„æºæ¶ˆè€—ç‚¹çš„è·¯å¾„ï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªæŠ½è±¡èµ„æºä»å®¹å™¨ä¸­æ ‡è®°ä¸ºä¸å¯è¾¾ã€‚ 2.2 restriction analysis â€‹ ä»…æœ‰å¯è¾¾æ€§åˆ†ææ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥ç¡®ä¿è·¯å¾„ä¸Šæ²¡æœ‰é¢å¤–çš„é’ˆå¯¹å®¹å™¨çš„é™åˆ¶ã€‚å¦‚seccompã€å‘½åç©ºé—´ã€æ§åˆ¶ç»„ä»¥åŠæ¯ä¸ªç”¨æˆ·çš„èµ„æºé™åˆ¶ã€‚ 2.2.1 seccomp â€‹ Seccompæ˜¯ä¸€ç§ç”¨äºç³»ç»Ÿè°ƒç”¨è¿‡æ»¤çš„æœºåˆ¶ã€‚æˆ‘ä»¬å¯¹seccompçš„é™åˆ¶åˆ†æä¸­ï¼Œä½¿ç”¨Dockeré»˜è®¤çš„seccompé…ç½®æ–‡ä»¶[15]ï¼Œå®ƒé˜»æ­¢äº†50å¤šä¸ªç³»ç»Ÿè°ƒç”¨ã€‚åœ¨æ‰€æœ‰ä»ç³»ç»Ÿè°ƒç”¨æ¡ç›®åˆ°èµ„æºæ¶ˆè€—ç‚¹çš„è·¯å¾„ä¸­ï¼Œè¿‡æ»¤æ‰æºè‡ªä»»ä½•è¢«é˜»æ­¢çš„ç³»ç»Ÿè°ƒç”¨çš„è·¯å¾„ã€‚ 2.2.2 per-user â€‹ åœ¨å®é™…éƒ¨ç½²ä¸­ï¼Œå®¹å™¨é€šå¸¸ä½¿ç”¨ä¸åŒçš„ç”¨æˆ·è¿è¡Œã€‚å› æ­¤ï¼Œæ¯ä¸ªå®¹å™¨çš„èµ„æºæ¶ˆè€—ä¹Ÿè¢«æ¯ä¸ªç”¨æˆ·çš„èµ„æºé…é¢æ‰€é™åˆ¶ã€‚ä¾‹å¦‚ï¼ŒLinuxæä¾›äº†ç”¨æˆ·é™åˆ¶å‘½ä»¤ulimitæ¥é™åˆ¶ç‰¹å®šç”¨æˆ·çš„èµ„æºæ¶ˆè€—ã€‚è€Œulimitçš„åº•å±‚å®ç°æ˜¯ä½¿ç”¨rlimitæ¥è®¾ç½®å¤šä¸ªæ¯ä¸ªç”¨æˆ·çš„èµ„æºé…é¢ã€‚ â€‹ é™¤äº†ulimitï¼ŒLinuxè¿˜æä¾›äº†ä¸€äº›æ¥å£ï¼Œå…è®¸ç”¨æˆ·åˆ©ç”¨PAMï¼ˆPluggable Authentication Moduleï¼‰æ¥éƒ¨ç½²æ¯ä¸ªç”¨æˆ·çš„é…é¢ã€‚PAMä½¿ç”¨setup_limitså‡½æ•°[64]æ¥è®¾ç½®æ¯ä¸ªç”¨æˆ·çš„èµ„æºé…é¢ï¼Œå®ƒè°ƒç”¨setrlimitæ¥é…ç½®å¤šä¸ªrlimitçº¦æŸã€‚å¯¹äºç”±ulimitã€rlimitå’ŒPAMé™åˆ¶çš„èµ„æºï¼Œæ”»å‡»è€…å®¹å™¨ä¸èƒ½æ¶ˆè€—è¶…è¿‡æ¯ä¸ªç”¨æˆ·çš„é…é¢ã€‚å› æ­¤ï¼Œå®ƒä¸èƒ½å®Œå…¨æ§åˆ¶è¿™äº›æŠ½è±¡çš„èµ„æºæ¥å‘åŠ¨DoSæ”»å‡»ã€‚ â€‹ ç”±äºulimitå’ŒPAMéƒ½ä½¿ç”¨rlimitæ¥è®¾ç½®æ¯ä¸ªç”¨æˆ·çš„èµ„æºé…é¢ï¼Œæˆ‘ä»¬éœ€è¦åˆ†ærlimitå¹¶è¿‡æ»¤å‡ºå—å…¶é™åˆ¶çš„æŠ½è±¡èµ„æºã€‚å¯¹äºrlimitåˆ†æï¼Œæˆ‘ä»¬çš„å…³é”®è§‚å¯Ÿæ˜¯ï¼Œrlimitå€¼é€šå¸¸æ˜¯åœ¨struct rlimitæˆ–struct rlimit64ä¸­æŒ‡å®šçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆéå†å†…æ ¸IRï¼Œä»¥ç¡®å®šæ‰€æœ‰ä»ç»“æ„rlimitæˆ–ç»“æ„rlimit64åŠ è½½çš„å˜é‡ã€‚ç„¶åï¼Œæˆ‘ä»¬è¿›è¡Œæ•°æ®æµåˆ†æï¼Œè·Ÿè¸ªè¿™äº›å˜é‡çš„æ‰€æœ‰ä¼ æ’­å’Œä½¿ç”¨æƒ…å†µï¼Œå¦‚æœè¿™äº›å˜é‡åœ¨ä»»ä½•æ¯”è¾ƒæŒ‡ä»¤ä¸­è¢«ä½¿ç”¨ï¼Œåˆ™æ ‡è®°è¿™äº›å‡½æ•°ã€‚åœ¨è¿™äº›å‡½æ•°ä¸­ï¼Œrlimitè¢«æ£€æŸ¥ä»¥é™åˆ¶æŸäº›èµ„æºã€‚æˆ‘ä»¬è®¤ä¸ºè¿™äº›èµ„æºä¸èƒ½è¢«æ”»å‡»è€…å®¹å™¨ç”¨å°½ï¼Œå› æ­¤æˆ‘ä»¬æ ¹æ®è¿™äº›å‡½æ•°è¿‡æ»¤æ‰è·¯å¾„ã€‚æˆ‘ä»¬çš„å·¥å…·ç¡®å®šäº†40ä¸ªæ£€æŸ¥rlimitçš„å‡½æ•°ã€‚ 2.2.3 namespace â€‹ å¯¹äºä¸€ä¸ªå‘½åç©ºé—´éš”ç¦»çš„èµ„æºï¼ŒLinuxå†…æ ¸ä¼šåœ¨æ¯ä¸ªå‘½åç©ºé—´ä¸‹ä¸ºå…¶åˆ›å»ºä¸€ä¸ª \"å‰¯æœ¬\"ï¼Œè¿™æ ·åœ¨ä¸€ä¸ªå‘½åç©ºé—´çš„ä¿®æ”¹å°±ä¸ä¼šå½±å“åˆ°å…¶ä»–å‘½åç©ºé—´ã€‚å› æ­¤ï¼Œä¸ºäº†ç¡®è®¤å®¹å™¨çš„å¯æ§æ€§ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿é‚£äº›æŠ½è±¡èµ„æºä¸å—åå­—ç©ºé—´çš„ä¿æŠ¤ã€‚è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå³ä½¿Linuxæœ‰å…³äºå‘½åç©ºé—´çš„æ–‡æ¡£ï¼Œä¹Ÿæ²¡æœ‰å…³äºå“ªäº›æŠ½è±¡èµ„æºè¢«å‘½åç©ºé—´æ‰€éš”ç¦»çš„è§„èŒƒã€‚ â€‹ è§‚å¯Ÿåˆ°ï¼Œå¯¹äºä¸€ä¸ªè¢«å‘½åç©ºé—´éš”ç¦»çš„èµ„æºï¼Œç›¸åº”çš„æ•°æ®ç»“æ„æœ‰ä¸€ä¸ªæŒ‡é’ˆå­—æ®µï¼ŒæŒ‡å‘å®ƒæ‰€å±çš„å‘½åç©ºé—´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„å·¥å…·é¦–å…ˆéå†äº†å†…æ ¸ä¸­æ¯ä¸ªæ•°æ®ç»“æ„ç±»å‹çš„æ‰€æœ‰å­—æ®µã€‚å¦‚æœè¯¥ç±»å‹æœ‰ä¸€ä¸ªå‘½åç©ºé—´æŒ‡é’ˆï¼Œæˆ‘ä»¬å°±æŠŠå®ƒæ ‡è®°ä¸ºä¸€ä¸ªè¢«é™åˆ¶éš”ç¦»çš„èµ„æºã€‚å…¶æ¬¡ï¼Œå¯¹äºè¯†åˆ«å‡ºçš„éš”ç¦»èµ„æºï¼Œæˆ‘ä»¬çš„å·¥å…·ç”¨å®ƒæ¥è¿‡æ»¤Â§4.1ä¸­è¯†åˆ«çš„å…±äº«æŠ½è±¡èµ„æºã€‚è¯·æ³¨æ„ï¼Œç”±äºä¸åŒå‘½åç©ºé—´ä¹‹é—´çš„æ˜ å°„ï¼Œä¸€äº›å‘½åç©ºé—´éš”ç¦»çš„èµ„æºå¯èƒ½ä»ç„¶å®¹æ˜“å—åˆ°æŠ½è±¡èµ„æºçš„æ”»å‡»ã€‚å¦‚Â§3.2.2æ‰€è¿°ï¼Œidræ˜¯ç”±pid_namespace-&gt;idréš”ç¦»çš„ã€‚ç„¶è€Œï¼Œåœ¨éæ ¹PIDå‘½åç©ºé—´åˆ†é…çš„æ¯ä¸ªidréƒ½è¢«æ˜ å°„åˆ°æ ¹PIDå‘½åç©ºé—´çš„ä¸€ä¸ªæ–°idrï¼Œè¿™æ ·æ ¹å‘½åç©ºé—´å°±å¯ä»¥ç®¡ç†å®ƒã€‚å› æ­¤ï¼Œæ ¹PIDå‘½åç©ºé—´è¢«æ‰€æœ‰PIDå‘½åç©ºé—´çš„æ‰€æœ‰å®¹å™¨å…¨å±€å…±äº«ã€‚å› æ­¤ï¼Œå®ƒä»ç„¶å®¹æ˜“å—åˆ°idrè€—å°½çš„æ”»å‡»ã€‚åœ¨æˆ‘ä»¬çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è¿‡æ»¤æ‰è¿™äº›èµ„æºã€‚ â€‹ å¦‚å›¾æ‰€ç¤ºï¼Œé€šè¿‡ä¸¤æ¬¡åˆ†æï¼Œç¨‹åºå°±å¯ä»¥è‡ªåŠ¨è¯†åˆ«å†…æ ¸ä¸­å¯åˆ©ç”¨çš„æŠ½è±¡èµ„æºã€‚ç”±äºæœ¬æ–‡é‡ç‚¹å…³æ³¨æ¼æ´çš„AEGåˆ©ç”¨ï¼Œè¿™é‡Œçš„å®¹å™¨æ”»å‡»éš¾ç‚¹å…¶å®å°±æ˜¯è‡ªåŠ¨åŒ–æŸ¥æ‰¾æŠ½è±¡èµ„æºï¼Œåˆ©ç”¨å¹¶ä¸éš¾ï¼Œæ•…æœ¬æ–‡åˆ°è¿™é‡Œç»“æŸã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"},{"name":"Cloud","slug":"Cloud","permalink":"http://example.com/tags/Cloud/"}],"author":"Shaw"},{"title":"Windows of Vulnerability--A Case Study Analysis","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Windows of Vulnerability A Case Study Analysis","date":"2023-02-27T07:10:38.311Z","updated":"2023-02-28T10:41:26.468Z","comments":true,"path":"2023/02/27/ã€è®ºæ–‡é˜…è¯»ã€‘Windows of Vulnerability A Case Study Analysis/","link":"","permalink":"http://example.com/2023/02/27/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Windows%20of%20Vulnerability%20A%20Case%20Study%20Analysis/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Windows of Vulnerability: A Case Study Analysis æ—¶é—´ï¼š2000 ä½œè€…ï¼šArbaugh W A, Fithen W L, McHugh J æœŸåˆŠï¼šComputer ABSTRACT ä½œè€…ä¸ºç³»ç»Ÿæ¼æ´æå‡ºäº†ä¸€ä¸ªâ€œç”Ÿå‘½å¾ªç¯â€æ¨¡å‹ï¼Œä»¥æ­¤æ¥åˆ†æä¸‰ä¸ªæ ·ä¾‹ï¼Œæ­ç¤ºäº†ç³»ç»Ÿå¦‚ä½•åœ¨å®‰å…¨ä¿®å¤åçš„å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ä»ç„¶å­˜åœ¨æ¼æ´ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Windows of Vulnerability: A Case Study Analysis æ—¶é—´ï¼š2000 ä½œè€…ï¼šArbaugh W A, Fithen W L, McHugh J æœŸåˆŠï¼šComputer ABSTRACT ä½œè€…ä¸ºç³»ç»Ÿæ¼æ´æå‡ºäº†ä¸€ä¸ªâ€œç”Ÿå‘½å¾ªç¯â€æ¨¡å‹ï¼Œä»¥æ­¤æ¥åˆ†æä¸‰ä¸ªæ ·ä¾‹ï¼Œæ­ç¤ºäº†ç³»ç»Ÿå¦‚ä½•åœ¨å®‰å…¨ä¿®å¤åçš„å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ä»ç„¶å­˜åœ¨æ¼æ´ã€‚ Model æ¼æ´çš„ç”Ÿå‘½å‘¨æœŸ 1.æœ¬æ–‡æå‡ºçš„æ¨¡å‹ï¼š Birthï¼šä»£è¡¨æ¼æ´çš„äº§ç”Ÿï¼Œæ¼æ´é€šå¸¸åœ¨å¤§å‹å¼€å‘é¡¹ç›®çš„è¿‡ç¨‹ä¸­æ— æ„åœ°è¢«åˆ¶é€ ã€‚è‹¥æ¼æ´æ˜¯æ•…æ„è¢«åˆ¶é€ çš„ï¼Œé‚£ä¹ˆBirthå’ŒDiscoveryåŒæ—¶å‘ç”Ÿï¼› Discoveryï¼šä»£è¡¨æœ‰äººå‘ç°äº†æ¼æ´çš„å­˜åœ¨ï¼Œè®¸å¤šæƒ…å†µä¸‹æ¼æ´çš„å‘ç°è€…å¹¶ä¸ä¼šå‘å¤–æŠ«éœ²ä»–çš„å‘ç°ï¼› Disclosureï¼šä»£è¡¨æ¼æ´çš„å­˜åœ¨è¢«ä¼ æ’­åˆ°æ›´å¹¿çš„èŒƒå›´ï¼Œä¾‹å¦‚è¢«ä¸Šä¼ åˆ°äº†Bugtraqçš„é‚®ä»¶åˆ—è¡¨ä¸­ï¼Œå‘å…¬ä¼—å…¬å¼€ï¼› Correctionï¼šä»£è¡¨å¼€å‘å•†æä¾›äº†è½¯ä»¶è¡¥ä¸æˆ–è€…æ›´æ”¹äº†é…ç½®ï¼Œä¿®è¡¥äº†æ¼æ´ï¼› Publicityï¼šä»£è¡¨æ¼æ´å·²ç»å¹¿ä¸ºäººçŸ¥ï¼Œä¾‹å¦‚è¢«æ–°é—»æŠ¥é“æˆ–è¢«åº”æ€¥äº‹ä»¶å“åº”ä¸­å¿ƒå‘å¸ƒæŠ¥å‘Šï¼Œä¸€æ—¦æ¼æ´åœ¨Disclosureé˜¶æ®µå¤±æ§ï¼Œæ¼æ´å°±ä¼šè¢«å¹¿ä¸ºäººçŸ¥ï¼› Scriptingï¼šä»£è¡¨æ¼æ´çš„è‡ªåŠ¨åŒ–åˆ©ç”¨ç¨‹åºå·²ç»è¢«ç¼–å†™ï¼Œè„šæœ¬å°å­ä¹Ÿå¯ä»¥åˆ©ç”¨è„šæœ¬æ¥å®æ–½æ”»å‡»ã€‚Scriptingæå¤§åœ°å¢åŠ äº†å¯¹åº”æ¼æ´çš„è¢«åˆ©ç”¨æ¬¡æ•°ï¼› Deathï¼šä»£è¡¨æ¼æ´çš„æ¹®ç­ï¼Œå½“ä¸€ä¸ªæ¼æ´å¯ä»¥åˆ©ç”¨çš„ç³»ç»Ÿæ•°é‡ç¼©å‡åˆ°ä¸é‡è¦çš„æ—¶å€™ï¼Œè¿™ä¸ªæ¼æ´å°±ä¼šæ­»äº¡ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œå¦‚æœæ‰€æœ‰çš„ç³»ç»Ÿéƒ½å®‰è£…äº†å¯¹åº”è¡¥ä¸ã€æˆ–è€…æ¼æ´å½±å“çš„ç³»ç»Ÿè¢«æ·˜æ±°ã€æˆ–è€…æ”»å‡»è€…å’Œåª’ä½“å¯¹è¯¥æ¼æ´å¤±å»å…´è¶£ï¼Œè¿™ä¸ªæ¼æ´å°±ä¼šæ¶ˆäº¡ã€‚ â€‹ ä¸€èˆ¬æ¥è¯´ï¼ŒBirthã€Discoveryå’ŒDisclosureæ˜¯æŒ‰é¡ºåºè¿›è¡Œçš„ï¼ŒCorrectionã€Publicityã€Scriptingé¡ºåºä¸å®šã€‚ 2. ä¸‰ä¸ªCase Studiesï¼š 2.1 Phf incident â€‹ phfæ¼æ´æ˜¯ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œæ¼æ´ï¼š â€‹ ç†è®ºä¸Šï¼Œåˆ©ç”¨è¿™ä¸ªæ¼æ´å¯ä»¥åœ¨ç›®æ ‡ä¸»æœºä¸Šæ‰§è¡Œä»»æ„å‘½ä»¤ï¼Œä½†ç½‘ä¸Šç¬¬ä¸€ä¸ªå‘å¸ƒçš„phfæ¼æ´çš„åˆ©ç”¨è„šæœ¬åªæ˜¯å°è¯•åœ¨ç›®æ ‡ä¸»æœºä¸Šä¸‹è½½å¯†ç æ–‡ä»¶ï¼Œå¹¶æ— è¿‡å¤šåŠ¨ä½œã€‚æœ‰è¶£çš„æ˜¯ï¼Œå‘CERTæŠ¥å‘Šçš„å¤§å¤šæ•°äº‹ä»¶åªæ¶‰åŠä¸‹è½½å¯†ç æ–‡ä»¶ï¼Œå¯è§ï¼šå¤§å¤šæ•°è„šæœ¬å°å­ä»¬åœ¨ä¸äº†è§£è„šæœ¬çš„æƒ…å†µä¸‹ç›²ç›®åœ°è¿è¡Œåˆ©ç”¨è„šæœ¬ï¼Œå¦‚æœä»–ä»¬æ‡‚å¾—æ¼æ´çš„åŸç†ï¼Œè¿”å›ä¸€ä¸ªshellæ˜æ˜¾å¯ä»¥åšæ›´å¤šäº‹æƒ…ã€‚ â€‹ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¼æ´çš„åˆ©ç”¨æ¬¡æ•°ä»è‡ªåŠ¨è„šæœ¬åŒ–å¼€å§‹å°±æ¿€å¢ã€‚éšç€96å¹´8æœˆè¯¥æ¼æ´çš„ç›¸å…³è¡¥ä¸å‘å¸ƒï¼Œå…¥ä¾µè¡Œä¸ºçŸ­æ—¶é—´å†…éª¤å‡ã€‚ä½†ç›´åˆ°1998å¹´è¯¥æ¼æ´çš„åˆ©ç”¨è¡Œä¸ºéƒ½ä¸€ç›´å¤§é‡å­˜åœ¨ã€‚ 2.2 IMAP incident â€‹ IMAPé‚®ä»¶æœåŠ¡æä¾›äº†é€šè¿‡äº’è”ç½‘è®¿é—®ç”µå­é‚®ä»¶çš„åŠŸèƒ½ã€‚å…¶åœ¨æ—©æœŸçš„ç‰ˆæœ¬å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼Œä¸‹å›¾æ˜¾ç¤ºäº†å…¶ä¸¤ä¸ªçŸ­æœŸå†…å‘ç°çš„ç›¸ä¼¼çš„æ¼æ´ã€‚ â€‹ å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªæ¼æ´çš„æŸ±çŠ¶å›¾å½¢çŠ¶å¤§ä½“ç›¸åŒã€‚ 2.3 BIND incident â€‹ Bindæ˜¯DNSåè®®çš„ä¸€ç§å®ç°ï¼Œæ˜¯ç°ä»Šäº’è”ç½‘ä¸Šä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„DNS æœåŠ¡å™¨ç¨‹åºã€‚å…¶1998å¹´å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼š â€‹ æ¼æ´æ•°æ®æ¥æº â€‹ CERT/CCï¼Œç¾å›½è®¡ç®—æœºç´§æ€¥äº‹ä»¶å“åº”å°ç»„åè°ƒä¸­å¿ƒã€‚æˆç«‹äº1998å¹´ï¼Œä½äºåŒ¹å…¹å ¡çš„å¡å†…åŸºæ¢…éš†å¤§å­¦å†…ã€‚å®ƒçš„ä¸»è¦èŒèƒ½æ˜¯å¯¹è½¯ä»¶ä¸­çš„å®‰å…¨æ¼æ´æä¾›å’¨è¯¢ï¼Œå¯¹ç—…æ¯’å’Œè •è™«çš„çˆ†å‘æä¾›è­¦æŠ¥ï¼Œå‘è®¡ç®—æœºç”¨æˆ·æä¾›ä¿è¯è®¡ç®—æœºç³»ç»Ÿå®‰å…¨çš„æŠ€å·§ä»¥åŠåœ¨å¤„ç†è®¡ç®—æœºå®‰å…¨äº‹æ•…çš„è¡ŒåŠ¨ä¸­è¿›è¡Œåè°ƒã€‚å½“æœ‰æ¶æ„ç¨‹åºæˆ–ç³»ç»Ÿæ¼æ´è¢«æŠ¥å‘Šæ—¶ï¼ŒCERT/CCä¼šå¯¹å¤–å‘å¸ƒâ€œäº‹ä»¶â€ï¼Œå…¶æè¿°äº†æ¼æ´çš„æ€§è´¨ã€åˆ©ç”¨çš„æ–¹å¼æˆ–å·¥å…·ç­‰ã€‚ â€‹ ä½œè€…ä»CERT/CCæ•°æ®åº“ä¸­é€‰æ‹©æ ·ä¾‹è¿›è¡Œåˆ†æï¼Œæ•°æ®æ¶µç›–äº†1996~1999å¹´çš„ä¸€äº›ç‰¹æœ‰çš„å…¥ä¾µè¡Œä¸ºã€‚ ''äºº''çš„è–„å¼± â€‹ ä»ä¸Šè¿°ä¸‰ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œæ¼æ´çš„è‡ªåŠ¨åŒ–åˆ©ç”¨æ˜¯å¯¼è‡´ç›¸å…³å…¥ä¾µè¡Œä¸ºæ¿€å¢çš„å…³é”®ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥æ³¨æ„åˆ°çš„æ˜¯ï¼š å³ä½¿æ¼æ´çš„ç›¸å…³ä¿®è¡¥æªæ–½å·²ç»å‘å¸ƒï¼Œç›¸å…³çš„å…¥ä¾µè¡Œä¸ºä»åœ¨å…¶åçš„å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…å­˜åœ¨ï¼Œç”šè‡³å¢é•¿ã€‚åœ¨æ¼æ´è¡¥ä¸å‘å¸ƒä¹‹åï¼Œä¸€æ–¹é¢ï¼Œéœ€è¦æ—¶é—´ä¼ æ’­ä¸å®‰è£…ï¼›å¦ä¸€æ–¹æ»¡ï¼Œä¸€äº›è°¨æ…çš„ç»„ç»‡è¦æ±‚åœ¨æ”¹å˜ç³»ç»Ÿä¹‹å‰è¿›è¡Œæµ‹è¯•ï¼Œè¿™æ˜¯æ­£ç¡®çš„ï¼Œä»¥ç¡®ä¿è¡¥ä¸ä¸ä¼šäº§ç”Ÿæ–°çš„é—®é¢˜ã€‚æœ‰äº›ç»„ç»‡åœ¨ \"æœ‰æœºä¼š \"çš„æ—¶å€™ä¼šå®‰è£…è¡¥ä¸ï¼Œè€Œå…¶ä»–ç»„ç»‡å¯èƒ½æ°¸è¿œä¸ä¼šå®‰è£…è¡¥ä¸ï¼Œå…¶ä¸­ç‰µæ‰¯åˆ°çš„åŸå› æœ‰å¾ˆå¤šï¼› å³ä½¿ä¸€äº›æ¼æ´ä¿®è¡¥æªæ–½ä»…èƒ½é˜²å¾¡ä¸€äº›ç®€å•çš„æ”»å‡»ï¼Œä½†å…¶ä»æœ‰æ„ä¹‰ã€‚åœ¨æ¼æ´å‘å¸ƒåç´§è·Ÿçš„ä¿®è¡¥æªæ–½æ‰€é˜²æ­¢çš„å…¥ä¾µå¯èƒ½åªæ˜¯è„šæœ¬å°å­çš„éªšæ‰°æ€§æ”»å‡»ï¼Œæ›´å¤æ‚çš„æ”»å‡»è€…å¯èƒ½ä»ç„¶ä¼šæˆåŠŸã€‚ä½†å³ä½¿è¿™æ ·ï¼Œä¹Ÿèƒ½å‡å°‘æ•´ä½“çš„å…¥ä¾µè¡Œä¸ºï¼Œç•™å‡ºæ›´å¤šçš„æ—¶é—´ç²¾åŠ›èµ„æºè·Ÿè¸ªè°ƒæŸ¥æ›´å¤æ‚çš„æ”»å‡»ã€‚","categories":[{"name":"paper","slug":"paper","permalink":"http://example.com/categories/paper/"}],"tags":[{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"Windows","slug":"Windows","permalink":"http://example.com/tags/Windows/"}],"author":"Shaw"},{"title":"(æŠ€æœ¯ç§¯ç´¯)Symbolic Execution----ä»æ€ç»´ä¸Šç†è§£ç¬¦å·æ‰§è¡Œ","slug":"ã€æŠ€æœ¯ç§¯ç´¯ã€‘Symbolic Execution-ç¬¦å·æ‰§è¡Œ","date":"2023-02-16T07:07:49.314Z","updated":"2023-05-30T08:10:03.575Z","comments":true,"path":"2023/02/16/ã€æŠ€æœ¯ç§¯ç´¯ã€‘Symbolic Execution-ç¬¦å·æ‰§è¡Œ/","link":"","permalink":"http://example.com/2023/02/16/%E3%80%90%E6%8A%80%E6%9C%AF%E7%A7%AF%E7%B4%AF%E3%80%91Symbolic%20Execution-%E7%AC%A6%E5%8F%B7%E6%89%A7%E8%A1%8C/","excerpt":"Symbolic Executionï¼šä»æ€ç»´ä¸Šç†è§£ç¬¦å·æ‰§è¡Œ â€‹ ç¬¦å·æ‰§è¡Œä½œä¸ºè½¯ä»¶åˆ†æã€æ¼æ´å‘æ˜é¢†åŸŸç»å¸¸å‡ºç°çš„æŠ€æœ¯ï¼Œå›½å†…å·²ç»æœ‰ä¸å°‘æ–‡ç« æ€»ç»“è®¨è®ºã€‚ä½†æ–°æ‰‹ç›´æ¥ç¿»é˜…å­¦ä¹ è¿™äº›æ€»ç»“æ€§è´¨çš„æ–‡ç« æ—¶ç¢°åˆ°çš„è¯¸å¦‚â€œç¬¦å·è·¯å¾„çº¦æŸâ€ã€â€œçº¦æŸæ±‚è§£â€ã€â€œæ‰§è¡ŒçŠ¶æ€â€ç­‰ä¸“æœ‰åè¯ä¼šéš¾ä»¥ç†è§£ï¼Œæ€ç»´é€»è¾‘ä¸ç†è®ºæ¦‚å¿µä¸æ˜“åŒè½¨ã€‚æœ¬æ–‡ä»å›½å¤–çš„ä¸€äº›çƒ­é—¨æ•™ç¨‹å…¥æ‰‹ï¼Œ å°†ç¬¦å·æ‰§è¡Œä»æ€ç»´ä¸Šæ‹ä¸€éï¼Œ è¯ æ‰æœ«å­¦ï¼Œä»…åšæŠ›ç –å¼•ç‰ä¹‹ç”¨ã€‚ 1. å¼•å­ï¼š 1.0 ä¸€ä¸ªæ ·ä¾‹ â€‹ ä»ä¸€æ®µç»å…¸çš„ä»£ç å…¥æ‰‹ï¼Œè§£é‡Šç¬¦å·æ‰§è¡Œçš„æ ¸å¿ƒæ€è·¯ã€‚ â€‹ åˆ†æç›®æ ‡ï¼šå¯¹äºä»»æ„å¯èƒ½çš„è¾“å…¥ç»„åˆ(a,b)ï¼Œæ‰¾åˆ°ä½¿å¾—æ–­è¨€assertè¯­å¥å¤±è´¥çš„æ‰€æœ‰è¾“å…¥ã€‚","text":"Symbolic Executionï¼šä»æ€ç»´ä¸Šç†è§£ç¬¦å·æ‰§è¡Œ â€‹ ç¬¦å·æ‰§è¡Œä½œä¸ºè½¯ä»¶åˆ†æã€æ¼æ´å‘æ˜é¢†åŸŸç»å¸¸å‡ºç°çš„æŠ€æœ¯ï¼Œå›½å†…å·²ç»æœ‰ä¸å°‘æ–‡ç« æ€»ç»“è®¨è®ºã€‚ä½†æ–°æ‰‹ç›´æ¥ç¿»é˜…å­¦ä¹ è¿™äº›æ€»ç»“æ€§è´¨çš„æ–‡ç« æ—¶ç¢°åˆ°çš„è¯¸å¦‚â€œç¬¦å·è·¯å¾„çº¦æŸâ€ã€â€œçº¦æŸæ±‚è§£â€ã€â€œæ‰§è¡ŒçŠ¶æ€â€ç­‰ä¸“æœ‰åè¯ä¼šéš¾ä»¥ç†è§£ï¼Œæ€ç»´é€»è¾‘ä¸ç†è®ºæ¦‚å¿µä¸æ˜“åŒè½¨ã€‚æœ¬æ–‡ä»å›½å¤–çš„ä¸€äº›çƒ­é—¨æ•™ç¨‹å…¥æ‰‹ï¼Œ å°†ç¬¦å·æ‰§è¡Œä»æ€ç»´ä¸Šæ‹ä¸€éï¼Œ è¯ æ‰æœ«å­¦ï¼Œä»…åšæŠ›ç –å¼•ç‰ä¹‹ç”¨ã€‚ 1. å¼•å­ï¼š 1.0 ä¸€ä¸ªæ ·ä¾‹ â€‹ ä»ä¸€æ®µç»å…¸çš„ä»£ç å…¥æ‰‹ï¼Œè§£é‡Šç¬¦å·æ‰§è¡Œçš„æ ¸å¿ƒæ€è·¯ã€‚ â€‹ åˆ†æç›®æ ‡ï¼šå¯¹äºä»»æ„å¯èƒ½çš„è¾“å…¥ç»„åˆ(a,b)ï¼Œæ‰¾åˆ°ä½¿å¾—æ–­è¨€assertè¯­å¥å¤±è´¥çš„æ‰€æœ‰è¾“å…¥ã€‚ â€‹ å¯¹äºä»¥ä¸Šå‡½æ•°ï¼Œå¦‚æœä½¿ç”¨éšæœºæµ‹è¯•çš„æ–¹æ³•ï¼Œå…±æœ‰232Ã—232ç§è¾“å…¥ç»„åˆï¼Œæƒ³è¦æ‰¾åˆ°æ‰€æœ‰çš„ç¬¦åˆæ¡ä»¶çš„è¾“å…¥å°±å¾—éå†æ‰€æœ‰è¾“å…¥ï¼Œæ˜¾ç„¶ï¼Œè¿™ä¹ˆåšæ•ˆç‡ä½ä¸‹ï¼Œè´¹æ—¶è´¹åŠ›ã€‚ â€‹ ç¬¦å·æ‰§è¡Œçš„æ ¸å¿ƒæ€æƒ³æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š æ¯ä¸€ä¸ªè¾“å…¥å˜é‡éƒ½è¢«æ˜ å°„ä¸ºäº†ä¸€ä¸ªç¬¦å·ï¼Œä¾‹å¦‚int i â€”â€”&gt; Î±i ï¼› æ¯ä¸€ä¸ªç¬¦å·ä»£è¡¨æ‰€æœ‰å¯èƒ½çš„è¾“å…¥å€¼çš„é›†åˆï¼Œä¾‹å¦‚ Î±i âˆˆ[0ï¼Œ232-1] ï¼› ç¨‹åºä¸­çš„è¯­å¥éƒ½ç”±ç¬¦å·æ¥å®Œæˆè¿ç®—ï¼Œä¾‹å¦‚i*2 + 5 â€”â€”&gt; 2Â· Î±i + 5 ï¼› â€‹ å¦‚æœé‡åˆ°äº†åˆ†æ”¯æ¡ä»¶ï¼Œéœ€è¦è€ƒè™‘æ¯ä¸€ä¸ªåˆ†æ”¯ä¸‹å¯èƒ½æ‰§è¡Œçš„è·¯å¾„ï¼š â€‹ åœ¨å¼€å§‹ç¬¬ä¸€æ¬¡ç¬¦å·æ‰§è¡Œæ¼”ç»ƒä¹‹å‰ï¼Œè¿™é‡Œå®šä¹‰æ‰§è¡ŒçŠ¶æ€ï¼ˆExecution stateï¼‰çš„æ¦‚å¿µï¼š \\[ Execution\\enspace state=\\{stmt,\\sigma,\\pi\\} \\] stmtæ˜¯å½“å‰çŠ¶æ€çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼› Ïƒæ˜¯å°†ç¨‹åºå˜é‡æ˜ å°„åˆ°ç¬¦å·æˆ–è€…å¸¸æ•°çš„æ˜ å°„ï¼Œå¦‚æœå˜é‡çš„å€¼ä¸ç¡®å®šå°±æ˜¯æ˜ å°„åˆ°ç¬¦å·ï¼Œåä¹‹æ˜ å°„åˆ°å¸¸é‡ï¼› Ï€è¡¨ç¤ºè·¯å¾„ä¸Šçš„é™åˆ¶ï¼Œå³åˆ°è¾¾å½“å‰çŠ¶æ€éœ€è¦ä»€ä¹ˆé™åˆ¶æ¡ä»¶ã€‚ä¾‹å¦‚å¯¹äºä¸Šè¿°å‡½æ•°ï¼Œåªæœ‰a^(!b)æ‰èƒ½åˆ°è¾¾ç¬¬6è¡Œï¼Œæ‰€ä»¥è‹¥ç¨‹åºåœ¨ç¬¬6è¡Œçš„Ï€ = \\((\\alpha_a \\neq 0 )\\and (\\alpha_b = 0)\\)ï¼ŒÏ€çš„åˆå§‹å€¼ä¸ºtrueã€‚ â€‹ å¦‚æœä½¿ç”¨ç¬¦å·æ‰§è¡Œæ¥åˆ†æä¸Šè¿°å‡½æ•°ï¼Œåœ¨ç¨‹åºçš„å¼€å¤´ï¼Œä¼šå¾—åˆ°ç¬¬ä¸€ä¸ªæ‰§è¡ŒçŠ¶æ€ã€‚æ ¹æ®ä¸Šè¿°å®šä¹‰ï¼Œå…¶stmtæ˜¯å®ƒçš„ä¸‹ä¸ªå¾…åˆ†æçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ç¨‹åºçš„ç¬¬äºŒè¡Œï¼šâ€œint x = 1, y = 0;â€ï¼›å…¶Ïƒä¼šå°†ç¬¬ä¸€è¡Œå¼•å…¥çš„å˜é‡a,bæ˜ å°„åˆ°ç¬¦å·ï¼Œç”±äºa,bæ˜¯è¾“å…¥ï¼Œéƒ½ä¸æ˜¯å¸¸é‡ï¼Œæ•…å¯ä»¥å¾—åˆ°ï¼š\\(\\sigma=\\{a\\rightarrow \\alpha_a, b\\rightarrow \\alpha_b\\}\\)ï¼›1å¼€å§‹å¹¶æ²¡æœ‰é‡åˆ°æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œæ•…Ï€ä¸ºåˆå§‹å€¼trueã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â€‹ å½“çŠ¶æ€Aæ¥ç€æ‰§è¡Œï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªæ•´å‹å£°æ˜è¯­å¥ï¼Œå…¶æ·»åŠ äº†ä¸¤ä¸ªæ–°å˜é‡xï¼Œyå¹¶èµ‹åˆå§‹å€¼ã€‚æ•…ä»çŠ¶æ€Aåˆ°çŠ¶æ€Bå…¶Ïƒæ·»åŠ äº†æ–°çš„æ˜ å°„ï¼Œstmtå˜ä¸ºä¸‹ä¸€æ¡å¾…æ‰§è¡Œè¯­å¥ï¼ŒÏ€ä¸å˜ï¼š â€‹ ä»çŠ¶æ€Bçš„stmtè¡¨æ˜æ¥ä¸‹æ¥çš„åˆ†æé‡åˆ°äº†æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œå¯¹äºifè¯­å¥çš„ä¸¤ç§å¯èƒ½ï¼Œè¡ç”Ÿå‡ºä¸¤ä¸ªæ‰§è¡ŒçŠ¶æ€ï¼š â€‹ å½“çŠ¶æ€Dç»§ç»­æ‰§è¡Œå°±é‡åˆ°äº†assertæ–­è¨€è¯­å¥ï¼Œåœ¨æ–­è¨€å¤„æˆ‘ä»¬åˆ¤æ–­å½“å‰çš„æ¡ä»¶ï¼ˆÏƒã€Ï€ï¼‰ä¸‹æ˜¯å¦æ»¡è¶³æ–­è¨€æ¡ä»¶ï¼š â€‹ å¦‚å›¾æ‰€ç¤ºï¼Œåœ¨x = 1ï¼Œy = 0ï¼Œä¸”Î±a = 0çš„æ¡ä»¶ä¸‹ï¼Œx-y â‰  0 ï¼Œæ–­è¨€å¹¶æœªè§¦å‘ï¼Œæ­¤æ¡åˆ†æ”¯æ‰§è¡Œç»“æŸã€‚ â€‹ å½“CçŠ¶æ€ç»§ç»­æ‰§è¡Œï¼Œé‡åˆ°äº†y = 3 + xèµ‹å€¼è¯­å¥ï¼Œè¿™æ—¶å°±è¦æ”¹å˜Ïƒä¸­çš„æ˜ å°„å…³ç³»ï¼š â€‹ çŠ¶æ€Eç»§ç»­æ‰§è¡Œï¼Œé‡åˆ°æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ŒåŒç†ï¼Œç”Ÿæˆä¸¤ä¸ªåˆ†æ”¯ï¼š â€‹ çŠ¶æ€Gè¿›è¡Œé€»è¾‘åˆ¤æ–­ï¼Œå¹¶æœªè§¦å‘ï¼š â€‹ çŠ¶æ€Fç»§ç»­æ‰§è¡Œï¼Œè¿›è¡Œåˆ¤æ–­ï¼Œè§¦å‘é”™è¯¯æ¡ä»¶ï¼š â€‹ åˆ°æ­¤ä¸ºæ­¢ï¼Œæ‰€æœ‰åˆ†æ”¯æ‰§è¡Œå®Œæ¯•ï¼Œç¬¦å·æ‰§è¡Œåˆ¤æ–­å‡ºå½“a=2ä¸”b=0æ—¶ï¼Œæ–­è¨€è¯­å¥ä¼šè¢«è§¦å‘ã€‚å¦‚æœæˆ‘ä»¬çš„æµ‹è¯•ç›®æ ‡ä»è§¦å‘æ–­è¨€è¯­å¥æ”¹ä¸ºè§¦å‘æ¼æ´è¡Œä¸ºï¼Œç¬¦å·æµ‹è¯•å°±æ˜¯è¿›è¡Œæ¼æ´çš„æ’æŸ¥ã€‚ 1.1 æœºå™¨å¦‚ä½•åˆ¤æ–­ï¼Ÿ â€‹ ä¸Šæ–‡æ‰€è¿°çš„ä¾‹å­æè¿°äº†ç¬¦å·æ‰§è¡Œçš„åŸºæœ¬é€»è¾‘ï¼šç”¨ç¬¦å·ä»£æ›¿å˜é‡ï¼Œåˆ¤æ–­æœ€ç»ˆç”Ÿæˆçš„å¸ƒå°”è¡¨è¾¾å¼æ˜¯å¦å¯æ»¡è¶³ã€‚åœ¨ä¸Šæ–‡ä¸­ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥è½»æ¾åœ°ç”¨å¤§è„‘åˆ†æå‡ºåªè¦è¾“å…¥a = 2ä¸”b = 0ï¼Œæ–­è¨€å°±ä¼šè¢«è§¦å‘ã€‚ä½†åœ¨é¢å¯¹å¤æ‚ä¸”åºå¤§çš„é€»è¾‘è¡¨è¾¾å¼æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½æ¯æ¬¡éƒ½å»äººå·¥åˆ†æï¼Œæƒ³è¦å®Œæ•´çš„åˆ©ç”¨è®¡ç®—æœºå®ç°ç¬¦å·æ‰§è¡Œï¼Œå°±éœ€è¦è§£å†³è‡ªåŠ¨åŒ–åˆ¤æ–­é€»è¾‘è¡¨è¾¾å¼æ˜¯å¦å¯æ»¡è¶³çš„é—®é¢˜ã€‚ â€‹ SATï¼Œå¸ƒå°”å¯æ»¡è¶³æ€§é—®é¢˜ï¼Œå®ƒè¯¢é—®ç»™å®šå¸ƒå°”å…¬å¼çš„å˜é‡æ˜¯å¦å¯ä»¥ç”¨å€¼TRUEæˆ–FALSEä¸€è‡´åœ°æ›¿æ¢ï¼Œä»¥ä½¿è¯¥å…¬å¼çš„å€¼ä¸ºTRUEã€‚ä¾‹å¦‚$a\\and b $å°±æ˜¯å¯æ»¡è¶³çš„ï¼Œè€Œ \\(a \\and !a\\) å°±æ˜¯ä¸å¯æ»¡è¶³çš„ã€‚SATåœ¨ç†è®ºä¸Šå·²ç»è¢«è¯æ˜æ˜¯NPé—®é¢˜ï¼Œè™½ç„¶å¯ä»¥å¿«é€ŸéªŒè¯è¿™ä¸ªé—®é¢˜çš„è§£ï¼Œä½†ä¸èƒ½ç¡®å®šå…¶æ±‚è§£é€Ÿåº¦ã€‚ç›®å‰å·²ç»æœ‰å¾ˆå¤šæˆç†Ÿçš„SATç®—æ³•ã€‚ â€‹ SMTå°†SATå®ä¾‹ä¸­çš„ä¸€äº›äºŒè¿›åˆ¶å˜é‡ï¼ˆTrue or Falseï¼‰æ›¿æ¢ä¸ºéäºŒè¿›åˆ¶å˜é‡ï¼ŒéäºŒè¿›åˆ¶å˜é‡åŒ…æ‹¬çº¿æ€§ä¸ç­‰å¼ï¼ˆx+2y &gt; 4ï¼‰ã€ç¬¦å·ç­‰å¼ï¼ˆ\\(f(f(u,v),v) = f(u,v)\\)ï¼‰ã€‚SMTçš„èƒŒæ™¯ç¬¦åˆç¬¦å·æ‰§è¡Œæ‰€é¢ä¸´çš„çš„é—®é¢˜ï¼Œåˆ©ç”¨å·²æœ‰çš„SMTè§£æ³•å°±å¯ä»¥è§£å†³ä¸Šè¿°çš„é€»è¾‘è¡¨è¾¾å¼è‡ªåŠ¨åŒ–åˆ¤æ–­é—®é¢˜ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å°†ç¬¦å·æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ç³»åˆ—é™åˆ¶æ¡ä»¶ç§°ä¸ºçº¦æŸï¼ˆconstraintï¼‰ï¼Œè€Œä½¿ç”¨SMTå¯¹è¯¥çº¦æŸè¿›è¡Œæ±‚è§£çš„è¿‡ç¨‹å°±å«çº¦æŸæ±‚è§£ã€‚ â€‹ ä½¿ç”¨ç¬¦å·æ‰§è¡Œä¸å¹¶ä¸€å®šè¦å…·ä½“çš„ç†è§£SMTçš„æŠ€æœ¯ç»†èŠ‚ï¼Œä½†å…¶é€»è¾‘å¤§ä½“å¦‚ä¸‹ï¼š â€‹ å¯¹äºSMTè¿™ç±»NPå®Œå…¨é—®é¢˜ï¼Œåœ¨æŒ‡å®šæ—¶é—´å†…SMTæ±‚è§£å™¨ä¼šç»™å‡ºæ˜¯å¦æ»¡è¶³çš„ç»“æœï¼Œè‹¥è¶…å‡ºæ—¶é—´åˆ™ç»™å‡ºâ€œä¸çŸ¥é“â€ã€‚ â€‹ ç»¼ä¸Šï¼Œåœ¨ä½¿ç”¨å‰æ–‡å®šä¹‰çš„ç¬¦å·æ‰§è¡Œæµç¨‹åˆ†æåï¼Œé…åˆSMT Sloverå³å¯è¿›è¡Œå®Œæ•´çš„ç¬¦å·æ‰§è¡Œåˆ†æã€‚ 1.2 å¦‚ä½•è¯æ˜æ²¡æœ‰å…¶å®ƒæ ·ä¾‹ï¼Ÿ â€‹ å¦‚ä½•è¯æ˜æˆ‘ä»¬æ‰¾åˆ°çš„\"a=2ä¸”b=0\"å°±æ˜¯æ‰€æœ‰çš„æ»¡è¶³æ¡ä»¶çš„è¾“å…¥äº†ï¼Ÿ â€‹ ä»ç†è®ºä¸Šæ¥è¯´ï¼Œç¬¦å·æ‰§è¡Œéå†æ‰§è¡Œäº†ç¨‹åºæ‰€æœ‰å¯èƒ½çš„æ¡ä»¶åˆ†æ”¯ï¼Œåˆ†æäº†æ‰€æœ‰å¯èƒ½è·¯å¾„ä¸‹çš„SMTé—®é¢˜ï¼Œä»¥æ­¤å¾—å‡ºçš„ç»“æœå¿…ç„¶æ˜¯å®Œæ•´çš„ï¼Œæ²¡æœ‰å…¶å®ƒç‰¹ä¾‹çš„ã€‚ä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå­˜åœ¨ä¸€äº›å¾ˆéš¾è¢«è§£å†³çš„é™åˆ¶ï¼Œæ‰§è¡Œç”Ÿæˆçš„è·¯å¾„å¯èƒ½ç‰¹åˆ«å¤šï¼Œå¹¶ä¸”å½±å“ç¨‹åºæ‰§è¡Œè·¯å¾„çš„å› ç´ ä¸å†æ˜¯aï¼Œbå‡ ä¸ªå˜é‡è¿™ä¹ˆç®€å•ï¼Œè¿™äº›å› ç´ å¯¼è‡´äº†åœ¨å®é™…çš„ç¬¦å·æ‰§è¡Œä¸­ä¸ä¾¿äºåšç†è®ºå®Œæ•´çš„è¯„ä¼°ã€‚ 2. è¿›ä¸€æ­¥æ·±å…¥ 2.1 memory model â€‹ çœ‹çœ‹å¦‚ä¸‹ä»£ç ï¼š â€‹ å½“ä»£ç ä¸­æ¶‰åŠåˆ°å¯¹å†…å­˜çš„æ“ä½œæ—¶ï¼Œåˆå¦‚ä½•è®¾è®¡ç›¸åº”ç¬¦å·å‘¢ï¼Ÿäº‹å®ä¸Šæˆ‘ä»¬å°†æ•´ä¸ªå†…å­˜çœ‹æˆä¸€ä¸ªå¤§æ•°ç»„MEM[]ï¼Œå¯¹å†…å­˜çš„æ“ä½œä¸è¿‡æ˜¯å¯¹æ•°ç»„çš„æ“ä½œï¼š â€‹ è¿™é‡Œçš„y1ä¸yä¸å®Œå…¨ç›¸åŒï¼Œyä»£è¡¨åœ°å€ï¼Œy1ä»£è¡¨MEMæ•°ç»„ä¸­çš„ä½ç½®ã€‚åœ¨Cè¯­è¨€ä¸­ï¼Œy = x + 10å…¶å®æ˜¯yæŒ‡é’ˆå¾€åç§»åŠ¨äº†10ä¸ªxæŒ‡é’ˆç±»å‹çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯y1 = x1 + 10*sizeof(int)ã€‚è€Œå¯¹äºmallocå‡½æ•°ï¼Œå¯ä»¥å°†å…¶ç®€å•çœ‹åšè¿”å›æœªä½¿ç”¨ç©ºé—´èµ·å§‹åœ°å€çš„å‡½æ•°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æŠ½è±¡ï¼š â€‹ å½“å°†å †å†…å­˜æŠ½è±¡ä¸ºæ•°ç»„æ“ä½œæ—¶ï¼Œç°æœ‰SMTæ±‚è§£å™¨æ”¯æŒåŸºäºæ•°ç»„çš„é€»è¾‘æ“ä½œï¼ˆTheory of arraysï¼‰ã€‚å¯¹æ•°ç»„çš„æ“ä½œå¯ä»¥æŠ½è±¡ä¸ºï¼š \\[ \\begin{equation} a\\{i\\rightarrow e\\}[k] = \\left\\{ \\begin{array}{cl} a[k] &amp; if &amp; k \\neq i \\\\ e &amp; if &amp; k = i \\end{array} \\right \\\\ \\end{equation} \\] â€‹ ç»è¿‡ä¸€ç³»åˆ—çš„æ•°ç»„æ“ä½œï¼š \\[ a\\{i\\rightarrow 5\\}\\{j\\rightarrow 7\\}Â·Â·Â·[k] = 5 \\Leftrightarrow Â·Â·Â· \\] â€‹ SMTå¼•æ“ä¼šå°†æ•°ç»„æ“ä½œè½¬åŒ–ä¸ºå¯¹åº”çš„å¸ƒå°”æ“ä½œï¼Œè¿›è€Œè¿›è¡Œæ±‚è§£ã€‚å½“ç„¶ï¼Œè¿™ä¸ªå‡½æ•°ä¸Cè¯­è¨€ä¸­mallocå…·ä½“å®ç°å¾ˆä¸ä¸€æ ·ï¼Œå…¶å¿½ç•¥äº†å¾ˆå¤šç»†èŠ‚ï¼Œä¾‹å¦‚å¯¹å½“å‰åˆ†é…ç©ºé—´æ˜¯å¦ä½¿ç”¨çš„æ£€æŸ¥ã€‚ä½†ç»è¿‡è¿™æ ·ç®€å•çš„æŠ½è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸Šè¿°çš„æ€è·¯è¿›è¡Œç¬¦å·æ‰§è¡Œçš„åˆ¤æ–­ã€‚ â€‹ memory modelï¼Œç¿»è¯‘ä¸ºâ€œå†…å­˜å»ºæ¨¡â€ï¼Œä»ä»¥ä¸Šçš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé¢å¯¹å¤æ‚çš„æ•°æ®ç»“æ„ã€å‡½æ•°æ“ä½œç”šè‡³æ˜¯é™Œç”Ÿçš„ç¬¬ä¸‰æ–¹åº“ï¼Œåœ¨ä½¿ç”¨ç¬¦å·æ‰§è¡Œå‰éœ€è¦å¯¹å…¶è¿›è¡Œåˆé€‚çš„æŠ½è±¡å»ºæ¨¡ã€‚ç›®å‰å·²ç»æœ‰è®¸å¤šç ”ç©¶æˆæœé’ˆå¯¹Cè¯­è¨€çš„ç¬¬ä¸‰æ–¹åº“å»ºæ¨¡ã€‚å»ºæ¨¡çš„å¥½åä¹Ÿç›´æ¥å½±å“ç¬¦å·æ‰§è¡Œçš„æ€§èƒ½ä¸æ•ˆç‡ï¼Œä¾‹å¦‚å¯¹äºä¸Šè¿°çš„mallocï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…æƒ³æ£€æµ‹æœ€ç®€å•çš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼Œè€ƒè™‘mallocå¤æ‚çš„å †åˆ†é…æœºåˆ¶å°±æ˜¯å¤šä½™çš„ã€‚ 2.2 path explosion â€‹ æŠ›å¼€ä¸Šè¿°ä¸¾ä¾‹çš„toy codeï¼Œç°å®ä¸­éœ€è¦æ£€æµ‹çš„å•†ä¸šè½¯ä»¶ä¸€èˆ¬éƒ½æœ‰æˆåƒä¸Šä¸‡è¡Œä»£ç ï¼Œå…¶ç»“æ„åŒ…å«å¤§é‡åˆ†æ”¯ã€å¾ªç¯ã€å†…å­˜æ“ä½œç­‰ç­‰ï¼Œå¦‚æœè¿˜æŒ‰ç…§ä¸Šæ–‡çš„æ€è·¯è¿›è¡Œæ‰§è¡Œï¼Œä¸ä»…ä¼šå¯¼è‡´æœç´¢æ—¶é—´çš„è¿‡é•¿ï¼Œè¿˜ä¼šä½¿æœ€ç»ˆçš„æ‰§è¡ŒçŠ¶æ€è¿‡å¤§ã€‚ â€‹ åœ¨è®¾è®¡ç¬¦å·æ—¶ï¼Œå°±åº”è¯¥é¿å…å¼•å…¥æ— å…³/ä½œç”¨ä¸å¤§çš„ç¬¦å·ï¼Œé¿å…çŠ¶æ€è¿‡å¤§ã€‚ä¸”åœ¨è·¯å¾„æœç´¢æ—¶å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆã€éšæœºè·¯å¾„ã€å¹¿åº¦ä¼˜å…ˆã€é”™è¯¯è·¯è·¯å¾„ä¼˜å…ˆç­‰ç®—æ³•ä¼˜åŒ–æœç´¢æ–¹æ³•ï¼Œä»¥æ±‚è¾¾åˆ°å¹¿åº¦ä¸æ·±åº¦çš„å¹³è¡¡ã€‚ï¼ˆåˆæ˜¯ç»å…¸çš„exploration and exploitationé—®é¢˜ï¼‰ â€‹ å…·ä½“çš„è¿›ä¸€æ­¥æ·±å…¥å¯ä»¥æŸ¥çœ‹ï¼šBaldoni R, Coppa E, Dâ€™elia D C, et al. A survey of symbolic execution techniques[J]. ACM Computing Surveys (CSUR), 2018, 51(3): 1-39. 3. å®è·µä¸€ä¸‹ â€‹ å¯¹äºæºä»£ç åˆ†æï¼ŒKLEE[4]æ˜¯å¾ˆä¸ªå¾ˆæ£’çš„æ¡†æ¶å·¥å…·ï¼›å¯¹äºäºŒè¿›åˆ¶åˆ†æï¼ŒS2E[5]æ˜¯ä¸ªéå¸¸å¼ºæœ‰åŠ›å·¥å…·ï¼Œä½†ä½¿ç”¨ç¨æ˜¾å¤æ‚ã€‚ â€‹ è¿™é‡Œä½¿ç”¨angrï¼Œangr[6]æ˜¯ä¸€ä¸ªåˆ†æäºŒè¿›åˆ¶çš„pythonæ¡†æ¶ï¼Œä½¿ç”¨éå¸¸ä¾¿æ·ã€‚ ç›®æ ‡1ï¼šä½¿ç”¨angrç¬¦å·æ‰§è¡Œåˆ†ææœ¬æ–‡ä¸¾å‡ºçš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œfollbar()çš„äºŒè¿›åˆ¶æ–‡ä»¶. ç›®æ ‡2ï¼šä½¿ç”¨angrç¬¦å·æ‰§è¡Œåˆ†ælogic-bombäºŒè¿›åˆ¶ç¨‹åº. â€‹ å®‰è£…ç›¸åº”è™šæ‹Ÿç¯å¢ƒï¼š #å®‰è£…pythonè™šæ‹Ÿç¯å¢ƒ sudo pip3 install virtualenvwrapper #åˆ›å»ºç›®å½•ç”¨æ¥å­˜æ”¾è™šæ‹Ÿç¯å¢ƒ mkdir $HOME/.virtualenvs #åœ¨~/.bashrcä¸­,æœ€åæ·»åŠ  export WORKON_HOME=$HOME/.virtualenvs VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3 source /usr/local/bin/virtualenvwrapper.sh #åˆ›å»ºä¸€ä¸ªåä¸ºangrçš„è™šæ‹Ÿç¯å¢ƒ mkvirtualenv angr #è¿›å…¥è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…angr workon angr pip3 install angr 3.1 foolbar â€‹ ä½¿ç”¨idafree-7.0æ‰“å¼€slide-example/exampleæ–‡ä»¶ï¼Œæ‰¾åˆ°foolbarå‡½æ•°ï¼š â€‹ æ‰“å¼€è¡Œå‰ç¼€é€‰é¡¹ï¼šOptionsâ€“&gt;Generalâ€“&gt;Disassemblyâ€“&gt;Line prefixes(graph)ï¼Œå¯ä»¥æ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤åœ°å€ï¼š â€‹ æƒ³è¦ä½¿ç”¨angråˆ†æå‡½æ•°ï¼Œéœ€è¦ç»™å®šå…¶ï¼š start targetï¼šä»£ç å¼€å§‹è¿è¡Œåœ°å€ï¼› find targetï¼šä»£ç ç»“æŸè¿è¡Œåœ°å€ï¼› avoid targetsï¼šå“ªäº›è·¯å¾„ï¼ˆåœ°å€ï¼‰è¢«å¿½ç•¥ï¼Œä»¥æ­¤æ¥é¿å…è·¯å¾„çˆ†ç‚¸é—®é¢˜ï¼› â€‹ ç”±äºangrä¸çŸ¥é“ä»€ä¹ˆæ˜¯ç¬¦å·ä»€ä¹ˆæ˜¯å¸¸æ•°ï¼Œåç»­è¿˜éœ€è¦å®šä¹‰è¾“å…¥çš„ç¬¦å·ã€‚angråˆ†æè„šæœ¬å¦‚ä¸‹ï¼š import angr proj = angr.Project('example') # customize XXX, YYY, and ZZZ!!! start = XXX # addr of foobar avoid = [YYY] # point(s) that are not interesting (e.g., early exits) end = ZZZ # point that I want to reach # blank_state since exploration should start from an arbitrary point # otherwise, use entry_state() state = proj.factory.blank_state(addr=start) # arguments are inside registers in x86_64 a = state.regs.edi b = state.regs.esi sm = proj.factory.simulation_manager(state) while len(sm.active) > 0: print(sm) # get a feeling of what is happening sm.explore(avoid=avoid, find=end, n=1) if len(sm.found) > 0: # Bazinga! print(\"\\nReached the target\\n\") state = sm.found[0] print(\"%edi = \" + str(state.solver.eval_upto(a, 10))) print(\"%esi = \" + str(state.solver.eval_upto(b, 10))) break â€‹ ä»£ç æ•´ä½“å¾ˆç®€æ´ï¼Œangr.Projectæ„å»ºProjectç±»ï¼ŒProjectç±»æ˜¯angræ¨¡å—çš„ä¸»ç±»ï¼Œå®ƒå¯¹ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œåˆå§‹çš„åˆ†æä»¥åŠå‚æ•°é…ç½®ï¼Œå¹¶å°†æ•°æ®å­˜å‚¨èµ·æ¥è¿›è¡Œåç»­è¿›ä¸€æ­¥åˆ†æã€‚proj.factory.blank_state()æŒ‡å®šä»»æ„åœ°å€å¼€å§‹è¿è¡Œã€‚åœ¨Angrä¸­ï¼Œç¨‹åºæ¯æ‰§è¡Œä¸€æ­¥ï¼ˆä¹Ÿå°±æ˜¯stepï¼‰å°±ä¼šäº§ç”Ÿä¸€ä¸ªçŠ¶æ€ï¼ˆstateï¼Œåœ¨SMè¿™é‡Œå«åšstasheï¼‰,Simulation_Managerå°±æ˜¯æä¾›ç»™æˆ‘ä»¬ç®¡ç†è¿™äº›stateçš„æ¥å£ã€‚æ³¨æ„åˆ°ï¼Œç¬¦å·å˜é‡æ˜¯ä½¿ç”¨å¯„å­˜å™¨è¿›è¡Œå­˜å‚¨çš„ã€‚ â€‹ è¿è¡Œè„šæœ¬ï¼š â€‹ å¯ä»¥çœ‹åˆ°ï¼Œè„šæœ¬ç¨‹åºåˆ†æå‡ºï¼Œå½“edi(a)=2æˆ–è€…2147483650ï¼Œesi(b)=0æ—¶ä¼šè§¦å‘æ–­è¨€ï¼Œè¿™é‡Œ2147483650æ˜¾ç„¶å°±æ˜¯æ•´æ•°æº¢å‡ºåçš„2ã€‚ä»¥æ­¤å¯è§ç¬¦å·æ‰§è¡Œçš„ç¨‹åºå®ç°éœ€è¦è€ƒè™‘åˆ°è®¡ç®—æœºæ•°å­—ä¸æ•°å­¦æ•°å­—çš„åŒºåˆ«ã€‚ 3.2 logic-bomb â€‹ logic-bombæ˜¯ä¸€ä¸ªæ²¡æœ‰æºç çš„äºŒè¿›åˆ¶ç¨‹åºï¼Œä½ éœ€è¦ä¾æ¬¡è¾“å…¥æ­£ç¡®ç­”æ¡ˆä»¥æ­¤é€ƒè¿‡çˆ†ç‚¸ï¼š â€‹ ç”¨IDAæ‰“å¼€ï¼š â€‹ å¯ä»¥çœ‹åˆ°ç¨‹åºä»ä¸»å‡½æ•°å¼€å§‹åˆ†åˆ«è°ƒç”¨phase_1()ã€phase_2()Â·Â·Â·Â·Â·Â·phase_6()ï¼Œè¿›å…¥phase_1()ï¼š â€‹ å¦‚æœä½ æ‡‚å¾—é€†å‘çš„çŸ¥è¯†ï¼Œå¯ä»¥å°è¯•äººå·¥åˆ†æå»è§£å¼€è¿™ä¸ªbombï¼Œä½†å¦‚æœä½¿ç”¨ç¬¦å·æ‰§è¡Œåˆ†æï¼Œåªéœ€è¦ç¡®å®šä½¿å…¶æˆåŠŸé€šè¿‡çš„åœ°å€å³å¯ï¼š â€‹ åˆ†æè„šæœ¬å¦‚ä¸‹ï¼š import angr import logging import claripy import pdb import resource import time proj = angr.Project('bomb') start = XXX avoid = [YYY] end = [ZZZ] state = proj.factory.blank_state(addr=start) # a symbolic input string with a length up to 128 bytes arg = state.se.BVS(\"input_string\", 8 * 128) # an ending byte arg_end = state.se.BVS(\"end_input_string\", 8) # add a constraint on this byte to force it to be '\\0' state.se.add(arg_end == 0x0) # the constraint is added to the state. # Another way to do same is with: # arg_end = state.se.BVV(0x0, 8) # in this case arg_end is a concrete value # concat arg and arg_end arg = state.se.Concat(arg, arg_end) # an address where to store my arg bind_addr = 0x603780 # bind the symbolic string at this address state.memory.store(bind_addr, arg) # phase_one reads the string [rdi] state.regs.rdi = bind_addr # make rsi concrete state.regs.rsi = 0x0 pg = proj.factory.simulation_manager(state) start_time = time.time() while len(pg.active) > 0: print(pg) # step 1 basic block for each active path pg.explore(avoid=avoid, find=end, n=1) # Bazinga! if len(pg.found) > 0: print() print(\"Reached the target\") print(pg) state = pg.found[0] sol = state.solver.eval(arg, cast_to=bytes).decode('ascii').split('\\0')[0] print(\"Solution: \" + sol) break print() print(\"Memory usage: \" + str(resource.getrusage(resource.RUSAGE_SELF).ru_maxrss / 1024) + \" MB\") print(\"Elapsed time: \" + str(time.time() - start_time)) â€‹ æ‰§è¡Œè„šæœ¬ï¼š â€‹ å¯ä»¥çœ‹åˆ°ï¼Œç¬¦å·æ‰§è¡Œä»…ç”¨40ç§’å°±æ‰¾åˆ°äº†phase1()çš„å£ä»¤ï¼šâ€œBorder relations with Canada have never been better.â€ â€‹ å¯¹äºphase_2()Â·Â·Â·Â·Â·Â·phase_6()ä½¿ç”¨åŒæ ·çš„æ–¹æ³•å³å¯ç ´è§£ï¼Œè¿™é‡Œç•¥ã€‚ â€‹ ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¦å·æ‰§è¡Œåœ¨é¢å¯¹å¤æ‚çš„äºŒè¿›åˆ¶æ–‡ä»¶æ—¶å“è¶Šçš„èƒ½åŠ›è¡¨ç°ï¼Œåœ¨logic-bombä¸­ï¼Œå…¶äºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ²¡æœ‰ç»è¿‡æ··æ·†å¤„ç†ï¼Œç›¸åº”çš„å‡½æ•°åï¼Œå®Œæ•´å­—ç¬¦ä¸²éƒ½å¯ä»¥ç»è¿‡IDAåˆ†æåç›´æ¥çœ‹åˆ°ï¼Œæ‰€ä»¥å¯¹logic-bombäººå·¥åˆ†æå…¶å®ä¹Ÿå¹¶ä¸å¤æ‚ã€‚ä½†åœ¨çœŸå®çš„è½¯ä»¶æµ‹è¯•ç¯å¢ƒé‡Œï¼Œå¤§é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶éƒ½æ˜¯ç»è¿‡æ··æ·†åŠ å£³å¤„ç†çš„ï¼Œäººå·¥åˆ†ææ— æ³•ç›´æ¥å®šä½å…³é”®å‡½æ•°çš„ä½œç”¨ï¼ˆlogic-bombç›´æ¥ç”¨å‡½æ•°åä½“ç°äº†å‡½æ•°çš„ä½œç”¨ï¼‰ï¼Œç”šè‡³å®šä½å‡½æ•°çš„è¿›å‡ºå£éƒ½å˜å¾—å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œè¿™æ—¶ç¬¦å·æ‰§è¡Œçš„ä¼˜è¶Šæ€§å°±æœ‰æ›´æ˜æ˜¾çš„ä½“ç°ã€‚ â€‹ å‚è€ƒï¼š [1] Symbolic Execution [2] symbolic-execution-tutorial/README.md at master Â· ercoppa/symbolic-execution-tutorial (github.com) [3] MIT 6.858 Computer Systems Security, Fall 2014â€”â€“10. Symbolic Execution [4] KLEE [5] Overview - SÂ²E: A Platform for In-Vivo Analysis of Software Systems (s2e.systems) [6] angr","categories":[{"name":"Project","slug":"Project","permalink":"http://example.com/categories/Project/"}],"tags":[{"name":"Symbolic Execution","slug":"Symbolic-Execution","permalink":"http://example.com/tags/Symbolic-Execution/"}],"author":"Shaw"},{"title":"(è®ºæ–‡å¤ç°)How Machine Learning Is Solving the Binary Function Similarity Problem","slug":"ã€è®ºæ–‡å¤ç°ã€‘How Machine Learning Is Solving the Binary Function Similarity Problem","date":"2023-02-12T02:04:09.593Z","updated":"2023-02-17T11:35:45.413Z","comments":true,"path":"2023/02/12/ã€è®ºæ–‡å¤ç°ã€‘How Machine Learning Is Solving the Binary Function Similarity Problem/","link":"","permalink":"http://example.com/2023/02/12/%E3%80%90%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0%E3%80%91How%20Machine%20Learning%20Is%20Solving%20the%20Binary%20Function%20Similarity%20Problem/","excerpt":"ã€è®ºæ–‡å¤ç°ã€‘How Machine Learning Is Solving the Binary Function Similarity Problem ä¸€ã€æ¨¡ç³Šå“ˆå¸Œï¼ˆFuzzy Hashingï¼‰ 1. Bytes fuzzy hashingâ€”â€”Catalog1 å‡ºå¤„ï¼š â€‹ 1. xorpd | FCatalog â€‹ 2. binary_function_similarity/Models/Catalog1 at main Â· Cisco-Talos/binary_function_similarity (github.com) \"FCatalog allows you to keep a database of all your named functions, and find similarities from this database efficiently.\" å‰ç½®çŸ¥è¯†ï¼š binary blobï¼šä¸€ä¸²bytesï¼› S(a)ï¼šå­—èŠ‚ä¸²açš„å››å­—æˆªå–é›†åˆï¼Œä¾‹å¦‚: \\[ \\mathbf{S(a)}= \\{123x,23xy,3xy1\\},a=123xy1 \\\\ \\mathbf{S(b)}= \\{1111\\},b=111111111 \\\\ \\] Jaccard Similarityï¼šè®¡ç®—ä¸¤ä¸ªé›†åˆç›¸ä¼¼æ€§ï¼š \\[ Jï¼ˆS(a),S(b)ï¼‰=\\frac {S(a)\\cap S(b)}{S(a)\\cup S(b)} \\] minhashï¼šæ–‡æœ¬ç›¸ä¼¼åº¦æ¯”è¾ƒç®—æ³•ï¼Œç”¨äºå¿«é€Ÿä¼°ç®—ä¸¤ä¸ªé›†åˆçš„ç›¸ä¼¼åº¦ã€‚ â€‹ Catalog1ç®—æ³•åˆ©ç”¨minhashï¼Œä½¿ç”¨å“ˆå¸Œè¿‘ä¼¼æ›¿ä»£ä¸¤ä¸ªSé›†åˆï¼Œä»¥æ­¤æ¥ä¼°ç®—å…¶Jaccardç³»æ•°ï¼Œä»è€Œè¾¾åˆ°é«˜æ•ˆç‡åœ°æ¯”è¾ƒä¸¤ä¸ªé›†åˆã€‚","text":"ã€è®ºæ–‡å¤ç°ã€‘How Machine Learning Is Solving the Binary Function Similarity Problem ä¸€ã€æ¨¡ç³Šå“ˆå¸Œï¼ˆFuzzy Hashingï¼‰ 1. Bytes fuzzy hashingâ€”â€”Catalog1 å‡ºå¤„ï¼š â€‹ 1. xorpd | FCatalog â€‹ 2. binary_function_similarity/Models/Catalog1 at main Â· Cisco-Talos/binary_function_similarity (github.com) \"FCatalog allows you to keep a database of all your named functions, and find similarities from this database efficiently.\" å‰ç½®çŸ¥è¯†ï¼š binary blobï¼šä¸€ä¸²bytesï¼› S(a)ï¼šå­—èŠ‚ä¸²açš„å››å­—æˆªå–é›†åˆï¼Œä¾‹å¦‚: \\[ \\mathbf{S(a)}= \\{123x,23xy,3xy1\\},a=123xy1 \\\\ \\mathbf{S(b)}= \\{1111\\},b=111111111 \\\\ \\] Jaccard Similarityï¼šè®¡ç®—ä¸¤ä¸ªé›†åˆç›¸ä¼¼æ€§ï¼š \\[ Jï¼ˆS(a),S(b)ï¼‰=\\frac {S(a)\\cap S(b)}{S(a)\\cup S(b)} \\] minhashï¼šæ–‡æœ¬ç›¸ä¼¼åº¦æ¯”è¾ƒç®—æ³•ï¼Œç”¨äºå¿«é€Ÿä¼°ç®—ä¸¤ä¸ªé›†åˆçš„ç›¸ä¼¼åº¦ã€‚ â€‹ Catalog1ç®—æ³•åˆ©ç”¨minhashï¼Œä½¿ç”¨å“ˆå¸Œè¿‘ä¼¼æ›¿ä»£ä¸¤ä¸ªSé›†åˆï¼Œä»¥æ­¤æ¥ä¼°ç®—å…¶Jaccardç³»æ•°ï¼Œä»è€Œè¾¾åˆ°é«˜æ•ˆç‡åœ°æ¯”è¾ƒä¸¤ä¸ªé›†åˆã€‚ ä»£ç ç»“æ„åˆ†æï¼š â€‹ Catalog1ç®—æ³•éœ€è¦å°†äºŒè¿›åˆ¶æ–‡ä»¶æˆªå–åˆ†å‰²åï¼Œç”±äºæ¯ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„é•¿åº¦ä¸å®šï¼Œæ•…å…¶åˆ†å‰²è®¡ç®—å‡ºçš„S(a)ä¹Ÿä¸å®šé•¿ã€‚ä¸ºäº†å¯¹æ¯ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶éƒ½å¾—åˆ°ä¸€ä¸ªå®šé•¿çš„ç‰¹å¾ç­¾åï¼Œå°±éœ€è¦å¯¹S(a)è¿›è¡Œç‰¹å¾æå–ã€‚ â€‹ ä½¿ç”¨å“ˆå¸Œå‡½æ•°å°†é›†åˆä¸­çš„æ¯ä¸ªDWORDæ˜ å°„åˆ°DWORDï¼Œè¿™é‡Œçš„å“ˆå¸Œé‡‡ç”¨ç±»ä¼¼å¯†ç å­¦ä¸­ç½®æ¢çš„æ–¹æ³•ï¼ˆpermutationï¼‰ï¼š #define WORD_SIZE 32 // 32 bits #define MAX_WORD 0xffffffff // Maximum size of a dword. #define BYTE_SIZE 8 // Amount of bits in a byte. #define NUM_ITERS 4 // Amount of iterations per permutation. // There are 128 RAND_DWORDS. Don't change the amount of random dwords here. unsigned int RAND_DWORDS[] = &#123;1445200656, 3877429363, 1060188777, 4260769784, 1438562000, 2836098482, 1986405151, 4230168452, 380326093, 2859127666, 1134102609, 788546250, 3705417527, 1779868252, 1958737986, 4046915967, 1614805928, 4160312724, 3682325739, 534901034, 2287240917, 2677201636, 71025852, 1171752314, 47956297, 2265969327, 2865804126, 1364027301, 2267528752, 1998395705, 576397983, 636085149, 3876141063, 1131266725, 3949079092, 1674557074, 2566739348, 3782985982, 2164386649, 550438955, 2491039847, 2409394861, 3757073140, 3509849961, 3972853470, 1377009785, 2164834118, 820549672, 2867309379, 1454756115, 94270429, 2974978638, 2915205038, 1887247447, 3641720023, 4292314015, 702694146, 1808155309, 95993403, 1529688311, 2883286160, 1410658736, 3225014055, 1903093988, 2049895643, 476880516, 3241604078, 3709326844, 2531992854, 265580822, 2920230147, 4294230868, 408106067, 3683123785, 1782150222, 3876124798, 3400886112, 1837386661, 664033147, 3948403539, 3572529266, 4084780068, 691101764, 1191456665, 3559651142, 709364116, 3999544719, 189208547, 3851247656, 69124994, 1685591380, 1312437435, 2316872331, 1466758250, 1979107610, 2611873442, 80372344, 1251839752, 2716578101, 176193185, 2142192370, 1179562050, 1290470544, 1957198791, 1435943450, 2989992875, 3703466909, 1302678442, 3343948619, 3762772165, 1438266632, 1761719790, 3668101852, 1283600006, 671544087, 1665876818, 3645433092, 3760380605, 3802664867, 1635015896, 1060356828, 1666255066, 2953295653, 2827859377, 386702151, 3372348076, 4248620909, 2259505262&#125;; // Amount of rand dwords - 1: #define NUM_DWORDS_MASK 0x7f unsigned int ror(unsigned int x, unsigned int i) &#123; // Rotate right a dword x by i bits. return (x >> i) | (x &lt;&lt; (WORD_SIZE - i)); &#125; unsigned int perm(unsigned int num, unsigned int x) &#123; // Permutation from dword to dword. // num is the permutation number. x is the input. unsigned int ror_index; for(unsigned int i=0; i&lt;NUM_ITERS; ++i) &#123; // Addition: x += RAND_DWORDS[(i + num + x) &amp; NUM_DWORDS_MASK]; // Rotation: ror_index = (x ^ RAND_DWORDS[(i + num + 1) &amp; NUM_DWORDS_MASK]) &amp; 0x1f; x = ror(x,ror_index); // Xor: x ^= RAND_DWORDS[(i + num + x) &amp; NUM_DWORDS_MASK]; // Rotation: ror_index = (x ^ RAND_DWORDS[(i + num + 1) &amp; NUM_DWORDS_MASK]) &amp; 0x1f; x = ror(x,ror_index); &#125; return x; &#125; â€‹ ç”±ä¸Šå¯çŸ¥ï¼Œperm(iï¼Œx)å°±æ˜¯ç¬¬iä¸ªå“ˆå¸Œå‡½æ•°hi(x)ã€‚è®¡ç®—å®Œkä¸ªå“ˆå¸Œå‡½æ•°åï¼Œæˆ‘ä»¬å¾—åˆ°äº†kä¸ªé›†åˆï¼š \\[ h_{1}(x),h_{2}(x),h_{3}(x)\\cdots h_{k}(x) \\] â€‹ ç„¶åæ¯ä¸ªé›†åˆä¸­æœ€å°çš„æ•°ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€éœ€çš„å®šé•¿ç‰¹å¾ï¼š \\[ sig(T) = \\{min_{t\\in T}h_{1}(T),min_{t\\in T}h_{2}(T),min_{t\\in T}h_{3}(T)\\cdots min_{t\\in T}h_{k}(T)\\} \\] â€‹ æ•…ç”¨\\(J(sig(A),sig(B))\\)ä»£æ›¿\\(J(A,B)\\)å³å¯å¤§å¤§ç®€åŒ–è®¡ç®—ï¼Œkçš„æ•°é‡å¯ä»¥è‡ªå·±é€‰å®šã€‚å¯¹äºå®Œæ•´çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä»¥ä¸‹ä»£ç å¯ä»¥ç”Ÿæˆå…¶å¯¹åº”ç‰¹å¾ï¼š int sign( unsigned char* data, unsigned int len, unsigned int *result, unsigned int num_perms) &#123; // Find entry number &lt;num> of the signature of data. // len is the length of the data. // The result is inside &lt;result>, as an array of dwords. // We need at least 4 bytes to generate a signature. // We return -1 (error) if we don't have at least 4 bytes. if(len &lt; 4) &#123; return -1; &#125; unsigned int y; // Current integer value of 4 consecutive bytes. unsigned int py; // Permutation over y. unsigned int min_py; // Minimum py ever found. for(unsigned int permi=0; permi&lt;num_perms; ++permi) &#123; // Initialize y to be the first dword from the data: y = (unsigned int)data[0] &lt;&lt; 24; y += ((unsigned int)data[1]) &lt;&lt; 16; y += ((unsigned int)data[2]) &lt;&lt; 8; y += (unsigned int)data[3]; // Calculate first permutation: py = perm(permi,y); min_py = py; for(unsigned int i=4; i&lt;len; ++i) &#123; y &lt;&lt;= 8; y += data[i]; py = perm(permi,y); if(min_py > py) &#123; min_py = py; &#125; &#125; // Save minimum perm value found to memory: result[permi] = min_py; &#125; // Everything went well. // Result should be stored at &lt;result> return 0; &#125; â€‹ â€‹ è¿è¡Œæµ‹è¯•ï¼š â€‹ Catalog1å…±åˆ†ä¸ºserverå’Œclientä¸¤éƒ¨åˆ†ï¼Œclientå®¢æˆ·ç«¯ä½œä¸ºIDAçš„ä¸€ä¸ªæ’ä»¶ï¼ŒserveræœåŠ¡å™¨å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„testfcatalog.xorpd.net:1337ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œæ­å»ºhttps://github.com/xorpd/fcatalog_serverã€‚ â€‹ ä¸ºäº†è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼Œè¿™é‡Œä½¿ç”¨Cè¯­è¨€ç¼–å†™catalogç›¸å…³è®¡ç®—æ“ä½œï¼Œé¦–å…ˆç¼–è¯‘catalog1 ï¼š â€‹ ã€æ›´æ–°ä¸­ã€‘","categories":[{"name":"Reproduce","slug":"Reproduce","permalink":"http://example.com/categories/Reproduce/"}],"tags":[{"name":"Binary","slug":"Binary","permalink":"http://example.com/tags/Binary/"},{"name":"ML","slug":"ML","permalink":"http://example.com/tags/ML/"}],"author":"Shaw"},{"title":"Comparing One with Many â€” Solving Binary2source Function Matching Under  Function Inlining","slug":"Comparing-One-with-Many-â€”-Solving-Binary2source-Function-Matching-Under-Function-Inlining","date":"2023-01-10T07:27:48.471Z","updated":"2023-02-16T11:58:32.219Z","comments":true,"path":"2023/01/10/Comparing-One-with-Many-â€”-Solving-Binary2source-Function-Matching-Under-Function-Inlining/","link":"","permalink":"http://example.com/2023/01/10/Comparing-One-with-Many-%E2%80%94-Solving-Binary2source-Function-Matching-Under-Function-Inlining/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Comparing One with Many â€” Solving Binary2source Function Matching Under Function Inlining ä¸€ã€ABSTRACT ä¸ºäº†åœ¨å‡½æ•°å†…è”ä¸‹æ–½è¡Œb2så‡½æ•°åŒ¹é…ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå«O2NMatcherçš„æ–¹æ³•ï¼Œé€šè¿‡å…¶ç”Ÿæˆçš„Source function Sets (SFSs)ä½œä¸ºåŒ¹é…ç»“æœã€‚ æˆ‘ä»¬é¦–å…ˆæå‡ºäº†ä¸€ä¸ªæ¨¡å‹EOOCJ48æ¥é¢„æµ‹å†…è”çš„ä½ç½®ï¼Œ ä¸ºäº†è®­ç»ƒè¿™ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬åˆ©ç”¨å¯ç¼–è¯‘çš„å¼€æºè½¯ä»¶ï¼ˆOpen Source Softwareï¼‰ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰æ ‡è®°çš„è°ƒç”¨ç‚¹ï¼ˆå†…è”æˆ–ä¸å†…è”ï¼‰çš„æ•°æ®é›†ï¼Œä»è°ƒç”¨ç‚¹ä¸­æå–å‡ ä¸ªç‰¹å¾ï¼Œå¹¶é€šè¿‡æ£€æŸ¥ä¸åŒç¼–è¯‘ä¹‹é—´çš„å†…è”ç›¸å…³æ€§æ¥è®¾è®¡ä¸€ä¸ªåŸºäºç¼–è¯‘å™¨-é€‰é¡¹çš„å¤šæ ‡ç­¾åˆ†ç±»å™¨ã€‚ ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ¨¡å‹æ¥é¢„æµ‹ä¸å¯ç¼–è¯‘çš„å¼€æºé¡¹ç›®ï¼Œå¾—åˆ°å¸¦æ ‡è®°çš„å‡½æ•°è°ƒç”¨å›¾ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†SFSsçš„æ„å»ºè§†ä¸ºä¸€ä¸ªå­æ ‘ç”Ÿæˆé—®é¢˜ï¼Œå¹¶è®¾è®¡æ ¹èŠ‚ç‚¹é€‰æ‹©å’Œè¾¹ç¼˜æ‰©å±•è§„åˆ™æ¥è‡ªåŠ¨æ„å»ºSFSsã€‚æœ€åï¼Œè¿™äº›SFSså°†è¢«æ·»åŠ åˆ°æºå‡½æ•°çš„è¯­æ–™åº“ä¸­ï¼Œå¹¶ä¸æœ‰å†…è”çš„äºŒè¿›åˆ¶å‡½æ•°è¿›è¡Œæ¯”è¾ƒã€‚ æˆ‘ä»¬å¯¹OSNMatcherè¿›è¡Œäº†ä¸€äº›å®éªŒæµ‹è¯•ï¼Œç»“æœè¡¨æ˜æˆ‘ä»¬çš„æ–¹æ³•è¶…è¿‡æ‰€æœ‰state-of-the-artï¼Œå°†ç»“æœæå‡äº†6%ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Comparing One with Many â€” Solving Binary2source Function Matching Under Function Inlining ä¸€ã€ABSTRACT ä¸ºäº†åœ¨å‡½æ•°å†…è”ä¸‹æ–½è¡Œb2så‡½æ•°åŒ¹é…ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå«O2NMatcherçš„æ–¹æ³•ï¼Œé€šè¿‡å…¶ç”Ÿæˆçš„Source function Sets (SFSs)ä½œä¸ºåŒ¹é…ç»“æœã€‚ æˆ‘ä»¬é¦–å…ˆæå‡ºäº†ä¸€ä¸ªæ¨¡å‹EOOCJ48æ¥é¢„æµ‹å†…è”çš„ä½ç½®ï¼Œ ä¸ºäº†è®­ç»ƒè¿™ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬åˆ©ç”¨å¯ç¼–è¯‘çš„å¼€æºè½¯ä»¶ï¼ˆOpen Source Softwareï¼‰ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰æ ‡è®°çš„è°ƒç”¨ç‚¹ï¼ˆå†…è”æˆ–ä¸å†…è”ï¼‰çš„æ•°æ®é›†ï¼Œä»è°ƒç”¨ç‚¹ä¸­æå–å‡ ä¸ªç‰¹å¾ï¼Œå¹¶é€šè¿‡æ£€æŸ¥ä¸åŒç¼–è¯‘ä¹‹é—´çš„å†…è”ç›¸å…³æ€§æ¥è®¾è®¡ä¸€ä¸ªåŸºäºç¼–è¯‘å™¨-é€‰é¡¹çš„å¤šæ ‡ç­¾åˆ†ç±»å™¨ã€‚ ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ¨¡å‹æ¥é¢„æµ‹ä¸å¯ç¼–è¯‘çš„å¼€æºé¡¹ç›®ï¼Œå¾—åˆ°å¸¦æ ‡è®°çš„å‡½æ•°è°ƒç”¨å›¾ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†SFSsçš„æ„å»ºè§†ä¸ºä¸€ä¸ªå­æ ‘ç”Ÿæˆé—®é¢˜ï¼Œå¹¶è®¾è®¡æ ¹èŠ‚ç‚¹é€‰æ‹©å’Œè¾¹ç¼˜æ‰©å±•è§„åˆ™æ¥è‡ªåŠ¨æ„å»ºSFSsã€‚æœ€åï¼Œè¿™äº›SFSså°†è¢«æ·»åŠ åˆ°æºå‡½æ•°çš„è¯­æ–™åº“ä¸­ï¼Œå¹¶ä¸æœ‰å†…è”çš„äºŒè¿›åˆ¶å‡½æ•°è¿›è¡Œæ¯”è¾ƒã€‚ æˆ‘ä»¬å¯¹OSNMatcherè¿›è¡Œäº†ä¸€äº›å®éªŒæµ‹è¯•ï¼Œç»“æœè¡¨æ˜æˆ‘ä»¬çš„æ–¹æ³•è¶…è¿‡æ‰€æœ‰state-of-the-artï¼Œå°†ç»“æœæå‡äº†6%ã€‚ äºŒã€èƒŒæ™¯çŸ¥è¯† Function inliningï¼šå‡½æ•°å†…è”ã€‚ä½¿ç”¨inlineå…³é”®å­—ï¼Œç¼–è¯‘å™¨å°†å‡½æ•°è°ƒç”¨è¯­å¥æ›¿æ¢ä¸ºå‡½æ•°ä»£ç æœ¬èº«ï¼ˆç§°ä¸ºæ‰©å±•çš„è¿‡ç¨‹ï¼‰ï¼Œç„¶åç¼–è¯‘æ•´ä¸ªä»£ç ã€‚å› æ­¤ï¼Œä½¿ç”¨å†…è”å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¸å¿…è·³è½¬åˆ°å¦ä¸€ä¸ªä½ç½®æ¥æ‰§è¡Œè¯¥å‡½æ•°ï¼Œç„¶åè·³å›ã€‚å› ä¸ºè¢«è°ƒç”¨å‡½æ•°çš„ä»£ç å·²ç»å¯ç”¨äºè°ƒç”¨ç¨‹åºã€‚ Inlining Decisions in Visual Studio - C++ Team Blog (microsoft.com) Binary2source function matchingï¼ŒäºŒè¿›åˆ¶åˆ°æºç å‡½æ•°åŒ¹é…ï¼š 1-to-1åŒ¹é…ï¼šä¸€ä¸ªäºŒè¿›åˆ¶å‡½æ•°ä¸ä¸€ä¸ªæºç å‡½æ•°åŒ¹é…ï¼› 1-to-nåŒ¹é…ï¼šç”±äºå†…è”å‡½æ•°çš„å­˜åœ¨ï¼Œä¸€ä¸ªäºŒè¿›åˆ¶å‡½æ•°åŒ¹é…å¤šä¸ªæºç å‡½æ•°ã€‚ Stripped binaryï¼šä¸å«è°ƒè¯•ç¬¦å·ä¿¡æ¯çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚ Multi-Label Classification (MLC) problemï¼šå¤šæ ‡ç­¾åˆ†ç±»ï¼Œä¸€ä¸ªæ ·æœ¬æœ‰å¤šä¸ªæ ‡ç­¾ã€‚ FCG ï¼šFunction Call Graphï¼Œå‡½æ•°è°ƒç”¨å›¾ã€‚åœ¨FCGå›¾ä¸­ï¼Œç‚¹æ˜¯å‡½æ•°ï¼Œè¾¹æ˜¯è°ƒç”¨å…³ç³»ã€‚ Jaccard similaritieï¼šåˆç§°ä¸ºJaccard indexï¼Œç”¨äºæ¯”è¾ƒæœ‰é™æ ·æœ¬é›†åˆä¹‹é—´çš„ç›¸ä¼¼æ€§å’Œå·®å¼‚æ€§ã€‚å…¶å€¼è¶Šå¤§è¯´æ˜ç›¸ä¼¼æ€§è¶Šé«˜ã€‚ Binary Relevanceï¼šæ ¸å¿ƒæ€æƒ³æ˜¯å°†å¤šæ ‡ç­¾åˆ†ç±»é—®é¢˜è¿›è¡Œåˆ†è§£ï¼Œå°†å…¶è½¬æ¢ä¸ºqä¸ªäºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œå…¶ä¸­æ¯ä¸ªäºŒå…ƒåˆ†ç±»å™¨å¯¹åº”ä¸€ä¸ªå¾…é¢„æµ‹çš„æ ‡ç­¾ã€‚ Classifier Chainsï¼šæ ¸å¿ƒæ€æƒ³æ˜¯å°†å¤šæ ‡ç­¾åˆ†ç±»é—®é¢˜è¿›è¡Œåˆ†è§£ï¼Œå°†å…¶è½¬æ¢æˆä¸ºä¸€ä¸ªäºŒå…ƒåˆ†ç±»å™¨é“¾çš„å½¢å¼ï¼Œå…¶ä¸­é“¾åçš„äºŒå…ƒåˆ†ç±»å™¨çš„æ„å»ºå¼åœ¨å‰é¢åˆ†ç±»å™¨é¢„æµ‹ç»“æœçš„åŸºç¡€ä¸Šçš„ã€‚åœ¨æ¨¡å‹æ„å»ºçš„æ—¶å€™ï¼Œé¦–å…ˆå°†æ ‡ç­¾é¡ºåºè¿›è¡Œshuffleæ‰“ä¹±æ’åºæ“ä½œï¼Œç„¶åæŒ‰ç…§ä»å¤´åˆ°å°¾åˆ†åˆ«æ„å»ºæ¯ä¸ªæ ‡ç­¾å¯¹åº”çš„æ¨¡å‹ã€‚ Ensemble Methodï¼šé›†æˆå­¦ä¹ ç®—æ³•ã€‚ ä¸‰ã€æå‡ºé—®é¢˜ B2SåŒ¹é…çš„ä½œç”¨ï¼š å½“å‰è½¯ä»¶å¼€å‘åŸºæœ¬éƒ½ä¼šä½¿ç”¨å…¬å…±å¼€æºåº“ä¸­çš„ä»£ç ï¼Œè¿™å°±é€ æˆä¸€ä¸ªé—®é¢˜ï¼Œè‹¥å…¬å…±å¼€æºé¡¹ç›®OSSä¸­å­˜åœ¨æ¼æ´ä¼šä¼ æ’­éå¸¸å¿«ï¼ˆä¾‹å¦‚ä¸€ä¸ªOpenSSLä¸­çš„æ¼æ´å°±å¯ä»¥é€ æˆäº’è”ç½‘ä¸Š17%webæœåŠ¡å­˜åœ¨æ¼æ´ï¼‰ã€‚ ç”±äºä»¥ä¸Šé—®é¢˜çš„å­˜åœ¨ï¼Œæ£€æµ‹è½¯ä»¶ä¸­å¯¹OSSçš„ä¾èµ–å°±å¾ˆé‡è¦ï¼ŒSoftware Component Analysis (SCA)å°±æ˜¯ç”¨æ¥æ£€æµ‹è½¯ä»¶å¯¹OSSçš„ä¾èµ–é—®é¢˜çš„ã€‚å½“å•†ä¸šè½¯ä»¶å…¬å¸å‘å¸ƒäº†è‡ªå·±çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºæ—¶ï¼ŒSCAæœåŠ¡å•†å°±ä¼šå°†æ­¤äºŒè¿›åˆ¶æ–‡ä»¶ä¸OSSæ–‡ä»¶ç›¸æ¯”è¾ƒï¼Œæ£€æµ‹å…¶åŒ…å«ä½¿ç”¨äº†å“ªäº›OSSæ–‡ä»¶ã€‚ binary2source function matchingå°±æ˜¯å…¶åº”ç”¨åœºæ™¯ã€‚ å†…è”å‡½æ•°å¸¦æ¥çš„é—®é¢˜ï¼š ä¸¾ä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“å°†äºŒè¿›åˆ¶å‡½æ•°ä¸­çš„dtls1_get_recordå‡½æ•°ä¸æºç ä¸­çš„dtls1_get_recordå‡½æ•°æ¯”è¾ƒæ—¶ï¼Œä½¿ç”¨CodeCMRç»™å‡ºçš„ç›¸ä¼¼æ€§è¿˜ä¸è¶³60%ï¼Œè¿™æ˜¾ç„¶æ˜¯åŒ¹é…å¤±è´¥çš„ã€‚ å¦‚æœæ·±å…¥å»çœ‹äºŒè¿›åˆ¶å‡½æ•°dtls1_get_recordçš„æ±‡ç¼–ä»£ç å°±å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªå‡½æ•°åœ¨ç¼–è¯‘çš„æ—¶å€™å†…è”äº†dtls1_process_buffered_records,dtls1_get_bitmap å’Œ dtls1_record_replay_checkçš„å‡½æ•°ä»£ç ï¼Œæå¤§çš„æ”¹å˜äº†å…¶å‡½æ•°çš„å†…éƒ¨ä»£ç å†…å®¹ï¼Œæ•…å½±å“äº†å‡½æ•°çš„åŒ¹é…ç»“æœã€‚ æœ‰ä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œç”±äºå†…è”å‡½æ•°çš„å­˜åœ¨ä¼šæ”¹å˜å‡½æ•°çš„ä»£ç å†…å®¹ï¼Œæ•…ç›´æ¥å¯¹å…¶è¿›è¡ŒåŒ¹é…çš„ç»“æœæ˜¯ä¸å°½å¦‚äººæ„çš„ã€‚ è§£å†³è¿™ä¸ªé—®é¢˜é¢ä¸´çš„æŒ‘æˆ˜ï¼š æƒ³è¦è§£å†³åœ¨å†…è”å‡½æ•°ä¸‹çš„B2Sé—®é¢˜ï¼Œè¿˜éœ€é¢å¯¹ä»¥ä¸‹æŒ‘æˆ˜ï¼š 1ï¼‰ OODé—®é¢˜ï¼šOut-of-domainï¼Œå¾…æ£€æµ‹äºŒè¿›åˆ¶å‡½æ•°å¯èƒ½æ˜¯ç”±å¤šä¸ªå‡½æ•°ç”Ÿæˆçš„ï¼Œæ•…OSSæºç èµ„æ–™åº“ä¸­å¯èƒ½æ²¡æœ‰å¯¹åº”çš„äºŒè¿›åˆ¶åŒ¹é…ï¼› 2ï¼‰ æœ‰äº›äºŒè¿›åˆ¶æ–‡ä»¶ä¸å«è°ƒè¯•ä¿¡æ¯ï¼šå¯¹äºè®¸å¤šä¸å«è°ƒè¯•ä¿¡æ¯çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç”±äºå…¶æ²¡æœ‰æ ‡æ³¨å†…è”ç‚¹ï¼Œæ•…æ£€æµ‹å“ªäº›å‡½æ•°æ˜¯é€šè¿‡å†…è”å‡½æ•°ç”Ÿæˆçš„å’Œå“ªäº›æºç å‡½æ•°è¢«å†…è”è¿›äº†äºŒè¿›åˆ¶å‡½æ•°ä¸­å°±æ›´åŠ å›°éš¾ï¼› 3ï¼‰ ä¸åŒæ–‡ä»¶å†…è”é€‰æ‹©çš„ä¸åŒï¼šå¯¹äºä¸åŒçš„ç¼–è¯‘è®¾ç½®å¯¼è‡´çš„ä¸åŒå†…è”å‡½æ•°çš„é€‰æ‹©ï¼ˆå¯¹æŸä¸ªå‡½æ•°ï¼Œæ˜¯å¦é€‰æ‹©å†…è”ï¼‰ï¼Œå¾ˆéš¾è¦†ç›–æ‰€æœ‰æƒ…å†µã€‚ å››ã€æ¨¡å‹æ–¹æ³• â€‹ æˆ‘ä»¬çš„æ–¹æ³•O2NMatcherå°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°æŒ‘æˆ˜è€Œç”Ÿçš„ã€‚ â€‹ ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªæŒ‘æˆ˜ï¼Œæˆ‘ä»¬ç”Ÿæˆäº†Source Function Sets (SFSs)æ¥å®Œå–„èµ„æ–™åº“ï¼Œä»¥æ­¤åº”å¯¹æœ‰å†…è”å‡½æ•°çš„äºŒè¿›åˆ¶å‡½æ•°æŸ¥è¯¢åŒ¹é…ã€‚ â€‹ ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªæŒ‘æˆ˜ï¼Œæˆ‘ä»¬ä½¿ç”¨å¯ä»¥ç¼–è¯‘çš„OSSé¡¹ç›®è®­ç»ƒäº†ä¸€ä¸ªé¢„æµ‹åˆ†ç±»å™¨æ¥é¢„æµ‹ä¸å¯ç¼–è¯‘çš„OSSé¡¹ç›®çš„å†…è”ä½ç½®ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ•°æ®é›†è‡ªåŠ¨åŒ–æ‰“æ ‡ç­¾çš„æ–¹æ³•æ¥ç”Ÿæˆæ•°æ®ã€‚ â€‹ ä¸ºäº†è§£å†³ç¬¬ä¸‰ä¸ªæŒ‘æˆ˜ï¼Œåˆ†ç±»å™¨è¢«åœ¨å¤šç§ä¸åŒçš„ç¼–è¯‘è®¾ç½®ç¯å¢ƒä¸‹è®­ç»ƒï¼Œæˆ‘ä»¬å°†å…¶å»ºæ¨¡ä¸ºå¤šæ ‡ç­¾åˆ†ç±»ï¼ˆMLCï¼‰é—®é¢˜ï¼Œå¹¶æ ¹æ®ä¸åŒç¼–è¯‘è®¾ç½®ä¸‹å†…è”å†³ç­–çš„ç›¸å…³æ€§æå‡ºäº†åŸºäºç¼–è¯‘å™¨-é€‰æ‹©çš„åˆ†ç±»å™¨ã€‚ â€‹ é€šè¿‡ç»™å®šçš„OSSç”ŸæˆSFSsï¼Œç„¶åä½¿ç”¨å·²æœ‰çš„â€œ1-to-1â€æ–¹æ³•å°†è¿™äº›SFSsä¸äºŒè¿›åˆ¶å‡½æ•°ç›¸æ¯”è¾ƒå³å¯ã€‚ æ¨¡å‹è®­ç»ƒ 1. ç”Ÿæˆæ•°æ®é›† â€‹ åœ¨ç”Ÿæˆæ•°æ®é›†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å……åˆ†åˆ©ç”¨äº†ç¼–è¯‘è¿‡ç¨‹ç”Ÿæˆçš„è°ƒè¯•ä¿¡æ¯ï¼ˆç”¨çš„éƒ½æ˜¯å¯ç¼–è¯‘çš„OSSé¡¹ç›®ï¼‰ã€‚å…¶ä¼šç”Ÿæˆb2sè¡Œçº§åˆ«å’Œå‡½æ•°çº§åˆ«çš„æ˜ å°„ï¼Œå¹¶é™„å¸¦å‡½æ•°è°ƒç”¨å¤„çš„å†…è”ä¿¡æ¯ï¼ˆæ˜¯å¦å†…è”ï¼‰ã€‚ â€‹ åœ¨å¼€æºé¡¹ç›®ç¼–è¯‘æ—¶ä½¿ç”¨\"-g\"é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶æ–‡ä»¶é™„å¸¦ä»äºŒè¿›åˆ¶åœ°å€åˆ°æºæ–‡ä»¶æŸä¸€è¡Œçš„æ˜ å°„ä¿¡æ¯ï¼ˆè¡Œçº§åˆ«æ˜ å°„ï¼‰ï¼Œå†åˆ©ç”¨Understandæˆ–è€…IDA Proï¼Œtree-sitterï¼ŒChidraç­‰å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ç”Ÿæˆä»äºŒè¿›åˆ¶åœ°å€åˆ°æºæ–‡ä»¶æŸä¸€å‡½æ•°çš„æ˜ å°„ä¿¡æ¯ï¼ˆå‡½æ•°çº§åˆ«æ˜ å°„ï¼‰ã€‚ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ†åœˆæ˜¯æºç å‡½æ•°ï¼Œæ–¹æ¡†æ˜¯ç¼–è¯‘åçš„äºŒè¿›åˆ¶å‡½æ•°ã€‚åœ¨ï¼ˆaï¼‰ä¸­ï¼Œç”±äºAåªè°ƒç”¨äº†Cä¸€æ¬¡ï¼Œæ•…åœ¨ç¼–è¯‘åçš„äºŒè¿›åˆ¶å‡½æ•°ä¸­Cå°±è¢«å†…è”è¿›äº†Aä¸­ï¼›ä½†åœ¨ï¼ˆbï¼‰ä¸­ï¼ŒAè°ƒç”¨äº†ä¸¤æ¬¡Bï¼ŒAå’ŒBéƒ½è°ƒç”¨äº†Cï¼Œæ— æ³•å¾ˆæ¸…æ¥šçš„åˆ¤æ–­åˆ°åº•å“ªæ¬¡è°ƒç”¨éœ€è¦è¢«å†…è”ï¼Œæ•…ç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶å‡½æ•°ä¹Ÿä¸ç¼–è¯‘é€‰é¡¹æœ‰å…³ï¼Œå¹¶ä¸ç»å¯¹ã€‚ â€‹ ä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå³ä½¿æˆ‘ä»¬å¾—åˆ°çš„æºç å‡½æ•°ä¹‹é—´çš„ç›¸äº’è°ƒç”¨å…³ç³»æˆ‘ä»¬ä¹Ÿæ— æ³•ç¡®å®šå“ªäº›å‡½æ•°ä¼šè¢«å†…è”ã€‚ â€‹ ä½†å¦‚æœæˆ‘ä»¬çŸ¥é“å…¶äºŒè¿›åˆ¶è°ƒç”¨å…³ç³»å›¾ï¼Œåè¿‡æ¥çœ‹ï¼Œè‹¥äºŒè¿›åˆ¶å›¾ä¸­æŸä¸ªè°ƒç”¨åœ¨æºç è°ƒç”¨å›¾ä¸­ä¹Ÿå­˜åœ¨ï¼ˆå¦‚ä¸Šå›¾aä¸­çš„Aâ€“&gt;Bï¼‰ï¼Œåˆ™è¿™ä¸ªå‡½æ•°å°±ä¸æ˜¯å†…è”å‡½æ•°ï¼Œåä¹‹å°±æ˜¯å†…è”å‡½æ•°ã€‚è¿™æ ·ï¼Œé€šè¿‡å¯¹è°ƒè¯•ä¿¡æ¯çš„ä½¿ç”¨ï¼Œå¯ä»¥æˆåŠŸçš„å°†å¯ç¼–è¯‘OSSé¡¹ç›®çš„å†…è”ä½ç½®æ ‡æ³¨å‡ºæ¥ã€‚ 2. ç‰¹å¾æå– â€‹ è€ƒè™‘åˆ°ç¼–è¯‘å™¨ä¸€èˆ¬é€šè¿‡è¯„ä¼°å†…è”çš„åˆ©å¼Šæ¥å†³å®šæ˜¯å¦å†…è”ï¼Œæˆ‘ä»¬æ€»ç»“äº†å‡ ä¸ªå¯ä»¥è¯„ä¼°å†…è”æ“ä½œåˆ©å¼Šçš„ç‰¹å¾ï¼š â€‹ å¦‚ä¸Šè¡¨æ‰€ç¤ºï¼Œç‰¹å¾å…±åˆ†ä¸ºä¸¤å¤§ç±»Caller/Calleeå’ŒCall Instrucitonï¼š Caller/Calleeï¼š callerè¿™é‡ŒæŒ‡è°ƒç”¨å…¶ä»–å…¬å…±å¼€æºå‡½æ•°çš„å‡½æ•°ï¼ŒcalleeæŒ‡è¢«è®¸å¤šå…¶ä»–å‡½æ•°è°ƒç”¨çš„å‡½æ•°ã€‚è¿™éƒ¨åˆ†ç‰¹å¾åˆ†ä¸ºå‡½æ•°å†…éƒ¨è¯­å¥ï¼Œå‡½æ•°å®šä¹‰è¯­å¥å’Œå‡½æ•°è°ƒç”¨æ¬¡æ•°ã€‚ Call Instrucitonï¼š è°ƒç”¨å‡½æ•°æŒ‡ä»¤ï¼Œè¿™é‡Œå…³æ³¨å…¶è°ƒç”¨çš„ä½ç½®å’Œå‚æ•°å£°æ˜ï¼Œä¾‹å¦‚åœ¨å†…è”å¾ªç¯ä¸­çš„å‡½æ•°è°ƒç”¨å°±å¯ä»¥æ˜¾è‘—å‡å°‘è°ƒç”¨æ¬¡æ•°ã€‚åŒç†ï¼Œå¦‚æœè°ƒç”¨å«æœ‰å¸¸é‡å‚æ•°ï¼Œå¯ä»¥å¸®åŠ©å‡å°‘å†…è”å‡½æ•°çš„å¤§å°ã€‚ 3. æ¨¡å‹è®­ç»ƒ 3.1 è®­ç»ƒæ•°æ®åˆ†æ â€‹ æˆ‘ä»¬è¿™é‡Œæå‡ºäº†ä¸€ä¸ªåä¸ºECOCCJ48(Ensemble of Compiler Optimization based Classifier Chains built with J48)çš„MLCæ¨¡å‹æ¥é¢„æµ‹å†…è”å‡½æ•°ä½ç½®ã€‚åœ¨å¤šæ ‡ç­¾ä»»åŠ¡ä¸­ï¼Œæ ‡ç­¾ä¹‹é—´é€šå¸¸å­˜åœ¨è”ç³»ï¼Œä¸‹è¡¨å±•ç¤ºäº†ä¸¤ä¸ªç¼–è¯‘å™¨ï¼ˆgcc-8.2.0å’Œclang-7.0ï¼‰åœ¨Oxä¼˜åŒ–ä¸‹çš„å†…è”æªæ–½çš„å·®å¼‚å’Œè”ç³»ï¼š PSï¼šopt1-opt2æ„å‘³ç€ä½¿ç”¨ä¼˜åŒ–æªæ–½opt1æ—¶å†…è”ï¼Œä½¿ç”¨ä¼˜åŒ–æªæ–½opt2æ—¶ä¸å†…è”çš„æ•°é‡ï¼›opt1&amp;opt2æ„å‘³ç€ä½¿ç”¨ä¸¤ä¸ªéƒ½å†…è”çš„æ•°é‡ã€‚ â€‹ åœ¨åŒä¸€ç¼–è¯‘å™¨ä¸åŒä¼˜åŒ–è®¾ç½®çš„æ¡ä»¶ä¸‹ï¼Œç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œ94.78%çš„å†…è”æ“ä½œå¦‚æœå‡ºç°åœ¨ä½çº§ä¼˜åŒ–æªæ–½çš„æ¡ä»¶ä¸‹ï¼Œä¹Ÿä¼šå‡ºç°åœ¨æ›´é«˜çº§çš„ä¼˜åŒ–æªæ–½æ¡ä»¶ä¸‹ã€‚æ‰€ä»¥åœ¨åŒä¸€è¡Œå†…opt1&amp;opt2çš„æ•°é‡éƒ½å¤§äºopt1-opt2ã€‚ â€‹ åœ¨ä¸åŒç¼–è¯‘å™¨çš„æ¡ä»¶ä¸‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå±•ç¤ºäº†ä¸åŒä¼˜åŒ–æªæ–½ä¸‹æ‰€åšå†³ç­–çš„Jaccardç³»æ•°ï¼š â€‹ åœ¨åŒä¸€ç¼–è¯‘å™¨å®¶æ—ï¼ˆä¾‹å¦‚GCCçš„ä¸åŒç‰ˆæœ¬ï¼‰æ¯”è¾ƒæ—¶ï¼Œå…¶å†…è”å†³ç­–çš„ç›¸ä¼¼æ€§å¾ˆé«˜ã€‚å½“ä½¿ç”¨O0-O3ä¼˜åŒ–æªæ–½æµ‹è¯•gcc-6.4.0 å’Œ gcc-7.2.0ï¼Œ87%çš„å‡½æ•°è°ƒç”¨é‡‡ç”¨äº†ç›¸åŒçš„å†…è”å†³ç­–ã€‚åœ¨ä¸åŒç¼–è¯‘å™¨çš„æ¡ä»¶ä¸‹ï¼Œå…¶å†…è”å†³ç­–æ²¡æœ‰æ˜æ˜¾çš„è”ç³»ã€‚ 3.2 ECOCCJ48æ¨¡å‹ â€‹ ECOOCJ48åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä½¿ç”¨binary relevanceæ¥é¢„æµ‹ä¸åŒç¼–è¯‘å™¨ä¸‹çš„æ ‡ç­¾ï¼Œä½¿ç”¨æ•´åˆåˆ†ç±»å™¨é“¾æ¥é¢„æµ‹åŒä¸€ç¼–è¯‘å™¨ä¸‹ä¸åŒä¼˜åŒ–æªæ–½çš„æ ‡ç­¾ã€‚ 3.3 ä¸å¹³è¡¡çš„æ•°æ®é›† â€‹ ç›®å‰å­˜åœ¨çš„æ•°æ®é›†æœ‰ä»¥ä¸‹é—®é¢˜ï¼š â€‹ 1.å¤§å¤šæ•°çš„å‡½æ•°è°ƒç”¨åœ¨è¢«ç¼–è¯‘çš„è¿‡ç¨‹ä¸­æ˜¯ä¸ä¼šè¢«å†…è”çš„ï¼Œåœ¨ä½¿ç”¨OXä¼˜åŒ–æ—¶ï¼Œå¤§çº¦åªæœ‰20%çš„å‡½æ•°è°ƒç”¨ä¼šè¢«å†…è”ï¼› â€‹ 2.ä¸åŒä¼˜åŒ–æªæ–½ç¼–è¯‘æ—¶å†…è”ç‚¹çš„æ¯”ä¾‹ä¹Ÿä¸åŒã€‚ â€‹ è¿™äº›å·®å¼‚å¯¼è‡´äº†è®­ç»ƒæ•°æ®é›†çš„ä¸å¹³è¡¡ï¼Œè®­ç»ƒä¼šæ›´åå‘äºæ­£å¸¸çš„è°ƒç”¨ã€‚æˆ‘ä»¬ä½¿ç”¨äº†é›†æˆå­¦ä¹ æ–¹æ³•æ¥å¤„ç†è¿™äº›ä¸å¹³è¡¡ï¼Œå…¶ä½¿ç”¨éšæœºé€‰æ‹©çš„æ•°æ®é›†æ¥è®­ç»ƒï¼Œé€šè¿‡æ•´åˆä¸åŒåŸºç¡€åˆ†ç±»å™¨çš„ç»“æœæ¥é¢„æµ‹æ ‡ç­¾ã€‚å› ä¸ºä¸åŒåŸºç¡€åˆ†ç±»å™¨åœ¨ä¸åŒçš„èµ„æ–™åº“ä¸­è¢«è®­ç»ƒï¼Œæ•…ä»–ä»¬å¯ä»¥æŠ“ä½å†…è”æ¨¡å¼ã€‚ SFSç”Ÿæˆ 1. FCGæ„å»ºä¸ICSé¢„æµ‹ â€‹ å¯¹äºä¸å¯ç¼–è¯‘çš„OSSé¡¹ç›®ï¼Œé¦–å…ˆä½¿ç”¨ä¸€ä¸ªè§£æå™¨ï¼ˆparserï¼‰æ¥æå–ä»£ç ä¸­çš„å‡½æ•°è°ƒç”¨ç‚¹ï¼Œæ„å»ºFCGå›¾ã€‚ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´å¯ä»¥æœ‰å¤šä¸ªæœ‰å‘è¾¹ï¼Œè¾¹ä¸Šé™„å¸¦å‡½æ•°è°ƒç”¨çš„ä½ç½®ä¿¡æ¯ã€‚ â€‹ å¯¹äºFCGä¸­çš„æ¯ä¸ªè°ƒç”¨ç‚¹ï¼Œæˆ‘ä»¬ä»å…¶è°ƒç”¨è€…ï¼Œè¢«è°ƒç”¨è€…å’Œè°ƒç”¨æŒ‡ä»¤ä¸­æå–ç‰¹å¾ï¼Œå°†å…¶ä½œä¸ºECOCCJ48çš„è¾“å…¥ï¼Œå¾—åˆ°æ‰€æœ‰ç¼–è¯‘è®¾ç½®ï¼ˆä¸åŒç¼–è¯‘å™¨+ä¼˜åŒ–æªæ–½ï¼‰çš„æ ‡ç­¾ã€‚ 2. SFSç”Ÿæˆ â€‹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œï¼ˆaï¼‰å°±æ˜¯å·²ç»æ„å»ºå¥½çš„FCGå›¾ï¼Œå…¶ä¸­çº¢åœˆä»£è¡¨æœ‰å†…è”å‡½æ•°çš„å‡½æ•°ï¼Œé»‘åœˆåˆ™æ²¡æœ‰ï¼›çº¢è¾¹ä»£è¡¨å†…è”æ“ä½œï¼Œè“è¾¹ä»£è¡¨æ­£å¸¸è°ƒç”¨ã€‚å‡è®¾FCGæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ŒSFSçš„ç”Ÿæˆå°±å¯ä»¥æŠ½è±¡æˆä»FCGå›¾ä¸­é€‰æ‹©å†…è”å­æ ‘ã€‚è¿™é‡Œå°†SFSçš„ç”Ÿæˆåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ¹èŠ‚ç‚¹çš„é€‰æ‹©ï¼ˆbï¼‰å’Œè¾¹æ‰©å±•ã€‚ â€‹ æ ¹èŠ‚ç‚¹çš„é€‰æ‹©ä¸Šï¼Œæœ‰ä»¥ä¸‹åŸåˆ™ï¼š â€‹ 1ï¼‰ å†…è”å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå¦‚A,Dï¼› â€‹ 2ï¼‰éå†…è”å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œä½†æ˜¯æ—¢å†…è”è°ƒç”¨äº†å…¶ä»–å‡½æ•°ï¼Œä¹Ÿè¢«å…¶ä»–å‡½æ•°æ™®é€šè°ƒç”¨ï¼Œå¦‚Cã€‚ â€‹ é™¤å»è¿™ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰æŒ‡å‘å…¶ä»–èŠ‚ç‚¹çš„çº¢è‰²è¾¹ï¼Œè¦ä¹ˆåœ¨å†…è”å­æ ‘ä¸Šä»…ä»…è¢«å…¶å®ƒçº¢è¾¹æ‰€æŒ‡ã€‚ç¬¬ä¸€ç§æƒ…å†µæ˜¾ç„¶ä¸èƒ½è¿›å…¥SFSï¼Œç¬¬äºŒç§æƒ…å†µä¼šè¢«å†…è”è¿›å…¶è°ƒç”¨è€…ä¹‹ä¸­ã€‚ â€‹ è¾¹æ‰©å±•ä¸Šï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™ï¼š â€‹ 1ï¼‰ å¯¹æ¯ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè‹¥å…¶æŒ‡å‘çš„èŠ‚ç‚¹ä»…æœ‰ä¸€æ¡çº¢è¾¹ï¼Œåˆ™å‘ä¸‹éå†å…¶èƒ½é‡åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå¦‚å¯¹Aï¼Œæœ‰A-&gt;Cï¼ŒA-&gt;C-&gt;Eä¸¤æ¡ï¼‰ï¼› â€‹ 2ï¼‰å¯¹æ¯ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè‹¥å…¶æŒ‡å‘çš„èŠ‚ç‚¹æœ‰ä¸¤æ¡ç›¸å¼‚é¢œè‰²çš„è¾¹ï¼Œåˆ™çº¢è‰²çš„è¾¹ç»§ç»­å‘ä¸‹æœç´¢ç”Ÿæˆï¼Œè“è‰²çš„è¾¹ä»…åœ¨ä¸‹ä¸ªç‚¹å¤„åœæ­¢ã€‚ï¼ˆå¦‚å¯¹C-&gt;Eï¼‰ã€‚ â€‹ è‹¥FCGæˆç¯ï¼Œæˆ‘ä»¬ä»…éœ€æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªè¢«è°ƒç”¨èŠ‚ç‚¹å·²ç»åœ¨SFSä¸­äº†ï¼Œå°±ä¸å¿…å†æ¬¡éå†å³å¯é¿å…é‡å¤ã€‚ 3. SFSæ±‡æ€» â€‹ å¾—åˆ°å‡½æ•°çš„SFSåï¼Œæˆ‘ä»¬å°†è¢«è°ƒç”¨å‡½æ•°çš„ä»£ç ç›´æ¥æ”¾è¿›è°ƒç”¨å‡½æ•°ä¸­ã€‚ æµ‹è¯•è¯„ä¼° â€‹ æµ‹è¯•éƒ¨åˆ†å›ç­”äº†ä»¥ä¸‹é—®é¢˜ï¼š O2NMatcherå¯ä»¥æé«˜ç°æœ‰1-to-1å·¥ä½œçš„è¡¨ç°å—ï¼Ÿ ä¸Bingo å’Œ ASM2Vecæ¯”è¾ƒï¼ŒO2NMatcherç”Ÿæˆçš„SFSæœ‰å¤šå‡†ç¡®ï¼Ÿ ä¸ç°æœ‰çš„å¤šæ ‡ç­¾åˆ†ç±»å·¥ä½œç›¸æ¯”ï¼ŒECOCCJ48çš„è¡¨ç°å¦‚ä½•ï¼Ÿ O2NMatcheråœ¨è®­ç»ƒï¼Œé¢„æµ‹å’Œç”ŸæˆSFSçš„æ—¶é—´èŠ±è´¹å¦‚ä½•ï¼Ÿ æˆ‘ä»¬é€‰å–çš„ç‰¹å¾é›†åœ¨ICSé¢„æµ‹ä¸Šæœ‰ä»€ä¹ˆè´¡çŒ®ï¼Ÿ 1. ç ”ç©¶èƒŒæ™¯ 1.1 æµ‹è¯•æ•°æ®é›† â€‹ æˆ‘ä»¬ä»GNUé¡¹ç›®é€‰æ‹©äº†51ä¸ªåŒ…ï¼Œä½¿ç”¨9ç§ç¼–è¯‘å™¨ã€4ç§ä¼˜åŒ–æªæ–½ç¼–è¯‘æˆx86-64ï¼Œå¾—åˆ°8460ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶å’Œ4294478ä¸ªäºŒè¿›åˆ¶å‡½æ•°ã€‚è¿™äº›æ•°æ®åŒ…å«äº†è¯¸å¦‚Coreutilsã€OpenSSLç­‰åœ¨äºŒè¿›åˆ¶ç›¸ä¼¼æ€§æ£€æµ‹å·¥ä½œä¸­å¹¿æ³›è¢«ä½¿ç”¨çš„åŒ…ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š 1.2 Benchmark â€‹ å› ä¸ºO2NMatcheræ˜¯ä¸€ä¸ªå¯¹å…¶å®ƒb2sæ–¹æ³•çš„è¡¥å……ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªbaselineã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©CodeCMRï¼Œä¸€ä¸ªç°æœ‰å·¥ä½œè¡¨ç°æœ€å¥½çš„b2sæ–¹æ³•ã€‚CodeCMRæœ‰ä¸€ä¸ªå¼€æ”¾å·¥å…·BinaryAIï¼Œå¯ä»¥æ–¹ä¾¿åç»­æµ‹è¯•ã€‚ ï¼ˆZeping Yu, Wenxin Zheng, Jiaqi Wang, Qiyi Tang, Sen Nie, and Shi Wu. 2020. Codecmr: Cross-modal retrieval for function-level binary source code matching. Advances in Neural Information Processing Systems 33 (2020), 3872â€“3883.ï¼‰ 1.3 å®éªŒè®¾ç½® â€‹ 90%éšæœºé€‰æ‹©çš„è®­ç»ƒé›†ä»¥åŠ10%æµ‹è¯•é›†ã€‚ç”±äºç›¸åŒç¼–è¯‘å™¨çš„å†…è”é€‰æ‹©æ¯”è¾ƒç›¸ä¼¼ï¼Œè¿™é‡Œæµ‹è¯•é›†ä»…ç”¨ä¸¤ä¸ªç¼–è¯‘å™¨ç”Ÿæˆï¼šgcc-2.2.0å’Œclang-7.0ã€‚æµ‹è¯•é›†åŒ…å«1.1ä¸­æ‰€æœ‰çš„ç¼–è¯‘å™¨ç”Ÿæˆçš„æ•°æ®ã€‚åˆ†ç±»å™¨åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒï¼Œç„¶åå¯¹æµ‹è¯•é›†ç”ŸæˆSFSsã€‚ä¸ºäº†é¿å…è¯¯å·®æˆ‘ä»¬é‡å¤å®éªŒ10æ¬¡ã€‚ â€‹ æµ‹è¯•æ—¶ï¼Œä½¿ç”¨ä¸å¸¦è°ƒè¯•ä¿¡æ¯çš„stripped binaryï¼Œå¹¶ä¸”OSSæ–‡ä»¶ä¸èƒ½è¢«ç¼–è¯‘ã€‚ 1.4 è¯„ä¼°æ ‡å‡† â€‹ ä½¿ç”¨æ ‡å‡†å¬å›ç‡recall@Kæ¥è¯„ä¼°O2NMatcherå‡†ç¡®ç‡ã€‚ï¼ˆRecall@Kå¬å›ç‡æ˜¯æŒ‡å‰topKç»“æœä¸­æ£€ç´¢å‡ºçš„ç›¸å…³ç»“æœæ•°å’Œåº“ä¸­æ‰€æœ‰çš„ç›¸å…³ç»“æœæ•°çš„æ¯”ç‡ï¼Œè¡¡é‡çš„æ˜¯æ£€ç´¢ç³»ç»Ÿçš„æŸ¥å…¨ç‡ã€‚ï¼‰åœ¨è¿™é‡Œï¼Œrecall@Kä»£è¡¨å‰kä¸ªæ¨¡å‹è¿”å›çš„æºç å‡½æ•°ä¸­çœŸæ­£çš„æºç å‡½æ•°å æ¯”ã€‚å¯¹äº1-to-1åŒ¹é…ï¼ŒçœŸæ­£çš„æºç å‡½æ•°å°±æ˜¯è¯¥å¾…æ£€æµ‹äºŒè¿›åˆ¶å‡½æ•°çš„æºç ï¼›å¯¹äºæˆ‘ä»¬çš„1-to-nåŒ¹é…ï¼Œåœ¨SFSsä¸­ï¼ŒæŸä¸ªå‡½æ•°çš„æ ¹å‡½æ•°æ˜¯çœŸæ­£çš„æºç å‡½æ•°ä¹Ÿå¯ä»¥ç®—ä½œé˜³æ€§æ ·æœ¬ã€‚åœ¨æ¥ä¸‹æ¥çš„å®éªŒä¸­æˆ‘ä»¬ä¼šä½¿ç”¨K = 1ã€10å’Œ50æ¥æµ‹è¯•ã€‚ â€‹ ä½¿ç”¨SFSå¤§å°ï¼ˆSFS sizeï¼‰æ¥è¯„ä¼°O2NMatcheræˆæœ¬ã€‚SFS sizeæ˜¯å·²ç”Ÿæˆçš„SFSsæ•°é‡æ¯”ä¸ŠåŸå‡½æ•°é›†çš„æ•°é‡ã€‚å› ä¸ºæ–°å¢çš„SFSså¢åŠ äº†èµ„æ–™åº“çš„å¤§å°ï¼Œæ•…å¯èƒ½å½±å“æŸ¥è¯¢åŒ¹é…çš„æ—¶é—´ã€‚ â€‹ ä½¿ç”¨precisionã€recallå’ŒF1-scoreæ¥è¯„ä¼°ECOCCJ48å‡†ç¡®ç‡ã€‚ 1.5 O2NMatcherçš„å®ç° â€‹ åœ¨æ•°æ®é›†æ ‡æ³¨å·¥ä½œä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨Understandå¯¹æºç åšè¯­æ³•åˆ†æï¼Œä½¿ç”¨IDA Proæ¥åæ±‡ç¼–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚åœ¨FCGæ„å»ºä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨Understandæ¥æå–æ‰€æœ‰å‡½æ•°è°ƒç”¨ç‚¹ï¼Œå¯¹æºç ç”ŸæˆFCGå›¾ï¼Œä½¿ç”¨IDA Proå¯¹äºŒè¿›åˆ¶æ–‡ä»¶ç”ŸæˆFCGå›¾ã€‚åœ¨å‡½æ•°è°ƒç”¨ç‰¹å¾æå–ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨tree-sitteræ¥æå–å‡½æ•°ä½“ã€å‡½æ•°å®šä¹‰å’Œå‡½æ•°è°ƒç”¨æŒ‡ä»¤çš„ç‰¹å¾ï¼Œä½¿ç”¨Understandæå–å‡½æ•°è°ƒç”¨æ¬¡æ•°ç‰¹å¾ã€‚ â€‹ åœ¨æ¨¡å‹è®­ç»ƒå·¥ä½œä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨Pythonå·¥å…·scikit-multilearnæ¥å®ç°ECOCCJ48æ¨¡å‹å’Œå…¶ä»–MCLæ–¹æ³•ã€‚æ•´ä¸ªç¨‹åºåœ¨Ubuntu 18.04ã€Intel Xeon Gold 6266Cã€1024GB DDR4 RAMã€Nvidia RTX3090 GPUç¯å¢ƒä¸Šè¿è¡Œã€‚ 2. å¯¹é—®é¢˜ä¸€çš„å›ç­”ï¼šO2NMatcherçš„æ•ˆæœ 3. å¯¹é—®é¢˜äºŒçš„å›ç­”ï¼šSFSsçš„æ•ˆæœ â€‹ ä¸Šè¡¨æ¯”è¾ƒäº†O2NMatcherã€Bingoå’ŒASM2Vecç”Ÿæˆçš„SFSsä¸æ ‡å‡†ç­”æ¡ˆçš„ç»“æœã€‚ 4. å¯¹é—®é¢˜ä¸‰çš„å›ç­”ï¼šECOCCJ48çš„æ•ˆæœ 5. å¯¹é—®é¢˜å››çš„å›ç­”ï¼šO2NMatcherçš„æˆæœ¬ 6. å¯¹é—®é¢˜äº”çš„å›ç­”ï¼šç‰¹å¾é€‰æ‹©çš„ä½œç”¨ äº”ã€é—®é¢˜ è¯¥æ–¹æ³•æ¨¡å‹æ€ä¹ˆç»“åˆå·²æœ‰çš„æ–¹æ³•ï¼Ÿ åŸæ¥æ€ä¹ˆæ¯”ç°åœ¨å°±æ€ä¹ˆæ¯”ï¼Œåªæ˜¯ä»æºç åº“å˜æˆäº†SFSã€‚ SFSsæ€ä¹ˆèµ·ä½œç”¨ï¼Ÿ å°†å¯èƒ½å†…è”çš„å‡½æ•°ä½“æ”¾è¿›åŸå‡½æ•°çš„æ–°ä»£ç åº“ã€‚ ä¸å¹³è¡¡çš„æ•°æ®é›†æ€ä¹ˆå¤„ç†çš„ï¼Ÿ â€œWe use ensemble methods to handle the imbalanced dataset. The ensemble method trains the base classifiers on the randomly selected dataset and predicts the labels by ggregating the predictions from the base classifiers. As different base lassifiers are trained in different corpora, they can capture the inlining patterns of some rare labelsâ€è¿™éƒ¨åˆ†æ²¡çœ‹æ‡‚ä»€ä¹ˆæ„æ€ åœ¨æ±‡æ€»SFSæ—¶ï¼š â€œDirectly, there are two ways to aggregate the SFS: conduct inlining for the source functions in the SFSs such as the inlining during compilation or directly aggregate the content of all the functions in the SFSâ€ï¼Œè¿™ä¸¤ç§æ–¹å¼å…·ä½“ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Binary","slug":"Binary","permalink":"http://example.com/tags/Binary/"},{"name":"ML","slug":"ML","permalink":"http://example.com/tags/ML/"}],"author":"Shaw"},{"title":"How Machine Learning Is Solving the Binary Function Similarity Problem","slug":"How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem","date":"2022-12-08T08:20:40.777Z","updated":"2023-02-15T07:06:22.738Z","comments":true,"path":"2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/","link":"","permalink":"http://example.com/2022/12/08/How-Machine-Learning-Is-Solving-the-Binary-Function-Similarity-Problem/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘How Machine Learning Is Solving the Binary Function Similarity Problem æ—¶é—´ï¼š2022.8 ä½œè€…ï¼šAndrea Marcelli, Mariano Graziano , Xabier Ugarte-Pedrero, Yanick Fratantonio , Mohamad Mansouri and Davide Balzarotti(æ€ç§‘ï¼Œæ¬§æ´²ç”µä¿¡å­¦é™¢) ä¼šè®®ï¼šusenix 2022 ABSTRACT äººä»¬ä¼šæœŸæœ›åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œå¯¹äºäºŒè¿›åˆ¶ç›¸ä¼¼æ€§é—®é¢˜çš„ç ”ç©¶ï¼Œå…¶æœ‰å¯èƒ½å›ç­”ä¸€äº›ç ”ç©¶é—®é¢˜ï¼Œè¿™äº›é—®é¢˜è¶…å‡ºäº†è®ºæ–‡ä¸­æå‡ºçš„éå¸¸å…·ä½“çš„æŠ€æœ¯ï¼Œå¯ä»¥æ¨å¹¿åˆ°æ•´ä¸ªç ”ç©¶é¢†åŸŸã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªç›®æ ‡å—åˆ°è®¸å¤šæŒ‘æˆ˜ï¼Œä»å¯é‡å¤æ€§é—®é¢˜åˆ°ç ”ç©¶ç»“æœçš„ä¸é€æ˜æ€§ï¼Œé˜»ç¢äº†ç ”ç©¶æœ‰æ„ä¹‰å’Œæœ‰æ•ˆåœ°è¿›å±•ã€‚ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬å¼€å§‹ç€æ‰‹äºå¯¹state-of-the-artåšè¿™ä¸ªé¢†åŸŸçš„ç¬¬ä¸€ä¸ªæµ‹è¯•æ€§ç ”ç©¶ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ç³»ç»ŸåŒ–äº†ç°å­˜çš„ç ”ç©¶æˆæœï¼› æˆ‘ä»¬é€‰å®šäº†ä¸€äº›ç›¸å…³æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä»£è¡¨äº†ä¸‰ä¸ªä¸åŒç ”ç©¶ç¤¾åŒºæœ€è¿‘æå‡ºçš„å„ç§è§£å†³æ–¹æ¡ˆï¼› é’ˆå¯¹ç°æœ‰çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬é‡æ„äº†æ–¹æ³•å¹¶æ„å»ºäº†æ–°çš„æ•°æ®é›†ï¼Œä»¥ä¾¿å®ç°æ›´ä¸ºå…¬å¹³çš„å¯¹æ¯”æ•ˆæœã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘How Machine Learning Is Solving the Binary Function Similarity Problem æ—¶é—´ï¼š2022.8 ä½œè€…ï¼šAndrea Marcelli, Mariano Graziano , Xabier Ugarte-Pedrero, Yanick Fratantonio , Mohamad Mansouri and Davide Balzarotti(æ€ç§‘ï¼Œæ¬§æ´²ç”µä¿¡å­¦é™¢) ä¼šè®®ï¼šusenix 2022 ABSTRACT äººä»¬ä¼šæœŸæœ›åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œå¯¹äºäºŒè¿›åˆ¶ç›¸ä¼¼æ€§é—®é¢˜çš„ç ”ç©¶ï¼Œå…¶æœ‰å¯èƒ½å›ç­”ä¸€äº›ç ”ç©¶é—®é¢˜ï¼Œè¿™äº›é—®é¢˜è¶…å‡ºäº†è®ºæ–‡ä¸­æå‡ºçš„éå¸¸å…·ä½“çš„æŠ€æœ¯ï¼Œå¯ä»¥æ¨å¹¿åˆ°æ•´ä¸ªç ”ç©¶é¢†åŸŸã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªç›®æ ‡å—åˆ°è®¸å¤šæŒ‘æˆ˜ï¼Œä»å¯é‡å¤æ€§é—®é¢˜åˆ°ç ”ç©¶ç»“æœçš„ä¸é€æ˜æ€§ï¼Œé˜»ç¢äº†ç ”ç©¶æœ‰æ„ä¹‰å’Œæœ‰æ•ˆåœ°è¿›å±•ã€‚ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬å¼€å§‹ç€æ‰‹äºå¯¹state-of-the-artåšè¿™ä¸ªé¢†åŸŸçš„ç¬¬ä¸€ä¸ªæµ‹è¯•æ€§ç ”ç©¶ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ç³»ç»ŸåŒ–äº†ç°å­˜çš„ç ”ç©¶æˆæœï¼› æˆ‘ä»¬é€‰å®šäº†ä¸€äº›ç›¸å…³æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä»£è¡¨äº†ä¸‰ä¸ªä¸åŒç ”ç©¶ç¤¾åŒºæœ€è¿‘æå‡ºçš„å„ç§è§£å†³æ–¹æ¡ˆï¼› é’ˆå¯¹ç°æœ‰çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬é‡æ„äº†æ–¹æ³•å¹¶æ„å»ºäº†æ–°çš„æ•°æ®é›†ï¼Œä»¥ä¾¿å®ç°æ›´ä¸ºå…¬å¹³çš„å¯¹æ¯”æ•ˆæœã€‚ INTRODUCTION Binary function similarityï¼šå°†ä¸€å¯¹å‡½æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä½œä¸ºè¾“å…¥ï¼Œå®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼æ€§å€¼ä½œä¸ºè¾“å‡ºã€‚ Binary function similarityæŠ€æœ¯é¢ä¸´çš„æŒ‘æˆ˜ï¼š å®é™…æƒ…å†µä¸‹ï¼Œè½¯ä»¶ä¼šè¢«ä¸åŒç¼–è¯‘å™¨ã€é“¾æ¥å·¥å…·ä»¥åŠä¼˜åŒ–å™¨ç¼–è¯‘ï¼› ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¾‹å¦‚IoTï¼Œè½¯ä»¶ä¼šè¢«ç¼–è¯‘ä¸ºä¸åŒæ¶æ„çš„æŒ‡ä»¤ï¼› Binary function similarityçš„ä½œç”¨ï¼š åœ¨ç³»ç»Ÿå®‰å…¨ç ”ç©¶é¢†åŸŸï¼Œè®¸å¤šç ”ç©¶é—®é¢˜éœ€è¦ä»¥Binary function similarityä½œä¸ºæ ¸å¿ƒæ„ä»¶ã€‚ èŠ‚çœé€†å‘æ—¶é—´ã€‚åœ¨é€†å‘å·¥ç¨‹ä¸­ç»å¸¸éœ€è¦å¤„ç†é™æ€é“¾æ¥çš„stripped binariesï¼ŒBinary function similarityå¯ç”¨äºå°†ä¸€ä¸ªæœªçŸ¥çš„å‡½æ•°ä¸å…ˆå‰ç”Ÿæˆçš„æ•°æ®åº“ä¸­çš„ï¼ˆæœ‰æ ‡ç­¾çš„ï¼‰å‡½æ•°è¿›è¡ŒåŒ¹é…ï¼Œå¯¹åº”åˆ°å…ˆå‰ç”Ÿæˆçš„æ•°æ®åº“ä¸­ï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„æ—¶é—´ï¼› ï¼ˆstripped binariesï¼šç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯¹äºç¨‹åºçš„æ‰§è¡Œæ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œç›¸åï¼Œå®ƒå¯¹äºè°ƒè¯•å’Œå‘ç°ç¨‹åºä¸­çš„é—®é¢˜æˆ–æ¼æ´æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚å‰¥ç¦»çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆstripped binariesï¼‰æ˜¯ä¸€ä¸ªæ²¡æœ‰è¿™äº›è°ƒè¯•ç¬¦å·çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› æ­¤ä½“ç§¯è¾ƒå°ï¼Œè€Œä¸”å¯èƒ½æ¯”æ²¡æœ‰å‰¥ç¦»çš„äºŒè¿›åˆ¶æ–‡ä»¶æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚å‰¥ç¦»åçš„äºŒè¿›åˆ¶æ–‡ä»¶å¾ˆéš¾è¢«åæ±‡ç¼–æˆ–é€†å‘å·¥ç¨‹ï¼Œè¿™ä¹Ÿä½¿å…¶éš¾ä»¥å‘ç°ç¨‹åºä¸­çš„é—®é¢˜æˆ–æ¼æ´ã€‚ï¼‰ ç”¨äºé«˜æ ¡æ£€ç´¢ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ¼æ´å‡½æ•°ã€‚ç»™å®šä¸€ä¸ªæœ‰é—®é¢˜çš„å‡½æ•°ï¼ŒBinary function similarityå¯ç”¨äºåœ¨ç¬¬ä¸‰æ–¹åº“ä¸­å¿«é€Ÿæ£€ç´¢ç›¸ä¼¼å‡½æ•°ï¼› ç”¨äºè½¯ä»¶åˆ†æä»¥åŠæ¶æ„è½¯ä»¶åˆ†ç±»ã€‚ æå‡ºé—®é¢˜ï¼š åœ¨ä½¿ç”¨ç›¸åŒè¯„ä¼°æ ‡å‡†ã€ç›¸åŒæ•°æ®é›†çš„å‰æä¸‹ï¼Œä¸åŒçš„æ–¹æ³•å¦‚ä½•æ¯”è¾ƒï¼Ÿ ä¸ç®€å•çš„æ¨¡ç³Šå“ˆå¸Œç®—æ³•ç›¸æ¯”ï¼ŒåŸåˆ›çš„æœºå™¨å­¦ä¹ ç®—æ³•çš„ä¸»è¦è´¡çŒ®åœ¨å“ªï¼Ÿ ä¸åŒç‰¹å¾é›†çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ ä¸åŒçš„æ–¹æ³•åœ¨ä¸åŒçš„ä»»åŠ¡ä¸­æ˜¯å¦æ•ˆæœæ›´å¥½ï¼Ÿ ç›¸è¾ƒäºåŒä¸€æ¶æ„æŒ‡ä»¤ä¸‹ï¼Œä¸åŒæ¶æ„æŒ‡ä»¤ç¼–è¯‘çš„äºŒè¿›åˆ¶çš„æ¯”è¾ƒæ˜¯å¦æ›´å›°éš¾ï¼Ÿ æ˜¯å¦æœ‰ä»»ä½•å…·ä½“çš„ç ”ç©¶æ–¹å‘çœ‹èµ·æ¥æ›´æœ‰å¸Œæœ›æˆä¸ºè®¾è®¡æ–°æŠ€æœ¯çš„æœªæ¥æ–¹å‘ï¼Ÿ å¾ˆé—æ†¾ï¼Œæˆ‘ä»¬å‘ç°ç›®å‰çš„ç ”ç©¶å¹¶ä¸èƒ½å›ç­”ä¸Šè¿°é—®é¢˜ã€‚ ç°æœ‰ç ”ç©¶å­˜åœ¨çš„ä¸è¶³ï¼š å®éªŒæ–¹æ³•ã€å®éªŒç»“æœä¸é€æ˜ï¼Œéš¾å¤ç°ã€‚å®éªŒæ‰€éœ€çš„å·¥å…·ã€è¶…å‚æ•°ä»¥åŠæ•°æ®é›†é€šå¸¸éƒ½æ˜¯ä¸å…¬å¼€çš„ï¼Œä¸€äº›å·¥ä½œçš„æ¨ªå‘æ¯”è¾ƒå¤ªå°‘ç”šè‡³è·Ÿè‡ªå·±ä»¥å‰å‘çš„æ–‡ç« æ¯”ï¼› ç°æœ‰å·¥ä½œçš„è¯„ä¼°æ–¹æ³•å¾€å¾€ä¹Ÿæ˜¯æ¨¡ç³Šä¸æ¸…çš„ã€‚ä¸åŒçš„è®ºæ–‡ä¸­ï¼Œä»»åŠ¡ç›®æ ‡ã€ç¯å¢ƒè®¾ç½®ã€æ¦‚å¿µã€é¢—ç²’åº¦ã€æ•°æ®é›†çš„å¤§å°å’Œç‰¹æ€§ä»¥åŠè¯„ä¼°æ–¹æ³•å¾€å¾€éƒ½ä¸åŒï¼Œå› æ­¤ï¼Œå³ä½¿æ˜¯è®ºæ–‡ä¸­æœ€åŸºç¡€çš„å›¾åƒä¹ŸåŸºæœ¬ä¸èƒ½ç›´æ¥æ¯”è¾ƒã€‚æ‰€ä»¥ï¼Œå½“æ–°çš„å·¥ä½œå£°ç§°æ¯”æ—§å·¥ä½œè¡¨ç°æ›´å¥½æ—¶ï¼Œè¿™ä¸ªä¼˜è¶Šæ€§æ˜¯å¦ä»…ä»…æ˜¯é’ˆå¯¹æŸä¸ªç‰¹æ®Šçš„é¢†åŸŸä¸å¾—è€ŒçŸ¥ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œä¸€äº›å·¥ä½œå‡½æ•°å¯¹çš„é€‰æ‹©æ–¹æ³•ä»¥åŠè®­ç»ƒé›†çš„æ„æˆå¹¶æ²¡æœ‰è¯¦ç»†è¯´æ˜ï¼Œä½¿å¾—å¤ç°å˜å¾—æ›´åŠ å›°éš¾ã€‚ä¸€ä¸ªæ–¹æ³•ç»“æœæ›´ä¼˜ç§€çš„åŸå› æ˜¯å› ä¸ºå…¶åŸåˆ›æ€§è¿˜æ˜¯å…¶ä»–å› ç´ ä¸å¾—è€ŒçŸ¥ï¼› é¢†åŸŸæ•´ä½“è¾ƒä¸ºæ··ä¹±ã€‚æ¯ä¸ªæ–°çš„è§£å†³æ–¹æ¡ˆéƒ½é‡‡ç”¨äº†æ›´å¤æ‚çš„æŠ€æœ¯ï¼Œæˆ–å¤šç§æŠ€æœ¯çš„æ–°ç»„åˆã€‚æ–°æ–¹æ³•çš„æˆåŠŸå¾ˆéš¾ç¡®å®šæ˜¯ç”±è¾ƒç®€å•çš„æ–¹æ³•çš„å®é™…å±€é™æ€§å¯¼è‡´çš„ï¼Œè¿˜æ˜¯å…¶åˆ›æ–°æ€§ã€‚ç°æœ‰å‡ åç§æ–¹æ³•å­˜åœ¨ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ç¡®å®šå“ªäº›æ–¹æ³•åœ¨å“ªäº›ç¯å¢ƒè®¾ç½®ä¸‹æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œå“ªäº›ä¸è¡Œã€‚ â€œæ¯ä¸ªäººéƒ½å£°ç§°ä»–ä»¬çš„æ–¹æ³•æœ€å¥½ã€‚â€ æœ¬æ–‡è´¡çŒ®ï¼š â€‹ å®ç°äº†åœ¨æœ¬é¢†åŸŸç¬¬ä¸€ä¸ªç³»ç»ŸåŒ–çš„è¯„ä¼°ã€‚åœ¨ç›¸åŒçš„å·¥å…·æ¡†æ¶ä¸‹å¤ç°äº†10ä¸ªæœ‰ä»£è¡¨æ€§çš„æ–¹æ³•ï¼ˆåŠå…¶å˜ç§æ–¹æ³•ï¼‰ï¼Œå¹¶ä½¿ç”¨æ–°å®šä¹‰çš„åŒä¸€æ•°æ®é›†æµ‹è¯•ã€‚ ä¸€äº›ç»“è®ºï¼š ç®€å•çš„æ–¹æ³•ï¼ˆä¾‹å¦‚æ¨¡ç³Šå“ˆå¸Œï¼‰åœ¨ç®€å•çš„ç¯å¢ƒä¸‹è¡¨ç°å¾ˆå¥½ï¼Œä½†éš¾ä»¥åº”å¯¹å¤æ‚çš„ç¯å¢ƒï¼› GNNå‡ ä¹åœ¨æ‰€æœ‰ä»»åŠ¡é‡Œéƒ½å–å¾—äº†æœ€å¥½çš„æˆç»©ï¼› è®¸å¤šæœ€è¿‘å‘è¡¨çš„è®ºæ–‡åœ¨åŒä¸€æ•°æ®é›†ä¸Šæµ‹è¯•æ—¶ï¼Œéƒ½æœ‰éå¸¸ç›¸ä¼¼çš„å‡†ç¡®æ€§ï¼Œå°½ç®¡ä»–ä»¬ä¹‹ä¸­çš„ä¸€äº›å£°ç§°è‡ªå·±æœ‰äº†æé«˜ã€‚ Measuring Function Similarityï¼ˆé¢†åŸŸåŸºç¡€çŸ¥è¯†ï¼‰ 1. å‡½æ•°ç›¸ä¼¼åº¦è¯„ä¼°æ–¹æ³• 1.1 ç›´æ¥è¯„ä¼°ï¼ˆDirect Comparsionï¼‰ï¼š ç”¨æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ æ¨¡å‹åšç›¸ä¼¼æ€§å‡½æ•°ï¼Œé€šè¿‡å¯¹æ¨¡å‹çš„è®­ç»ƒæ¥ä½¿å…¶è¾“å…¥ä¸¤ä¸ªå‡½æ•°ï¼Œè¾“å‡ºä¸¤ä¸ªå‡½æ•°çš„ç›¸ä¼¼æ€§ã€‚ 1.1 é—´æ¥è¯„ä¼°ï¼ˆIndirect Comparsionï¼‰ï¼š é—´æ¥è¯„ä¼°å°†è¾“å…¥å‡½æ•°çš„ç‰¹å¾å‹ç¼©åˆ°ä½ç»´åº¦è¡¨ç¤ºï¼Œè¿™äº›è¡¨ç¤ºå¯ä»¥ä½¿ç”¨ç®€å•çš„è·ç¦»æµ‹é‡æ–¹æ³•è¯„ä¼°ç›¸ä¼¼åº¦ï¼Œä¾‹å¦‚æ¬§æ°è·ç¦»æˆ–ä½™å¼¦è·ç¦»ã€‚ Fuzzy hashesï¼šä¸€ä¸ªå¾ˆå…¸å‹çš„ä½ç»´åº¦ç‰¹å¾è¡¨ç¤ºæ–¹æ³•å°±æ˜¯å“ˆå¸Œæ¨¡ç³Šã€‚ç‰¹æ®Šçš„fuzzy hashesï¼Œå¦‚ssdeepï¼Œç”¨äºåˆ¤æ–­ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦è¿‘ä¼¼çš„hashã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶æ¯”å¦ä¸€ä¸ªæ–‡ä»¶å¤šä¸€ä¸ªç©ºæ ¼ï¼Œæ™®é€šçš„hashæ˜¯ä¼šå®Œå…¨ä¸åŒï¼Œè€Œæ¨¡ç³Šhash å¯èƒ½ä¼šå¾ˆç›¸ä¼¼æˆ–è€…å®Œå…¨ä¸€æ ·ã€‚ Code embeddingï¼šä»£ç åµŒå…¥ï¼Œåº”ç”¨NLPçš„æ–¹æ³•ï¼Œå°†æ±‡ç¼–çœ‹åšæ–‡æœ¬ï¼Œå¯¹æ¯ä¸ªä»£ç å—æˆ–è€…æŒ‡ä»¤åšembeddingã€‚ Graph embeddingï¼š å›¾åµŒå…¥ï¼Œä½¿ç”¨ä»£ç å›¾ç»“æ„ï¼Œé€šè¿‡ä¼ ç»Ÿæ–¹æ³•æˆ–è€…GNNæ¥ç”Ÿæˆembeddingã€‚ 2. å‡½æ•°è¡¨ç¤ºæ–¹æ³• ç›´æ¥ä½¿ç”¨raw bytesï¼› ä½¿ç”¨é€šè¿‡raw bytesåç¼–è¯‘å¾—åˆ°çš„æ±‡ç¼–ä»£ç ï¼› Normalized assemblyï¼Œå°†æ±‡ç¼–ä»£ç ä¸­çš„å¸¸æ•°ç­‰æ›¿æ¢ï¼Œå‡è½»æ“ä½œæ•°ä¸æ“ä½œä¹‹é—´çš„è”ç³»ï¼› Intermediate representationsï¼Œä¸­é—´è¡¨ç¤ºï¼› å›¾ç»“æ„ï¼Œä¾‹å¦‚CFGï¼ŒDFGç­‰ï¼› åŠ¨æ€åˆ†æï¼Œé€šè¿‡è¿è¡Œä¸­çš„å‡½æ•°æ¥æ¯”è¾ƒï¼› Symbolic executionï¼Œé€šè¿‡ç¬¦å·æ‰§è¡Œåˆ†æï¼› ç­›é€‰ç°æœ‰æ–¹æ³• å°½ç®¡ç°æœ‰æ•°ç™¾ç¯‡çš„è®ºæ–‡ï¼Œä½†å…¶ä¸­çš„å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯å¯¹æŸä¸ªæŠ€æœ¯åšå¾®è°ƒï¼Œæ•…è¯¥é¢†åŸŸçš„åŸåˆ›æ–¹æ³•å¹¶ä¸æ˜¯å¾ˆå¤šã€‚ 1. ç­›é€‰æ ‡å‡† Scalability and real-world applicabilityï¼ˆå¯æ‰©å±•æ€§å’Œç°å®ä¸–ç•Œçš„é€‚ç”¨æ€§ï¼‰ï¼šä¸å…³æ³¨å¤©ç”Ÿé€Ÿåº¦è¾ƒæ…¢çš„æ–¹æ³•ï¼Œåªå…³æ³¨è¯¸å¦‚é‚£äº›åŸºäºåŠ¨æ€åˆ†æã€ç¬¦å·æ‰§è¡Œæˆ–é«˜å¤æ‚åº¦å›¾ç›¸å…³ç®—æ³•çš„æ–¹æ³•ï¼› Focus on representative approaches and not on specifific papersï¼šåªå…³æ³¨æœ‰ä»£è¡¨æ€§çš„æ–¹æ³•ï¼› Cover different communitiesï¼šåœ¨æˆ‘ä»¬çš„è¯„ä¼°ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åŒ…æ‹¬æ¥è‡ªç³»ç»Ÿå®‰å…¨ã€ç¼–ç¨‹è¯­è¨€åˆ†æå’Œæœºå™¨å­¦ä¹ ç¤¾åŒºçš„ä»£è¡¨æ€§ç ”ç©¶ã€‚ä¸ºäº†å®Œæ•´æ€§ï¼Œæˆ‘ä»¬è¿˜è€ƒè™‘äº†è¡Œä¸šæå‡ºçš„æ–¹æ³•ï¼› Prioritize latest trendsï¼šè€ƒè™‘æœ€æ–°çš„ï¼Œå°¤å…¶æ˜¯AIæ–¹æ³•ã€‚ 2. ç­›é€‰æ–¹æ³• ä¸Šå›¾é€‰å®šäº†30ä¸ªæ–¹æ³•ï¼Œæ¥ç€æˆ‘ä»¬ä¼šä»è¿™30ä¸ªæ–¹æ³•ä¸­ç­›é€‰å‡º10ä¸ªæœ€æœ‰ä»£è¡¨æ€§çš„æ–¹æ³•æ¥æµ‹è¯•ã€‚ è¯¥å›¾çš„å·¦ä¾§å¯¹ä¸åŒç ”ç©¶æœºæ„æå‡ºçš„æ–¹æ³•è¿›è¡Œäº†åˆ†ç±»ï¼Œç”±å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œï¼ˆè…¾è®¯ã€è°·æ­Œï¼‰ï¼Œç®­å¤´ä»£è¡¨äº†æŒ‡å‘çš„ä¸€æ–¹æ‹¿è¢«æŒ‡å‘ä¸€æ–¹çš„ç»“æœè¿›è¡Œäº†æ¯”è¾ƒï¼› è¯¥å›¾çš„å³ä¾§Yè½´ä»£è¡¨å‡ºç‰ˆæ—¶é—´ï¼ŒXè½´ä»£è¡¨å‡½æ•°çš„è¾“å…¥å½¢å¼ï¼Œä¸åŒçš„è‰²å—ä»£è¡¨ä¸åŒçš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹å¼ï¼› ä¸­æ‹¬å·[]ä»£è¡¨çš„tagæ ‡æ³¨äº†ä¸åŒçš„ç ”ç©¶ç¾¤ä½“ï¼Œä¾‹å¦‚Sä»£è¡¨Securityï¼ŒSEä»£è¡¨Software engã€‚ ä»è¯¥å›¾ä¸­å¯ä»¥å¾—å‡ºï¼š å·¦å›¾ä¸­é—´çš„äºŒè¿›åˆ¶æ¯”è¾ƒå·¥å…·éƒ½æ˜¯ä¸ºç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå®Œæ•´äºŒè¿›åˆ¶æ–‡ä»¶è€Œè®¾è®¡çš„ï¼ˆä¾‹å¦‚ï¼Œå®ƒä»¬ä½¿ç”¨å›¾ç»“æ„ï¼‰ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½æ˜¯é’ˆå¯¹å•æŒ‡ä»¤é›†ç»“æ„çš„ã€‚ä½†æ˜¯ä¸€äº›åšäº†è·¨æŒ‡ä»¤é›†å’Œå‡½æ•°æ¯”è¾ƒçš„paperä»æ‹¿è¿™äº›æ–¹æ³•æ¥æ¯”è¾ƒï¼Œæ˜¾ç„¶ä¼šå¾—å‡ºä¸æ­£ç¡®çš„ç»“è®ºï¼› ä»å·¦å›¾å¯ä»¥å¾—å‡ºï¼Œä¸åŒç ”ç©¶æœºæ„ä¹‹é—´å¾ˆå°‘è·¨é¢†åŸŸæ¯”è¾ƒï¼› ä»å³å›¾å¯ä»¥çœ‹å‡ºï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œç®—æ³•çš„å¤æ‚æ€§ä»¥åŠAIç®—æ³•çš„ä½¿ç”¨æ¯”ä¾‹éƒ½åœ¨å¢åŠ ã€‚ 3. ç­›é€‰ç»“æœ æ–¹æ³•ç±»å‹ æ–¹æ³•/ä½œè€…åç§° Bytes fuzzy hashing Catalog1 CFG fuzzy hashing FunctionSimSearch Attributed CFG and GNN Gemini Attributed CFG, GNN, and GMN Li et al. 2019 IR, data flflow analysis and neural network Zeek Assembly code embedding Asm2Vec Assembly code embedding and self-attentive encoder SAFE Assembly code embedding, CFG and GNN Massarelli et al.2019 CodeCMR BinaryAI hierarchical transformer and micro-traces Trex æµ‹è¯• 1. å¤ç°æ–¹æ³• å¤ç°çš„å‡ ä¸ªé˜¶æ®µï¼šbinary analysisï¼Œthe feature extractionï¼Œthe machine-learning implementations. äºŒè¿›åˆ¶åˆ†æä»¥åŠç‰¹å¾æå–ä½¿ç”¨çš„æ˜¯IDA Pro 7.3ä»¥åŠå…¶Pythonæ¥å£ã€‚ æœ‰å…³æˆ‘ä»¬æ‰€æœ‰å®ç°çš„å…¶ä»–æŠ€æœ¯ç»†èŠ‚ï¼Œä»¥åŠæœ‰å…³æˆ‘ä»¬åŠªåŠ›è”ç³»ç›¸åº”ä½œè€…çš„ä¿¡æ¯ä»¥åŠæœ‰å…³ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹çš„æ³¨æ„äº‹é¡¹ï¼Œè¯·å‚è§ï¼š How Machine Learning Is Solving the Binary Function Similarity Problem â€” Artifacts and Additional Technical Details. https://github.com/Cisco-Talos/binary_function_similarity. 2. æ•°æ®é›† ä¸ºäº†ä¸ç°å®ä¸–ç•Œçš„å¤æ‚æ€§ä¸å˜æ•°ç›¸åŒ¹é…ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ–°çš„æ•°æ®é›†Dataset-1å’ŒDataset-2ï¼Œå…¶åŒ…å«äº†äºŒè¿›åˆ¶æ£€æµ‹é¢†åŸŸçš„é—®é¢˜ï¼š â€‹ å¤šç§ç¼–è¯‘å™¨å’Œç‰ˆæœ¬ï¼› â€‹ å¤šç§ç¼–è¯‘ä¼˜åŒ–å™¨ï¼› â€‹ å¤šç§æŒ‡ä»¤é›†æ¶æ„å’Œbitness(32ä½è¿˜æ˜¯64ä½)ï¼› â€‹ ä¸åŒç§ç±»çš„ä»£ç ï¼ˆå‘½ä»¤è¡Œ or GUIï¼‰ï¼› Dataset-1ç”¨äºè®­ç»ƒï¼ŒDataset-1å’ŒDataset-2ç”¨äºæµ‹è¯•ã€‚ 3. å®éªŒç¯å¢ƒè®¾ç½® 3.1 å®šä¹‰6ä¸ªæ£€æµ‹ä»»åŠ¡ åºå· ä»»åŠ¡åç§° ä½œç”¨ 1 XO å¾…æµ‹å‡½æ•°å¯¹ä»…ä¼˜åŒ–å™¨ä¸åŒï¼Œç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨ç‰ˆæœ¬ã€æŒ‡ä»¤é›†æ¶æ„å’Œbitnesséƒ½ç›¸åŒ 2 XC å¾…æµ‹å‡½æ•°å¯¹ä¼˜åŒ–å™¨ï¼Œç¼–è¯‘å™¨å’Œç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒï¼ŒæŒ‡ä»¤é›†æ¶æ„å’Œbitnessç›¸åŒ 3 XC+XB å¾…æµ‹å‡½æ•°å¯¹ä¼˜åŒ–å™¨ï¼Œç¼–è¯‘å™¨å’Œç¼–è¯‘å™¨ç‰ˆæœ¬ä»¥åŠbitnessä¸åŒï¼ŒæŒ‡ä»¤é›†æ¶æ„ç›¸åŒ 4 XA å¾…æµ‹å‡½æ•°å¯¹æŒ‡ä»¤é›†æ¶æ„å’Œbitnessä¸åŒï¼Œå…¶ä»–ç›¸åŒ 5 XA+XO å¾…æµ‹å‡½æ•°å¯¹æŒ‡ä»¤é›†æ¶æ„ã€bitnesså’Œä¼˜åŒ–å™¨ä¸ç”¨ï¼Œå…¶ä»–ç›¸åŒ 6 XM å¾…æµ‹å‡½æ•°å¯¹æ‰€æœ‰æ€§è´¨éƒ½å¯èƒ½ä¸åŒ 3.2 æµ‹è¯•æ–¹æ³• æ¯ç§æ–¹æ³•çš„æµ‹è¯•åŒ…å«ä¸¤ä¸ªè¿‡ç¨‹ï¼š AUCå’ŒROCå›¾ï¼› MRRå’ŒRecall@Kã€‚ 4. æ¨¡ç³Šå“ˆå¸Œæ–¹æ³•æ¯”è¾ƒç»“æœ æ¯”è¾ƒäº†ä¸¤ä¸ªæ–¹æ³•ï¼šCatalog1å’ŒFunctionSimSearchã€‚ 4.1 é¦–å…ˆæ¯æ¬¡åªå˜åŠ¨ä¸€ä¸ªå˜é‡ï¼š Bï¼šRow Bytesï¼›Gï¼šgraphletsï¼Œè¿é€šå›¾ç»“æ„ï¼› Mï¼š mnemonicsï¼›ç¬¦å· Iï¼šimmediates ã€‚ ç”±å›¾å¯çŸ¥ï¼Œåœ¨å•æŒ‡ä»¤é›†æ¶æ„çš„æ¡ä»¶ä¸‹å³ä½¿ç®€å•çš„row bytesè¾“å…¥ä¹Ÿèƒ½å–å¾—è¾ƒå¥½æ•ˆæœï¼Œåœ¨å¤šæŒ‡ä»¤é›†æ¶æ„ä¸‹ä»£ç å›¾ç»“æ„æ˜æ˜¾æ›´å¥½ã€‚ 4.2 æµ‹è¯•3.1ä¸­çš„6ä¸ªä»»åŠ¡ å¯ä»¥çœ‹åˆ°ï¼š å½“é¢å¯¹å¤šå˜é‡ä¸åŒçš„ä»»åŠ¡æ—¶ç®€å•çš„æ–¹æ³•å¼€å§‹å˜å¾—ä¸å¥æ•ˆäº†ï¼ŒåŒæ—¶FSSåœ¨é¢å¯¹å¤§å‡½æ•°æ—¶å¯èƒ½ç”±äºå…¶å›¾ç»“æ„çš„è¾“å…¥ä¹Ÿæ›´ä¸ºæœ‰æ•ˆï¼› åŒæ—¶ï¼ŒGMIçš„ä¸‰ä¸ªç‰¹å¾å¼•å…¥å¹¶æ²¡æœ‰æ¯”æœ€åŸºç¡€çš„Gé…ç½®è¾“å…¥æ›´ä¸ºæœ‰æ•ˆï¼› Catalog1é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºFSSçš„ç‰¹å¾æå–æ›´è€—æ—¶ã€‚ 5. æœºå™¨å­¦ä¹ æ–¹æ³•æ¯”è¾ƒç»“æœ ç»“è®ºï¼š GMNå‡ ä¹åœ¨æ‰€æœ‰çš„æµ‹è¯•ä¸‹è¡¨ç°éƒ½æœ€å¥½ï¼Œè€Œä¸”è¿è¡Œæ—¶é—´ä¹Ÿå¾ˆçŸ­ï¼› è¯­è¨€æ¨¡å‹ç›¸å…³çš„æ–¹æ³•åœ¨åŒä¸€æŒ‡ä»¤é›†æ¶æ„ä¸‹çš„è¡¨ç°éƒ½å¾ˆä¸é”™ï¼Œtransformeråœ¨è·¨æŒ‡ä»¤é›†æ¶æ„çš„è¡¨ç°ä¹Ÿä¸é”™ï¼› ç”±Liç­‰äººæå‡ºçš„GNNå˜å¼ç›¸è¾ƒäºGNNï¼ˆs2vï¼‰çš„è¡¨ç°æœ‰æ˜æ˜¾æå‡ï¼› GNNï¼ˆs2vï¼‰ç›¸å…³çš„å®éªŒè¡¨æ˜æ›´å¤æ‚çš„ç‰¹å¾æå–ä¸ä¸€å®šæ›´æœ‰æ•ˆï¼Œä¸”ä½¿ç”¨instruction embeddingä¹Ÿä¸ä¸€å®šæ•ˆæœæ›´å¥½ï¼› ç›¸è¾ƒäºGNNï¼Œä½¿ç”¨äº†ç¼–ç å™¨çš„SAFEåœ¨å°å‡½æ•°ä¸Šçš„è¡¨ç°æ›´å¥½ï¼Œä½†å…¶å­˜åœ¨OOVé—®é¢˜ï¼› 6. æ¼æ´å‘æ˜çš„æ ·ä¾‹ é—®é¢˜ æµ‹è¯•çš„æ—¶å€™ä½¿ç”¨çš„Ranking measuresï¼ˆMRR10ä¸Recall@Kï¼‰çš„ä½œç”¨ï¼Ÿ","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Binary","slug":"Binary","permalink":"http://example.com/tags/Binary/"},{"name":"ML","slug":"ML","permalink":"http://example.com/tags/ML/"}],"author":"Shaw"},{"title":"å¼ºåŒ–å­¦ä¹ ä¹‹ConnectXå››å­æ£‹æ¸¸æˆ","slug":"Connect X","date":"2022-12-01T14:11:52.779Z","updated":"2022-12-01T14:10:34.196Z","comments":true,"path":"2022/12/01/Connect X/","link":"","permalink":"http://example.com/2022/12/01/Connect%20X/","excerpt":"Connect X Time: 2022.11.14 Author: Shaw Connect X | Kaggle ConnectX Getting Started | Kaggle ä¸€ã€ä»»åŠ¡ç®€ä»‹ï¼š ä»»åŠ¡ï¼šå¼ºåŒ–å­¦ä¹ ä»»åŠ¡ï¼Œç±»ä¼¼äº”å­æ£‹çš„è§„åˆ™ï¼ˆä½†æ¯ä¸€æ­¥åªèƒ½ä¸‹æŸä¸€åˆ—çš„æœ€åº•ç«¯çš„ç©ºä½ï¼‰ï¼Œæ¯äººä¸€æ­¥ï¼Œå…ˆäºå¯¹æ‰‹æ¨ªç«–æˆ–æ–œè§’è¿æˆ4ä¸ªå³å¯è·èƒœã€‚","text":"Connect X Time: 2022.11.14 Author: Shaw Connect X | Kaggle ConnectX Getting Started | Kaggle ä¸€ã€ä»»åŠ¡ç®€ä»‹ï¼š ä»»åŠ¡ï¼šå¼ºåŒ–å­¦ä¹ ä»»åŠ¡ï¼Œç±»ä¼¼äº”å­æ£‹çš„è§„åˆ™ï¼ˆä½†æ¯ä¸€æ­¥åªèƒ½ä¸‹æŸä¸€åˆ—çš„æœ€åº•ç«¯çš„ç©ºä½ï¼‰ï¼Œæ¯äººä¸€æ­¥ï¼Œå…ˆäºå¯¹æ‰‹æ¨ªç«–æˆ–æ–œè§’è¿æˆ4ä¸ªå³å¯è·èƒœã€‚ è¯„ä¼°æ–¹æ³•ï¼š æ¯ä¸ªæäº¤ç»™Kaggleçš„ç»“æœï¼ˆä¸€ä¸ªpyæ–‡ä»¶ï¼ŒåŒ…å«äº†agentå¦‚ä½•ä¸‹æ£‹çš„è§„åˆ™ï¼‰åœ¨è·Ÿè‡ªå·±ä¸‹ä¸€æ¬¡æ£‹ï¼Œè¯æ˜å…¶å·¥ä½œæ­£å¸¸åï¼Œä¼šè¢«èµ‹äºˆä¸€ä¸ªskillç­‰çº§ã€‚ ç›¸è¿‘skillç­‰çº§çš„æäº¤ç»“æœä¹‹é—´ä¼šè¿›è¡ŒæŒç»­ä¸æ–­ä¸‹æ£‹PKã€‚ æ¯æ¬¡PKç»“æŸåå°±ä¼šæ›´æ–°åŒæ–¹çš„ç­‰çº§ï¼Œèµ¢åŠ è¾“å‡ã€‚ äºŒã€ç¯å¢ƒå‡†å¤‡ å®‰è£…kaggleç›¸å…³çš„å¼ºåŒ–å­¦ä¹ ç¯å¢ƒï¼š pip install kaggle-environments åˆ›å»ºConnect Xç¯å¢ƒï¼š from kaggle_environments import evaluate, make, utils env = make(\"connectx\",debug=True) #åˆ›å»ºconnectxç¯å¢ƒ env.render() #ä»¥å›¾å½¢åŒ–çš„å½¢å¼æ˜¾ç¤ºå½“å‰ç¯å¢ƒ åˆ›å»ºSubmissionæäº¤å‡½æ•°ï¼š import inspect import os def write_agent_to_file(function, file): with open(file, \"a\" if os.path.exists(file) else \"w\") as f: f.write(inspect.getsource(function)) print(function, \"written to\", file) write_agent_to_file(my_agent, \"submission.py\") ä¸‰ã€Q-learning å¯¹äºç®€å•çš„ä¸‹æ£‹é—®é¢˜ï¼Œè¿™é‡Œé€‰æ‹©Q-learningç®—æ³•è¿›è¡Œå­¦ä¹ ã€‚ åˆ›å»ºconnectXç±»ï¼š class ConnectX(gym.Env): def __init__(self, switch_prob=0.5): self.env = make('connectx', debug=True) self.pair = [None, 'negamax'] self.trainer = self.env.train(self.pair) self.switch_prob = switch_prob # Define required gym fields (examples): config = self.env.configuration self.action_space = gym.spaces.Discrete(config.columns) self.observation_space = gym.spaces.Discrete(config.columns * config.rows) def switch_trainer(self): self.pair = self.pair[::-1] self.trainer = self.env.train(self.pair) def step(self, action): return self.trainer.step(action) def reset(self): # æœ‰switch_probçš„å‡ ç‡æ›´æ¢å…ˆæ‰‹é¡ºåº if random.uniform(0, 1) &lt; self.switch_prob: self.switch_trainer() return self.trainer.reset() def render(self, **kwargs): return self.env.render(**kwargs) åˆ›å»ºQè¡¨ï¼Œç”±äºæ£‹ç›˜çŠ¶æ€è¾ƒå¤šï¼Œè¿™é‡Œä½¿ç”¨åŠ¨æ€Qè¡¨ï¼ˆshape = ï¼ˆnï¼Œ7ï¼‰ï¼‰ï¼š class QTable: def __init__(self, action_space): self.table = dict() self.action_space = action_space def add_item(self, state_key): self.table[state_key] = list(np.zeros(self.action_space.n)) def __call__(self, state): board = state['board'][:] # å¤åˆ¶ä¸€ä»½ board.append(state.mark) # åŠ å…¥markæ ‡å¿—ç€å…ˆæ‰‹è¿˜æ˜¯åæ‰‹ state_key = np.array(board).astype(str) state_key = hex(int(''.join(state_key), 3))[2:]# è½¬ä¸º16è¿›åˆ¶ç¼–ç ï¼Œå»æ‰å‰ç¼€ if state_key not in self.table.keys(): self.add_item(state_key) return self.table[state_key] å®šä¹‰ç›¸å…³è¶…å‚æ•°ï¼š alpha = 0.1 # å­¦ä¹ ç‡ gamma = 0.6 # discount factor Î³ epsilon = 0.99 # Îµ-greedyç­–ç•¥çš„Îµ min_epsilon = 0.1 # æœ€å°Îµ episodes = 10000 # é‡‡æ ·è½®æ•° alpha_decay_step = 1000 alpha_decay_rate = 0.9 # Î±è¡°å‡ç‡ epsilon_decay_rate = 0.9999 # Îµè¡°å‡ç‡ å®šä¹‰è®­ç»ƒè¿‡ç¨‹ï¼š q_table = QTable(env.action_space) all_epochs = [] all_total_rewards = [] all_avg_rewards = [] # Last 100 steps all_qtable_rows = [] all_epsilons = [] for i in tqdm(range(episodes)): state = env.reset() # æ¸…ç©ºæ£‹ç›˜ epochs,total_rewards = 0, 0 epsilon = max(min_epsilon,epsilon*epsilon_decay_rate) # Îµæ¯è½®è¡°å‡ done = False while not done : # å¼€å§‹ä¸€è½®é‡‡æ · # æŸåˆ—ä¸èƒ½ä¸‹çš„æƒ…å†µ == æ­¤åˆ—çš„ç¬¬ä¸€ä¸ªä½ç½®æœ‰æ£‹å­ == (state.board[c] == 0) space_list = [c for c in range(env.action_space.n) if state['board'][c] == 0] if random.uniform(0,1) &lt;= epsilon :# Îµ-greedy-->é€‰æ‹©éšæœºç­–ç•¥ action = choice(space_list) else : # Îµ-greedy-->é€‰æ‹©è´ªå¿ƒç­–ç•¥ row = np.array(q_table(state)[:]) row[[c for c in range(env.action_space.n) if state['board'][c] != 0]] = -1 action = int(np.argmax(row)) next_state,reward,done,info = env.step(action) if done: if reward == 1: # Won reward = 20 elif reward == 0: # Lost reward = -20 else: reward = 1 else: reward = -0.01 old_value = q_table(state)[action] next_max = np.max(q_table(next_state)) # Q-Learning æ›´æ–° new_value = (1 - alpha) * old_value + alpha * (reward + gamma * next_max) q_table(state)[action] = new_value state = next_state epochs += 1 total_rewards += reward all_epochs.append(epochs) all_total_rewards.append(total_rewards) avg_rewards = np.mean(all_total_rewards[max(0, i-100):(i+1)]) all_avg_rewards.append(avg_rewards) all_qtable_rows.append(len(q_table.table)) all_epsilons.append(epsilon) if (i+1) % alpha_decay_step == 0: alpha *= alpha_decay_rate æ ¹æ®Qè¡¨ç”ŸæˆAgentï¼š my_agent = '''def my_agent(observation, configuration): from random import choice q_table = ''' \\ + str(dict_q_table).replace(' ', '') \\ + ''' board = observation.board[:] board.append(observation.mark) state_key = list(map(str, board)) state_key = hex(int(''.join(state_key), 3))[2:] if state_key not in q_table.keys(): return choice([c for c in range(configuration.columns) if observation.board[c] == 0]) action = q_table[state_key] if observation.board[action] != 0: return choice([c for c in range(configuration.columns) if observation.board[c] == 0]) return action ''' with open('submission.py', 'w') as f: f.write(my_agent) ä¸Šäº¤åˆ°Kaggleåç»è¿‡ä¸€æ™šä¸Šçš„åšå¼ˆï¼Œåˆ†æ•°å¾ˆä½ï¼Œç›´æ¥å€’æ•°ï¼š å°è¯•è¯„ä¼°å…¶æ•ˆæœï¼š from submission import my_agent def mean_reward(rewards): win = sum(1 if r[0]>0 else 0 for r in rewards) loss = sum(1 if r[1]>0 else 0 for r in rewards) draw = sum(1 if r[0] == r[1] else 0 for r in rewards) return '&#123;0&#125; episodes- won: &#123;1&#125; | loss: &#123;2&#125; | draw: &#123;3&#125; | winning rate: &#123;4&#125;%'.format( len(rewards), win, loss, draw, (win / len(rewards))*100 ) # Run multiple episodes to estimate agent's performance. print(\"My Agent vs Random Agent:\", mean_reward( evaluate(\"connectx\", [my_agent, \"random\"], num_episodes=100))) print(\"My Agent vs Negamax Agent:\", mean_reward( evaluate(\"connectx\", [my_agent, \"negamax\"], num_episodes=100))) å››ã€DQN åœ¨å°è¯•äº†ç®€å•çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•åï¼Œè¿™é‡Œå°†æ·±åº¦å­¦ä¹ ä¸å¼ºåŒ–å­¦ä¹ ç»“åˆèµ·æ¥ï¼Œç”¨DQNè¿›è¡Œè®­ç»ƒï¼š DQNä½¿ç”¨äº†ç¥ç»ç½‘ç»œæ¥ä»£æ›¿Qè¡¨ï¼Œä½¿ç”¨å‡½æ•°æ›¿ä»£è¡¨æ ¼ï¼Œä»¥æ­¤è§£å†³Qè¡¨è¿‡å¤§çš„é—®é¢˜ï¼š class ConnectX(gym.Env): def __init__(self, switch_prob=0.5): self.env = make('connectx', debug=False) self.pair = [None, 'random'] self.trainer = self.env.train(self.pair) self.switch_prob = switch_prob # Define required gym fields (examples): config = self.env.configuration self.action_space = gym.spaces.Discrete(config.columns) self.observation_space = gym.spaces.Discrete(config.columns * config.rows) def switch_trainer(self): self.pair = self.pair[::-1] self.trainer = self.env.train(self.pair) def step(self, action): return self.trainer.step(action) def reset(self): if np.random.random() &lt; self.switch_prob: self.switch_trainer() return self.trainer.reset() def render(self, **kwargs): return self.env.render(**kwargs) class DeepModel(torch.nn.Module): def __init__(self,num_states,hidden_units,num_actions): super(DeepModel,self).__init__() self.hidden_layers = nn.ModuleList([]) for i in range(len(hidden_units)): if i == 0: self.hidden_layers.append(nn.Linear(num_states,hidden_units[i])) else : self.hidden_layers.append(nn.Linear(hidden_units[i-1],hidden_units[i])) self.output_layers = nn.Linear(hidden_units[-1],num_actions) def forward(self,x): for layer in self.hidden_layers: x = torch.sigmoid(layer(x)) x = self.output_layers(x) return x class DQN: def __init__(self,num_states,num_actions,hidden_units,gamma,max_experiences,min_experiences,batch_size,lr): self.num_actions = num_actions self.batch_size = batch_size self.gamma = gamma self.model = DeepModel(num_states,hidden_units,num_actions) self.optimizer = optim.Adam(self.model.parameters(), lr = lr) self.criterion = nn.MSELoss() self.experience = &#123;'s':[], 'a':[], 'r':[], 's2':[], 'done':[] &#125; self.max_experiences = max_experiences self.min_experiences = min_experiences def preprocess(self, state): result = state.board[:] result.append(state.mark) return result def predict(self,inputs): return self.model(torch.from_numpy(inputs).float()) def train(self,TargetNet): if len(self.experience['s']) &lt; self.min_experiences: return 0 ids = np.random.randint(low=0, high=len(self.experience['s']), size=self.batch_size) states = np.asarray([self.preprocess(self.experience['s'][i]) for i in ids]) actions = np.asarray([self.experience['a'][i] for i in ids]) rewards = np.asarray([self.experience['r'][i] for i in ids]) states_next = np.asarray([self.preprocess(self.experience['s2'][i]) for i in ids]) dones = np.asarray([self.experience['done'][i] for i in ids]) value_next = np.max(TargetNet.predict(states_next).detach().numpy(), axis=1) actual_values = np.where(dones, rewards, rewards+self.gamma*value_next) actions = np.expand_dims(actions, axis=1) actions_one_hot = torch.FloatTensor(self.batch_size, self.num_actions).zero_() actions_one_hot = actions_one_hot.scatter_(1, torch.LongTensor(actions), 1) selected_action_values = torch.sum(self.predict(states) * actions_one_hot, dim=1) actual_values = torch.FloatTensor(actual_values) self.optimizer.zero_grad() loss = self.criterion(selected_action_values, actual_values) loss.backward() self.optimizer.step() def get_action(self,state,epsilon): if np.random.random() &lt; epsilon: return int(np.random.choice([c for c in range(self.num_actions) if state.board[c] == 0])) else : prediction = self.predict(np.atleast_2d(self.preprocess(state)))[0].detach().numpy() for i in range(self.num_actions): if state.board[i] != 0: prediction[i] = -1e7 return int(np.argmax(prediction)) def add_experience(self, exp): if len(self.experience['s']) >= self.max_experiences: for key in self.experience.keys(): self.experience[key].pop(0) for key, value in exp.items(): self.experience[key].append(value) def copy_weights(self, TrainNet): self.model.load_state_dict(TrainNet.state_dict()) def save_weights(self, path): torch.save(self.model.state_dict(), path) def load_weights(self, path): self.model.load_state_dict(torch.load(path)) è®­ç»ƒæ—¶ï¼Œå°†é‡‡æ ·çš„s,r,a,s'å­˜å‚¨ä¸‹æ¥ï¼Œç­‰åˆ°ç§¯ç´¯åˆ°ä¸€å®šæ•°é‡åå†ä»¥batchçš„å½¢å¼è¾“å…¥ç¥ç»ç½‘è·¯ï¼ˆè¿™é‡Œæ˜¯å…¨è¿æ¥å±‚ï¼‰ï¼Œè®­ç»ƒï¼Œæµ‹è¯•ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥æå¤§çš„å¢åŠ è®­ç»ƒçš„è½®æ•°ï¼Œè¿™é‡Œå°è¯•åä¸‡è½®ï¼ˆè®­ç»ƒæ—¶é—´å››å°æ—¶ï¼‰ï¼š äº”ã€RollOut RollOutç®—æ³•æ˜¯å…¸å‹çš„å†³ç­–æ—¶è§„åˆ’ç®—æ³•ï¼Œå…¶æ€è·¯æ˜¯ï¼š å¯¹å½“å‰çŠ¶æ€Sçš„æ‰€æœ‰å¯èƒ½å–å€¼&lt;s,a'&gt;ï¼Œæ¨¡æ‹Ÿè®¡ç®—è‹¥å¹²æ¬¡ï¼Œå–å¾—æ¯ä¸ª&lt;s,a'&gt;çš„å¹³å‡Rewardï¼› é€‰å–Rewardæœ€å¤§çš„åŠ¨ä½œAï¼› æ¨¡æ‹Ÿè®¡ç®—æ—¶ä½¿ç”¨çš„ç­–ç•¥ç§°ä¹‹ä¸ºrolloutç­–ç•¥ï¼Œè¿™é‡Œç›´æ¥é‡‡ç”¨éšæœºç­–ç•¥ã€‚ ä½¿ç”¨å¦‚ä¸‹ç±»è¿›è¡Œè’™ç‰¹å¡æ´›é‡‡æ ·ï¼š class MonteCarlo: def __init__(self, env, gamma, episodes): ''' envæ˜¯å½“å‰éœ€è¦è¿›è¡Œæ¨¡æ‹Ÿé‡‡æ ·çš„çŠ¶æ€ gammaç”¨äºè®¡ç®—Reward episodesæ˜¯æ¯ä¸ª(s,a)çš„é‡‡æ ·æ¬¡æ•° ''' self.state = deepcopy(env) self.all_rewards = [0, 0, 0, 0, 0, 0, 0] self.gamma = gamma self.episodes = episodes def rollout(self, env): # å¯¹å½“å‰çŠ¶æ€è¿›è¡Œrollouté‡‡æ · mean_reward = 0 ini_state = env.env.state[0]['observation'] for i in range(self.episodes): r = 0 gamma = 1 env.set_state(ini_state) state = deepcopy(ini_state) done = False while not done: space_list = [c for c in range(7) if state['board'][c] == 0] action = choice(space_list) next_state, reward, done, info = env.step(action) if done: if reward == 1: r += 20*gamma elif reward == 0: r -= 20*gamma else: r += 1*gamma mean_reward += r else: r -= 0.05*gamma gamma *= self.gamma state = next_state return mean_reward/self.episodes å› ä¸ºMCé‡‡æ ·éœ€è¦åœ¨é‡‡æ ·åå°†ç¯å¢ƒçŠ¶æ€æ¢å¤ï¼Œæ•…åœ¨åŸæœ¬çš„ConnectXç±»ä¸­æ·»åŠ è®¾ç½®çŠ¶æ€æ–¹æ³•ï¼Œå¹¶åˆ é™¤swicth_trainerï¼š class ConnectX(gym.Env): def __init__(self, switch_prob=0.5): self.env = make('connectx', debug=True) self.pair = [None, 'random'] self.trainer = self.env.train(self.pair) self.switch_prob = switch_prob config = self.env.configuration self.action_space = gym.spaces.Discrete(config.columns) self.observation_space = gym.spaces.Discrete( config.columns * config.rows) def step(self, action): return self.trainer.step(action) def set_state(self, init_state): self.env.reset() self.env.state[0]['observation'] = deepcopy(init_state) def reset(self): return self.trainer.reset() def render(self, **kwargs): return self.env.render(**kwargs) è°ƒè¯•æ—¶è®¾ç½®playå‡½æ•°ï¼š def play(num,env,gamma,episodes): result = &#123;'win':0,'loss':0,'draw':0&#125; for i in range(num): #print('[GAME&#123;&#125;]:'.format(i)) done = False state = env.reset() while not done: ini_state = env.env.state[0]['observation'] space_list = [c for c in range(7) if ini_state['board'][c] == 0] R = [] for action in space_list: # rolloutæ¨¡æ‹Ÿé‡‡æ · env.set_state(ini_state) next_state, reward, done, info = env.step(action) mc = MonteCarlo(env, gamma, episodes) reward = reward + gamma*mc.rollout(env) R.append(reward) Action = int(np.argmax(R)) # æ ¹æ®é‡‡æ ·ç»“æœé€‰æ‹©åŠ¨ä½œ env.set_state(ini_state) next_state, reward, done, info = env.step(Action) #print('R = ', R) #print('Action = ', Action) #print(env.render(mode=\"ansi\")) if done: if reward == 1: # Won result['win'] += 1 #print('you win!') elif reward == 0: # Lost result['loss'] += 1 #print('you loss!') else: result['draw'] += 1 #print('draw!') print('My Agent vs Random Agent:', '&#123;0&#125; episodes- won: &#123;1&#125; | loss: &#123;2&#125; | draw: &#123;3&#125; | winning rate: &#123;4&#125;%'.format( num, result['win'], result['loss'], result['draw'], (result['win'] / num)*100 )) å…­ã€é—®é¢˜æ€»ç»“ 1. è®­ç»ƒæ—¶é—´è¿‡é•¿ ä»¥Q-Learningä¸ºä¾‹ï¼Œä¸€ä¸ª10000ä¸ªepisodesçš„è®­ç»ƒè¦è€—æ—¶2å°æ—¶+ï¼Œå¯¹äºä¸€ä¸ªç®€å•çš„å››å­æ£‹è¿‡äºè€—æ—¶ã€‚ å°è¯•ï¼š å°è¯•åœ¨pythonæ–‡ä»¶ä¸­è€Œä¸æ˜¯jupterä¸­è®­ç»ƒï¼šè®­ç»ƒæ€»æ—¶é—´å‡å°‘äº†çº¦2/5ï¼Œæœ‰ä¸€å®šæ•ˆæœï¼› ä½¿ç”¨DQNæ—¶è®­ç»ƒé€Ÿåº¦æ˜æ˜¾å¤§äºQ-leraningï¼ˆè®­ç»ƒåä¸‡è½®è€—æ—¶3å°æ—¶40åˆ†é’Ÿï¼‰ï¼ŒçŒœæƒ³å¯èƒ½æ˜¯ç¥ç»ç½‘ç»œå¯ä»¥ä½¿ç”¨GPUåŠ é€Ÿï¼Œâ€˜æŸ¥è¡¨â€™é€Ÿåº¦æ›´å¿«ï¼› 2. Q-Learningè®­ç»ƒæ•ˆæœä¸ä½³ åœ¨ç»è¿‡10000ä¸ªepisodeè®­ç»ƒåï¼ŒQ-Learningçš„è¡¨ç°å¦‚ä¸‹ï¼š é€šè¿‡å¦‚ä¸‹çš„ä»£ç ï¼Œä½ å¯ä»¥è·Ÿè‡ªå·±çš„agentä¸‹ä¸€å±€ï¼Œå¯ä»¥å‘ç°ï¼Œç»è¿‡ä¸€ä¸‡è½®è®­ç»ƒåçš„Agentæ£‹åŠ›å¾ˆä¸€èˆ¬ï¼Œæ–°æ‰‹äººç±»ä¹Ÿèƒ½è½»æ¾èƒœåˆ©ï¼š while not done: sys.stdout.flush() print(env.render(mode=\"ansi\")) action = int(input('Input your action:(0-6)')) next_state, reward, done, info = env.step(action) if done: if reward == 1: # Won print('you win!') elif reward == 0: # Lost print('you loss!') else: print('draw!') è§‚å¯Ÿè®­ç»ƒæ—¶å¹³å‡Rewardã€Qè¡¨é•¿åº¦å’ŒÎµçš„å˜åŒ–ï¼š å¯ä»¥å‘ç°ï¼Œåœ¨10000è½®episodeçš„è®­ç»ƒä¸­ï¼Œå¹³å‡å¥–åŠ±å§‹ç»ˆåœ¨å›´ç»•0.8ä¸Šä¸‹æ³¢åŠ¨ï¼ŒQè¡¨é•¿åº¦ä¸€ç›´åœ¨å¹³ç¨³å¢åŠ ï¼Œè¿™è¯´æ˜ç›´åˆ°è®­ç»ƒç»“æŸAgentä»æœ‰å¤§é‡æœªè§è¿‡çš„stateè¿›å…¥Qè¡¨ï¼Œæ¨¡å‹è®­ç»ƒè½®æ•°ä¸è¶³ã€‚ å®é™…ä¸Š Connect 4æœ‰å››ç™¾ä¸‡å…†ä¸åŒçš„çŠ¶æ€ï¼ŒQ-learningæ˜¾ç„¶åœ¨æœ‰é™çš„æ—¶é—´ç©ºé—´ä¸‹æ˜¯å–å¾—ä¸äº†ä»€ä¹ˆæœ‰æ•ˆå­¦ä¹ çš„ã€‚ 3. DQNçš„ä¸è¶³ å³ä½¿ä½¿ç”¨DQNè¿›è¡Œäº†åä¸‡è½®çš„è®­ç»ƒï¼Œè€—æ—¶è¿‘4å°æ—¶ï¼ŒDQNçš„ç»“æœä»ä¸ç†æƒ³ï¼š å…¶å®ä¸éš¾ç†è§£ï¼Œå¯¹äºå››ç™¾ä¸‡å…†ä¸ªstateçš„æ£‹ç›˜ï¼Œåä¸‡è½®ä¹Ÿä¸è¿‡æ˜¯\\[1/10^{13}\\]ï¼Œä»è¿‡äºæ¸ºå°ã€‚ å¹¶ä¸”ï¼ŒQ-learningä»¥åŠDQNéƒ½æ˜¯background planningï¼Œå…¶ç®—æ³•å€¾å‘äºå°†æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€çš„æœ€ä½³ç­–ç•¥éƒ½è®¡ç®—å‡ºæ¥ã€‚å®é™…ä¸Šï¼Œåœ¨ä¸‹æ£‹çš„æ—¶å€™å‡ ä¹ç»å¤§å¤šæ•°çŠ¶æ€éƒ½ä¸ä¼šå‡ºç°ç¬¬äºŒæ¬¡ï¼Œä½†ç›¸ä¼¼çš„æ£‹è°±æ ¼å±€å´ä¼šç»å¸¸å‡ºç°ã€‚ æ˜¾ç„¶ï¼Œç›¸è¾ƒäºbackground planningï¼Œdecision-time planningï¼ˆå†³ç­–æ—¶è§„åˆ’ï¼‰ç®—æ³•æ˜¯ä¸ªæ›´åˆé€‚çš„ç®—æ³•ã€‚ decision-time planningåœ¨é‡åˆ°æ¯ä¸ªæ–°çš„çŠ¶æ€Ståå†å¼€å§‹ä¸€ä¸ªå®Œæ•´çš„è§„åˆ’è¿‡ç¨‹ï¼Œå…¶ä¸ºæ¯ä¸ªå½“å‰çŠ¶æ€é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œAtï¼Œåˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€St+1å°±é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œAt+1ï¼Œä»¥æ­¤ç±»æ¨ã€‚åŸºäºå½“å‰çŠ¶æ€æ‰€ç”Ÿæˆçš„valueså’Œpolicyä¼šåœ¨åšå®ŒåŠ¨ä½œé€‰æ‹©å†³ç­–åè¢«ä¸¢å¼ƒï¼Œåœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸­è¿™ä¹ˆåšå¹¶ä¸ç®—ä¸€ä¸ªå¾ˆå¤§çš„æŸå¤±ï¼Œå› ä¸ºæœ‰éå¸¸å¤šçš„çŠ¶æ€å­˜åœ¨ï¼Œä¸”ä¸å¤ªå¯èƒ½åœ¨çŸ­æ—¶é—´å†…å›åˆ°åŒä¸€ä¸ªçŠ¶æ€ï¼Œæ•…é‡å¤è®¡ç®—å¯¼è‡´çš„èµ„æºæµªè´¹ä¼šå¾ˆå°‘ã€‚ 4. éšæœºRollout è¿™é‡Œå°è¯•ä½¿ç”¨ç®€å•çš„RollOutç®—æ³•åå‘ç°ï¼Œå³ä½¿åœ¨rolloutç®—æ³•ä¸­ä½¿ç”¨æœ€ç®€å•çš„éšæœºrolloutç­–ç•¥ï¼Œå¹¶ä¸”æ¯è½®æ¨¡æ‹Ÿä»…ä»…é‡‡æ ·1æ¬¡ï¼Œæ‰€å–å¾—çš„çš„ç»“æœå°±æ¯”è®­ç»ƒäº†4ä¸ªå°æ—¶çš„DQNå¥½å¾ˆå¤šã€‚ åœ¨æ¨¡æ‹Ÿé‡‡æ ·è½®æ•°ä¸º1ï¼ˆå¯¹æ¯ä¸ª&lt;s,a&gt;é”®å€¼å¯¹åªé‡‡æ ·1æ¬¡ï¼‰ã€gammaä¸º1çš„æ¡ä»¶ä¸‹ï¼Œä¸Randomå’ŒNegmaxåˆ†åˆ«ä¸‹100å±€çš„èƒœç‡ï¼š æ¨¡å‹ VS Random VS Negmax Q-Learning(ä¸€ä¸‡è½®) 61% 3% DQN(åä¸‡è½®) 70% 6% éšæœºRollout 94% 95%å¹³å±€ ä½†Rolloutç®—æ³•çš„é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå…¶åº”ç”¨çš„è¿‡ç¨‹å°±æ˜¯â€˜è®­ç»ƒâ€™çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡éœ€è¦ç­‰æ¨¡æ‹Ÿé‡‡æ ·å®Œæˆåå†é€‰æ‹©ï¼Œæ•…å…¶ååº”æ—¶é—´ä¼šæ¯”DQNé•¿å¾ˆå¤šã€‚ æ—¶é—´ DQN éšæœºRollout è®­ç»ƒæ‰€éœ€æ—¶é—´ 4h 0 ä¸‹100å±€æ‰€éœ€æ—¶é—´ 1m 40m ä½†å³ä½¿è¿™æ ·ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹å‡ºï¼Œå†³ç­–æ—¶è§„åˆ’æ¯”åå°è§„åˆ’ç®—æ³•æ›´é€‚åˆæ£‹ç±»åœºæ™¯ï¼Œç”±äºæ£‹ç±»å‡ ä¹æ— é™çš„çŠ¶æ€æ•°é‡ï¼Œå†³ç­–æ—¶è§„åˆ’è™½ç„¶ååº”æ›´æ…¢ï¼Œä½†ç»“æœä¹Ÿæ›´ä¸ºåˆç†æœ‰æ•ˆã€‚ 5. å±•æœ› æœ¬æ¬¡çš„å°æ¯”èµ›ä»æœ€ç®€å•çš„Q-Learningç®—æ³•å…¥æ‰‹ï¼Œåˆ°å¼•å…¥äº†ç¥ç»ç½‘ç»œçš„DQNï¼Œæœ€åä»åå°è§„åˆ’å¼•å…¥åˆ°å†³ç­–æ—¶è§„åˆ’ï¼Œå¹¶å®ç°äº†ä¸€ä¸ªç®€å•çš„Rolloutç®—æ³•ã€‚ é¦–å…ˆï¼ŒQ-learningä»¥åŠDQNè¿™ç±»åå°è§„åˆ’ç®—æ³•æ— æ³•æœ‰æ•ˆå¤„ç†çŠ¶æ€è¿‡å¤šçš„ç¯å¢ƒã€‚Q-learningåœ¨æ—¶é—´ä»¥åŠç©ºé—´ä¸Šéƒ½å­˜åœ¨æº¢å‡ºé—®é¢˜ï¼ŒDQNè™½ç„¶å¼•å…¥äº†æ·±åº¦ç¥ç»ç½‘ç»œæ¥æ›¿ä»£Qè¡¨ï¼Œè§£å†³äº†ç©ºé—´ä¸è¶³çš„é—®é¢˜ï¼Œä½†ç”±äºå…¶è®­ç»ƒé€Ÿåº¦æ²¡æœ‰è´¨çš„æ”¹å˜ï¼Œè®­ç»ƒæ—¶é—´ä»ä¸å¯ä¼°é‡çš„é•¿ã€‚ å†³ç­–æ—¶è§„åˆ’é¢å¯¹çŠ¶æ€è¿‡å¤šçš„é—®é¢˜æœ‰æ˜æ˜¾æå‡ã€‚å³ä½¿åœ¨rolloutç®—æ³•ä¸­ä½¿ç”¨æœ€ç®€å•çš„éšæœºrolloutç­–ç•¥ï¼Œå¹¶ä¸”æ¯è½®æ¨¡æ‹Ÿä»…ä»…é‡‡æ ·1æ¬¡ï¼Œæ‰€å–å¾—çš„çš„ç»“æœå°±æ¯”è®­ç»ƒäº†4ä¸ªå°æ—¶çš„DQNå¥½å¾ˆå¤šã€‚ é™¤äº†ä½¿ç”¨ç®€å•çš„éšæœºRolloutç®—æ³•ï¼Œè¿™é‡Œå¯ä»¥æ›¿æ¢rolloutç­–ç•¥æ¥è¿›ä¸€æ­¥æå‡ç»“æœï¼Œå‡å°‘rolloutçš„ååº”æ—¶é—´ã€‚ä»¥åŠï¼Œå¯ä»¥ä½¿ç”¨MCTSï¼Œè’™ç‰¹å¡æ´›æ ‘æœç´¢çš„æ–¹æ³•å†è¿›ä¸€æ­¥æå‡ç»“æœï¼ˆkaggleä¸­å·²æœ‰Notebookï¼Œä¸”åˆ†æ•°ä¸é”™ï¼‰ï¼Œè¿™é‡Œç¯‡å¹…ä»¥åŠæ—¶é—´æœ‰é™ï¼Œä»…åšå±•æœ›ã€‚","categories":[{"name":"Kaggle","slug":"Kaggle","permalink":"http://example.com/categories/Kaggle/"}],"tags":[{"name":"Pytorch","slug":"Pytorch","permalink":"http://example.com/tags/Pytorch/"},{"name":"RL","slug":"RL","permalink":"http://example.com/tags/RL/"}],"author":"Shaw"},{"title":"Facial Keypoints Detection","slug":"Facial Keypoints Detection","date":"2022-11-14T03:24:28.500Z","updated":"2022-11-14T03:24:02.826Z","comments":true,"path":"2022/11/14/Facial Keypoints Detection/","link":"","permalink":"http://example.com/2022/11/14/Facial%20Keypoints%20Detection/","excerpt":"Facial Keypoints Detection Time: 2022.11.11 Author: Shaw Facial Keypoints Detection | Kaggle ä¸€ã€ä»»åŠ¡ç®€ä»‹ï¼š â€‹ ä»»åŠ¡ï¼šæ­£ç¡®æ ‡æ³¨æ‰€ç»™å›¾ç‰‡çš„äººè„¸å…³é”®ä½ç½®ï¼›","text":"Facial Keypoints Detection Time: 2022.11.11 Author: Shaw Facial Keypoints Detection | Kaggle ä¸€ã€ä»»åŠ¡ç®€ä»‹ï¼š â€‹ ä»»åŠ¡ï¼šæ­£ç¡®æ ‡æ³¨æ‰€ç»™å›¾ç‰‡çš„äººè„¸å…³é”®ä½ç½®ï¼› â€‹ å…³é”®ä½ç½®ï¼ˆkeypointï¼‰ï¼š å­—æ®µ è§£é‡Š left_eye_center å·¦çœ¼ä¸­å¿ƒ right_eye_center å³çœ¼ä¸­å¿ƒ left_eye_inner_corner å·¦çœ¼å†…çœ¼è§’ left_eye_outer_corner å·¦çœ¼å¤–çœ¼è§’ right_eye_inner_corner å³çœ¼å†…çœ¼è§’ right_eye_outer_corner å³çœ¼å¤–çœ¼è§’ left_eyebrow_inner_end å·¦çœ‰å†…ä¾§ left_eyebrow_outer_end å·¦çœ‰å¤–ä¾§ right_eyebrow_inner_end å³çœ‰å†…ä¾§ right_eyebrow_outer_end å³çœ‰å¤–ä¾§ nose_tip é¼»å°– mouth_left_corner å˜´å·¦è§’ mouth_right_corner å˜´å³è§’ mouth_center_top_lip ä¸Šå”‡ä¸­å¿ƒ mouth_center_bottom_lip ä¸‹å”‡ä¸­å¿ƒ â€‹ æ•°æ®ç»„æˆï¼š training.csv: åŒ…å«7049å¼ è®­ç»ƒå›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡æœ‰15ä¸ªkeypointåæ ‡ï¼ˆæ¯ä¸ªåæ ‡ç”¨x,yä¸¤åˆ—æ•°æ®è¡¨ç¤ºï¼Œæœ‰äº›æ•°å€¼ç¼ºå¤±ï¼‰ï¼Œå›¾åƒæ•°æ®ä½œä¸ºæŒ‰è¡Œæ’åºçš„åƒç´ åˆ—è¡¨ã€‚æ•…è¡¨æ ¼ä¸­çš„æ•°æ®æ ‡ç­¾æœ‰30åˆ—ï¼Œå›¾ç‰‡æ•°æ®ä¸€åˆ—å…±31åˆ—ï¼› test.csv: åŒ…å«1783å¼ æµ‹è¯•å›¾ç‰‡ï¼› ubmissionFileFormat.csv: å¾…æäº¤çš„æµ‹è¯•ç»“æœã€‚ æ ·ä¾‹ï¼š äºŒã€æ•°æ®åˆ†æå¤„ç† é¦–å…ˆåŠ è½½è®­ç»ƒæ•°æ®ä¸æµ‹è¯•æ•°æ®ï¼š #Load the data train_data = pd.read_csv(TRAIN_PATH) test_data = pd.read_csv(TEST_PATH) print(train_data.columns) print(test_data.columns) 2.1 ç©ºå€¼å¡«è¡¥ å› ä¸ºæ•°æ®ä¸­å­˜åœ¨ç¼ºå¤±å€¼ï¼Œæ•…ç»Ÿè®¡åˆ†æå­˜åœ¨ç¼ºå¤±å€¼çš„åˆ—ï¼š train_data.isnull().any().value_counts() #out: ''' True 28 False 3 dtype: int64 ''' æ•…28ä¸ªå±æ€§åˆ—éƒ½å­˜åœ¨ç¼ºå¤±å€¼ï¼Œæ¥ä¸‹æ¥å¡«è¡¥ç¼ºå¤±ï¼Œâ€˜ffillâ€™æ–¹æ³•è¡¨ç¤ºç”¨å‰é¢ä¸€åˆ—çš„å€¼å¡«è¡¥å½“å‰ä½ç½®çš„å€¼ï¼š train_data.fillna(method = 'ffill',inplace = True) åŒæ—¶ï¼ŒImageåˆ—ä¸­çš„éƒ¨åˆ†æ•°å€¼ç”±â€˜ â€™ç©ºæ ¼æ›¿ä»£ï¼Œè¿™é‡Œå°†å…¶æ›¿æ¢ä¸º0ï¼š train_data['Image_new'] = train_data['Image'].map(lambda x:['0' if i == ' ' else i for i in x.split(' ')]) image_list = np.array(train_data['Image_new'].to_list(),dtype='float') 2.2 ç›¸å…³å›¾ç‰‡å¤„ç†å‡½æ•°ç¼–å†™ IMG_SIZE = 96 # image size 96 x 96 pixels def show_keypoints(image, keypoints): ''' Show image with keypoints Args: image (array-like or PIL image): The image data. (M, N) keypoints (array-like): The keypoits data. (N, 2) ''' plt.imshow(image, cmap='gray') if len(keypoints): plt.scatter(keypoints[:, 0], keypoints[:, 1], s=24, marker='.', c='r') def show_images(df, indxs, ncols=5, figsize=(15,10), with_keypoints=True): ''' Show images with keypoints in grids Args: df (DataFrame): data (M x N) idxs (iterators): list, Range, Indexes ncols (integer): number of columns (images by rows) figsize (float, float): width, height in inches with_keypoints (boolean): True if show image with keypoints ''' plt.figure(figsize=figsize) nrows = len(indxs) // ncols + 1 for i, idx in enumerate(indxs): image = np.fromstring(df.loc[idx, 'Image'], sep=' ').astype(np.float32)\\ .reshape(-1, IMG_SIZE) if with_keypoints: keypoints = df.loc[idx].drop('Image').values.astype(np.float32)\\ .reshape(-1, 2) else: keypoints = [] plt.subplot(nrows, ncols, i + 1) plt.title(f'Sample #&#123;idx&#125;') plt.axis('off') #å…³é—­åæ ‡è½´ plt.tight_layout() # tight_layoutä¼šè‡ªåŠ¨è°ƒæ•´å­å›¾å‚æ•°ï¼Œä½¿ä¹‹å¡«å……æ•´ä¸ªå›¾åƒåŒºåŸŸ show_keypoints(image, keypoints) plt.show() 2.3 åˆ†å‰²æ•°æ®é›† ä½¿ç”¨Datasetå’ŒDataLoaderç›¸å…³pytorchç±»æ¥åŠ è½½æ•°æ®é›†ã€‚ å®šä¹‰æ•°æ®é›†å­ç±»ç”¨äºè‡ªåŠ¨å¤„ç†dataframeæ•°æ®ï¼Œè¿”å›{'image': image, 'keypoints': keypoints}ç±»å‹çš„æ•°æ®ï¼š class FaceKeypointsDataset(Dataset): '''Face Keypoints Dataset''' def __init__(self, dataframe, train=True, transform=None): ''' Args: dataframe (DataFrame): data in pandas dataframe format. train (Boolean) : True for train data with keypoints, default is True transform (callable, optional): Optional transform to be applied on sample ''' self.dataframe = dataframe self.train = train self.transform = transform def __len__(self): return len(self.dataframe) def __getitem__(self, idx): image = np.fromstring(self.dataframe.iloc[idx, -1], sep=' ')\\ .astype(np.float32).reshape(-1, IMG_SIZE) if self.train: keypoints = self.dataframe.iloc[idx, :-1].values.astype(np.float32) else: keypoints = None sample = &#123;'image': image, 'keypoints': keypoints&#125; if self.transform: sample = self.transform(sample) return sample å°†æ•°æ®æ­£åˆ™åŒ–ï¼Œè½¬åŒ–ä¸ºtensorï¼š class Normalize(object): '''Normalize input images''' def __call__(self, sample): image, keypoints = sample['image'], sample['keypoints'] return &#123;'image': image / 255., # scale to [0, 1] 'keypoints': keypoints&#125; class ToTensor(object): '''Convert ndarrays in sample to Tensors.''' def __call__(self, sample): image, keypoints = sample['image'], sample['keypoints'] # swap color axis because # numpy image: H x W x C # torch image: C X H X W image = image.reshape(1, IMG_SIZE, IMG_SIZE) image = torch.from_numpy(image) if keypoints is not None: keypoints = torch.from_numpy(keypoints) return &#123;'image': image, 'keypoints': keypoints&#125; else: return &#123;'image': image&#125; åˆ©ç”¨SubsetRandomSampleræ„å»ºé‡‡æ ·å™¨ï¼Œå¹¶ä½¿ç”¨Dataloaderæ„å»ºæ•°æ®åŠ è½½å™¨ï¼š from torch.utils.data.sampler import SubsetRandomSampler def prepare_train_valid_loaders(trainset,valid_size = 0.2,batch_size = 128): # obtain training indices that will be used for validation # è¿™é‡Œä¿éšœäº†è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„éšæœºåˆ’åˆ† num_train = len(trainset) indices = list(range(num_train)) np.random.shuffle(indices) split = int(np.floot(valid_size*num_train)) train_idx, valid_idx = indices[split:], indices[:split] # define samplers for obtaining training and validation batches # è¿™é‡Œä¿éšœäº†ä¸€è½®epochä¸­æ¯æ¬¡ç”Ÿæˆçš„batchæ˜¯éšæœºçš„ï¼Œé¿å…æ¨¡å‹å­¦ä¹ åˆ°æ•°æ®çš„é¡ºåºç‰¹å¾ train_sampler = SubsetRandomSampler(train_idx) valid_sampler = SubsetRandomSampler(valid_idx) # prepare data loaders train_loader = torch.utils.data.DataLoader(trainset, batch_size=batch_size, sampler=train_sampler) valid_loader = torch.utils.data.DataLoader(trainset, batch_size=batch_size, sampler=valid_sampler) return train_loader, valid_loader æ­£å¼åŠ è½½æ•°æ®ï¼š from torchvision import transforms # how many samples per batch to load batch_size = 128 # percentage of training set to use as validation valid_size = 0.2 # Define a transform to normalize the data tsfm = transforms.Compose([Normalize(), ToTensor()]) # Load the training data and test data trainset = FaceKeypointsDataset(train_data, transform=tsfm) testset = FaceKeypointsDataset(test_data, train=False, transform=tsfm) # prepare data loaders train_loader, valid_loader = prepare_train_valid_loaders(trainset, valid_size, batch_size) test_loader = torch.utils.data.DataLoader(testset, batch_size=batch_size) ä¸‰ã€æ¨¡å‹æ­å»º #Model class CNN(nn.Module): def __init__(self,outputs = 30): super(CNN,self).__init__() self.conv1 = nn.Conv2d(1, 16, 3, padding=1) self.conv2 = nn.Conv2d(16, 32, 3, padding=1) self.conv3 = nn.Conv2d(32, 64, 3, padding=1) self.pool = nn.MaxPool2d(2, 2) self.fc1 = nn.Linear(64*12*12, 1024) self.fc2 = nn.Linear(1024, outputs) self.dropout = nn.Dropout(0.3) def forward(self,x): x = self.pool(F.relu(self.conv1(x))) x = self.pool(F.relu(self.conv2(x))) x = self.pool(F.relu(self.conv3(x))) x = x.view(-1, 64*12*12) x = F.relu(self.fc1(self.dropout(x))) x = self.fc2(self.dropout(x)) return x å››ã€è®­ç»ƒä¸æµ‹è¯• #Train &amp; Validate device = torch.device('cuda' if torch.cuda.is_available() else 'cpu') model = CNN(outputs = 30) model = model.to(device) criterion = nn.MSELoss() optimizer = optim.Adam(model.parameters(), lr=0.003) def train(train_loader,valid_loader,model,criterion,optimizer,n_epochs = 50,saved_model = 'cv_model.pt'): valid_loss_min = np.Inf train_losses = [] valid_losses = [] for epoch in range(n_epochs): train_loss = 0.0 valid_loss = 0.0 #training model.train() for batch in train_loader: optimizer.zero_grad() output = model(batch['image'].to(device)) loss = criterion(output,batch['keypoints'].to(device)) loss.backward() optimizer.step() train_loss += loss.item()*batch['image'].size(0) #validating model.eval() for batch in valid_loader: output = model(batch['image'].to(device)) loss = criterion(output, batch['keypoints'].to(device)) valid_loss += loss.item()*batch['image'].size(0) train_loss = np.sqrt(train_loss/len(train_loader.sampler.indices)) valid_loss = np.sqrt(valid_loss/len(valid_loader.sampler.indices)) train_losses.append(train_loss) valid_losses.append(valid_loss) print('Epoch: &#123;&#125; \\tTraining Loss: &#123;:.6f&#125; \\tValidation Loss: &#123;:.6f&#125;' .format(epoch+1, train_loss, valid_loss)) # save model if validation loss has decreased if valid_loss &lt;= valid_loss_min: print('Validation loss decreased (&#123;:.6f&#125; --> &#123;:.6f&#125;). Saving model ...' .format(valid_loss_min, valid_loss)) torch.save(model.state_dict(), saved_model) valid_loss_min = valid_loss return train_losses, valid_losses å®šä¹‰æµ‹è¯•å‡½æ•°ï¼š def predict(data_loader, model): ''' Predict keypoints Args: data_loader (DataLoader): DataLoader for Dataset model (nn.Module): trained model for prediction. Return: predictions (array-like): keypoints in float (no. of images x keypoints). ''' model.eval() # prep model for evaluation with torch.no_grad(): for i, batch in enumerate(data_loader): # forward pass: compute predicted outputs by passing inputs to the model output = model(batch['image'].to(device)).cpu().numpy() if i == 0: predictions = output else: predictions = np.vstack((predictions, output)) return predictions å®šä¹‰æµ‹è¯•ç»“æœå±•ç¤ºå‡½æ•°ï¼š def view_pred_df(columns, test_df, predictions, image_ids=range(1,6)): ''' Display predicted keypoints Args: columns (array-like): column names test_df (DataFrame): dataframe with ImageId and Image columns predictions (array-like): keypoints in float (no. of images x keypoints) image_id (array-like): list or range of ImageIds begin at 1 ''' pred_df = pd.DataFrame(predictions, columns=columns) pred_df = pd.concat([pred_df, test_df], axis=1) pred_df = pred_df.set_index('ImageId') show_images(pred_df, image_ids) # ImageId as index begin at 1 å®šä¹‰æµ‹è¯•ç»“æœä¸Šäº¤æ–‡ä»¶ç”Ÿæˆå‡½æ•°ï¼š def create_submission(predictions, pred_file='data/preds.csv', sub_file='data/submission.csv', columns=None): ''' Create csv file for submission from predictions Args: predictions (array-like): prediction (no. fo images x 30 keypoints) pred_file (string): file path for prediction csv file sub_file (string): file path for submission csv file columns (dict): provided column names for submission file ''' lookup = pd.read_csv('data/IdLookupTable.csv') if columns == None: columns = train_data.columns[:-1] preds = pd.DataFrame(predictions, index=np.arange(1, len(predictions)+1), columns=columns) preds.to_csv(pred_file) locations = [preds.loc[image_id, feature_name] for image_id, feature_name in lookup[['ImageId', 'FeatureName']].values] locations = [location if location &lt; IMG_SIZE else IMG_SIZE for location in locations] lookup.Location = pd.Series(locations) lookup[['RowId', 'Location']].to_csv(sub_file, index=False) è®­ç»ƒ and é¢„æµ‹ï¼š #Train &amp; Validate train(train_loader, valid_loader, model, criterion, optimizer, n_epochs=50, saved_model='aug_cnn.pt') #Predict model.load_state_dict(torch.load('aug_cnn.pt')) predictions = predict(test_loader,model) create_submission(predictions, pred_file='data/aug_cnn_preds.csv', sub_file='data/aug_cnn_submission.csv') columns = train_data.drop('Image', axis=1).columns view_pred_df(columns, test_data, predictions,range(1,11)) é¢„æµ‹ç»“æœï¼š å°†submissionæ–‡ä»¶ä¸Šäº¤åˆ°Kaggleè¯„åˆ†:","categories":[{"name":"Kaggle","slug":"Kaggle","permalink":"http://example.com/categories/Kaggle/"}],"tags":[{"name":"CV","slug":"CV","permalink":"http://example.com/tags/CV/"},{"name":"Pytorch","slug":"Pytorch","permalink":"http://example.com/tags/Pytorch/"}],"author":"Shaw"},{"title":"IFAttn-Binary code similarity analysis based on interpretable features with attention","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘IFAttn Binary code similarity analysis based on interpretable features with attention","date":"2022-10-02T06:29:22.023Z","updated":"2022-10-03T12:58:53.044Z","comments":true,"path":"2022/10/02/ã€è®ºæ–‡é˜…è¯»ã€‘IFAttn Binary code similarity analysis based on interpretable features with attention/","link":"","permalink":"http://example.com/2022/10/02/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91IFAttn%20Binary%20code%20similarity%20analysis%20based%20on%20interpretable%20features%20with%20attention/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘IFAttn-Binary code similarity analysis based on interpretable features with attention æ—¶é—´ï¼š2021 ä½œè€…ï¼šShuai Jianga , Cai Fua , Yekui Qianï¼ˆåç§‘ï¼‰ æœŸåˆŠï¼šComputers &amp; Securityï¼ˆä¸­ç§‘é™¢ä¸‰åŒºï¼‰ 1.ABSTRACT äºŒè¿›åˆ¶ä»£ç ç›¸ä¼¼æ€§åˆ†æï¼ˆBinary code similarity analysis ï¼ŒBCSAï¼‰æ˜¯ä¸€é¡¹æœ‰æ„ä¹‰çš„è½¯ä»¶å®‰å…¨åˆ†ææŠ€æœ¯ï¼ŒåŒ…æ‹¬æ¼æ´æŒ–æ˜ã€ä»£ç å…‹éš†æ£€æµ‹å’Œæ¶æ„ä»£ç æ£€æµ‹ã€‚ å°½ç®¡è¿‘å¹´æ¥å‡ºç°äº†å¾ˆå¤šåŸºäºç¥ç»ç½‘ç»œçš„å¾ˆå¤šBCSAç ”ç©¶æˆæœï¼Œä»æœ‰ä¸€äº›é—®é¢˜æœªè¢«è§£å†³ã€‚é¦–å…ˆï¼Œå¤§å¤šæ•°æ–¹æ³•æ›´èšç„¦äºfunction pair similarity detection task (FPSDT)ï¼Œè€Œå¿½ç•¥äº†function search task (FST)ï¼Œåè€…å¯¹æ¼æ´æŒ–æ˜æ›´ä¸ºé‡è¦ã€‚è¿˜æœ‰ï¼Œç°æœ‰æ–¹æ³•ä¸ºäº†æé«˜FPSDTçš„å‡†ç¡®ç‡ä½¿ç”¨äº†ä¸€äº›æ— æ³•è§£é‡Šçš„ç¥ç»ç½‘ç»œï¼›æœ€åï¼Œå¤§å¤šæ•°ç°æœ‰æ–¹æ³•æ— æ³•æŠµæŠ—BCSAä¸­çš„äº¤å‰ä¼˜åŒ–å’Œäº¤å‰æ··æ·†ã€‚ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬é¦–æ¬¡æå‡ºäº†ä¸€ä¸ªç»“åˆäº†å¯è§£é‡Šç‰¹å¾å·¥ç¨‹å’Œå¯å­¦ä¹ æ³¨æ„åŠ›æœºåˆ¶çš„é€‚åº”æ€§BCSAæ¶æ„ã€‚æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå…·æœ‰é€‚åº”æ€§çš„ã€å¯Œæœ‰å¯è§£é‡Šæ€§ç‰¹å¾çš„æ¨¡å‹ã€‚æµ‹è¯•ç»“æœè¡¨æ˜å¯¹äºFPSDTå’ŒFSTçš„æ•ˆæœæ¯”state-of-the-artæ•ˆæœæ›´å¥½ã€‚ å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å‘ç°æ³¨æ„æœºåˆ¶åœ¨åŠŸèƒ½è¯­ä¹‰è¡¨è¾¾æ–¹é¢å…·æœ‰çªå‡ºçš„ä¼˜åŠ¿ã€‚ è¯„ä¼°è¡¨æ˜æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥æ˜¾è‘—æå‡FSTåœ¨cross-architecture, cross-optimization, cross-obfuscation and cross-compiler binariesä¸Šçš„è¡¨ç°ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘IFAttn-Binary code similarity analysis based on interpretable features with attention æ—¶é—´ï¼š2021 ä½œè€…ï¼šShuai Jianga , Cai Fua , Yekui Qianï¼ˆåç§‘ï¼‰ æœŸåˆŠï¼šComputers &amp; Securityï¼ˆä¸­ç§‘é™¢ä¸‰åŒºï¼‰ 1.ABSTRACT äºŒè¿›åˆ¶ä»£ç ç›¸ä¼¼æ€§åˆ†æï¼ˆBinary code similarity analysis ï¼ŒBCSAï¼‰æ˜¯ä¸€é¡¹æœ‰æ„ä¹‰çš„è½¯ä»¶å®‰å…¨åˆ†ææŠ€æœ¯ï¼ŒåŒ…æ‹¬æ¼æ´æŒ–æ˜ã€ä»£ç å…‹éš†æ£€æµ‹å’Œæ¶æ„ä»£ç æ£€æµ‹ã€‚ å°½ç®¡è¿‘å¹´æ¥å‡ºç°äº†å¾ˆå¤šåŸºäºç¥ç»ç½‘ç»œçš„å¾ˆå¤šBCSAç ”ç©¶æˆæœï¼Œä»æœ‰ä¸€äº›é—®é¢˜æœªè¢«è§£å†³ã€‚é¦–å…ˆï¼Œå¤§å¤šæ•°æ–¹æ³•æ›´èšç„¦äºfunction pair similarity detection task (FPSDT)ï¼Œè€Œå¿½ç•¥äº†function search task (FST)ï¼Œåè€…å¯¹æ¼æ´æŒ–æ˜æ›´ä¸ºé‡è¦ã€‚è¿˜æœ‰ï¼Œç°æœ‰æ–¹æ³•ä¸ºäº†æé«˜FPSDTçš„å‡†ç¡®ç‡ä½¿ç”¨äº†ä¸€äº›æ— æ³•è§£é‡Šçš„ç¥ç»ç½‘ç»œï¼›æœ€åï¼Œå¤§å¤šæ•°ç°æœ‰æ–¹æ³•æ— æ³•æŠµæŠ—BCSAä¸­çš„äº¤å‰ä¼˜åŒ–å’Œäº¤å‰æ··æ·†ã€‚ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬é¦–æ¬¡æå‡ºäº†ä¸€ä¸ªç»“åˆäº†å¯è§£é‡Šç‰¹å¾å·¥ç¨‹å’Œå¯å­¦ä¹ æ³¨æ„åŠ›æœºåˆ¶çš„é€‚åº”æ€§BCSAæ¶æ„ã€‚æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå…·æœ‰é€‚åº”æ€§çš„ã€å¯Œæœ‰å¯è§£é‡Šæ€§ç‰¹å¾çš„æ¨¡å‹ã€‚æµ‹è¯•ç»“æœè¡¨æ˜å¯¹äºFPSDTå’ŒFSTçš„æ•ˆæœæ¯”state-of-the-artæ•ˆæœæ›´å¥½ã€‚ å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å‘ç°æ³¨æ„æœºåˆ¶åœ¨åŠŸèƒ½è¯­ä¹‰è¡¨è¾¾æ–¹é¢å…·æœ‰çªå‡ºçš„ä¼˜åŠ¿ã€‚ è¯„ä¼°è¡¨æ˜æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥æ˜¾è‘—æå‡FSTåœ¨cross-architecture, cross-optimization, cross-obfuscation and cross-compiler binariesä¸Šçš„è¡¨ç°ã€‚ ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œå¼€å‘è€…é€šå¸¸ä¼šä½¿ç”¨å¼€æºä»£ç æ¥å¼€å‘æ–°è½¯ä»¶ã€‚å¦‚æœä¸€ä¸ªå¼€å‘è€…ä½¿ç”¨äº†ä¸€ä¸ªå­˜åœ¨æ¼æ´çš„å‡½æ•°ï¼Œåˆ™è¿™ä¸ªæ¼æ´å°±ä¼šè¢«ç»§æ‰¿ä¸”å¾ˆéš¾è¢«å‘ç°ã€‚ä»£ç å…‹éš†è¿™ç§ç°è±¡å¯¹è½¯ä»¶çš„å®‰å…¨å¯é æ€§é€ æˆäº†å¾ˆå¤§å½±å“ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œç›´æ¥å¯¹äºŒè¿›åˆ¶ä»£ç ä½¿ç”¨åŒæºæ€§åˆ†æå¹¶ä¸å¤Ÿç›´æ¥æ˜äº†ï¼ŒäºŒè¿›åˆ¶ä»£ç ç¼ºä¹è¯­ä¹‰æŠ½è±¡ï¼Œå¾ˆéš¾ä»å‡½æ•°ä¸­æå–è¯­ä¹‰ä¿¡æ¯æ¥åšåŒæºæ€§åˆ†æã€‚å¦å¤–ï¼Œåˆ†å‰²å‡½æ•°çš„è¾¹ç•Œä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚ æ‰€ä»¥åœ¨ä»£ç å…‹éš†ã€æ¶æ„æ ·æœ¬è¿½è¸ªã€åº“å‡½æ•°å‘æ˜å’Œæ¼æ´å‘æ˜é¢†åŸŸå¯¹äºŒè¿›åˆ¶ä»£ç åšåŒæºæ€§åˆ†æä¸€ç›´æ˜¯ä¸ªé‡è¦çš„æ–¹å‘ã€‚ æ ¹æ®å·²æœ‰æ–¹æ³•çš„é¢—ç²’åº¦åˆ†ç±»ï¼Œç°å­˜æˆæœå¯ä»¥åˆ†ä¸ºï¼š åŸºäºåŸºæœ¬é™æ€ç‰¹å¾çš„æ–¹æ³•ï¼› åŸºäºä»£ç å›¾ç»“æ„ï¼ˆä¾‹å¦‚CFGï¼‰çš„æ–¹æ³•ï¼› åŸºäºä»£ç å¼ é‡çš„æ–¹æ³•ï¼› åŸºäºæ·±åº¦å­¦ä¹ ç”Ÿæˆå‡½æ•°åµŒå…¥çš„æ–¹æ³•ï¼› ç°æœ‰æ–¹æ³•å­˜åœ¨çš„é—®é¢˜ï¼š å¤§å¤šæ•°æ–¹æ³•æ›´èšç„¦äºfunction pair similarity detection task (FPSDT)ï¼Œè€Œå¿½ç•¥äº†function search task (FST)ï¼Œåè€…å¯¹æ¼æ´æŒ–æ˜æ›´ä¸ºé‡è¦ï¼› FPSDTæŒ‡å¯¹æ¯”ä¸¤ä¸ªå‡½æ•°çš„ç›¸ä¼¼åº¦ï¼ŒFSTæŒ‡åœ¨å‡½æ•°åº“ä¸­å¯»æ‰¾ä¸æŸä¸ªå‡½æ•°æœ€ç›¸ä¼¼çš„å‡½æ•°ã€‚ ç°æœ‰æ–¹æ³•ä¸ºäº†æé«˜FPSDTçš„å‡†ç¡®ç‡ä½¿ç”¨äº†ä¸€äº›æ— æ³•è§£é‡Šçš„ç¥ç»ç½‘ç»œï¼Œè®¾è®¡ä¸€ä¸ªå¤æ‚çš„åˆ†æè¿‡ç¨‹ï¼› å› ä¸ºç¼–è¯‘å™¨çš„ä¼˜åŒ–å’Œæ··æ·†ä¼šæ˜¾è‘—ä¿®æ”¹ä»£ç ç»“æ„ï¼Œå¤§å¤šæ•°æ–¹æ³•åœ¨è¿™äº›æ¡ä»¶ä¸‹è¡¨ç°ä¸ä½³ã€‚ æˆ‘ä»¬çš„æ–¹æ³•è§£å†³çš„ï¼š å¦‚ä½•åˆ©ç”¨å¯è§£é‡Šçš„åŸºæœ¬ç‰¹å¾æ¥ç”ŸæˆäºŒè¿›åˆ¶ä»£ç çš„è¯­ä¹‰ç‰¹å¾ï¼› ç”¨æ³¨æ„åŠ›æœºåˆ¶æ¥èšç„¦äºåœ¨ä¸åŒç¼–è¯‘ç¯å¢ƒä¸‹ä»èµ·ä½œç”¨çš„ç‰¹å¾ï¼Œå­¦ä¹ åŸºæœ¬ç‰¹å¾ä¹‹é—´çš„è”ç³»ã€‚ å¦‚ä½•è®¾è®¡ä¸€ä¸ªé€‚åº”ä¸åŒç¼–è¯‘é€‰é¡¹çš„é€šç”¨BCSAæ¨¡å‹æ¡†æ¶ã€‚ æˆ‘ä»¬é‡æ–°è®¾è®¡äº†Transformerçš„ç¼–ç éƒ¨åˆ†ï¼Œä½¿ç”¨å­ªç”Ÿç¥ç»ç½‘ç»œæ¥åˆ¤æ–­ä¸¤ä¸ªå‡½æ•°çš„ç›¸ä¼¼åº¦ï¼Œåœ¨attention layerä½¿ç”¨KFMæ¥å¤„ç†ä¸åŠ¨çš„ç¼–è¯‘é€‰é¡¹ã€‚ æ³¨æ„åŠ›æœºåˆ¶çš„ä¼˜ç‚¹ï¼š ä¸‹å›¾æ˜¯åŒä¸€ä¸ªå‡½æ•°åœ¨åŒä¸€ä¸ªç¼–è¯‘é€‰é¡¹ï¼ˆX86_32_00ï¼‰ä¸‹é€šè¿‡æ··æ·†æŠ€æœ¯BCFå‰åçš„CFGå›¾ï¼š ä¸‹å›¾æ˜¯TIKNIBå’ŒIFAttnä¸¤ä¸ªæ¨¡å‹åœ¨å¯¹åŒä¸€ä¸ªå‡½æ•°æ··æ·†å‰åæŠ“å–çš„ç‰¹å¾å‘é‡å€¼ï¼š å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ··æ·†å‰åbasic featuresæœ‰æ˜æ˜¾ä¸åŒï¼Œè€Œsemantic featuresåˆ™æ€»ä½“ä¸Šæ›´ä¸ºç¨³å®šã€‚ â€‹ ä¸‹å›¾è¡¨æ˜äº†TIKNIBå’ŒIFAttnåœ¨å¯¹ä¸åŒå‡½æ•°ï¼Œä¸€ä¸ªæ··æ·†ä¸€ä¸ªä¸æ··æ·†çš„å‰æä¸‹æå–åˆ°çš„ç‰¹å¾å‘é‡å€¼ï¼š â€‹ å¯ä»¥çœ‹åˆ°ï¼Œä¸ä¹‹å‰ç›¸åï¼Œåœ¨æ··æ·†å‰åbasic featuresè¾ƒä¸ºç¨³å®šï¼Œè€Œsemantic featureså˜åŒ–æ›´å¤§ã€‚ â€‹ semantic featuresæ›´èƒ½ä½“ç°å‡½æ•°æœ¬èº«è¯­ä¹‰ï¼Œè€Œä¸å—æ··æ·†æŠ€æœ¯çš„å½±å“ã€‚ ä¸€äº›å®šä¹‰ï¼š Presemantic featuresï¼šç›´æ¥æˆ–é—´æ¥ä»ä»£ç è¯­æ³•å’Œç»“æ„åˆ†æå‡ºçš„ç‰¹å¾ï¼› Semantic featuresï¼šæœ¬æ–‡é€šè¿‡æ³¨æ„æœºåˆ¶åˆ†æäº†base featureå½¢æˆçš„å†…åœ¨å…³è”ï¼Œå¹¶å°†base featureèåˆç”Ÿæˆè¯­ä¹‰åµŒå…¥ KFM scaled dot-product attention: Multi-head attention:Transformerçš„ä¸€ç§æ³¨æ„åŠ›æœºåˆ¶ã€‚ ç³»ç»Ÿç»“æ„ï¼šIFAttn (Interpretable Features with Attention) æµ‹è¯•ç»“æœï¼š æ•°æ®é›†ï¼š æµ‹è¯•ç»“æœï¼š","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"},{"name":"BCSA","slug":"BCSA","permalink":"http://example.com/tags/BCSA/"}],"author":"Shaw"},{"title":"Function-level obfuscation detection method based on Graph Convolutional Networks","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Function-level obfuscation detection method based on Graph Convolutional Networks","date":"2022-10-01T12:37:04.833Z","updated":"2022-10-02T06:26:35.439Z","comments":true,"path":"2022/10/01/ã€è®ºæ–‡é˜…è¯»ã€‘Function-level obfuscation detection method based on Graph Convolutional Networks/","link":"","permalink":"http://example.com/2022/10/01/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Function-level%20obfuscation%20detection%20method%20based%20on%20Graph%20Convolutional%20Networks/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Function-level obfuscation detection method based on Graph Convolutional Networks æ—¶é—´ï¼š2021 ä½œè€…ï¼šShuai Jiang , Yao Hong, Cai Fuï¼ˆåç§‘ï¼‰ æœŸåˆŠï¼šJournal of Information Security and Applicationsï¼ˆä¸­ç§‘é™¢ä¸‰åŒºï¼‰ 1.ABSTRACT â€‹ åœ¨æ¶æ„æ ·æœ¬æ£€æµ‹ä¸­ä»£ç æ··æ·†æ£€æµ‹æŠ€æœ¯æ˜¯ä¸€ä¸ªé‡è¦çš„è¾…åŠ©æ‰‹æ®µï¼Œå¯¹äºå®‰å…¨ä»ä¸šè€…æ¥è¯´ï¼Œå…¶å¯ä»¥åœ¨äººå·¥é€†å‘åˆ†æå‰æ¥å®æ–½è‡ªåŠ¨åŒ–æ··æ·†æ£€æµ‹ï¼Œè¿™æœ‰åŠ©äºé€†å‘å·¥ç¨‹å¸ˆæ›´å…·ä½“åœ°è¿›è¡Œé€†å‘åˆ†æã€‚ â€‹ ç›®å‰å­˜åœ¨çš„æ··æ·†æ£€æµ‹æ–¹æ³•ä¸»è¦ä½œç”¨äºAndroidåº”ç”¨ï¼Œå¹¶åŸºäºä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚å…¶æ£€æµ‹é¢—ç²’åº¦å¾ˆå·®ï¼Œæ€»ä½“æ•ˆæœä¸ä½³ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåº”ç”¨äºX86æ±‡ç¼–å’ŒAndroidåº”ç”¨çš„ã€function levelçš„ã€åŸºäºGCNçš„æ··æ·†æ£€æµ‹æ–¹æ³•ã€‚ 1. é¦–å…ˆï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯function-levelçš„ã€‚æˆ‘ä»¬æå–æ¯ä¸ªå‡½æ•°çš„CFGä½œä¸ºå…¶ç‰¹å¾ï¼ˆåŒ…æ‹¬é‚»æ¥çŸ©é˜µå’ŒåŸºæœ¬ä»£ç å—çš„ç‰¹å¾çŸ©é˜µï¼‰ï¼› 2. æˆ‘ä»¬æ„å»ºä¸€ä¸ªGCN-LSTMç¥ç»ç½‘ç»œä½œä¸ºæ··æ·†æ£€æµ‹æ¨¡å‹ï¼› 3. æœ€åï¼Œå¯¹äºfunction-levelçš„æ£€æµ‹æˆ‘ä»¬çš„æ–¹æ³•å‡†ç¡®ç‡æ˜¯94.7575%ï¼ˆX86æ±‡ç¼–ï¼‰å’Œ98.9457%ï¼ˆå®‰å“åº”ç”¨ï¼‰ï¼Œæ¯”baselineæ–¹æ³•å¥½ã€‚å®éªŒè¯æ˜æˆ‘ä»¬çš„æ–¹æ³•ä¸è®ºæ˜¯åœ¨function-levleè¿˜æ˜¯APK-levelä¸Šçš„æ£€æµ‹å‡†ç¡®ç‡éƒ½å¥½äºbaselineã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Function-level obfuscation detection method based on Graph Convolutional Networks æ—¶é—´ï¼š2021 ä½œè€…ï¼šShuai Jiang , Yao Hong, Cai Fuï¼ˆåç§‘ï¼‰ æœŸåˆŠï¼šJournal of Information Security and Applicationsï¼ˆä¸­ç§‘é™¢ä¸‰åŒºï¼‰ 1.ABSTRACT â€‹ åœ¨æ¶æ„æ ·æœ¬æ£€æµ‹ä¸­ä»£ç æ··æ·†æ£€æµ‹æŠ€æœ¯æ˜¯ä¸€ä¸ªé‡è¦çš„è¾…åŠ©æ‰‹æ®µï¼Œå¯¹äºå®‰å…¨ä»ä¸šè€…æ¥è¯´ï¼Œå…¶å¯ä»¥åœ¨äººå·¥é€†å‘åˆ†æå‰æ¥å®æ–½è‡ªåŠ¨åŒ–æ··æ·†æ£€æµ‹ï¼Œè¿™æœ‰åŠ©äºé€†å‘å·¥ç¨‹å¸ˆæ›´å…·ä½“åœ°è¿›è¡Œé€†å‘åˆ†æã€‚ â€‹ ç›®å‰å­˜åœ¨çš„æ··æ·†æ£€æµ‹æ–¹æ³•ä¸»è¦ä½œç”¨äºAndroidåº”ç”¨ï¼Œå¹¶åŸºäºä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚å…¶æ£€æµ‹é¢—ç²’åº¦å¾ˆå·®ï¼Œæ€»ä½“æ•ˆæœä¸ä½³ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåº”ç”¨äºX86æ±‡ç¼–å’ŒAndroidåº”ç”¨çš„ã€function levelçš„ã€åŸºäºGCNçš„æ··æ·†æ£€æµ‹æ–¹æ³•ã€‚ 1. é¦–å…ˆï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯function-levelçš„ã€‚æˆ‘ä»¬æå–æ¯ä¸ªå‡½æ•°çš„CFGä½œä¸ºå…¶ç‰¹å¾ï¼ˆåŒ…æ‹¬é‚»æ¥çŸ©é˜µå’ŒåŸºæœ¬ä»£ç å—çš„ç‰¹å¾çŸ©é˜µï¼‰ï¼› 2. æˆ‘ä»¬æ„å»ºä¸€ä¸ªGCN-LSTMç¥ç»ç½‘ç»œä½œä¸ºæ··æ·†æ£€æµ‹æ¨¡å‹ï¼› 3. æœ€åï¼Œå¯¹äºfunction-levelçš„æ£€æµ‹æˆ‘ä»¬çš„æ–¹æ³•å‡†ç¡®ç‡æ˜¯94.7575%ï¼ˆX86æ±‡ç¼–ï¼‰å’Œ98.9457%ï¼ˆå®‰å“åº”ç”¨ï¼‰ï¼Œæ¯”baselineæ–¹æ³•å¥½ã€‚å®éªŒè¯æ˜æˆ‘ä»¬çš„æ–¹æ³•ä¸è®ºæ˜¯åœ¨function-levleè¿˜æ˜¯APK-levelä¸Šçš„æ£€æµ‹å‡†ç¡®ç‡éƒ½å¥½äºbaselineã€‚ 2. INTRODUCTION 2.1 Obfuscationâ€“ä»£ç æ··æ·† â€‹ ä»£ç ä¿æŠ¤æŠ€æœ¯ï¼Œç”¨äºå¢åŠ é€†å‘éš¾åº¦ï¼Œé˜²æ­¢ä»£ç ç¯¡æ”¹ï¼Œæœ€å¼€å§‹ç”¨äºç‰ˆæƒä¿æŠ¤ï¼Œåè¢«ç”¨äºæ¶æ„ä»£ç çš„èº²é¿æ£€æµ‹ã€‚ â€‹ ç”±äºåŠ¨æ€æ£€æµ‹æ¶æ„ä»£ç çš„é«˜æ˜‚æˆæœ¬ï¼Œä¸»æµçš„æ¶æ„æ ·æœ¬æ£€æµ‹æŠ€æœ¯ä»åœ¨æå–ä»£ç çš„é™æ€ç‰¹å¾ã€‚ç„¶è€Œç”±äºæ··æ·†æŠ€æœ¯çš„å‘å±•ï¼Œæ¶æ„æ ·æœ¬çš„ç¼–å†™è€…ç»å¸¸åœ¨ä¿ç•™å…¶æ¶æ„åŠŸèƒ½çš„åŒæ—¶é€šè¿‡ä½¿ç”¨æ··æ·†æŠ€æœ¯æ¥ä¿®æ”¹å…¶é™æ€ç‰¹å¾ã€‚ç»è¿‡æ··æ·†çš„æ¶æ„ä»£ç å¯ä»¥è§„é¿ç›¸å…³å·¥å…·çš„æ£€æµ‹ã€‚ â€‹ æœ€è¿‘æ··æ·†æ£€æµ‹æŠ€æœ¯å¼€å§‹å‡ºç°ï¼Œåœ¨æ­¤é¢†åŸŸæœ‰ä¸€äº›å·¥ä½œï¼š 1. [2018]Alessandroç­‰äººï¼šä½¿ç”¨é™æ€åˆ†æå’Œæœºå™¨å­¦ä¹ åˆ†ç±»ç®—æ³•æ¥åˆ†æAndroidåº”ç”¨æ˜¯å¦è¢«æ··æ·†çš„æŠ€æœ¯ï¼ˆ http://dx.doi.org/10.1145/3230833.3232823ï¼‰ï¼› 2. [2020]Crincoliç­‰äººï¼šåˆ©ç”¨weak bisimulationæ¥æ£€æµ‹ä»£ç æ˜¯å¦è¢«code reordering(http://dx.doi.org/10.1007/978-3-030-44041-1_116)ï¼› 3. [2020]Caijun Sunç­‰äººï¼šä¸€ä¸ªAndroidæ‰“åŒ…æ£€æµ‹æ¡†æ¶DroidPDF( http://dx.doi.org/10.1109/ACCESS.2020.3010588); 4. [2019]Omidç­‰äººï¼šAndrODetï¼Œä¸€ä¸ªæ£€æµ‹ä¸‰ç§Androidæ··æ·†æŠ€æœ¯çš„æ£€æµ‹æœºåˆ¶ï¼ˆé‡å‘½åã€å­—ç¬¦ä¸²åŠ å¯†å’Œæ§åˆ¶æµæ··æ·†ï¼‰ï¼ˆ http://dx.doi.org/10.1016/j.future.2018.07.066ï¼‰ï¼› 5. [2019]Alirezaç­‰äººï¼šAndroidå­—ç¬¦ä¸²æ··æ·†æ£€æµ‹æŠ€æœ¯ï¼ˆ http://dx.doi.org/10.1145/3338501.3357373ï¼‰; 2.2 ç›®å‰æ–¹æ³•çš„ç¼ºç‚¹ï¼š 1. æ£€æµ‹é¢—ç²’åº¦ä¸å¤Ÿï¼Œæ£€æµ‹å¯¹è±¡å¾€å¾€æ˜¯ä¸€ä¸ªAPKåŒ…ï¼Œç¼ºä¹å¯è¡Œæ€§ï¼› 2. æ£€æµ‹æ•ˆæœä¸ä½³ï¼Œä»æ ·æœ¬ä¸­æå–çš„ç‰¹å¾ç›¸å¯¹ç®€å•ï¼Œåªæœ‰ç»Ÿè®¡å­¦ç‰¹å¾å’Œopcodeè¯­å¥è¢«æå–ã€‚å¤§å¤šæ•°ä½¿ç”¨ç®€å•çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œè¡¨ç°ä¸€èˆ¬ï¼› 3. ç¼ºä¹å¯ç”¨æ€§å’Œé€‚åº”æ€§ï¼Œä¼ ç»Ÿæ–¹æ³•å¾€å¾€ä¼šä¸ºä¸åŒçš„æ··æ·†æ–¹æ³•æå–ä¸åŒçš„ç‰¹å¾ï¼Œæˆ–è€…ä¸ºæ¯ä¸ªæ··æ·†æ–¹æ³•è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»å™¨ï¼Œæ¯ç‡¥ä¸”ä¸ä¾¿ã€‚åŒæ—¶è‹¥éœ€è¦æ·»åŠ æ–°æ•°æ®ï¼Œæ¨¡å‹ç»å¸¸éœ€è¦é‡å¤´è®­ç»ƒã€‚ 2.3 æˆ‘ä»¬çš„æ–¹æ³•ï¼š ä»å¼€æºå¹³å°è·å–ä¸€äº›æœªç»æ··æ·†çš„ä»£ç ï¼ˆX86æ±‡ç¼–å’ŒAndroidï¼‰ï¼Œé€šè¿‡æ··æ·†å™¨ç”Ÿæˆæ··æ·†åç¨‹åºï¼› é€†å‘è¿™äº›ç¨‹åºï¼Œç”¨é‚»æ¥çŸ©é˜µå’ŒåŸºæœ¬ä»£ç å—ç‰¹å¾çŸ©é˜µçš„å½¢å¼æå–æ¯ä¸ªå‡½æ•°çš„CFGï¼› æ ¹æ®æˆ‘ä»¬æå–åˆ°çš„ç‰¹å¾ï¼Œæ„å»ºGCN-LSTMã€‚è¿™ä¸ªæ¨¡å‹åŒæ—¶æœåŠ¡äºX86æ±‡ç¼–å’ŒAndroidï¼Œä½†ä»–ä»¬åˆ†åˆ«è®­ç»ƒå’Œæµ‹è¯•ï¼› 3. METHOD OVERVIEW 1. X86çš„æ··æ·†å™¨ï¼šOLLVMï¼›Androidçš„æ··æ·†å™¨ï¼šObfuscapkï¼› 2. é€†å‘å·¥å…·ï¼šIDA PROï¼›ç”±äºX86ä¸AndroidæŒ‡ä»¤é›†ä¸æ··æ·†æŠ€æœ¯ä¸åŒï¼ŒäºŒè€…è¢«åˆ†åˆ«æå–CFGï¼› 3. å¤šåˆ†ç±»é—®é¢˜ï¼Œæ£€æµ‹å‡ºæ··æ·†æŠ€æœ¯ç§ç±»ï¼Œæ•…ä½¿ç”¨ä¼ ç»Ÿå¤šåˆ†ç±»è¯„ä¼°æ–¹æ³•æ¥è¯„ä¼°æ£€æµ‹æ•ˆæœã€‚ 4. OBFUSCATION DECTION METHOD 4.1 OLLVM â€‹ OLLVMåŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§æ··æ·†æŠ€æœ¯ï¼š Instructions Substitution (SUB)ï¼ŒæŒ‡ä»¤æ›¿æ¢ã€‚å°†ç®€å•æŒ‡ä»¤æ›¿æ¢ä¸ºåŒè¯­ä¹‰çš„å¤æ‚æŒ‡ä»¤ï¼Œç‰¹åˆ«æ˜¯äºŒè¿›åˆ¶åŠ å‡ä¹˜é™¤ã€‚è¿™é¡¹æŠ€æœ¯ä¼šå¢åŠ ç®—æœ¯æŒ‡ä»¤ä½†å¾ˆå°‘å½±å“CFGï¼› Bogus Control Flow (BCF)ï¼Œè™šå‡æ§åˆ¶æµã€‚åœ¨CFGä¸­æ·»åŠ å¤§é‡æ— å…³çš„éšæœºä»£ç å—å’Œåˆ†æ”¯ï¼Œå¹¶åˆ†å‰²ã€èåˆã€é‡æ’åŸå§‹ä»£ç å—ï¼Œåœ¨å…¶ä¸­æ’å…¥éšæœºé€‰æ‹©çš„æ— ç”¨æŒ‡ä»¤ã€‚è¿™é¡¹æŠ€æœ¯ç ´åäº†CFGå’Œä»£ç å—çš„å®Œæ•´æ€§ï¼Œå¢åŠ æ§åˆ¶æµå¤æ‚æ€§ï¼› Control Flow Flatteningï¼ˆFLAï¼‰ï¼Œæ§åˆ¶æµå¹³å¦åŒ–ã€‚ç®€å•æ¥è®²å°±æ˜¯å°†ä»£ç å—ä¹‹é—´çš„å…³ç³»æ‰“æ–­ï¼Œç”±ä¸€ä¸ªåˆ†å‘å™¨æ¥æ§åˆ¶ä»£ç å—çš„è·³è½¬ï¼š 4.2 Obfuscapk â€‹ ObfuscapkåŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§æ··æ·†æŠ€æœ¯ï¼š Identifier Renamingï¼Œæ ‡è¯†ç¬¦é‡å‘½åï¼› String Encryptionï¼Œå­—ç¬¦ä¸²åŠ å¯†ã€‚å­—ç¬¦ä¸²å¸¸é‡å¯ä»¥æ­ç¤ºå¾ˆå¤šä»£ç æ•æ„Ÿä¿¡æ¯ï¼› Control Flow Obfuscationï¼Œæ§åˆ¶æµæ··æ·†ã€‚é€šè¿‡æ‰©å±•æˆ–å¹³å¦åŒ–CFGæ¥æ··æ·†ï¼ŒåŒæ ·è¿˜æœ‰æ³¨å…¥åƒåœ¾ä»£ç ï¼Œæ‰©å±•å¾ªç¯ï¼Œæ·»åŠ æ— å…³æ“ä½œç­‰ï¼› 4.3 Feature extraction â€‹ æå–çš„ç‰¹å¾åŒ…æ‹¬ä»£ç çš„ç»“æ„åŒ–CFGä¿¡æ¯å’ŒåŸºæœ¬ä»£ç å—ç‰¹å¾ï¼š å¯¹äºé‚»æ¥çŸ©é˜µï¼š å¦‚å›¾ï¼Œé‚»æ¥çŸ©é˜µä»£ç äº†ä¸åŒä»£ç å—ä¹‹é—´çš„è½¬ç§»å…³ç³»ã€‚ â€‹ å¯¹äºåŸºæœ¬ä»£ç å—ç‰¹å¾ï¼š å°†X86æ±‡ç¼–ä»£ç åˆ†ä¸º27ç±»ï¼Œå¯¹äºä¸€ä¸ªä»£ç å—çš„ç‰¹å¾å‘é‡å°±æ˜¯27ç»´ã€‚ å°†DalvikæŒ‡ä»¤åˆ†ä¸º15ç±»ï¼Œå¯¹äºä¸€ä¸ªä»£ç å—çš„ç‰¹å¾å‘é‡å°±æ˜¯15ç»´ã€‚ 4.4 Obfuscation detection model â€‹ åœ¨å¾—åˆ°CFGé‚»æ¥çŸ©é˜µå’ŒåŸºæœ¬ä»£ç å—ç‰¹å¾çŸ©é˜µåï¼Œæ„å»ºGCN-LSTMã€‚ 5.EXPERIMENTAL EVALUATION 5.1 Datasets 5.2 Baseline methods â€‹ function-levelçš„baselineæ–¹æ³•å¦‚ä¸‹ï¼š â€‹ AdaBoost, GaussianNaiveBayes, GradientBoosting, KNeighbors, MLP, SGDClass, SVM, Xgboost and LSTM 5.3 Evaluation metrics â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"},{"name":"obfuscation","slug":"obfuscation","permalink":"http://example.com/tags/obfuscation/"}],"author":"Shaw"},{"title":"Planning at Decision Time(å†³ç­–æ—¶è§„åˆ’)","slug":"å†³ç­–æ—¶è§„åˆ’","date":"2022-07-21T07:46:53.321Z","updated":"2022-07-24T06:54:15.431Z","comments":true,"path":"2022/07/21/å†³ç­–æ—¶è§„åˆ’/","link":"","permalink":"http://example.com/2022/07/21/%E5%86%B3%E7%AD%96%E6%97%B6%E8%A7%84%E5%88%92/","excerpt":"å‚è€ƒèµ„æ–™ï¼š Reinforcement Learining. Second Edition. Sutton.Page 180-193 ç™½æ¿æ¨å¯¼--å¼ºåŒ–å­¦ä¹ .shuhuai008.Bilibili Easy RL.Qi Wang.Yang Yiyuan.Ji Jiang Planning at Decision Timeï¼ˆå†³ç­–æ—¶è§„åˆ’ï¼‰ è§„åˆ’ï¼ˆPlanningï¼‰è‡³å°‘æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ã€‚ â‘ ä¸€ç§åœ¨DPå’ŒDynaä¸­å·²ç»è®¨è®ºè¿‡ï¼Œé€šè¿‡ä»ä¸€ä¸ªmodelï¼ˆä¸è®ºæ˜¯sample modelæˆ–æ˜¯distribution model ï¼‰ä¸­è·å–æ¨¡æ‹Ÿç»éªŒï¼ˆsimulated experienceï¼‰çš„åŸºç¡€ä¸Šæ¥ä½¿ç”¨è§„åˆ’æ¥é€æ¸æå‡ä¸€ä¸ªpolicyæˆ–ä¸€ä¸ªvalue functionã€‚ ç„¶åï¼Œé€‰æ‹©åŠ¨ä½œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå½“å‰çŠ¶æ€çš„åŠ¨ä½œvalueé—®é¢˜ï¼Œè¯¥valueæ˜¯åœ¨ä¹‹å‰ä¼˜åŒ–çš„è¡¨æ ¼ä¸­è·å–çš„ï¼›æˆ–è€…é€šè¿‡ä½¿ç”¨ä¹¦ä¸­Part 2ä¸­è€ƒè™‘çš„è¿‘ä¼¼æ–¹æ³•æ¥è¯„ä¼°æ•°å­¦è¡¨è¾¾å¼ã€‚ å¯¹äºä»»æ„çŠ¶æ€Stï¼Œåœ¨ä¸ºå…¶é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œä¹‹å‰ï¼Œå…¶æ•´ä¸ªè¡¨æ ¼æ¡ç›®ï¼ˆä¾‹å¦‚Dyna-Qä¸­çš„Qè¡¨ï¼‰å·²ç»é€šè¿‡è§„åˆ’æ¥ä¼˜åŒ–è¿‡äº†ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè§„åˆ’å¹¶ä¸æ˜¯ä»…ä»…èšç„¦äºå½“å‰çš„çŠ¶æ€ï¼Œæˆ‘ä»¬ç§°è¿™ç§è§„åˆ’ä¸ºbackground planningï¼Œåå°è§„åˆ’ã€‚ â‘¡å¦ä¸€ç§ä½¿ç”¨è§„åˆ’çš„æ–¹æ³•å°±æ˜¯åœ¨é‡åˆ°æ¯ä¸ªæ–°çš„çŠ¶æ€Ståå†å¼€å§‹ä¸€ä¸ªå®Œæ•´çš„è§„åˆ’è¿‡ç¨‹ï¼Œå…¶ä¸ºæ¯ä¸ªå½“å‰çŠ¶æ€é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œAtï¼Œåˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€St+1å°±é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œAt+1ï¼Œä»¥æ­¤ç±»æ¨ã€‚ ä¸€ä¸ªä½¿ç”¨è¿™ç§è§„åˆ’æœ€ç®€å•çš„ä¾‹å­ï¼šå½“state valueså¯ç”¨æ—¶ï¼Œé€šè¿‡æ¯”è¾ƒå½“å‰modelå¯¹æ‰§è¡Œæ¯ä¸ªåŠ¨ä½œååˆ°è¾¾çš„æ–°çŠ¶æ€çš„valueæ¥é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œã€‚ å½“ç„¶ï¼Œæ›´æ™®éçš„è¯´ï¼Œè¿™ç§è§„åˆ’çš„ç”¨æ³•å¯ä»¥æ¯”ä»…ä»…å¾€åçœ‹ä¸€æ­¥ï¼ˆä¸Šé¢çš„ä¾‹å­å°±æ˜¯ï¼‰çœ‹å¾—æ›´æ·±ï¼Œè¯„ä¼°åŠ¨ä½œçš„é€‰æ‹©å¯¼è‡´è®¸å¤šä¸åŒé¢„æµ‹çŠ¶æ€å’Œå¥–åŠ±è½¨è¿¹ã€‚ ä¸åŒäºç¬¬ä¸€ç§ç”¨æ³•ï¼Œåœ¨è¿™é‡Œï¼Œè§„åˆ’èšç„¦äºä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºdecision-time planningï¼Œå†³ç­–æ—¶è§„åˆ’ã€‚ è¿™ä¸¤ç§è§„åˆ’çš„æ–¹å¼å¯ä»¥ç”¨ä¸€ç§è‡ªç„¶è€Œæœ‰è¶£çš„æ–¹å¼ç»“åˆåœ¨ä¸€èµ·ï¼Œä¸è¿‡ä¸€èˆ¬äºŒè€…è¢«åˆ†å¼€ç ”ç©¶ã€‚ å¦‚åŒbackground planningï¼Œæˆ‘ä»¬ä»å¯ä»¥å°†å†³ç­–æ—¶è§„åˆ’çœ‹ä½œä¸€ä¸ªä»æ¨¡æ‹Ÿç»éªŒä¸­æ›´æ–°valuesï¼Œæœ€ååˆ°æ›´æ–°policyçš„è¿‡ç¨‹ã€‚åªæ˜¯åŸºäºå½“å‰çŠ¶æ€æ‰€ç”Ÿæˆçš„valueså’Œpolicyä¼šåœ¨åšå®ŒåŠ¨ä½œé€‰æ‹©å†³ç­–åè¢«ä¸¢å¼ƒï¼Œåœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸­è¿™ä¹ˆåšå¹¶ä¸ç®—ä¸€ä¸ªå¾ˆå¤§çš„æŸå¤±ï¼Œå› ä¸ºæœ‰éå¸¸å¤šçš„çŠ¶æ€å­˜åœ¨ï¼Œä¸”ä¸å¤ªå¯èƒ½åœ¨çŸ­æ—¶é—´å†…å›åˆ°åŒä¸€ä¸ªçŠ¶æ€ï¼Œæ•…é‡å¤è®¡ç®—å¯¼è‡´çš„èµ„æºæµªè´¹ä¼šå¾ˆå°‘ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œäººä»¬å¯èƒ½å¸Œæœ›å°†ä¸¤è€…ç»“åˆèµ·æ¥ï¼šè§„åˆ’å½“å‰çŠ¶æ€ï¼Œå¹¶å°†è§„åˆ’çš„ç»“æœå­˜å‚¨èµ·æ¥ï¼Œä»¥ä¾¿åœ¨ä»¥åå›åˆ°ç›¸åŒçš„çŠ¶æ€æ—¶èƒ½èµ°å¾—æ›´è¿œã€‚ Decision-time Planningï¼Œ(å†³ç­–æ—¶è§„åˆ’ï¼‰åœ¨ä¸éœ€è¦å¿«é€Ÿååº”çš„åº”ç”¨åœºæ™¯ä¸­ä½œç”¨æœ€ä¸ºæ˜¾è‘—ã€‚ å†³ç­–æ—¶è§„åˆ’çš„å¸¸ç”¨ç®—æ³•æœ‰Heuristic Searchï¼ˆå¯å‘å¼æœç´¢ï¼‰ã€Rollout Algorithmsï¼ˆRollout ç®—æ³•ï¼‰å’ŒMonte Carlo Tree Searchï¼ˆMCTS è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼‰ä¸‰ç§ã€‚","text":"å‚è€ƒèµ„æ–™ï¼š Reinforcement Learining. Second Edition. Sutton.Page 180-193 ç™½æ¿æ¨å¯¼--å¼ºåŒ–å­¦ä¹ .shuhuai008.Bilibili Easy RL.Qi Wang.Yang Yiyuan.Ji Jiang Planning at Decision Timeï¼ˆå†³ç­–æ—¶è§„åˆ’ï¼‰ è§„åˆ’ï¼ˆPlanningï¼‰è‡³å°‘æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ã€‚ â‘ ä¸€ç§åœ¨DPå’ŒDynaä¸­å·²ç»è®¨è®ºè¿‡ï¼Œé€šè¿‡ä»ä¸€ä¸ªmodelï¼ˆä¸è®ºæ˜¯sample modelæˆ–æ˜¯distribution model ï¼‰ä¸­è·å–æ¨¡æ‹Ÿç»éªŒï¼ˆsimulated experienceï¼‰çš„åŸºç¡€ä¸Šæ¥ä½¿ç”¨è§„åˆ’æ¥é€æ¸æå‡ä¸€ä¸ªpolicyæˆ–ä¸€ä¸ªvalue functionã€‚ ç„¶åï¼Œé€‰æ‹©åŠ¨ä½œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå½“å‰çŠ¶æ€çš„åŠ¨ä½œvalueé—®é¢˜ï¼Œè¯¥valueæ˜¯åœ¨ä¹‹å‰ä¼˜åŒ–çš„è¡¨æ ¼ä¸­è·å–çš„ï¼›æˆ–è€…é€šè¿‡ä½¿ç”¨ä¹¦ä¸­Part 2ä¸­è€ƒè™‘çš„è¿‘ä¼¼æ–¹æ³•æ¥è¯„ä¼°æ•°å­¦è¡¨è¾¾å¼ã€‚ å¯¹äºä»»æ„çŠ¶æ€Stï¼Œåœ¨ä¸ºå…¶é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œä¹‹å‰ï¼Œå…¶æ•´ä¸ªè¡¨æ ¼æ¡ç›®ï¼ˆä¾‹å¦‚Dyna-Qä¸­çš„Qè¡¨ï¼‰å·²ç»é€šè¿‡è§„åˆ’æ¥ä¼˜åŒ–è¿‡äº†ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè§„åˆ’å¹¶ä¸æ˜¯ä»…ä»…èšç„¦äºå½“å‰çš„çŠ¶æ€ï¼Œæˆ‘ä»¬ç§°è¿™ç§è§„åˆ’ä¸ºbackground planningï¼Œåå°è§„åˆ’ã€‚ â‘¡å¦ä¸€ç§ä½¿ç”¨è§„åˆ’çš„æ–¹æ³•å°±æ˜¯åœ¨é‡åˆ°æ¯ä¸ªæ–°çš„çŠ¶æ€Ståå†å¼€å§‹ä¸€ä¸ªå®Œæ•´çš„è§„åˆ’è¿‡ç¨‹ï¼Œå…¶ä¸ºæ¯ä¸ªå½“å‰çŠ¶æ€é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œAtï¼Œåˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€St+1å°±é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œAt+1ï¼Œä»¥æ­¤ç±»æ¨ã€‚ ä¸€ä¸ªä½¿ç”¨è¿™ç§è§„åˆ’æœ€ç®€å•çš„ä¾‹å­ï¼šå½“state valueså¯ç”¨æ—¶ï¼Œé€šè¿‡æ¯”è¾ƒå½“å‰modelå¯¹æ‰§è¡Œæ¯ä¸ªåŠ¨ä½œååˆ°è¾¾çš„æ–°çŠ¶æ€çš„valueæ¥é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œã€‚ å½“ç„¶ï¼Œæ›´æ™®éçš„è¯´ï¼Œè¿™ç§è§„åˆ’çš„ç”¨æ³•å¯ä»¥æ¯”ä»…ä»…å¾€åçœ‹ä¸€æ­¥ï¼ˆä¸Šé¢çš„ä¾‹å­å°±æ˜¯ï¼‰çœ‹å¾—æ›´æ·±ï¼Œè¯„ä¼°åŠ¨ä½œçš„é€‰æ‹©å¯¼è‡´è®¸å¤šä¸åŒé¢„æµ‹çŠ¶æ€å’Œå¥–åŠ±è½¨è¿¹ã€‚ ä¸åŒäºç¬¬ä¸€ç§ç”¨æ³•ï¼Œåœ¨è¿™é‡Œï¼Œè§„åˆ’èšç„¦äºä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºdecision-time planningï¼Œå†³ç­–æ—¶è§„åˆ’ã€‚ è¿™ä¸¤ç§è§„åˆ’çš„æ–¹å¼å¯ä»¥ç”¨ä¸€ç§è‡ªç„¶è€Œæœ‰è¶£çš„æ–¹å¼ç»“åˆåœ¨ä¸€èµ·ï¼Œä¸è¿‡ä¸€èˆ¬äºŒè€…è¢«åˆ†å¼€ç ”ç©¶ã€‚ å¦‚åŒbackground planningï¼Œæˆ‘ä»¬ä»å¯ä»¥å°†å†³ç­–æ—¶è§„åˆ’çœ‹ä½œä¸€ä¸ªä»æ¨¡æ‹Ÿç»éªŒä¸­æ›´æ–°valuesï¼Œæœ€ååˆ°æ›´æ–°policyçš„è¿‡ç¨‹ã€‚åªæ˜¯åŸºäºå½“å‰çŠ¶æ€æ‰€ç”Ÿæˆçš„valueså’Œpolicyä¼šåœ¨åšå®ŒåŠ¨ä½œé€‰æ‹©å†³ç­–åè¢«ä¸¢å¼ƒï¼Œåœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸­è¿™ä¹ˆåšå¹¶ä¸ç®—ä¸€ä¸ªå¾ˆå¤§çš„æŸå¤±ï¼Œå› ä¸ºæœ‰éå¸¸å¤šçš„çŠ¶æ€å­˜åœ¨ï¼Œä¸”ä¸å¤ªå¯èƒ½åœ¨çŸ­æ—¶é—´å†…å›åˆ°åŒä¸€ä¸ªçŠ¶æ€ï¼Œæ•…é‡å¤è®¡ç®—å¯¼è‡´çš„èµ„æºæµªè´¹ä¼šå¾ˆå°‘ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œäººä»¬å¯èƒ½å¸Œæœ›å°†ä¸¤è€…ç»“åˆèµ·æ¥ï¼šè§„åˆ’å½“å‰çŠ¶æ€ï¼Œå¹¶å°†è§„åˆ’çš„ç»“æœå­˜å‚¨èµ·æ¥ï¼Œä»¥ä¾¿åœ¨ä»¥åå›åˆ°ç›¸åŒçš„çŠ¶æ€æ—¶èƒ½èµ°å¾—æ›´è¿œã€‚ Decision-time Planningï¼Œ(å†³ç­–æ—¶è§„åˆ’ï¼‰åœ¨ä¸éœ€è¦å¿«é€Ÿååº”çš„åº”ç”¨åœºæ™¯ä¸­ä½œç”¨æœ€ä¸ºæ˜¾è‘—ã€‚ å†³ç­–æ—¶è§„åˆ’çš„å¸¸ç”¨ç®—æ³•æœ‰Heuristic Searchï¼ˆå¯å‘å¼æœç´¢ï¼‰ã€Rollout Algorithmsï¼ˆRollout ç®—æ³•ï¼‰å’ŒMonte Carlo Tree Searchï¼ˆMCTS è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼‰ä¸‰ç§ã€‚ Heuristic Searchï¼ˆå¯å‘å¼æœç´¢ï¼‰ åœ¨AIä¸­ä¸€ä¸ªç»å…¸çš„çŠ¶æ€ç©ºé—´è§„åˆ’æ–¹æ³•æ˜¯decision-time planningæ–¹æ³•ï¼Œç»Ÿç§°ä¸ºHeuristic Searchï¼ˆå¯å‘å¼æœç´¢ï¼‰ã€‚ åœ¨å¯å‘å¼æœç´¢ä¸­ï¼Œå¯¹æ¯ä¸ªé‡åˆ°çš„çŠ¶æ€éƒ½ä¼šç”Ÿæˆä¸€é¢—å»¶ç»­çš„æœç´¢æ ‘ï¼Œè¿‘ä¼¼çš„value functionä¼šè¢«åœ¨å¶èŠ‚ç‚¹åº”ç”¨ï¼Œç„¶ååå‘ä¼ æ’­åˆ°æ ¹èŠ‚ç‚¹ã€‚åå‘ä¼ æ’­åœ¨å½“å‰çŠ¶æ€åœæ­¢ã€‚ä¸€æ—¦è¿™äº›èŠ‚ç‚¹çš„å€¼è¢«è®¡ç®—å‡ºæ¥ï¼Œå°±ä¼šé€‰æ‹©å…¶ä¸­æœ€å¥½çš„ä¸€ä¸ªä½œä¸ºå½“å‰çš„è¡ŒåŠ¨ï¼Œç„¶åæ‰€æœ‰çš„å€¼å°±ä¼šè¢«ä¸¢å¼ƒã€‚ åœ¨ä¼ ç»Ÿçš„å¯å‘å¼æœç´¢ä¸­ï¼Œè®¡ç®—å‡ºçš„backed-up valueså¹¶ä¸ä¼šè¢«é€šè¿‡ä¿®æ”¹è¿‘ä¼¼value functionæ¥ä¿å­˜ã€‚å®é™…ä¸Šï¼Œä»·å€¼å‡½æ•°ä¸€èˆ¬éƒ½æ˜¯ç”±äººè®¾è®¡çš„ï¼Œç»ä¸ä¼šå› ä¸ºæœç´¢è€Œæ”¹å˜ã€‚ç„¶è€Œï¼Œä¸€ä¸ªè‡ªç„¶è€Œç„¶çš„æƒ³æ³•å°±æ˜¯è€ƒè™‘æ”¹è¿›value functionï¼Œä½¿ç”¨å¯å‘å¼æœç´¢è®¡ç®—å‡ºçš„backed-up valueæˆ–è€…å…¶ä»–æ–¹æ³•ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½é‡‡å–è¿™ç§æ–¹æ³•ã€‚ Greedyï¼ŒÎµ-greedyå’ŒUCBåŠ¨ä½œé€‰æ‹©æ–¹æ³•ä¸å¯å‘å¼æœç´¢æ²¡ä»€ä¹ˆä¸åŒï¼Œå°½ç®¡æ˜¯åœ¨ä¸€ä¸ªæ›´å°çš„èŒƒå›´å†…ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸ºäº†è®¡ç®—greedyç­–ç•¥çš„state-value functionï¼Œæˆ‘ä»¬å¿…é¡»å‘å‰æ¦‚è§ˆæ¯ä¸ªå¯èƒ½çš„åŠ¨ä½œï¼Œåˆ°è¾¾æ¯ä¸ªå¯èƒ½çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œè€ƒè™‘ä»–ä»¬çš„rewardå’Œè¯„ä¼°å€¼ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„åŠ¨ä½œã€‚è¿™å°±å¦‚åŒä¼ ç»Ÿçš„å¯å‘å¼æœç´¢ï¼Œè®¡ç®—æ‰€æœ‰å¯èƒ½åŠ¨ä½œçš„backed-up valuesï¼Œä½†æ˜¯ä¸å»ä¿å­˜ä»–ä»¬ã€‚å› æ­¤ï¼Œå¯å‘å¼æœç´¢å¯ä»¥è¢«çœ‹ä½œgreedyç­–ç•¥åœ¨å•æ­¥èŒƒå›´å¤–çš„ä¸€ç§æ‰©å±•ã€‚ æœç´¢çš„æ›´æ·±æ˜¯ä¸ºäº†è·å¾—æ›´å¥½çš„åŠ¨ä½œé€‰æ‹©ç­–ç•¥ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå®Œç¾çš„modelå’Œä¸€ä¸ªä¸å®Œç¾çš„action-value functionï¼Œå¦‚æœä¸€è·¯æœç´¢åˆ°åº•ï¼Œé‚£ä¹ˆä¸å®Œç¾çš„value functionçš„å½±å“å°±ä¼šè¢«æ¶ˆé™¤ã€‚é€šè¿‡è¿™ç§æ–¹å¼çš„æœç´¢å¿…é¡»æ˜¯optimalçš„ã€‚è‹¥æœç´¢æ­¥éª¤kè¶³å¤Ÿå¤šï¼Œå¯¼è‡´ Î³k è¶³å¤Ÿå°ï¼Œé‚£ä¹ˆåŠ¨ä½œå°±ä¼šè¿‘ä¼¼è¾¾åˆ°optimalã€‚ä»å¦ä¸€ä¸ªè§’åº¦è®²ï¼Œæœç´¢çš„è¶Šæ·±æ‰€éœ€çš„ç®—åŠ›èµ„æºä¹Ÿè¶Šå¤šï¼Œå“åº”å°±è¶Šæ…¢ã€‚ ä¸€ä¸ªä¼˜ç§€çš„ä¾‹å­æ˜¯æ˜¯Tesauroæå‡ºçš„å¤§å¸ˆçº§åŒé™†æ£‹ç®—æ³•ï¼ŒTD-Gammonã€‚è¯¥ç®—æ³•ä½¿ç”¨TD learningï¼Œé€šè¿‡ä¸è‡ªå·±å¯¹å¼ˆæ¥å­¦ä¹ value functionï¼Œå…¶ä½¿ç”¨å¯å‘å¼æœç´¢æ¥é€‰æ‹©åŠ¨ä½œã€‚Tesauroå‘ç°å¯å‘å¼æœç´¢çš„è¶Šæ·±ï¼ŒTD-Gammonå°±ä¼šé€‰æ‹©è¶Šå¥½çš„åŠ¨ä½œï¼Œä½†æ˜¯æ¯èµ°ä¸€æ­¥èŠ±çš„æ—¶é—´ä¹Ÿè¶Šå¤šã€‚ åœ¨æ›´æ·±å…¥çš„æœç´¢ä¸­è§‚å¯Ÿåˆ°çš„æ€§èƒ½æ”¹å–„å¹¶ä¸æ˜¯ç”±äºä½¿ç”¨å¤šæ­¥éª¤æ›´æ–°æœ¬èº«ã€‚ç›¸åï¼Œå®ƒæ˜¯ç”±äºæ›´æ–°çš„é‡ç‚¹é›†ä¸­åœ¨å½“å‰çŠ¶æ€çš„ä¸‹æ¸¸çš„çŠ¶æ€å’Œè¡ŒåŠ¨ä¸Šã€‚é€šè¿‡æŠ•å…¥å¤§é‡ä¸å€™é€‰è¡ŒåŠ¨å…·ä½“ç›¸å…³çš„è®¡ç®—ï¼Œå†³ç­–æ—¶è§„åˆ’å¯ä»¥äº§ç”Ÿæ¯”ä¾é æ— é‡ç‚¹çš„æ›´æ–°æ‰€äº§ç”Ÿçš„æ›´å¥½çš„å†³ç­–ã€‚ å¯å‘å¼æœç´¢ç¤ºæ„å›¾ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç™½åœ†ç‚¹è¡¨ç¤ºçŠ¶æ€ï¼Œé»‘åœ†ç‚¹è¡¨ç¤ºåŠ¨ä½œã€‚ä»¥å½“å‰çŠ¶æ€ä¸ºæ ¹èŠ‚ç‚¹ï¼Œéå†æ¯ä¸€å±‚æ‰€æœ‰çš„å¯èƒ½æ€§ï¼Œç„¶åè®¡ç®—æ¯ä¸ªéå¶èŠ‚ç‚¹çš„Qï¼ˆs,aï¼‰ã€‚å…·ä½“è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼Œå°†æ ‘æŒ‰æ·±åº¦ä¼˜å…ˆéå†ï¼Œæ¯ä¸ªéå¶èŠ‚ç‚¹ä½¿ç”¨å…¬å¼ï¼š \\[ Q(s,a) = \\sum_{s&#39;,r}{p(s&#39;,r|s,a)(r + Î³max_{a&#39;}Q(s&#39;,a&#39;))} \\] æ•…æŒ‰ç…§å›¾ä¸­çš„æ•°å­—é¡ºåºï¼ˆ1-&gt;2-&gt;3-&gt;4-&gt;5â€¦â€¦ï¼‰ä¾æ¬¡è®¡ç®—**q~*~çš„æœŸæœ›æ›´æ–°**ï¼Œå¾—åˆ°å½“å‰çŠ¶æ€ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰æ¯ä¸ªå¯èƒ½åŠ¨ä½œa'çš„å¯¹åº”çš„Qï¼ˆsï¼Œa'ï¼‰ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„å³å¯ã€‚å½“ç„¶ï¼Œåœ¨ä½¿ç”¨ç®—æ³•çš„è¿‡ç¨‹ä¸­æœç´¢å±‚æ•°Kæ˜¯å¯ä»¥æ§åˆ¶çš„ï¼Œæ•…å¶èŠ‚ç‚¹å¹¶ä¸ä¸€å®šæ˜¯ç»ˆç»“çŠ¶æ€STã€‚ Rollout Algorithmsï¼ˆRollout ç®—æ³•ï¼‰ Rolloutç®—æ³•æ˜¯åŸºäºè’™ç‰¹å¡æ´›æ§åˆ¶çš„å†³ç­–æ—¶è§„åˆ’ç®—æ³•ï¼Œå…¶åº”ç”¨äºä»å½“å‰çŠ¶æ€å¼€å§‹çš„ä¸€äº›æ¨¡æ‹Ÿè½¨è¿¹ã€‚å¯¹ç»™å®šçš„policyè¿›è¡ŒåŠ¨ä½œè¯„ä¼°çš„æ–¹å¼æ˜¯å°†è®¸å¤šä»å„ä¸ªå¯èƒ½çš„åŠ¨ä½œå¼€å§‹çš„æ¨¡æ‹Ÿè½¨è¿¹çš„è¿”å›å€¼å¹³å‡åŒ–ã€‚å½“action-valueè¯„ä¼°è¢«è®¤ä¸ºè¶³å¤Ÿå‡†ç¡®äº†ï¼Œè¢«ç»™åˆ†æœ€é«˜çš„åŠ¨ä½œå°±ä¼šè¢«æ‰§è¡Œï¼Œä¹‹åï¼Œè¯¥è¿‡ç¨‹ï¼ˆRolloutï¼‰å°†ä»äº§ç”Ÿçš„ä¸‹ä¸€ä¸ªçŠ¶æ€é‡æ–°è¿›è¡Œã€‚ ä¸åŒäºè’™ç‰¹å¡æ´›æ§åˆ¶ç®—æ³•ï¼ŒRolloutç®—æ³•çš„ç›®æ ‡ä¸æ˜¯è¯„ä¼°ä¸€ä¸ªæœ€ä¼˜çš„q*æˆ–qÏ€ï¼Œè€Œæ˜¯æ ¹æ®ä¸€ä¸ªç»™å®šçš„ä¸€èˆ¬å«rollout policyçš„ç­–ç•¥ï¼Œæ¥ä¸ºæ¯ä¸ªå½“å‰çŠ¶æ€ç”Ÿæˆè’™ç‰¹å¡æ´›è¯„ä¼°ã€‚ä½œä¸ºä¸€ä¸ªå†³ç­–æ—¶è§„åˆ’ç®—æ³•ï¼ŒRolloutç®—æ³•åœ¨å½“å³ä½¿ç”¨è¿™äº›action-valueè¯„ä¼°å€¼ä¹‹åå°±ä¸¢å¼ƒä»–ä»¬ã€‚è¿™ä½¿å¾—Rolloutç®—æ³•çš„å®ç°ç›¸å¯¹è¾ƒä¸ºç®€å•ï¼Œå› ä¸ºä¸éƒ½éœ€è¦å¯¹æ¯ä¸ª&lt;s , a&gt;é”®å€¼å¯¹éƒ½é‡‡æ ·ï¼Œå¹¶ä¸”ä¸éœ€è¦å¯¹çŠ¶æ€ç©ºé—´æˆ–çŠ¶æ€-åŠ¨ä½œç©ºé—´æ‹Ÿåˆä¸€ä¸ªè¿‘ä¼¼å‡½æ•°ã€‚ Rolloutç®—æ³•ä»€ä¹ˆæ—¶å€™åœæ­¢ï¼Ÿç­–ç•¥æ”¹è¿›å®šç†å‘Šè¯‰æˆ‘ä»¬ç»™å®šä¸¤ä¸ªå‡ ä¹ç›¸åŒçš„ç­–ç•¥Ï€å’ŒÏ€'ï¼Œä»–ä»¬ä¸åŒæ˜¯å¯¹åŒä¸€ä¸ªçŠ¶æ€Sæœ‰: \\[ Ï€&#39;(s) = a â‰  Ï€(s) \\] å¦‚æœï¼š \\[ q_{Ï€}(s,a)\\geq v_{Ï€}(s) \\] é‚£ä¹ˆç­–ç•¥Ï€'å°±ä¼˜äºæˆ–ç­‰äºç­–ç•¥Ï€ã€‚ åœ¨Rolloutç®—æ³•ä¸­ï¼Œå¯¹çŠ¶æ€sçš„æ¯ä¸ªå¯èƒ½çš„åŠ¨ä½œa'éƒ½è®¡ç®—å…¶è‹¥å¹²æ¡æ¨¡æ‹Ÿè½¨è¿¹çš„å¹³å‡è¿”å›å€¼ï¼Œå¾—åˆ°\\(q_Ï€(s,a&#39;)\\)ã€‚æ¥ç€é€‰å–è¯„ä¼°å€¼æœ€å¤§çš„é‚£ä¸ªactionï¼Œéšåçš„çŠ¶æ€éƒ½ç»§ç»­éµå¾ªç­–ç•¥Ï€ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åœ¨Ï€ä¸Šçš„ç­–ç•¥æ”¹è¿›ã€‚ æ¢å¥è¯è¯´ï¼ŒRolloutç®—æ³•çš„ç›®æ ‡å°±æ˜¯åœ¨rollout policyä¸Šä¸æ–­åšæ”¹è¿›ï¼Œè€Œä¸æ˜¯å»å¯»æ‰¾ä¸€ä¸ªæœ€ä¼˜ç­–ç•¥ã€‚ç»éªŒè¡¨æ˜Rolloutç®—æ³•çš„æ•ˆæœéå¸¸æƒŠè‰³ã€‚ä¾‹å¦‚Tesauroå’ŒGalperinï¼ˆ1997ï¼‰å°±è¡¨æ˜rolloutç®—æ³•å¯¹äºåŒé™†è¥¿æ´‹æ£‹çš„æå‡æ•ˆæœéå¸¸æ˜¾è‘—ã€‚åœ¨ä¸€äº›åº”ç”¨ä¸­ï¼Œå³ä½¿rollout policyæ˜¯å®Œå…¨éšæœºçš„Rolloutç®—æ³•ä¹Ÿå¯ä»¥æœ‰å¥½çš„è¡¨ç°ã€‚ä½†æ˜¯policyçš„æ”¹è¿›ä¾é rollout policyçš„æ€§èƒ½å’ŒMCå€¼è¯„ä¼°å¾—å‡ºçš„actionæ’åã€‚ç›´è§‰è¡¨æ˜ï¼Œrollout policyè¶Šå¥½ã€è¯„ä¼°å€¼è¶Šå‡†ç¡®ï¼ŒRolloutç®—æ³•ç»™å‡ºçš„ç­–ç•¥å°±è¶Šå¥½ã€‚ è¿™å…¶ä¸­åŒ…å«äº†é‡è¦çš„æƒè¡¡ï¼Œå› ä¸ºä¸€èˆ¬æ¥è¯´è¶Šå¥½çš„rollout policyæ„å‘³ç€éœ€è¦è¶Šå¤šçš„æ—¶é—´æ¥æ¨¡æ‹Ÿè¶³å¤Ÿçš„è½¨è¿¹ï¼Œä»¥å¾—åˆ°å¥½çš„valueè¯„ä¼°æ•ˆæœã€‚ä½œä¸ºä¸€ä¸ªå†³ç­–æ—¶è¯„ä¼°æ–¹æ³•ï¼ŒRolloutç®—æ³•ä¸€èˆ¬éƒ½ä¼šæœ‰ä¸¥æ ¼çš„æ—¶é—´é™åˆ¶ï¼Œå…¶è®¡ç®—æ‰€éœ€æ—¶é—´ç”±å¾…è¯„ä¼°åŠ¨ä½œçš„æ•°é‡ã€æ¨¡æ‹Ÿè½¨è¿¹ä¸­çš„æ­¥é•¿ã€rollout policyåšå†³ç­–çš„æ—¶é—´å’Œæ¨¡æ‹Ÿè½¨è¿¹çš„æ•°é‡å…±åŒå†³å®šã€‚ è™½ç„¶å­˜åœ¨ä¸€äº›æ–¹æ³•å¯ä»¥å‡è½»è¿™ä¸€éš¾é¢˜ï¼Œä½†åœ¨ä»»ä½•Rolloutç®—æ³•çš„åº”ç”¨ä¸­å¹³è¡¡è¿™äº›å› ç´ éƒ½æ˜¯å¾ˆé‡è¦çš„ã€‚å› ä¸ºMCè¯„ä¼°æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ•…å¹¶è¡Œåšè¿™äº›è¯„ä¼°æ˜¯å¯èƒ½çš„ã€‚å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯å¯ä»¥ç¼©å‡æ¨¡æ‹Ÿè½¨è¿¹çš„é•¿åº¦ã€‚ **ç®€å•æ¥è¯´ï¼Œä¸åŒäºå¯å‘å¼æœç´¢å¾€ä¸‹éå†æ‰€æœ‰çš„å¯è¡Œæ€§ç„¶åè¿›è¡Œq*æœŸæœ›æ›´æ–°ï¼ŒRolloutå¯¹æ¯ä¸ªå¯èƒ½çš„actionè¿›è¡Œè‹¥å¹²æ¡MCé‡‡æ ·ï¼Œä»¥è¿™äº›é‡‡æ ·çš„å¹³å‡å€¼æ¥è¯„ä¼°è¿™ä¸ªacitonçš„å¥½åã€‚** Rollout çš„æ„æ€æ˜¯ä»å½“å‰å¸§å»ç”Ÿæˆå¾ˆå¤šå±€çš„æ¸¸æˆã€‚ Monte Carlo Tree Searchï¼ˆMCTS è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼‰ Monte Carlo Tree Search (MCTS)ï¼Œè’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼Œæ˜¯ä¸€ä¸ªè¿‘å¹´æ¥éå¸¸æˆåŠŸçš„å†³ç­–æ—¶è§„åˆ’ç®—æ³•ã€‚MCTSæ˜¯ä¸€ä¸ªrolloutæ”¹è¿›ç®—æ³•ï¼Œå…¶åœ¨Rolloutçš„åŸºç¡€ä¸Šå¢åŠ äº†ç´¯è®¡ä»MCæ¨¡æ‹Ÿè½¨è¿¹ä¸­è·å¾—valueçš„æ–¹æ³•ï¼Œä»¥ä¾¿äºæ¨¡æ‹Ÿåˆ°æœ‰æ›´é«˜rewardçš„è½¨è¿¹ã€‚ MCTSæ˜¯è¿‘å¹´æ¥AIå›´æ£‹ä»ä¸€ä¸ªå…¥é—¨è€…ï¼ˆ2005ï¼‰å‘å±•åˆ°ä¸€ä¸ªå®—å¸ˆçº§æ£‹æ‰‹ï¼ˆ2015ï¼‰çš„é‡è¦åŸå› ï¼Œ2016å¹´AlphaGoç¨‹åºæˆ˜èƒœäº†ä¸–ç•Œå›´æ£‹å† å†›é€‰æ‰‹ã€‚MCTSè¢«è¯æ˜åœ¨è®¸å¤šç«äº‰é¢†åŸŸæœ‰æ˜¾è‘—æ•ˆæœï¼ŒåŒ…æ‹¬ä¸€èˆ¬çš„æ¸¸æˆï¼Œä½†ä¸å±€é™äºæ­¤ã€‚è‹¥ç¯å¢ƒmodelè¶³å¤Ÿç®€å•ï¼Œå¯ä»¥è¿›å¿«é€Ÿå¤šæ­¥æ¨¡æ‹Ÿï¼Œå®ƒå¯¹å•æ™ºèƒ½ä½“åºåˆ—å†³ç­–é—®é¢˜å°±éå¸¸æœ‰æ•ˆã€‚ MCTSçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»ä»¥å¾€çš„æ¨¡æ‹Ÿä¸­ï¼Œæ‰©å±•åˆå§‹éƒ¨åˆ†å·²ç»è·å¾—é«˜å›æŠ¥çš„è½¨è¿¹ï¼Œè®©ç®—åŠ›èšç„¦äºæ›´å¯èƒ½è·å¾—é«˜å›æŠ¥çš„æ¨¡æ‹Ÿè·¯çº¿ã€‚ åœ¨ä»»ä½•MCè¯„ä¼°æ–¹æ³•ä¸­ï¼Œ&lt;s,a&gt;é”®å€¼å¯¹çš„è¯„ä¼°å€¼å°±æ˜¯å¤šå¯¹æ¨¡æ‹Ÿè½¨è¿¹çš„å¹³å‡è¿”å›å€¼ï¼Œåœ¨è¿™é‡Œï¼Œåªä¿ç•™æœ€æœ‰å¯èƒ½åœ¨å‡ æ­¥å†…è¾¾åˆ°çš„&lt;s,a&gt;å¯¹çš„MCä¼°è®¡å€¼ï¼ˆç®—å‡ºæ¥çš„qï¼ˆs,aï¼‰ï¼‰ã€‚æˆ‘ä»¬ç§°è¿™äº›èŠ‚ç‚¹åŠ ä¸Šæ ¹èŠ‚ç‚¹ç»„æˆä¸€ä¸ªtreeï¼Œä½¿ç”¨ä¸€ä¸ªtree policyéå†è¿™ä¸ªtreeæ¥é€‰æ‹©ä¸€ä¸ªç”¨æ¥æ‰©å±•çš„å¶å­ç»“ç‚¹ï¼Œæ„å»ºä¸€ä¸ªtreeå¸®åŠ©æˆ‘ä»¬èƒ½é€‰æ‹©ä¸€ä¸ªæ›´å¥½çš„èŠ‚ç‚¹ç”¨æ¥rolloutè€Œä¸æ˜¯å¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½è¿›è¡Œæ¨¡æ‹Ÿã€‚ æ€»çš„æ¥è¯´ï¼ŒMCTSæ€»å…±åˆ†ä¸ºå››æ­¥ï¼šSelectionï¼ŒExpansionï¼ŒSimulationå’ŒBackupã€‚ Selectionå°±æ˜¯ç”¨tree policyï¼ˆä¾‹å¦‚Îµ-greedyï¼‰æ¥é€‰æ‹©ä¸€ä¸ªå¶èŠ‚ç‚¹ï¼Œç”¨äºåç»­æ‰©å±•ï¼› Expansionå°±æ˜¯ä½¿ç”¨é€‰æ‹©å¥½çš„èŠ‚ç‚¹ï¼Œç”¨ä¸€äº›æœªä½¿ç”¨è¿‡çš„actionsæ¥æ‰©å±•ä¸€ä¸ªæˆ–å‡ ä¸ªå­©å­èŠ‚ç‚¹ï¼› Simulationå°±æ˜¯ä»é€‰æ‹©çš„èŠ‚ç‚¹/æ‰©å±•çš„èŠ‚ç‚¹ä¸Šç”¨rollout policyè¿›è¡Œæ¨¡æ‹Ÿï¼ŒåŒrolloutç®—æ³•ï¼› Backupå°±æ˜¯é€šè¿‡æ¨¡æ‹Ÿå¾—å‡ºçš„å€¼æ¥åå‘æ›´æ–°å¯¹åº”çš„action. åœ¨ä¸€ä¸ªæ—¶é—´æ­¥éª¤å†…ï¼ŒMCTSåå¤åšè¿™å››æ­¥ï¼Œç›´åˆ°æ—¶é—´ä¸å¤Ÿäº†æˆ–è€…å…¶ä»–è®¡ç®—èµ„æºä¸å¤Ÿäº†ã€‚ç„¶åï¼Œé€šè¿‡æŸç§æ–¹æ³•æ¥ä¸ºå½“å‰çŠ¶æ€é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œã€‚ä¾‹å¦‚ï¼Œé€‰æ‹©valueæœ€å¤§çš„åŠ¨ä½œï¼Œæˆ–æ˜¯ï¼Œé€‰æ‹©visitæ¬¡æ•°æœ€å¤šçš„åŠ¨ä½œæ¥é¿å…é€‰åˆ°å¼‚å¸¸å€¼ã€‚å½“åˆ°è¾¾ä¸‹ä¸€ä¸ªçŠ¶æ€åï¼Œæ–°ä¸€è½®çš„MCTSåˆå¼€å§‹äº†ã€‚æœ‰æ—¶æ–°ä¸€è½®çš„MCTSä»ä¸€ä¸ªå­¤ç«‹çš„èŠ‚ç‚¹å¼€å§‹ï¼Œä½†å¤§å¤šæ•°æƒ…å†µä¸‹ä¼šä»ä¸Šä¸€æ¬¡MCTSä¸­è¿˜ç•™å­˜çš„ã€æœ‰äº›åä»£çš„treeå¼€å§‹ã€‚ MCTSæœ€åˆè¢«æå‡ºç”¨äºä¸ºä¸€äº›åŒäººç«æŠ€æ¸¸æˆé€‰æ‹©åŠ¨ä½œï¼Œä¾‹å¦‚å›´æ£‹ã€‚æ¯ä¸ªæ¨¡æ‹Ÿè¿‡ç¨‹éƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¸¸æˆè¿‡ç¨‹ï¼ŒåŒæ–¹é€‰æ‰‹é€šè¿‡treeå’Œrollout policyæ¥é€‰æ‹©åŠ¨ä½œã€‚ ç›¸å…³æ¦‚å¿µè§£é‡Šï¼š 1. Distribution model and Sample model å‚è€ƒã€ŠReinforcement Learningã€‹Page159ï¼ŒChapter 8ï¼ŒåŸæ–‡è§£é‡Šçš„å¾ˆæ¸…æ¥šï¼š â€œBy a model of the environment we mean anything that an agent can use to predict how the environment will respond to its actions. Given a state and an action, a model produces a prediction of the resultant next state and next reward. â€ â€œæˆ‘ä»¬æ‰€æŒ‡çš„ç¯å¢ƒçš„modelæ˜¯ä¸€ä¸ªagentå¯ä»¥ç”¨å…¶é¢„æµ‹ç¯å¢ƒä¼šå¦‚ä½•å¯¹å…¶actionä½œå‡ºååº”çš„ä¸œè¥¿ã€‚ç»™å‡ºä¸€ä¸ªstateå’Œä¸€ä¸ªactionï¼Œmodelç»™å‡ºä¸‹ä¸€ä¸ªstateå’Œè¿”å›çš„rewardã€‚â€ â€œIf the model is stochastic, then there are several possible next states and next rewards, each with some probability of occurring. â€ â€œå¦‚æœmodelæ˜¯éšæœºçš„ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªstateä¸rewardå°±æœ‰è®¸å¤šå¯èƒ½çš„æƒ…å†µï¼Œæ¯ä¸ªæƒ…å†µéƒ½æœ‰ä¸€å®šæ¦‚ç‡å‘ç”Ÿã€‚â€ â€œSome models produce a description of all possibilities and their probabilities; these we call distribution models. Other models produce just one of the possibilities, sampled according to the probabilities; these we call sample models.â€ â€œä¸€äº›modelsæä¾›äº†ä¸€ä¸ªå¯¹æ‰€æœ‰äº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§ä»¥åŠå…¶æ¦‚ç‡çš„æè¿°ï¼Œè¿™äº›modelsæˆ‘ä»¬ç§°å…¶ä¸ºdistribution modelsï¼ˆåˆ†å¸ƒæ¨¡å‹ï¼‰ï¼›å¦å¤–ä¸€äº›modelsä»…æä¾›è¿™äº›å¯èƒ½å‘ç”Ÿçš„äº‹ä»¶çš„å…¶ä¸­ä¸€ç§ï¼Œè¿™äº›modelsæˆ‘ä»¬ç§°å…¶ä¸ºsample modelsï¼ˆæ ·æœ¬æ¨¡å‹ï¼‰â€ â€œ For example, consider modeling the sum of a dozen dice. A distribution model would produce all possible sums and their probabilities of occurring, whereas a sample model would produce an individual sum drawn according to this probability distribution.â€ â€œä¾‹å¦‚ï¼Œè€ƒè™‘å¯¹ä¸€æ‰“éª°å­ï¼ˆdozen diceï¼‰çš„å’Œè¿›è¡Œå»ºæ¨¡ï¼Œä¸€ä¸ª distribution model ä¼šäº§ç”Ÿæ‰€æœ‰å¯èƒ½çš„å’Œï¼Œä»¥åŠå®ƒä»¬å‘ç”Ÿçš„æ¦‚ç‡ï¼Œè€Œä¸€ä¸ª sample model ä¼šæ ¹æ®è¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒäº§ç”Ÿä¸€ä¸ªå•ç‹¬çš„å’Œã€‚â€ ä¾‹å¦‚ï¼ŒMDPä¸­çš„\\(p(s^{&#39;},r|s,a)\\)å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åˆ†å¸ƒæ¨¡å‹ã€‚åœ¨å¾ˆå¤šåº”ç”¨ä¸­ï¼Œè·å– sample models æ¯”è·å– distribution models å®¹æ˜“å¾—å¤šã€‚dozen dice å°±æ˜¯è¿™æ ·ä¸€ä¸ªä¾‹å­ã€‚å¾ˆå®¹æ˜“å†™ä¸€ä¸ªç”µè„‘ç¨‹åºä»¿çœŸæ·éª°ã€è¿”å›å’Œçš„è¿‡ç¨‹ï¼Œä½†æ˜¯è®¡ç®—æ‰€æœ‰å¯èƒ½çš„å’Œä»¥åŠå¯¹åº”çš„æ¦‚ç‡å¾ˆéš¾ï¼Œä¸”å®¹æ˜“å‡ºé”™ã€‚","categories":[{"name":"Something","slug":"Something","permalink":"http://example.com/categories/Something/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://example.com/tags/RL/"}],"author":"Shaw"},{"title":"A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks","slug":"A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks","date":"2022-03-04T08:24:55.254Z","updated":"2022-07-15T08:09:16.356Z","comments":true,"path":"2022/03/04/A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks/","link":"","permalink":"http://example.com/2022/03/04/A%20Survey%20of%20Defense%20Mechanisms%20Against%20Distributed%20Denial%20of%20Service%20(DDoS)%20Flooding%20Attacks/","excerpt":"A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks æ—¶é—´ï¼š2013 ä½œè€…ï¼šSaman Taghavi Zargarï¼ŒJames Joshiï¼Œ David Tipper æœŸåˆŠï¼šIEEE COMMUNICATIONS SURVEYS &amp; TUTORIALSï¼ˆä¸­ç§‘é™¢ä¸€åŒºï¼‰ ABSTRACT â€‹ DDoSæ”»å‡»æ˜¯å®‰å…¨ä¸“ä¸šäººå‘˜æœ€å…³å¿ƒçš„é—®é¢˜ä¹‹ä¸€ï¼Œå…¶é€šå¸¸æ˜¯ä¸ºäº†æ‰°ä¹±åˆæ³•ç”¨æˆ·å¯¹æœåŠ¡çš„è®¿é—®è€Œè¿›è¡Œçš„æ˜¾å¼å°è¯•ã€‚æ”»å‡»è€…é€šå¸¸é€šè¿‡æ”»å‡»æ¼æ´æ¥è·å–åˆ°ä¸€å¤§æ‰¹ç”µè„‘ï¼Œä»¥æ­¤æ¥ç»„å»ºä¸€ä¸ªç½‘ç»œæ”»å‡»å†›é˜Ÿï¼ˆä¹Ÿå°±æ˜¯åƒµå°¸ç½‘ç»œï¼‰ï¼Œä¸€æ—¦ç»„å»ºäº†æ”»å‡»éƒ¨é˜Ÿï¼Œæ”»å‡»è€…å°±å¯ä»¥å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç›®æ ‡å‘èµ·åè°ƒä¸€è‡´ã€å¤§è§„æ¨¡çš„æ”»å‡»ã€‚å¼€å‘é’ˆå¯¹å·²è¯†åˆ«å’Œé¢„æœŸçš„DDoSæ³›æ´ªæ”»å‡»çš„ç»¼åˆé˜²å¾¡æœºåˆ¶ï¼Œæ˜¯å…¥ä¾µæ£€æµ‹å’Œé¢„é˜²ç ”ç©¶ç•Œæ‰€æœŸæœ›çš„ç›®æ ‡ã€‚ç„¶è€Œï¼Œè¿™ç§æœºåˆ¶çš„å‘å±•éœ€è¦å¯¹é—®é¢˜å’Œè¿„ä»Šä¸ºæ­¢åœ¨é¢„é˜²ã€æ£€æµ‹å’Œåº”å¯¹å„ç§DDoSæ´ªæ³›æ”»å‡»æ–¹é¢æ‰€é‡‡ç”¨çš„æŠ€æœ¯æœ‰ä¸€ä¸ªå…¨é¢çš„äº†è§£ã€‚ â€‹ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬å¯¹DDoSæ´ªæ³›æ”»å‡»è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æ ¹æ®å®ƒä»¬åœ¨ä½•æ—¶ä½•åœ°é¢„é˜²ã€æ£€æµ‹å’Œåº”å¯¹DDoSæ´ªæ³›æ”»å‡»å¯¹ç°æœ‰çš„å¯¹ç­–è¿›è¡Œåˆ†ç±»ã€‚ â€‹ æ­¤å¤–ï¼Œæˆ‘ä»¬å¼ºè°ƒéœ€è¦ä¸€ç§å…¨é¢çš„åˆ†å¸ƒå¼ååŒé˜²å¾¡æ–¹æ³•ã€‚æˆ‘ä»¬çš„ä¸»è¦ç›®çš„æ˜¯æ¿€å‘ç ”ç©¶äººå‘˜å¼€å‘å‡ºåˆ›é€ æ€§çš„ã€æœ‰æ•ˆçš„ã€é«˜æ•ˆçš„ã€ç»¼åˆçš„é¢„é˜²ã€æ£€æµ‹å’Œå“åº”æœºåˆ¶æ¥è§£å†³å®é™…æ”»å‡»å‰ã€ä¸­å’Œåçš„DDoSæ³›æ´ªé—®é¢˜ã€‚","text":"A Survey of Defense Mechanisms Against Distributed Denial of Service (DDoS) Flooding Attacks æ—¶é—´ï¼š2013 ä½œè€…ï¼šSaman Taghavi Zargarï¼ŒJames Joshiï¼Œ David Tipper æœŸåˆŠï¼šIEEE COMMUNICATIONS SURVEYS &amp; TUTORIALSï¼ˆä¸­ç§‘é™¢ä¸€åŒºï¼‰ ABSTRACT â€‹ DDoSæ”»å‡»æ˜¯å®‰å…¨ä¸“ä¸šäººå‘˜æœ€å…³å¿ƒçš„é—®é¢˜ä¹‹ä¸€ï¼Œå…¶é€šå¸¸æ˜¯ä¸ºäº†æ‰°ä¹±åˆæ³•ç”¨æˆ·å¯¹æœåŠ¡çš„è®¿é—®è€Œè¿›è¡Œçš„æ˜¾å¼å°è¯•ã€‚æ”»å‡»è€…é€šå¸¸é€šè¿‡æ”»å‡»æ¼æ´æ¥è·å–åˆ°ä¸€å¤§æ‰¹ç”µè„‘ï¼Œä»¥æ­¤æ¥ç»„å»ºä¸€ä¸ªç½‘ç»œæ”»å‡»å†›é˜Ÿï¼ˆä¹Ÿå°±æ˜¯åƒµå°¸ç½‘ç»œï¼‰ï¼Œä¸€æ—¦ç»„å»ºäº†æ”»å‡»éƒ¨é˜Ÿï¼Œæ”»å‡»è€…å°±å¯ä»¥å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç›®æ ‡å‘èµ·åè°ƒä¸€è‡´ã€å¤§è§„æ¨¡çš„æ”»å‡»ã€‚å¼€å‘é’ˆå¯¹å·²è¯†åˆ«å’Œé¢„æœŸçš„DDoSæ³›æ´ªæ”»å‡»çš„ç»¼åˆé˜²å¾¡æœºåˆ¶ï¼Œæ˜¯å…¥ä¾µæ£€æµ‹å’Œé¢„é˜²ç ”ç©¶ç•Œæ‰€æœŸæœ›çš„ç›®æ ‡ã€‚ç„¶è€Œï¼Œè¿™ç§æœºåˆ¶çš„å‘å±•éœ€è¦å¯¹é—®é¢˜å’Œè¿„ä»Šä¸ºæ­¢åœ¨é¢„é˜²ã€æ£€æµ‹å’Œåº”å¯¹å„ç§DDoSæ´ªæ³›æ”»å‡»æ–¹é¢æ‰€é‡‡ç”¨çš„æŠ€æœ¯æœ‰ä¸€ä¸ªå…¨é¢çš„äº†è§£ã€‚ â€‹ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬å¯¹DDoSæ´ªæ³›æ”»å‡»è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æ ¹æ®å®ƒä»¬åœ¨ä½•æ—¶ä½•åœ°é¢„é˜²ã€æ£€æµ‹å’Œåº”å¯¹DDoSæ´ªæ³›æ”»å‡»å¯¹ç°æœ‰çš„å¯¹ç­–è¿›è¡Œåˆ†ç±»ã€‚ â€‹ æ­¤å¤–ï¼Œæˆ‘ä»¬å¼ºè°ƒéœ€è¦ä¸€ç§å…¨é¢çš„åˆ†å¸ƒå¼ååŒé˜²å¾¡æ–¹æ³•ã€‚æˆ‘ä»¬çš„ä¸»è¦ç›®çš„æ˜¯æ¿€å‘ç ”ç©¶äººå‘˜å¼€å‘å‡ºåˆ›é€ æ€§çš„ã€æœ‰æ•ˆçš„ã€é«˜æ•ˆçš„ã€ç»¼åˆçš„é¢„é˜²ã€æ£€æµ‹å’Œå“åº”æœºåˆ¶æ¥è§£å†³å®é™…æ”»å‡»å‰ã€ä¸­å’Œåçš„DDoSæ³›æ´ªé—®é¢˜ã€‚ INTRODUCTION â€‹ DDoSæ”»å‡»ï¼Œæ—¨åœ¨å°è¯•ç»„ç»‡åˆæ³•ä½¿ç”¨è€…è®¿é—®ä¸€ä¸ªç‰¹å®šçš„ç½‘ç«™ï¼Œæ—©åœ¨20ä¸–çºª80å¹´ä»£å°±è¢«ç½‘ç»œç ”ç©¶å›¢ä½“çŸ¥æ™“ã€‚1999å¹´å¤å¤©ï¼ŒComputer Incident Advisory Capability (CIAC)æŠ¥å‘Šäº†ç¬¬ä¸€èµ·DDoSæ”»å‡»äº‹ä»¶ã€‚ â€‹ ç›®å‰ï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„åœ¨äº’è”ç½‘ä¸Šåˆ¶é€ DDoSæ”»å‡»çš„æ–¹æ³•ï¼šâ‘ ç¬¬ä¸€ç§æ–¹æ³•æ˜¯æ”»å‡»è€…å‘å—å®³è€…å‘é€ä¸€äº›æ ¼å¼é”™è¯¯çš„æ•°æ®åŒ…ï¼Œä»¥æ··æ·†åœ¨å…¶ä¸Šè¿è¡Œçš„åè®®æˆ–åº”ç”¨ç¨‹åº( vulnerability attack);â‘¡å¦ä¸€ç§æ–¹æ³•æ˜¯æœ€å¸¸è§çš„æ–¹æ³•ï¼Œå®ƒæ¶‰åŠæ”»å‡»è€…è¯•å›¾æ‰§è¡Œä¸‹åˆ—ä¸€é¡¹æˆ–ä¸¤é¡¹ï¼š 1. é€šè¿‡æ¶ˆè€—å¸¦å®½ã€è·¯ç”±å™¨å¤„ç†èƒ½åŠ›æˆ–ç½‘ç»œèµ„æºï¼Œç ´ååˆæ³•ç”¨æˆ·çš„è¿é€šæ€§ï¼›è¿™äº›æœ¬è´¨ä¸Šæ˜¯ç½‘ç»œ/ä¼ è¾“çº§çš„æ³›æ´ª æ”»å‡»ï¼› 2. é€šè¿‡è€—å°½æœåŠ¡å™¨èµ„æº(å¦‚å¥—æ¥å­—ã€CPUã€å†…å­˜ã€ç£ç›˜/æ•°æ®åº“å¸¦å®½å’ŒI/Oå¸¦å®½ )æ¥ç ´ååˆæ³•ç”¨æˆ·çš„æœåŠ¡ï¼›è¿™äº›æ”»å‡»æœ¬è´¨ä¸ŠåŒ…æ‹¬åº”ç”¨çº§çš„æ³›æ´ªæ”»å‡»ï¼› â€‹ å¦‚ä»Šï¼ŒDDoSæ”»å‡»å¾€å¾€æ˜¯ç”±è¿œç¨‹æ§åˆ¶ã€ç»„ç»‡è‰¯å¥½ã€åˆ†å¸ƒå¹¿æ³›çš„Zombies1æˆ–Botnetè®¡ç®—æœºç»„æˆçš„ç½‘ç»œå‘èµ·çš„ï¼Œè¿™äº›è®¡ç®—æœºåŒæ—¶å’Œä¸æ–­åœ°å‘ç›®æ ‡ç³»ç»Ÿå‘é€å¤§é‡çš„æµé‡å’Œ/æˆ–æœåŠ¡è¯·æ±‚ï¼Œç›®æ ‡ç³»ç»Ÿå› æ­¤å˜å¾—è¦ä¹ˆååº”å¦‚æ­¤ç¼“æ…¢ï¼Œä»¥è‡³äºæ— æ³•ä½¿ç”¨ï¼Œè¦ä¹ˆå®Œå…¨å´©æºƒã€‚åƒµå°¸ç½‘ç»œä¸­çš„åƒµå°¸æˆ–è®¡ç®—æœºé€šå¸¸é€šè¿‡ä½¿ç”¨è •è™«ã€æœ¨é©¬æˆ–åé—¨æ¥æ‹›å‹Ÿã€‚æ­¤å¤–ï¼Œç”±äºåœ¨æ”»å‡»è€…æ§åˆ¶ä¸‹çš„åƒµå°¸ä½¿ç”¨ä¼ªé€ çš„IPåœ°å€ï¼Œä½¿å¾—é˜²å¾¡æœºåˆ¶è¯†åˆ«åŸå§‹æ”»å‡»è€…å˜å¾—æ›´åŠ å¤æ‚ã€‚ â€‹ ä»1999å¹´çš„å¤å¤©å¼€å§‹ï¼Œè®¸è®¸å¤šå¤šçš„DDoSæ”»å‡»è¢«åˆ¶é€ å‡ºæ¥ç”¨ä»¥å¯¹æŠ—ä¸åŒçš„ç»„ç»‡ã€‚è¿„ä»Šä¸ºæ­¢ï¼Œå¤§å¤šæ•°çš„DDoSæ´ªæ³›æ”»å‡»éƒ½è¯•å›¾ä½¿å—å®³è€…çš„æœåŠ¡ä¸å¯ç”¨ï¼Œä»è€Œæ”¶å…¥æŸå¤±ï¼Œå¢åŠ äº†å‡è½»æ”»å‡»å’Œæ¢å¤æœåŠ¡çš„æˆæœ¬ã€‚ â€‹ ä¸¾ä¸ªä¾‹å­ï¼Œ2000å¹´2æœˆï¼Œé›…è™ç»å†äº†æœ€æ—©çš„ä¸€æ¬¡é‡å¤§DDoSæ³›æ´ªæ”»å‡»ï¼Œä½¿å¾—è¯¥å…¬å¸çš„æœåŠ¡åœ¨äº’è”ç½‘ä¸ŠæŒç»­äº†çº¦2å°æ—¶ï¼Œä»è€Œé€ æˆå¹¿å‘Šæ”¶å…¥çš„æ˜¾è‘—æŸå¤±ï¼› â€‹ 2002å¹´10æœˆï¼Œ13ä¸ªDNSæœåŠ¡å™¨ä¸­çš„9ä¸ªå› ä¸ºDDoSæ´ªæ³›æ”»å‡»å…³é—­äº†ä¸€å°æ—¶ï¼› â€‹ 2004å¹´2æœˆï¼Œç”±äºé­å—DDoSæ”»å‡»ï¼Œæ­£å¸¸ç”¨æˆ·æ— æ³•ä½¿ç”¨SCO Groupç½‘ç«™ï¼Œè¿™ç§æ”»å‡»æ˜¯é€šè¿‡ä½¿ç”¨ä»¥å‰æ„ŸæŸ“Mydoomç—…æ¯’çš„ç³»ç»Ÿå‘èµ·çš„ã€‚ â€‹ 2009å¹´7æœˆï¼ŒMydoomç—…æ¯’è¢«å†æ¬¡ä½¿ç”¨ä»¥å‘èµ·DDoSæ”»å‡»éŸ©å›½å’Œç¾å›½ä¸»è¦æ”¿åºœæ–°é—»åª’ä½“å’Œç»æµç½‘ç«™ï¼› â€‹ 2010å¹´12æœˆï¼Œä¸€ä¸ªè‡ªç§°ä¸ºâ€œAnonymousâ€çš„ç»„ç»‡ç­–åˆ’äº†é’ˆå¯¹ä¸€äº›ç»„ç»‡è¯¸å¦‚Mastercard.com, PayPal, Visa.com å’Œ PostFinanceçš„DDoSæ”»å‡»ï¼› â€‹ 2012å¹´9æœˆï¼Œç¾å›½é“¶è¡Œ( Bank of America )ã€èŠ±æ——é›†å›¢( Citigroup )ã€å¯Œå›½é“¶è¡Œ( Wells Fargo )ã€ç¾å›½é“¶è¡Œ( Bancorp )ã€PNCã€Capital Oneã€Fifth Third Bankã€BB &amp; Tã€BB &amp; Tã€æ±‡ä¸°é“¶è¡Œ( HSBC )ç­‰9å®¶ä¸»è¦é“¶è¡Œçš„ç½‘ä¸Šé“¶è¡Œæˆä¸ºå›½å¤–é»‘å®¢æ”»å‡»é›†å›¢\" Izz ad-Din al-Qassam Cyber Fighters \"å‘èµ·çš„ä¸€ç³»åˆ—å¼ºåŠ›DDoSæ³›æ´ªæ”»å‡»çš„ç›®æ ‡ã€‚å› æ­¤ï¼Œå‡ å®¶ç½‘ä¸Šé“¶è¡Œç½‘ç«™åœ¨å‡ åˆ†é’Ÿåæ¢å¤ä¹‹å‰å·²ç»æ”¾ç¼“æˆ–åœä¸šã€‚ â€‹ æœ€è¿‘DDoSé˜²å¾¡æœºåˆ¶çš„è¿›æ­¥å·²ç»ç»“æŸäº†â€œè„šæœ¬å°å­â€å¯ä»¥ä¸‹è½½å·¥å…·å¹¶å¯¹å‡ ä¹ä»»ä½•ç½‘ç«™å‘èµ·æ”»å‡»çš„æ—¶ä»£ã€‚ï¼ˆ2013ï¼‰åœ¨å¦‚ä»Šçš„DDoSæ”»å‡»ä¸­ï¼Œæ”»å‡»è€…ä½¿ç”¨äº†æ›´å¤æ‚çš„æ–¹æ³•æ¥å‘èµ·æ”»å‡»ã€‚å°½ç®¡å°½äº†ä¸€åˆ‡åŠªåŠ›å‡å°‘DDoSæ”»å‡»äº‹ä»¶çš„æ•°é‡ï¼Œä½†å®ƒä»¬åœ¨ç›®æ ‡ç½‘ç»œå’Œè®¡ç®—æœºçš„é¢‘ç‡å’Œè§„æ¨¡ä¸Šè¿…é€Ÿæ‰©å¤§ã€‚åœ¨VeriSignå§”æ‰˜çš„æœ€è¿‘ä¸€é¡¹è°ƒæŸ¥ä¸­å‘ç°ï¼Œåœ¨2008å¹´7æœˆè‡³2009å¹´7æœˆæœŸé—´ï¼Œ75 %çš„å—è®¿è€…ç»å†è¿‡ä¸€æ¬¡æˆ–å¤šæ¬¡æ”»å‡»ã€‚æ­¤å¤–ï¼Œæœ€è¿‘æ¥è‡ªArbor Networksçš„ä¸€ä»½æŠ¥å‘Šä¹Ÿè¡¨æ˜äº†ç±»ä¼¼çš„æ•°æ®ã€‚åœ¨è°ƒæŸ¥ç»“æœä¸­ï¼Œä»–ä»¬æ˜¾ç¤ºï¼Œ69 %çš„å—è®¿è€…ä»2009å¹´10æœˆè‡³2010å¹´9æœˆè‡³å°‘ç»å†è¿‡ä¸€æ¬¡DDoSæ”»å‡»ï¼Œ25 %çš„å—è®¿è€…æ¯æœˆé­å—10æ¬¡æ­¤ç±»æ”»å‡»ã€‚ProlexicTechnologyå…¬å¸æä¾›çš„é˜²å¾¡DDoSæ”»å‡»çš„æœåŠ¡æ˜¾ç¤ºï¼Œæ¯å¤©æœ‰7000ä¸ªDDoSæ”»å‡»è¢«è§‚æµ‹åˆ°ï¼Œå¹¶ä¸”è®¤ä¸ºè¿™ä¸ªæ•°é‡æ­£åœ¨è¿…é€Ÿå¢é•¿ã€‚ â€‹ DDoSæ”»å‡»çš„è§„æ¨¡ä¹Ÿåœ¨ä¸æ–­å¢å¤§ï¼Œä½¿å¾—é˜²å¾¡èµ·æ¥æ›´åŠ å›°éš¾ã€‚Arbor Networkå‘ç°ï¼Œ2010å¹´æ”»å‡»è§„æ¨¡å·²ç»å¢é•¿äº†100 %å·¦å³ï¼Œæ”»å‡»é¦–æ¬¡çªç ´äº†100Gbpsçš„å£å’ã€‚å› æ­¤ï¼Œä¿æŠ¤èµ„æºå…å—è¿™äº›é¢‘ç¹è€Œåºå¤§çš„DDoSæ”»å‡»ï¼Œå°±éœ€è¦ç ”ç©¶ç•Œè‡´åŠ›äºå¼€å‘ä¸€ç§èƒ½å¤Ÿåœ¨å®é™…æ”»å‡»ä¹‹å‰ã€æœŸé—´å’Œä¹‹åå¯¹DDoSæ”»å‡»åšå‡ºé€‚å½“ååº”çš„å…¨é¢çš„DDoSé˜²å¾¡æœºåˆ¶ã€‚ â€‹ æœ¬æ–‡é‡ç‚¹ç ”ç©¶æœ‰çº¿ç½‘ç»œç³»ç»Ÿä¸­DDoSæ³›æ´ªæ”»å‡»å’Œé˜²å¾¡æœºåˆ¶ã€‚ã€19ã€‘ä¸“æ³¨äºæè¿°æ— çº¿è‡ªç»„ç»‡ç½‘ç»œçš„DDosæ”»å‡»ï¼›ã€20ã€‘ä¸“æ³¨äºæ— çº¿ä¼ æ„Ÿå™¨ç½‘ç»œç‰¹æœ‰çš„DDoSæ”»å‡»çš„ç‰¹ç‚¹ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¯¹ç°æœ‰çš„DDoSæ´ªæ³›æ”»å‡»è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æä¾›æ ¹æ®å®ƒä»¬åœ¨ä½•å¤„å’Œä½•æ—¶æ£€æµ‹å’Œå“åº”DDoSæ´ªæ³›æ”»å‡»è€Œåˆ†ç±»çš„é˜²å¾¡æœºåˆ¶çš„å…¨é¢è°ƒæŸ¥ã€‚å¯¹DDoSæ´ªæ³›æ”»å‡»çš„ç ”ç©¶å’Œæ‰€åšçš„è°ƒæŸ¥å¯¹äºäº†è§£ä¸è¿™ä¸€é‡è¦ç½‘ç»œå®‰å…¨é—®é¢˜æœ‰å…³çš„å…³é”®é—®é¢˜ï¼Œä»è€Œå¯¹å»ºç«‹æ›´å…¨é¢æœ‰æ•ˆçš„é˜²å¾¡æœºåˆ¶å…·æœ‰é‡è¦æ„ä¹‰ã€‚ â€‹ DDOS: ATTACKERSâ€™ INCENTIVES â€‹ DDoSæ”»å‡»è€…çš„åŠ¨æœºæœ‰ä»¥ä¸‹å‡ ç±»ï¼š â€‹ 1. è·å–ç»æµæ”¶å…¥ï¼šè¿™äº›æ”»å‡»æ˜¯ä¼ä¸šå…³æ³¨çš„é‡å¤§é—®é¢˜ï¼Œç”±äºå…¶æ¿€åŠ±çš„æ€§è´¨ï¼Œè¿™ä¸€ç±»çš„æ”»å‡»è€…é€šå¸¸æ˜¯æŠ€æœ¯å«é‡æœ€é«˜ã€ç»éªŒä¸°å¯Œçš„æ”»å‡»è€…ã€‚ä¸ºè·å–ç»æµåˆ©ç›Šè€Œå‘åŠ¨çš„æ”»å‡»å¾€å¾€æ˜¯æœ€å±é™©ã€æœ€éš¾ä»¥é˜»æ­¢çš„æ”»å‡»ã€‚ â€‹ 2. å¤ä»‡è€…ï¼šè¿™ä¸€ç±»çš„æ”»å‡»è€…ä¸€èˆ¬éƒ½æ˜¯æ²®ä¸§çš„ä¸ªä½“ï¼Œå¯èƒ½å…·æœ‰è¾ƒä½çš„æŠ€æœ¯æŠ€èƒ½ï¼Œä»–ä»¬é€šå¸¸å°†æ”»å‡»ä½œä¸ºå¯¹é­å—åˆ°çš„ä¸å…¬æ­£çš„å¾…é‡çš„æŠ¥å¤ã€‚ â€‹ 3. å—æ€æƒ³ä¿¡å¿µé©±åŠ¨ï¼šå±äºè¿™ä¸€ç±»çš„æ”»å‡»è€…æ˜¯å‡ºäºå…¶æ€æƒ³ä¿¡å¿µçš„åŠ¨æœºæ¥æ”»å‡»ç›®æ ‡çš„ã€‚è¯¥ç±»åˆ«ç›®å‰æ˜¯æ”»å‡»è€…å‘èµ·DDoSæ”»å‡»çš„ä¸»è¦è¯±å› ä¹‹ä¸€ã€‚ â€‹ 4. æ™ºåŠ›æŒ‘æˆ˜è€…ï¼šè¿™ç±»æ”»å‡»è€…æ”»å‡»ç›®æ ‡ç³»ç»Ÿï¼Œä»¥å®éªŒå’Œå­¦ä¹ å¦‚ä½•å‘èµ·å„ç§æ”»å‡»ã€‚ä»–ä»¬é€šå¸¸éƒ½æ˜¯å¹´è½»çš„é»‘å®¢çˆ±å¥½è€…ï¼Œæƒ³è¦ç‚«è€€è‡ªå·±çš„èƒ½åŠ›ã€‚å¦‚ä»Šï¼Œå­˜åœ¨ç€å„ç§æ˜“äºä½¿ç”¨çš„æ”»å‡»å·¥å…·å’Œåƒµå°¸ç½‘ç»œæ¥ç§Ÿç”¨ï¼Œå³ä¾¿æ˜¯ä¸€ä¸ªè®¡ç®—æœºä¸šé¦€è€…ä¹Ÿå¯ä»¥åˆ©ç”¨å…¶å‘èµ·èµ·æˆåŠŸçš„DDoSæ”»å‡»ã€‚ â€‹ 5. ç½‘ç»œæˆ˜äº‰ï¼šè¿™ä¸€ç±»çš„è¢­å‡»è€…é€šå¸¸å±äºä¸€å›½çš„å†›äº‹æˆ–ææ€–ç»„ç»‡ï¼Œä»–ä»¬æœ‰æ”¿æ²»åŠ¨æœºæ”»å‡»å¦ä¸€å›½å¹¿æ³›çš„å…³é”®éƒ¨é—¨ â€‹ æœ‰ä¸€äº›æ–‡ç« ä¸“æ³¨äºåˆ†ææ”»å‡»è€…çš„åŠ¨æœºä»¥åŠå¦‚ä½•åˆ©ç”¨è¿™äº›æ”»å‡»åŠ¨æœºå»ºæ¨¡ï¼Œä»¥æ­¤ä½¿å†³ç­–æ¨¡å‹å¯ä»¥ç»„ç»‡å¹¶å¯¹è¿™äº›æ”»å‡»è¿›è¡Œåé¦ˆã€‚ DDOS ATTACK: SCOPE AND CLASSIFICATION â€‹ DDoSæ”»å‡»çš„åˆ†å¸ƒå¼ç‰¹æ€§ä½¿å¾—å®ƒä»¬æéš¾å¯¹æŠ—æˆ–è¿½è¸ªï¼Œè€Œä¸”æ”»å‡»è€…é€šå¸¸ä½¿ç”¨å‡IPä»¥æ­¤æ¥éšè—ä»–ä»¬çš„çœŸå®èº«ä»½ï¼Œè¿™ä½¿å¾—å¯¹äºDDoSæ”»å‡»çš„è¿½è¸ªå›æº¯æ›´åŠ å›°éš¾ã€‚æ­¤å¤–ï¼Œè®¸å¤šå› ç‰¹ç½‘ä¸»æœºä¸­å­˜åœ¨å…¥ä¾µè€…å¯ä»¥åˆ©ç”¨çš„å®‰å…¨æ¼æ´ï¼Œé’ˆå¯¹åº”ç”¨å±‚çš„æ”»å‡»äº‹ä»¶æ­£åœ¨è¿…é€Ÿå¢åŠ ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é’ˆå¯¹DDoSçš„åè®®ç­‰çº§å¯¹DDoSæ”»å‡»è¿›è¡Œåˆ†ç±»ï¼Œå¹¶ä¸”æˆ‘ä»¬ä»…ä»…ä¸“æ³¨äºæœ€å¸¸è§çš„DDoSæ´ªæ³›æ”»å‡»ï¼Œæ¼æ´æ”»å‡»ï¼Œæ”»å‡»è€…åˆ©ç”¨æŸä¸ªæœåŠ¡çš„è½¯ä»¶å®ç°ä¸­çš„æŸäº›æ¼æ´æˆ–å®ç°bugå°†å…¶å¸¦ä¸‹æ¥ï¼Œå¹¶ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚ â€‹ åŸºäºåè®®ç­‰çº§ï¼ŒDDoSæ”»å‡»å¯ä»¥è¢«åˆ†ç±»ä¸ºä¸¤ç±»ï¼š Network/transport-level DDoS flflooding attacks: 1.1 Flooding attacksï¼šæ”»å‡»è€…é€šè¿‡æ¶ˆè€—å—å®³è€…ç½‘ç»œå¸¦å®½(å¦‚æ¬ºéª—/éæ¬ºéª—UDP æµã€ICMPæµã€DNSæµã€VoIPæµç­‰)æ¥ç ´ååˆæ³•ç”¨æˆ·çš„è¿é€šæ€§ã€‚ 1.2 Protocol exploitation flooding attacks:æ”»å‡»è€…åˆ©ç”¨å—å®³è€…æŸäº›åè®®çš„ç‰¹å®šç‰¹æ€§æˆ–å®ç°æ¼æ´ï¼Œä»¥æ¶ˆè€—å—å®³è€…çš„è¿‡é‡èµ„æºï¼ˆä¾‹å¦‚ï¼ŒTCP SYNæµï¼ŒTCP SYN-ACKæµï¼ŒACK &amp; PUSH ACK æµï¼ŒRST/FIN floodæµç­‰ï¼‰ã€‚ 1.3 Reflflection-based flflooding attacksï¼šæ”»å‡»è€…é€šå¸¸å‘reflectorså‘é€ä¼ªé€ è¯·æ±‚( ä¾‹å¦‚ , ICMPè¯·æ±‚ )è€Œä¸æ˜¯ç›´æ¥è¯·æ±‚ï¼›å› æ­¤ï¼Œè¿™äº›åå°„å™¨å‘å—å®³è€…å‘é€ç­”å¤å¹¶è€—å°½å—å®³è€…çš„èµ„æº. 1.4 Amplifification-based flflooding attacksï¼šæ”»å‡»è€…åˆ©ç”¨æœåŠ¡ä¸ºæ¥æ”¶åˆ°çš„æ¯ä¸ªæ¶ˆæ¯ç”Ÿæˆå¤§æ¶ˆæ¯æˆ–å¤šä¸ªæ¶ˆæ¯æ¥æ”¾å¤§å¯¹å—å®³è€…çš„æµé‡ã€‚åƒµå°¸ç½‘ç»œè¢«ä¸æ–­åœ°ç”¨äºåå°„å’Œæ”¾å¤§ä¸¤ç§ç›®çš„ã€‚åå°„å’Œæ”¾å¤§æŠ€æœ¯é€šå¸¸æ˜¯ä¸²è”ä½¿ç”¨çš„ï¼Œå¦‚Smurfæ”»å‡»æ—¶ï¼Œæ”»å‡»è€…åˆ©ç”¨æ•°æ®åŒ…çš„IPå¹¿æ’­ç‰¹æ€§( Amplification ) ï¼Œå‘å¤§é‡çš„åå°„å™¨å‘é€å¸¦æœ‰ä¼ªé€ æºIPåœ°å€çš„è¯·æ±‚ã€‚ ä»¥ä¸Šæ”»å‡»çš„å…·ä½“ç»†èŠ‚è§ã€2ã€‘ï¼Œã€32ã€‘ï¼Œã€35ã€‘ï¼Œã€36ã€‘ã€‚ Application-level DDoS flflooding attacks: åº”ç”¨çº§åˆ«çš„DDoSæ”»å‡»é€šè¿‡è€—å°½æœåŠ¡å™¨èµ„æº(å¦‚å¥—æ¥å­—ã€CPUã€å†…å­˜ã€ç£ç›˜/æ•°æ®åº“å¸¦å®½å’ŒI/Oå¸¦å®½ )æ¥ç ´ååˆæ³•ç”¨æˆ·çš„æœåŠ¡ï¼Œå…¶é€šå¸¸æ¶ˆè€—æ›´å°‘çš„å®½å¸¦ï¼Œæ›´åŠ éšè”½ï¼Œå…¶ä¸è‰¯æ€§æµé‡éå¸¸ç›¸ä¼¼ã€‚ä½†æ˜¯ï¼Œåº”ç”¨çº§åˆ«çš„DDoSæ”»å‡»é€šå¸¸å…·æœ‰ç›¸åŒçš„å½±å“åŠ›ã€‚ 2.1 Reflflection/amplifification based flflooding attacksï¼šè¿™ç§æ”»å‡»åˆ©ç”¨äº†ä¸1.4åŒæ ·çš„æŠ€æœ¯ï¼Œåªä¸è¿‡å‘é€çš„æ˜¯åº”ç”¨å±‚æ•°æ®åŒ…ã€‚ ä¸¾ä¸ªä¾‹å­ï¼ŒDNS amplification æ”»å‡»ä½¿ç”¨è‚‰æœºç”Ÿæˆä¸€å°è‚¡ä¼ªé€ IPçš„DNSè¯·æ±‚ï¼Œå› ä¸ºDNSå“åº”çš„æ•°é‡å¯èƒ½è¿œè¿œè¶…è¿‡DNSè¯·æ±‚çš„æ•°é‡ï¼Œå…¶å¯ä»¥ç”Ÿæˆå¤§é‡ç½‘ç»œæµé‡åŒ…ç›´æŒ‡ç›®æ ‡ç³»ç»Ÿï¼Œä½¿å…¶ç˜«ç—ªã€‚ å†ä¸¾ä¸€ä¸ªï¼ŒVOIP floodingï¼Œæ”»å‡»è€…é€šå¸¸é€šè¿‡SIPä»¥éå¸¸é«˜çš„åŒ…ç‡å’Œéå¸¸å¤§çš„æºIPèŒƒå›´å‘é€è¢«æ¬ºéª—çš„VoIPæ•°æ®åŒ…ã€‚å—å®³è€…VoIPæœåŠ¡å™¨å¿…é¡»åŒºåˆ†æ­£ç¡®çš„VoIPè¿æ¥å’Œæ¶ˆè€—å¤§é‡èµ„æºçš„ä¼ªé€ çš„VoIPè¿æ¥ã€‚VoIPæ³›æ´ªå¯ä»¥å‹å€’å…·æœ‰éšæœºæˆ–å›ºå®šæºIPåœ°å€çš„æ•°æ®åŒ…çš„ç½‘ç»œã€‚å¦‚æœæºIPåœ°å€æ²¡æœ‰è¢«æ”¹å˜ï¼Œé‚£ä¹ˆVoIPæ³›æ´ªæ”»å‡»å°±ä¼šæ¨¡ä»¿æ¥è‡ªå¤§å‹VoIPæœåŠ¡å™¨çš„æµé‡ï¼Œå¹¶ä¸”ç”±äºç±»ä¼¼äºè‰¯å¥½çš„æµé‡ï¼Œå¾ˆéš¾è¯†åˆ«ã€‚ 2.2 HTTP flooding attacksï¼š 2.2.1 Session flooding attacksï¼Œåœ¨è¿™ç§ç±»å‹çš„æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…çš„ä¼šè¯è¿æ¥è¯·æ±‚ç‡é«˜äºåˆæ³•ç”¨æˆ·çš„è¯·æ±‚ç‡ï¼Œå› æ­¤æ¶ˆè€—äº†æœåŠ¡å™¨çš„èµ„æºå¹¶å¯¼è‡´DDoSæ”»å‡»æœåŠ¡å™¨ã€‚ â€‹ å…¶ä¸­çš„å…¸å‹å°±æ˜¯HTTP get/post flooding attackï¼Œå…¶ä¸­æ”»å‡»è€…å‘å—å®³è€…WebæœåŠ¡å™¨ç”Ÿæˆå¤§é‡æœ‰æ•ˆçš„HTTPè¯·æ±‚( get / post )ã€‚æ”»å‡»è€…é€šå¸¸ä½¿ç”¨åƒµå°¸ç½‘ç»œæ¥å‘èµ·è¿™äº›æ”»å‡»ã€‚ç”±äºæ¯ä¸ªbotéƒ½å¯ä»¥äº§ç”Ÿå¤§é‡çš„æœ‰æ•ˆè¯·æ±‚(é€šå¸¸æ¯ç§’10ä¸ªä»¥ä¸Šçš„è¯·æ±‚)ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤§é‡çš„botå‘èµ·æˆåŠŸçš„æ”»å‡»ã€‚HTTP get / postæ³›æ´ªæ”»å‡»å±äºéæ¬ºéª—æ€§æ”»å‡»ã€‚ 2.2.2 Request flooding attacksï¼Œåœ¨è¿™ç§ç±»å‹çš„æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…å‘é€çš„ä¼šè¯åŒ…å«æ¯”é€šå¸¸æ›´å¤šçš„è¯·æ±‚ï¼Œå¹¶å¯¼è‡´æœåŠ¡å™¨é­å—DDoSæ³›æ»¥æ”»å‡»ã€‚ â€‹ å…¶ä¸­çš„å…¸å‹å°±æ˜¯ single-session HTTP get/post flfloodingï¼Œè¯¥æ”»å‡»æ˜¯HTTP get/post flflooding attackçš„ä¸€ç§å˜ç§ï¼Œå®ƒåˆ©ç”¨HTTP 1.1çš„ç‰¹æ€§ï¼Œå…è®¸å•ä¸ªHTTPä¼šè¯ä¸­çš„å¤šä¸ªè¯·æ±‚ã€‚å› æ­¤ï¼Œæ”»å‡»è€…å¯ä»¥é™åˆ¶HTTPæ”»å‡»çš„ä¼šè¯é€Ÿç‡ï¼Œå¹¶ç»•è¿‡è®¸å¤šå®‰å…¨ç³»ç»Ÿçš„ä¼šè¯é€Ÿç‡é™åˆ¶é˜²å¾¡æœºåˆ¶ã€‚ â€‹ 2.2.3 Asymmetric attacksï¼Œåœ¨è¿™ç§æ”»å‡»ç±»å‹ä¸­ï¼Œæ”»å‡»è€…å‘é€åŒ…å«é«˜å·¥ä½œè´Ÿè½½è¯·æ±‚çš„ä¼šè¯ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬åˆ—ä¸¾äº†è¿™ä¸€ç±»ä¸­çš„ä¸€äº›è‘—åæ”»å‡»ï¼š â€‹ Multiple HTTP get/post flfloodï¼Œè¯¥æ”»å‡»æ˜¯HTTP get/post flflooding attackçš„ä¸€ç§å˜ç§ï¼Œåœ¨è¿™é‡Œï¼Œæ”»å‡»è€…é€šè¿‡å½¢æˆä¸€ä¸ªåµŒå…¥å¤šä¸ªè¯·æ±‚çš„å•ä¸ªæ•°æ®åŒ…ï¼Œè€Œä¸åœ¨å•ä¸ªHTTPä¼šè¯ä¸­é€ä¸€å‘å‡ºå¤šä¸ªHTTPè¯·æ±‚ï¼Œä»è€Œåˆ›å»ºå¤šä¸ªHTTPè¯·æ±‚ã€‚ â€‹ è¿™æ ·ï¼Œæ”»å‡»è€…ä»ç„¶å¯ä»¥ä»¥è¾ƒä½çš„æ”»å‡»åŒ…ç‡åœ¨å—å®³æœåŠ¡å™¨ä¸Šä¿æŒè¾ƒé«˜çš„è´Ÿè½½ï¼Œä½¿å¾—æ”»å‡»è€…å‡ ä¹çœ‹ä¸åˆ°ç½‘ç»œæµé‡å¼‚å¸¸æ£€æµ‹æŠ€æœ¯ã€‚æ­¤å¤–ï¼Œæ”»å‡»è€…å¦‚æœä»”ç»†é€‰æ‹©HTTPVERBï¼Œå°±å¯ä»¥è½»æ¾ç»•è¿‡æ·±åº¦åŒ…æ£€æŸ¥æŠ€æœ¯ã€‚ â€‹ Faulty Applicationï¼Œåœ¨è¿™ç§æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…åˆ©ç”¨è®¾è®¡ä¸è‰¯æˆ–ä¸æ•°æ®åº“é›†æˆä¸å½“çš„ç½‘ç«™è¿›è¡Œæ”»å‡»ã€‚ä¾‹å¦‚ï¼Œå®ƒä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼SQLçš„æ³¨å…¥æ¥ç”Ÿæˆè¯·æ±‚æ¥é”å®šæ•°æ®åº“æŸ¥è¯¢ã€‚è¿™äº›æ”»å‡»éå¸¸å…·ä½“å’Œæœ‰æ•ˆï¼Œå› ä¸ºå®ƒä»¬æ¶ˆè€—æœåŠ¡å™¨èµ„æº( å†…å­˜ã€ CPUç­‰)ã€‚ â€‹ 2.2.4 Slow request/response attacksï¼Œåœ¨è¿™ç§æ”»å‡»ç±»å‹ä¸­ï¼Œæ”»å‡»è€…å‘é€åŒ…å«é«˜è´Ÿè½½è¯·æ±‚çš„ä¼šè¯ã€‚ â€‹ Slowloris attack (a.k.a, slow headers attack)ï¼ŒSlowlorisï¼ˆæ‡’çŒ´ï¼‰æ˜¯ä¸€ç§åŸºäºHTTP getçš„æ”»å‡»ï¼Œå¯ä»¥ä½¿ç”¨æœ‰é™æ•°é‡çš„æœºå™¨ç”šè‡³å•ä¸ªæœºå™¨æ¥é™ä½WebæœåŠ¡å™¨ã€‚ â€‹ æ”»å‡»è€…å‘é€éƒ¨åˆ†HTTPè¯·æ±‚( ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„requestå¤´éƒ¨ï¼‰è¿™äº›è¯·æ±‚æŒç»­å¿«é€Ÿåœ°å¢é•¿ï¼Œç¼“æ…¢åœ°æ›´æ–°ï¼Œæ°¸è¿œä¸ä¼šå…³é—­ã€‚æ”»å‡»ä¸€ç›´æŒç»­åˆ°æ‰€æœ‰å¯ç”¨çš„å¥—æ¥å­—è¢«è¿™äº›è¯·æ±‚å ç”¨ï¼ŒWebæœåŠ¡å™¨å˜å¾—ä¸å¯è®¿é—®ã€‚æ”»å‡»è€…çš„æºåœ°å€é€šå¸¸ä¸æ˜¯ä¼ªé€ çš„ã€‚ â€‹ HTTP fragmentation attackï¼Œä¸æ‡’çŒ´ç±»ä¼¼ï¼Œè¿™ç§æ”»å‡»çš„ç›®æ ‡æ˜¯é€šè¿‡é•¿æ—¶é—´ä¿æŒHTTPè¿æ¥è€Œä¸å¼•å‘ä»»ä½•è­¦æŠ¥æ¥é™ä½WebæœåŠ¡å™¨ã€‚ â€‹ æ”»å‡»è€…( bot ) ä¸WebæœåŠ¡å™¨å»ºç«‹æœ‰æ•ˆçš„HTTPè¿æ¥ã€‚ç„¶åï¼Œå®ƒä»¬å°†åˆæ³•çš„HTTPæ•°æ®åŒ…åˆ†è§£æˆå¾®å°çš„ç‰‡æ®µï¼Œå¹¶æŒ‰ç…§æœåŠ¡å™¨è¶…æ—¶å…è®¸çš„é€Ÿåº¦å‘é€æ¯ä¸ªç‰‡æ®µã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œé€šè¿‡åœ¨æ¯ä¸ªbotä¸Šæ‰“å¼€å¤šä¸ªä¼šè¯ï¼Œæ”»å‡»è€…å¯ä»¥åªä½¿ç”¨å°‘æ•°è‚‰æœºå°±æ‚„æ‚„åœ°è®©ä¸€ä¸ªWebæœåŠ¡å™¨å´©æºƒã€‚ â€‹ Slowpost attackï¼Œã€42ã€‘wongç­‰äººæå‡ºäº†ä¸€ä¸ªè·Ÿæ‡’çŒ´æ”»å‡»éå¸¸ç›¸ä¼¼çš„æ”»å‡»ï¼Œå…¶é€šè¿‡ç¼“æ…¢å‘é€HTTP_postè¯·æ±‚æ¥å‡»æºƒWebæœåŠ¡å™¨ã€‚ â€‹ æ”»å‡»è€…å‘é€ä¸€ä¸ªå®Œæ•´çš„HTTPå¤´ï¼Œå®ƒå®šä¹‰äº†æ¶ˆæ¯ä½“çš„â€˜å†…å®¹-é•¿åº¦â€™å­—æ®µï¼Œä½œä¸ºå‘é€æ­¤è¯·æ±‚çš„è‰¯æ€§æµé‡ã€‚ç„¶åå®ƒä»¥æ¯ä¸¤åˆ†é’Ÿä¸€ä¸ªå­—èŠ‚çš„é€Ÿç‡å‘é€æ•°æ®æ¥å¡«å……æ¶ˆæ¯ä½“ã€‚å› æ­¤ï¼ŒæœåŠ¡å™¨ç­‰å¾…æ¯ä¸ªæ¶ˆæ¯ä½“å®Œæˆï¼Œè€ŒSlowpostæ”»å‡»è¿…é€Ÿå¢é•¿ï¼Œå¯¼è‡´WebæœåŠ¡å™¨ä¸Šçš„DDoSæ³›æ´ªæ”»å‡»ã€‚ â€‹ Slowreading attackï¼Œã€43ã€‘Shekyanç­‰äººæå‡ºäº†å¦ä¸€ç§é€šè¿‡ç¼“æ…¢è¯»å–responseæ¥å‘èµ·æ”»å‡»çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯é€šè¿‡ç¼“æ…¢å‘é€ã€‚ â€‹ æ­¤æ”»å‡»é€šè¿‡è®¾ç½®æ¯”ç›®æ ‡æœåŠ¡å™¨çš„å‘é€ç¼“å†²åŒºæ›´å°çš„æ¥æ”¶çª—å£å¤§å°æ¥è¾¾åˆ°ç›®çš„ã€‚å³ä½¿æ²¡æœ‰æ•°æ®é€šä¿¡ï¼ŒTCPåè®®ä»ç„¶ä¿æŒå¼€æ”¾çš„è¿æ¥ï¼›å› æ­¤ï¼Œæ”»å‡»è€…å¯ä»¥è¿«ä½¿æœåŠ¡å™¨ä¿æŒå¤§é‡è¿æ¥çš„å¼€æ”¾ï¼Œæœ€ç»ˆå¯¹æœåŠ¡å™¨é€ æˆDDoSæ³›æ´ªæ”»å‡»ã€‚ BOTNET-BASED DDOS ATTACKS â€‹ å¦‚å‰æ‰€è¿°ï¼Œåƒµå°¸ç½‘ç»œæ˜¯ä¿ƒä½¿DDoSæ´ªèŒƒæ”»å‡»è®¡ç®—æœºç½‘ç»œæˆ–åº”ç”¨ç¨‹åºçš„ä¸»å¯¼æœºåˆ¶ã€‚æœ€è¿‘æœ€ä»¤äººå¤´å¤§çš„åº”ç”¨å±‚DDoSæ³›æ´ªæ”»å‡»å¤§å¤šä½¿ç”¨åƒµå°¸ç½‘ç»œã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¯¹å½“å‰åƒµå°¸ç½‘ç»œæ¶æ„ä»¥åŠå·²ç»ç”¨äºå‘èµ·DDoSæ³›æ´ªæ”»å‡»çš„å·¥å…·è¿›è¡Œäº†å…¨é¢çš„ç ”ç©¶ â€‹ æ ¹æ®ã€32ã€‘Pengç­‰äººæ‰€è¿°ï¼Œå½“æ”»å‡»è€…ä½¿ç”¨åƒµå°¸ç½‘ç»œæ¥åˆ¶é€ DDoSæ”»å‡»æ—¶ï¼Œä½¿å¾—åšå‡ºæ›´æœ‰æ•ˆçš„é˜²å¾¡æœºåˆ¶æ›´å›°éš¾çš„åŸå› æœ‰äºŒï¼šä¸€æ˜¯å¤§é‡çš„åƒµå°¸è‚‰æœºå¯ä½¿å¾—æ”»å‡»è€…åˆ¶é€ å‡ºçš„æ”»å‡»æµé‡è§„æ¨¡æ›´å¤§ï¼Œæ›´å…·ç ´åæ€§ï¼›äºŒæ˜¯è‚‰æœºçš„IPä¸€èˆ¬æ˜¯ä¼ªé€ çš„ï¼Œå¾ˆéš¾å›æº¯è¿½è¸ªã€‚ â€‹ åƒµå°¸ç½‘ç»œåŒ…æ‹¬masterï¼Œhandlerå’Œbotsï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â€‹ handlersæ˜¯æ”»å‡»è€…( å³master )ç”¨æ¥ä¸è‡ªå·±çš„è‚‰æœºï¼ˆå³botsï¼‰é—´æ¥é€šä¿¡çš„é€šä¿¡æ‰‹æ®µã€‚ä¾‹å¦‚ï¼Œhandlerså¯ä»¥å®‰è£…åœ¨æ”»å‡»è€…é€šä¿¡å‘é€å‘½ä»¤çš„ä¸€ç»„æŠ˜è¡·è®¾å¤‡( ä¾‹å¦‚ ,ç½‘ç»œæœåŠ¡å™¨ )ä¸Šã€‚ â€‹ ç„¶è€Œï¼Œå¤§å¤šæ•°å®‰è£…çš„ç¨‹åºéƒ½ç•™ä¸‹äº†å½“å‰æ€æ¯’è½¯ä»¶å¯ä»¥æ£€æµ‹åˆ°çš„ç‹¬ç‰¹è¶³è¿¹ã€‚å› æ­¤ï¼Œå½“å‰æ”»å‡»è€…ä½¿ç”¨å…¶ä»–æ–¹æ³•( å¦‚äº’è”ç½‘ä¸­ç»§èŠå¤© IRC )ä¸botè¿›è¡Œé€šä¿¡ï¼Œä»¥å‘é€å‘½ä»¤å¹¶æ§åˆ¶å®ƒä»¬ã€‚ â€‹ Botså°±æ˜¯è¢«æ§åˆ¶çš„è‚‰æœºï¼Œå…¶ç”Ÿæˆå¯ä»¥æœ‰æˆç™¾ä¸Šåƒç§æ–¹æ³•ï¼Œæ ¹æ®å…¶å¦‚ä½•è¢«æ”»å‡»è€…æ§åˆ¶ï¼Œå¯ä»¥åˆ†ç±»ä¸ºï¼š â€‹ IRC-bacsed: â€‹ IRCæ˜¯ä¸€ä¸ªäº’è”ç½‘åœ¨çº¿æ–‡æœ¬ä¿¡æ¯åè®®ï¼Œå…¶é‡‡ç”¨c-sæ¶æ„ï¼Œå…·æœ‰é»˜è®¤çš„é€šé“ï¼Œå¯ä»¥å®ç°æœåŠ¡å™¨é—´çš„é€šä¿¡ã€‚IRCå¯ä»¥é€šè¿‡å¤šä¸ªæœåŠ¡å™¨è¿æ¥æ•°ç™¾ä¸ªå®¢æˆ·ç«¯ã€‚åˆ©ç”¨IRCé€šé“ä½œä¸ºå¤„ç†ç¨‹åºï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨åˆæ³•çš„IRCç«¯å£å‘botå‘é€å‘½ä»¤ï¼Œä½¿å¾—å¯¹DDoSå‘½ä»¤å’Œæ§åˆ¶ç»“æ„çš„è·Ÿè¸ªå˜å¾—æ›´åŠ å›°éš¾ã€‚ â€‹ ç”±äºIRCæœåŠ¡é€šå¸¸å…·æœ‰åºå¤§çš„æ•°æ®é‡ï¼Œæ”»å‡»è€…å› æ­¤å¯ä»¥è½»æ˜“çš„éšè—è‡ªå·±ã€‚ â€‹ å¦å¤–ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡å°†æ¶æ„ä»£ç åˆ†ç‰‡å‘é€è€Œè½»æ¾åœ°åˆ†äº«æ–‡ä»¶ã€‚ â€‹ æ­¤å¤–ï¼Œæ”»å‡»è€…å¯ä»¥ç®€å•åœ°ç™»å½•åˆ°IRCæœåŠ¡å™¨å¹¶æŸ¥çœ‹æ‰€æœ‰å¯ç”¨botçš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯åœ¨å…¶ç«™ç‚¹æœ¬åœ°ç»´æŠ¤å…¶åˆ—è¡¨ã€‚å…·æœ‰é›†ä¸­æŒ‡æŒ¥å’Œæ§åˆ¶( C &amp; C )åŸºç¡€è®¾æ–½çš„åƒµå°¸ç½‘ç»œ(å¦‚åŸºäºIRCçš„åƒµå°¸ç½‘ç»œ)çš„ä¸»è¦å±€é™æ€§åœ¨äºæœåŠ¡å™¨æ˜¯æ½œåœ¨çš„æ•…éšœä¸­æ¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœé˜²å¾¡è€…æ•è·äº†C &amp; CæœåŠ¡å™¨ï¼Œæ•´ä¸ªåƒµå°¸ç½‘ç»œå¯èƒ½ä¼šå…³é—­ã€‚ä¸€äº›åŸºäºIRCçš„è‘—ååƒµå°¸ç½‘ç»œå·¥å…·å¤šå¹´æ¥è¢«å¼€å‘å¹¶ç”¨äºå‘èµ·DDoSæ”»å‡»å¦‚ï¼š â€‹ ã€43ã€‘Trinity v3ï¼ˆUDP,TCP SYN, TCP ACK, and TCP NULflflood attacksï¼‰ â€‹ ã€47ã€‘Kaitenï¼ˆUDP, TCP, SYN, and PUSH+ACH flflood attacksï¼‰ â€‹ Web-based (a.k.a., HTTP-based)ï¼š â€‹ æœ€è¿‘ï¼Œåƒµå°¸ç½‘ç»œå¼€å§‹ä½¿ç”¨HTTPä½œä¸ºé€šä¿¡åè®®å‘åƒµå°¸ç½‘ç»œå‘é€å‘½ä»¤ï¼Œä½¿å¾—è¿½è¸ªDDoSå‘½ä»¤å’Œæ§åˆ¶ç»“æ„å˜å¾—å›°éš¾å¾—å¤šã€‚åŸºäºWebçš„åƒµå°¸ç½‘ç»œä¸åƒåŸºäºIRCçš„åƒµå°¸ç½‘ç»œé‚£æ ·ä¸C &amp; CæœåŠ¡å™¨ä¿æŒè¿æ¥ã€‚ç›¸åï¼Œæ¯ä¸ªWebæœºå™¨äººå®šæœŸä½¿ç”¨Webè¯·æ±‚ä¸‹è½½æŒ‡ä»¤ã€‚åŸºäºWebçš„åƒµå°¸ç½‘ç»œæ›´éšè”½ï¼Œå› ä¸ºå®ƒä»¬éšè—åœ¨åˆæ³•çš„HTTPæµé‡ä¸­ã€‚ â€‹ Botsé€šè¿‡å¤æ‚çš„PHPè„šæœ¬è¿›è¡Œé…ç½®å’Œæ§åˆ¶ï¼Œå®ƒä»¬é€šè¿‡HTTPæˆ–è€…HTTPSåŠ å¯†é€šä¿¡ã€‚ â€‹ ä¸‰ä¸ªè‘—åçš„Web-based åƒµå°¸ç½‘ç»œï¼š â€‹ ã€49ã€‘ BlackEnergy â€‹ ã€50ã€‘ Ion Cannon (LOIC) â€‹ ã€52ã€‘ Aldi DDOS DEFENSE: SCOPE AND CLASSIFICATION â€‹ é€šå¸¸åœ¨æ£€æµ‹åˆ°DDoSæ³›æ´ªæ”»å‡»æ—¶ï¼Œé™¤äº†æ–­å¼€å—å®³è€…ä¸ç½‘ç»œå¹¶æ‰‹åŠ¨ä¿®å¤é—®é¢˜ä¹‹å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥åšçš„ã€‚ä»»ä½•DDoSé˜²å¾¡æœºåˆ¶çš„æœ€ç»ˆç›®æ ‡éƒ½æ˜¯å°½å¿«æ£€æµ‹åˆ°å®ƒä»¬ï¼Œå¹¶å°½å¯èƒ½åœ°å°†å®ƒä»¬é˜»æ­¢åˆ°æºç«¯ã€‚ â€‹ â€‹ â€‹ ä¸Šå›¾æ˜¾ç¤ºäº†å¯¹DDoSæ£€æµ‹å’Œå›åº”å¯ä»¥å®æ–½çš„é˜¶æ®µï¼Œå¦‚å›¾æ‰€ç¤ºï¼ŒDDoSæ³›æ´ªæ”»å‡»ç±»ä¼¼äºä¸€ä¸ªæ¼æ–—ï¼Œåœ¨è¯¥æ¼æ–—ä¸­æ”»å‡»æµäº§ç”Ÿäºä¸€ä¸ªåˆ†æ•£åŒº(å³æº)ï¼Œå½¢æˆæ¼æ–—çš„é¡¶éƒ¨ã€‚ â€‹ å¯ä»¥çœ‹å‡ºï¼Œåœ¨æ¼æ–—åº•éƒ¨æ£€æµ‹DDoSæ”»å‡»æ—¶ç›¸å¯¹å®¹æ˜“çš„ï¼Œæ‰€æœ‰ç½‘ç»œæµéƒ½å¯ä»¥åœ¨åº•éƒ¨è¢«è§‚å¯Ÿåˆ°ã€‚ç›¸ååœ°ï¼Œç›¸åï¼Œä»æ”»å‡»çš„å•ä¸ªæºç½‘ç»œå¾ˆéš¾æ£€æµ‹åˆ°æ”»å‡»ï¼Œé™¤éä»è¯¥æºå‘èµ·å¤§é‡æ”»å‡»æµã€‚ â€‹ ä½†æ˜¯åœ¨æ£€æµ‹çš„å‡†ç¡®æ€§å’Œå¦‚ä½•æ¥è¿‘æ”»å‡»æºä¹‹é—´æ€»æ˜¯å­˜åœ¨æƒè¡¡çš„é—®é¢˜ï¼Œé¢„é˜²å’Œå“åº”æœºåˆ¶èƒ½å¤Ÿé˜»æ­¢æˆ–å“åº”æ”»å‡»ã€‚ â€‹ æ­¤å¤–ï¼Œå½“å“åº”æœºåˆ¶( ä¾‹å¦‚ ,åŒ…è¿‡æ»¤ )å°†æ”»å‡»æ•°æ®åŒ…æ›´é è¿‘æ”»å‡»æºæ—¶ï¼Œå½“å—å®³è€…å—åˆ°DDoSæ”»å‡»(å³åœ¨DDoSæ”»å‡»çš„ä¸­é—´)ï¼Œåˆ°è¾¾å—å®³è€…çš„æ­£å¸¸æ•°æ®åŒ…æ•°é‡ä¹Ÿä¼šå¢åŠ ã€‚å¦åˆ™ï¼Œéšç€æ”»å‡»æµè¶Šæ¥è¿‘å—å®³è€…ï¼Œæ•°æ®åŒ…è¿‡æ»¤æœºåˆ¶å°±ä¼šä¸¢å¼ƒæ›´å¤šå—å®³è€…çš„åˆæ³•æ•°æ®åŒ…ã€‚ â€‹ åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸¤ä¸ªåˆ¤æ®å¯¹æˆ‘ä»¬åœ¨ç¬¬IIIèŠ‚ä¸­æå‡ºçš„ä¸¤ç±»DDoSæ´ªæ³›æ”»å‡»çš„é˜²å¾¡æœºåˆ¶è¿›è¡Œäº†åˆ†ç±»ã€‚æˆ‘ä»¬è®¤ä¸ºï¼Œè¿™äº›åˆ†ç±»æ ‡å‡†å¯¹äºè®¾è®¡ç¨³å¥çš„é˜²å¾¡è§£å†³æ–¹æ¡ˆéå¸¸é‡è¦ã€‚ â€‹ åˆ†ç±»çš„ç¬¬ä¸€ä¸ªå‡†åˆ™æ˜¯é˜²å¾¡æœºåˆ¶åœ¨æ”»å‡»è¿‡ç¨‹çš„å“ªé‡Œå®ç°ï¼ˆDeployment locationï¼‰ï¼š â€‹ æˆ‘ä»¬å°†é’ˆå¯¹ä¼ è¾“å±‚çº§çš„DDoSæ”»å‡»çš„é˜²å¾¡æ–¹æ³•åˆ†ä¸ºå››ç±»ï¼ˆè§Fig.3.ï¼‰ï¼š â€‹ source-based, destination-based,network-based, and hybrid (a.k.a. distributed) â€‹ æˆ‘ä»¬å°†é’ˆå¯¹åº”ç”¨çº§DDoSæ”»å‡»çš„é˜²å¾¡æ–¹æ³•åˆ†ä¸ºä¸¤ç±»ï¼š â€‹ destination-based, and hybrid (a.k.a. distributed) â€‹ ç”±äºåº”ç”¨å±‚DDoSæ”»å‡»çš„æµé‡åœ¨ç¬¬2å±‚(äº¤æ¢æœº)å’Œç¬¬3å±‚(è·¯ç”±å™¨)è®¾å¤‡ä¸Šä¸å¯è®¿é—®ï¼Œå› æ­¤æ²¡æœ‰network-basedçš„é˜²å¾¡æœºåˆ¶æ¥æŠµå¾¡åº”ç”¨å±‚DDoSæ”»å‡»ã€‚ â€‹ åˆ†ç±»çš„ç¬¬äºŒä¸ªå‡†åˆ™æ˜¯DDoSé˜²å¾¡æœºåˆ¶é¢å¯¹å¯èƒ½çš„DDoSæ”»å‡»å“åº”çš„æ—¶é—´ç‚¹ï¼š â€‹ åŸºäºä»¥ä¸Šå‡†åˆ™æˆ‘ä»¬å°†åŸºäºä¼ è¾“å±‚å’ŒåŸºäºåº”ç”¨å±‚çš„çš„DDoSé˜²å¾¡æœºåˆ¶åˆ†ä¸ºä¸‰ç±»ï¼š â€‹ before the attackï¼ˆattack preventionï¼‰ï¼Œduring the attackï¼ˆattack detectionï¼‰ï¼Œafter the attack(attack source identifification and response) â€‹ å› ä¸ºå¯¹äºDDoSæ”»å‡»å¹¶æ²¡æœ‰ä¸€ä¸ªâ€œä¸€åˆ€åˆ‡â€çš„åŠæ³•ï¼Œä¸€ä¸ªç»¼åˆçš„DDoSé˜²å¾¡æœºåˆ¶åº”è¯¥åŒ…æ‹¬ä»¥ä¸Šä¸‰ä¸ªé˜²å¾¡æ–¹æ³•ã€‚ psï¼šç”±äºæœ¬æ¬¡è°ƒç ”é‡ç‚¹åœ¨äºæ¢ç´¢å¯¹åŸºäºAIæ–¹æ³•çš„DDoSé˜²å¾¡æœºåˆ¶ï¼Œè¿™é‡Œä¸åšè¿‡æ·±å…¥æ¢ç´¢ï¼Œå…·ä½“ä¼ ç»Ÿæ–¹æ³•è§åŸæ–‡ã€‚ DDOS DEFENSE: PERFORMANCE MEASUREMENT METRICS â€‹ åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å›é¡¾å’Œè®¨è®ºäº†æ–‡çŒ®ä¸­å‘ç°çš„ä¸€äº›å¯ä»¥ç”¨æ¥æ¯”è¾ƒè¯„ä¼°DDoSé˜²å¾¡æŠ€æœ¯çš„åº¦é‡å’Œå±æ€§ã€‚ â€‹ ç„¶åï¼Œåœ¨è¡¨IIIå’Œè¡¨IVä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ defense strength (accuracy)ã€ scalabilityï¼ˆå¯æ‰©å±•æ€§ï¼‰ã€ delayï¼ˆå»¶è¿Ÿï¼‰ã€ system performance degradationï¼ˆç³»ç»Ÿæ€§èƒ½é€€åŒ–ï¼‰ã€implementation complexityï¼ˆå®ç°å¤æ‚åº¦ï¼‰ç­‰æ€§èƒ½åº¦é‡æŒ‡æ ‡ï¼ŒåŸºäºdeployment locationå®šæ€§åœ°æ¯”è¾ƒäº†ä¼ è¾“å±‚çº§DDoSæ”»å‡»çš„é˜²å¾¡æœºåˆ¶å’Œåº”ç”¨å±‚çº§DDoSé˜²å¾¡æœºåˆ¶ï¼Œä»¥åŠè¿™äº›é˜²å¾¡æœºåˆ¶æ˜¯å¦è¢«è§†ä¸ºæ•´ä½“é˜²å¾¡æœºåˆ¶ã€‚ â€‹ åº¦é‡é˜²å¾¡æœºåˆ¶çš„æ ‡å‡†å¦‚ä¸‹ï¼š Defense Strength: é˜²å¾¡æœºåˆ¶çš„å¼ºåº¦å¯ä»¥é€šè¿‡å„ç§åº¦é‡æ¥è¡¡é‡ï¼Œè¿™å–å†³äºå®ƒèƒ½å¤šå¥½åœ°é¢„é˜²ã€æ£€æµ‹å’Œé˜»æ­¢æ”»å‡»ã€‚è¿™äº›åº¦é‡å¯ä»¥æ ¹æ®æ¯ä¸ªé˜²å¾¡æœºåˆ¶åšå‡ºçš„å†³ç­–æˆ–é¢„æµ‹æ¥å®šä¹‰ã€‚é˜²å¾¡æœºåˆ¶è¦ä¹ˆæ¢æµ‹å¹¶åº”å¯¹æ”»å‡»ï¼Œè¦ä¹ˆé”™è¿‡æ”»å‡»ã€‚æ ¹æ®ä»–ä»¬çš„ååº”ï¼Œæœ‰å››ä¸ªå¯èƒ½çš„ç»“æœå¦‚è¡¨IIæ‰€ç¤ºã€‚ â€‹ å¦‚è¡¨IIæ‰€ç¤ºï¼ŒAï¼ŒBï¼ŒCï¼ŒDåˆ†åˆ«è¡¨ç¤ºä¸ºtrue negativeï¼Œfalse negativeï¼Œfalse positiveï¼Œtrue positiveï¼Œå…¶å®å°±æ˜¯å¸¸è§çš„æ··æ·†çŸ©é˜µã€‚ Accuracyæ˜¯å¯¹æ£€æµ‹ç»“æœçš„ç»¼åˆè¯„ä»·ï¼Œæ˜¯é¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹å å…¨éƒ¨çš„æ¯”ä¾‹ã€‚ \\[ Accuracy=\\frac{TP+TN}{P+N}=\\frac{TP+TN}{TN+TP+FP+FN} \\] Sensitivityæ˜¯é˜³æ€§æ ·æœ¬ä¸­é¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹ï¼š \\[ Sensitivity=\\frac{TP}{P}=\\frac{TP}{TP+FP} \\] Specificityæ˜¯é˜´æ€§æ ·æœ¬ä¸­é¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹ï¼š \\[ Specificity=\\frac{TN}{N}=\\frac{TN}{TN+FN} \\] Precisionæ˜¯é¢„æµ‹ä¸ºé˜³æ€§çš„æ ·æœ¬ä¸­é¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹ï¼š \\[ Precision=\\frac{TP}{FP+TP} \\] Reliability or False positive rateæ˜¯é¢„æµ‹ä¸ºé˜³æ€§çš„æ ·æœ¬ä¸­é”™è¯¯çš„æ¯”ä¾‹ï¼š \\[ Reliability(False.positive.rate)=\\frac{FP}{FP+TP} \\] False negative rateæ˜¯é¢„æµ‹ä¸ºé˜´æ€§çš„æ ·æœ¬ä¸­é”™è¯¯çš„æ¯”ä¾‹ï¼š \\[ False\\,negative\\,rate=\\frac{FP}{FP+TP} \\] Compromise-ability: æ”»å‡»è€…èƒ½å¦åˆ©ç”¨é˜²å¾¡æœºåˆ¶ï¼Œä»¥ä¾¿å¯¹æ•´ä¸ªç³»ç»Ÿå‘èµ·æ”»å‡»( ä¾‹å¦‚ , DDoS )? Delay in detection/response: æ£€æµ‹åˆ°/å¯¹æ”»å‡»åšå‡ºååº”çš„æ—¶é—´ã€‚ System performance degradation: ä¸€ä¸ªé˜²å¾¡æœºåˆ¶æ˜¯å¦ä¼šé€ æˆç³»ç»Ÿçš„åŠŸèƒ½æ€§é—®é¢˜ï¼ˆä¾‹å¦‚å†…å­˜çŸ­ç¼ºï¼ŒCPUæ—¶é—´ç‰‡çŸ­ç¼ºç­‰ï¼‰ï¼Œæˆ–è€…å…¶æ˜¯å¦éœ€è¦é¢å¤–çš„è¦æ±‚ä»¥å®Œç¾è¿è¡Œã€‚ Passive, reactive or proactive: é˜²å¾¡æœºåˆ¶é€šè¿‡ä¸»åŠ¨é˜»æ­¢æ”»å‡»çš„å‘ç”Ÿæ¥é˜²å¾¡æ”»å‡»ï¼Œå®ƒæ˜¯åªå¯¹ç°æœ‰æ”»å‡»ä½œå‡ºååº”ï¼Œè¿˜æ˜¯åªåœ¨DDoSæ”»å‡»å‘èµ·åæ‰é‡‡å–è¡ŒåŠ¨ã€‚ Holistic defense: ä¸€ç§æ•´ä½“é˜²å¾¡æœºåˆ¶ï¼Œé€šè¿‡è€ƒè™‘æ‰€æœ‰éœ€è¦çš„ä»»åŠ¡ï¼Œä»¥é˜»æ­¢DDoSæ”»å‡»( å³æ—¢æ£€æµ‹åˆå“åº” )ã€‚ Implementation complexity: å®ç°å¤æ‚æ€§ã€‚ Usability: æ˜¯å¦user-friendlyã€‚ Deployment location: æ­£å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„ï¼Œéƒ¨ç½²ä½ç½®æ˜¯æ¯”è¾ƒå„ç§é˜²å¾¡æœºåˆ¶çš„å¦ä¸€ä¸ªåº¦é‡ã€‚æ¯ä¸ªä½ç½®éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œä½¿å¾—ä¸€ç§æœºåˆ¶ä¼˜äºå¦ä¸€ç§æœºåˆ¶ã€‚ Scalability: å¯æ‰©å±•æ€§ï¼Œä¸€ä¸ªå¯æ‰©å±•çš„é˜²å¾¡æœºåˆ¶å¯ä»¥æœ‰æ•ˆåœ°å¤„ç†å…¶æ”»å‡»æ£€æµ‹å’Œå“åº”èŒè´£ï¼Œå³ä½¿æ”»å‡»è€…çš„æ•°é‡å’Œæ”»å‡»æµé‡éƒ½å¢åŠ äº†ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"IDS","slug":"IDS","permalink":"http://example.com/tags/IDS/"},{"name":"DDoS","slug":"DDoS","permalink":"http://example.com/tags/DDoS/"}],"author":"Shaw"},{"title":"HydraText-Multi-objective Optimization for Adversarial Textual Attack","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘HydraText Multi-objective Optimization for Adversarial Textual Attack","date":"2021-11-14T06:08:02.217Z","updated":"2022-07-15T08:30:58.064Z","comments":true,"path":"2021/11/14/ã€è®ºæ–‡é˜…è¯»ã€‘HydraText Multi-objective Optimization for Adversarial Textual Attack/","link":"","permalink":"http://example.com/2021/11/14/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91HydraText%20Multi-objective%20Optimization%20for%20Adversarial%20Textual%20Attack/","excerpt":"HydraText: Multi-objective Optimization for Adversarial Textual Attack ä½œè€…ï¼šShengcai Liuï¼ŒNing Luï¼ŒCheng Chenï¼ŒChao Qianï¼ŒKe Tang æ—¶é—´ï¼š2021 ABSTRACT â€‹ æ–‡å­—(text)ï¼ˆword-levelï¼‰å¯¹æŠ—æ ·æœ¬é»‘ç›’æ”»å‡»ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼ŒåŒæ—¶è€ƒè™‘æ”»å‡»æ•ˆç‡+å¯è¾¨è®¤æ€§ï¼Œå¹¶æå‡ºä¸€ç§æ–°çš„å…·æœ‰å¯è¯æ˜æ€§èƒ½ä¿è¯çš„å¤šä¼˜åŒ–æ–¹æ³•(ç§°ä¸ºHydraText )ï¼Œä»¥å®ç°å…·æœ‰é«˜éšè”½æ€§çš„æˆåŠŸæ”»å‡»ã€‚ â€‹ ä¸ºäº†æµ‹è¯•HydraTextçš„åŠŸæ•ˆï¼Œæˆ‘ä»¬åœ¨score-based å’Œdecision-basedçš„é»‘ç›’æ”»å‡»ä¸‹ï¼Œä½¿ç”¨5ä¸ªNLPæ¨¡å‹+5ä¸ªæ•°æ®é›†ã€‚ ï¼ˆPSï¼š[è®ºæ–‡æ€»ç»“] Boundary Attack - çŸ¥ä¹ (zhihu.com)ï¼‰ â€‹ ä¸€é¡¹äººç±»è§‚å¯Ÿè¯„ä»·ç ”ç©¶è¡¨æ˜ï¼ŒHydra Textåˆ¶ä½œçš„å¯¹æŠ—æ ·æœ¬å¾ˆå¥½åœ°ä¿æŒäº†æœ‰æ•ˆæ€§å’Œè‡ªç„¶æ€§ã€‚æœ€åï¼Œè¿™äº›å®ä¾‹è¿˜è¡¨ç°å‡ºè‰¯å¥½çš„å¯è¿ç§»æ€§ï¼Œå¯ä»¥é€šè¿‡å¯¹æŠ—è®­ç»ƒç»™ç›®æ ‡æ¨¡å‹å¸¦æ¥æ˜¾è‘—çš„é²æ£’æ€§æå‡ã€‚","text":"HydraText: Multi-objective Optimization for Adversarial Textual Attack ä½œè€…ï¼šShengcai Liuï¼ŒNing Luï¼ŒCheng Chenï¼ŒChao Qianï¼ŒKe Tang æ—¶é—´ï¼š2021 ABSTRACT â€‹ æ–‡å­—(text)ï¼ˆword-levelï¼‰å¯¹æŠ—æ ·æœ¬é»‘ç›’æ”»å‡»ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼ŒåŒæ—¶è€ƒè™‘æ”»å‡»æ•ˆç‡+å¯è¾¨è®¤æ€§ï¼Œå¹¶æå‡ºä¸€ç§æ–°çš„å…·æœ‰å¯è¯æ˜æ€§èƒ½ä¿è¯çš„å¤šä¼˜åŒ–æ–¹æ³•(ç§°ä¸ºHydraText )ï¼Œä»¥å®ç°å…·æœ‰é«˜éšè”½æ€§çš„æˆåŠŸæ”»å‡»ã€‚ â€‹ ä¸ºäº†æµ‹è¯•HydraTextçš„åŠŸæ•ˆï¼Œæˆ‘ä»¬åœ¨score-based å’Œdecision-basedçš„é»‘ç›’æ”»å‡»ä¸‹ï¼Œä½¿ç”¨5ä¸ªNLPæ¨¡å‹+5ä¸ªæ•°æ®é›†ã€‚ ï¼ˆPSï¼š[è®ºæ–‡æ€»ç»“] Boundary Attack - çŸ¥ä¹ (zhihu.com)ï¼‰ â€‹ ä¸€é¡¹äººç±»è§‚å¯Ÿè¯„ä»·ç ”ç©¶è¡¨æ˜ï¼ŒHydra Textåˆ¶ä½œçš„å¯¹æŠ—æ ·æœ¬å¾ˆå¥½åœ°ä¿æŒäº†æœ‰æ•ˆæ€§å’Œè‡ªç„¶æ€§ã€‚æœ€åï¼Œè¿™äº›å®ä¾‹è¿˜è¡¨ç°å‡ºè‰¯å¥½çš„å¯è¿ç§»æ€§ï¼Œå¯ä»¥é€šè¿‡å¯¹æŠ—è®­ç»ƒç»™ç›®æ ‡æ¨¡å‹å¸¦æ¥æ˜¾è‘—çš„é²æ£’æ€§æå‡ã€‚ INTRODUCTION â€‹ æˆ‘ä»¬ä»”ç»†åœ°è®¾è®¡äº†ç›®æ ‡å‡½æ•°ï¼Œå¹¶è¿›ä¸€æ­¥æ„å»ºäº†ä¸€ä¸ªå¤šç›®æ ‡ä¼˜åŒ–é—®é¢˜ï¼ˆmulti-objective optimization problemï¼ŒMOPï¼‰ï¼Œè¯¥é—®é¢˜ä¸€æ—¦è¢«è§£å†³ï¼Œå°†äº§ç”Ÿä¸åŸå§‹æ–‡æœ¬ç›¸ä¼¼åº¦é«˜çš„å•ä¸ªæˆåŠŸå¯¹æŠ—æ ·æœ¬ã€‚ â€‹ ç„¶åæˆ‘ä»¬åŸåˆ›äº†ä¸€ä¸ªå¤šç›®æ ‡ä¼˜åŒ–æ–¹æ³•ï¼ˆ multi-objective optimization approachï¼‰ï¼Œå«åšHydraTextã€‚è¿™ä¸ªåå­—çš„çµæ„Ÿæ¥è‡ªäºæµ·è›‡è®¸å¾·æ‹‰ï¼Œè¿™æ˜¯ä¸€ç§ç¥è¯åŠ¨ç‰©ï¼Œå®ƒä½¿ç”¨å¤šä¸ªå¤´éƒ¨æ”»å‡»å¯¹æ‰‹ã€‚å®ƒå¯ä»¥åŒæ—¶ç”¨åœ¨score-based å’Œdecision-basedçš„é»‘ç›’æ”»å‡»ä¸‹ã€‚ â€‹ METHODS â€‹ åŸºäºword-level çš„æ›¿æ¢æ“ä½œã€‚æ¯ä¸ªå•è¯æœ‰ä¸€ä¸ªè‡ªå·±çš„å€™é€‰è¡¨ï¼Œç„¶åå°†æ¯ä¸ªå•è¯ä¸å€™é€‰è¡¨ä¸­è¢«é€‰ä¸­çš„è¯æ›¿æ¢ï¼ˆä¹Ÿå¯ä»¥ä¸é€‰ï¼ŒåŸå•è¯ä¸å˜ï¼‰ã€‚ â€‹ ä½†è¿™æ ·çš„æ–¹æ³•æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹å›¾ï¼š â€‹ â€‹ å¦‚å›¾æ‰€ç¤ºï¼Œå¥å­çš„è¯­ä¹‰ä¸æ›¿æ¢çš„å•è¯æ•°é‡æ˜¯æˆåæ¯”çš„ï¼Œä¸Šæ–‡éœ€è¦è€ƒè™‘çš„å‡†ç¡®ç‡+å¯è¾¨è®¤æ€§äºŒè€…å…¶å®æ˜¯äº’ç›¸çŸ›ç›¾çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ç”Ÿæˆçš„è¿‡ç¨‹ä¸­ä¹Ÿè€ƒè™‘Xadvçš„ä¿®æ”¹ç‡ï¼Œä½¿ç”¨MOPæ¥è§£å†³å®ƒã€‚ â€‹ 1.The HydraText Approach EXPERIMENTS 1. Datasets and Target Models â€‹ æ¨¡å‹ç§ç±»ï¼šæ–‡æœ¬åˆ†ç±»å’Œæ–‡æœ¬æ¨ç† â€‹ ä¸‰ä¸ªæ•°æ®é›†ï¼šAG Newsï¼ŒIMDB ï¼Œ Movie Reviewsï¼ŒStanford Natural Language Inferenceï¼Œmulti-genre NLI corpusï¼ˆå‰ä¸‰ä¸ªæ–‡æœ¬åˆ†ç±»ï¼Œåä¸‰ä¸ªæ–‡æœ¬æ¨ç†ï¼‰ â€‹ ä¸¤ä¸ªæ¨¡å‹ï¼šWordCNNï¼ŒWordLSTMï¼ŒBERT base-uncasedï¼ŒESIM ï¼ŒInfersent ï¼ŒBERT base-uncased(å‰ä¸‰ä¸ªæ–‡æœ¬åˆ†ç±»ï¼Œåä¸‰ä¸ªæ–‡æœ¬æ¨ç†) 2.Baselines and Algorithm â€‹ æ”»å‡»æ–¹æ³•ï¼šPSO,GA,TextFooler,PWWS,GADe(baseline) 3.Evaluation â€‹ ä»¥æ”»å‡»æˆåŠŸçš„ç™¾åˆ†ç‡æ¥åˆ¤å®šæ”»å‡»èƒ½åŠ›ã€‚ â€‹ ä»¥ä¿®æ”¹ç™¾åˆ†ç‡å’Œè¯­ä¹‰ç›¸ä¼¼æ€§æ¥åˆ¤å®šæ”»å‡»çš„å¯è¾¨è¯†æ€§ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"}],"author":"Shaw"},{"title":"Semantic Host-free Trojan Attack","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Semantic Host-free Trojan Attack","date":"2021-11-06T07:56:09.258Z","updated":"2022-07-16T02:08:52.554Z","comments":true,"path":"2021/11/06/ã€è®ºæ–‡é˜…è¯»ã€‘Semantic Host-free Trojan Attack/","link":"","permalink":"http://example.com/2021/11/06/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Semantic%20Host-free%20Trojan%20Attack/","excerpt":"Semantic Host-free Trojan Attack ä½œè€…ï¼šHaripriya Harikumar , Kien Do, Santu Rana , Sunil Gupta , Svetha Venkateshï¼ˆè¿ªè‚¯å¤§å­¦.æ¾³å¤§åˆ©äºšï¼‰ æ—¶é—´ï¼š2021.10.27 ABSTRACT â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°é¢–çš„host-freeæœ¨é©¬æ”»å‡»ï¼Œå…¶è§¦å‘å™¨(trigger)å›ºå®šåœ¨è¯­ä¹‰ç©ºé—´(semantic)ï¼Œä½†ä¸ä¸€å®šåœ¨åƒç´ ç©ºé—´(pixel)ã€‚ â€‹ ä¸ç°æœ‰çš„æœ¨é©¬æ”»å‡»ä½¿ç”¨å¹²å‡€çš„è¾“å…¥å›¾åƒä½œä¸ºå®¿ä¸»æ¥æºå¸¦å°çš„ã€æ²¡æœ‰æ„ä¹‰çš„triggerä¸åŒï¼Œæˆ‘ä»¬çš„æ”»å‡»å°†triggerçœ‹ä½œæ˜¯å±äºè¯­ä¹‰ä¸Šæœ‰æ„ä¹‰çš„å¯¹è±¡ç±»çš„æ•´ä¸ªå›¾åƒã€‚ â€‹ ç”±äºåœ¨æˆ‘ä»¬çš„æ”»å‡»ä¸­ï¼Œä¸ä»»ä½•ç‰¹å®šçš„å›ºå®šæ¨¡å¼ç›¸æ¯”ï¼Œåˆ†ç±»å™¨è¢«é¼“åŠ±è®°å¿†è§¦å‘å›¾åƒçš„æŠ½è±¡è¯­ä¹‰ã€‚å› æ­¤å®ƒå¯ä»¥åœ¨ä»¥åç”±è¯­ä¹‰ç›¸ä¼¼ä½†çœ‹èµ·æ¥ä¸åŒçš„å›¾åƒè§¦å‘ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„æ”»å‡»æ›´å®é™…åœ°è¢«åº”ç”¨äºç°å®ä¸–ç•Œä¸­ï¼Œæ›´éš¾ä»¥é˜²å¾¡ã€‚å¹¿æ³›çš„å®éªŒç»“æœè¡¨æ˜ï¼Œä»…ç”¨å°‘é‡çš„ç‰¹æ´›ä¼Šæœ¨é©¬æ¨¡å¼è¿›è¡Œè®­ç»ƒï¼Œæˆ‘ä»¬çš„æ”»å‡»èƒ½å¾ˆå¥½åœ°æ¨å¹¿åˆ°åŒä¸€ç‰¹æ´›ä¼Šæœ¨é©¬ç±»çš„æ–°æ¨¡å¼ï¼Œå¹¶ä¸”å¯ä»¥ç»•è¿‡ç›®å‰çš„é˜²å¾¡æ–¹æ³•ã€‚","text":"Semantic Host-free Trojan Attack ä½œè€…ï¼šHaripriya Harikumar , Kien Do, Santu Rana , Sunil Gupta , Svetha Venkateshï¼ˆè¿ªè‚¯å¤§å­¦.æ¾³å¤§åˆ©äºšï¼‰ æ—¶é—´ï¼š2021.10.27 ABSTRACT â€‹ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°é¢–çš„host-freeæœ¨é©¬æ”»å‡»ï¼Œå…¶è§¦å‘å™¨(trigger)å›ºå®šåœ¨è¯­ä¹‰ç©ºé—´(semantic)ï¼Œä½†ä¸ä¸€å®šåœ¨åƒç´ ç©ºé—´(pixel)ã€‚ â€‹ ä¸ç°æœ‰çš„æœ¨é©¬æ”»å‡»ä½¿ç”¨å¹²å‡€çš„è¾“å…¥å›¾åƒä½œä¸ºå®¿ä¸»æ¥æºå¸¦å°çš„ã€æ²¡æœ‰æ„ä¹‰çš„triggerä¸åŒï¼Œæˆ‘ä»¬çš„æ”»å‡»å°†triggerçœ‹ä½œæ˜¯å±äºè¯­ä¹‰ä¸Šæœ‰æ„ä¹‰çš„å¯¹è±¡ç±»çš„æ•´ä¸ªå›¾åƒã€‚ â€‹ ç”±äºåœ¨æˆ‘ä»¬çš„æ”»å‡»ä¸­ï¼Œä¸ä»»ä½•ç‰¹å®šçš„å›ºå®šæ¨¡å¼ç›¸æ¯”ï¼Œåˆ†ç±»å™¨è¢«é¼“åŠ±è®°å¿†è§¦å‘å›¾åƒçš„æŠ½è±¡è¯­ä¹‰ã€‚å› æ­¤å®ƒå¯ä»¥åœ¨ä»¥åç”±è¯­ä¹‰ç›¸ä¼¼ä½†çœ‹èµ·æ¥ä¸åŒçš„å›¾åƒè§¦å‘ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„æ”»å‡»æ›´å®é™…åœ°è¢«åº”ç”¨äºç°å®ä¸–ç•Œä¸­ï¼Œæ›´éš¾ä»¥é˜²å¾¡ã€‚å¹¿æ³›çš„å®éªŒç»“æœè¡¨æ˜ï¼Œä»…ç”¨å°‘é‡çš„ç‰¹æ´›ä¼Šæœ¨é©¬æ¨¡å¼è¿›è¡Œè®­ç»ƒï¼Œæˆ‘ä»¬çš„æ”»å‡»èƒ½å¾ˆå¥½åœ°æ¨å¹¿åˆ°åŒä¸€ç‰¹æ´›ä¼Šæœ¨é©¬ç±»çš„æ–°æ¨¡å¼ï¼Œå¹¶ä¸”å¯ä»¥ç»•è¿‡ç›®å‰çš„é˜²å¾¡æ–¹æ³•ã€‚ ### INTRODUCTION â€‹ æå‡ºäº†ä¸€ä¸ªåé—¨æ”»å‡»ï¼Œsemantic host-free backdoorsã€‚ â€‹ åé—¨æ”»å‡»ç»¼è¿°ï¼š(20æ¡æ¶ˆæ¯) æ·±åº¦å­¦ä¹ åé—¨æ”»é˜²ç»¼è¿°_Yaleçš„åšå®¢-CSDNåšå®¢_åé—¨æ”»å‡» â€‹ METHOD â€‹ å®ç°æ–¹å¼ï¼šæ•°æ®æŠ•æ¯’ã€‚ â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"}],"author":"Shaw"},{"title":"Intrusion detection system-A comprehensive review","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Intrusion detection system A comprehensive review","date":"2021-11-03T01:58:09.557Z","updated":"2022-07-16T02:09:04.067Z","comments":true,"path":"2021/11/03/ã€è®ºæ–‡é˜…è¯»ã€‘Intrusion detection system A comprehensive review/","link":"","permalink":"http://example.com/2021/11/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Intrusion%20detection%20system%20A%20comprehensive%20review/","excerpt":"Intrusion detection system: A comprehensive review ä½œè€…ï¼šHung-Jen Liao a , Chun-Hung Richard Lin a,n , Ying-Chih Lin a,b , Kuang-Yuan Tung aï¼ˆå›½ç«‹ä¸­å±±å¤§å­¦ï¼Œæ­£ä¿®ç§‘æŠ€å¤§å­¦ï¼‰ æ—¶é—´ï¼š2012 ABSTRACT â€‹ ä¸€ä¸ªIDSç»¼è¿°ã€‚ PSï¼š(17æ¡æ¶ˆæ¯) é˜²ç«å¢™ã€IDSå’ŒIPSä¹‹é—´çš„åŒºåˆ«ï¼ˆæµ…è°ˆï¼‰_æ·¡é£wisdonï¼å¤§å¤§çš„åšå®¢-CSDNåšå®¢","text":"Intrusion detection system: A comprehensive review ä½œè€…ï¼šHung-Jen Liao a , Chun-Hung Richard Lin a,n , Ying-Chih Lin a,b , Kuang-Yuan Tung aï¼ˆå›½ç«‹ä¸­å±±å¤§å­¦ï¼Œæ­£ä¿®ç§‘æŠ€å¤§å­¦ï¼‰ æ—¶é—´ï¼š2012 ABSTRACT â€‹ ä¸€ä¸ªIDSç»¼è¿°ã€‚ PSï¼š(17æ¡æ¶ˆæ¯) é˜²ç«å¢™ã€IDSå’ŒIPSä¹‹é—´çš„åŒºåˆ«ï¼ˆæµ…è°ˆï¼‰_æ·¡é£wisdonï¼å¤§å¤§çš„åšå®¢-CSDNåšå®¢ ### INTRODUCTION â€‹ CIAï¼šConfifidentiality, Integrity and Availabilityï¼Œ â€‹ Instrusion: é’ˆå¯¹CIAçš„ç ´åè¡Œä¸ºï¼Œæˆ–è€…ç»•è¿‡è®¡ç®—æœºæˆ–ç½‘ç»œå®‰å…¨æœºåˆ¶çš„è¡Œä¸ºã€‚ â€‹ Instrusion detection: æ˜¯ç›‘è§†è®¡ç®—æœºç³»ç»Ÿæˆ–ç½‘ç»œä¸­å‘ç”Ÿçš„äº‹ä»¶ï¼Œå¹¶åˆ†æå®ƒä»¬ä»¥å‘ç°å…¥ä¾µè¿¹è±¡çš„è¿‡ç¨‹ã€‚ â€‹ Instrusion detection sysytem(IDS): å®ç°instrusion detectionè‡ªåŠ¨åŒ–çš„è½¯ä»¶æˆ–ç¡¬ä»¶ã€‚ â€‹ Instrusion prevention system(IPS): ä¸ä»…æœ‰IDSçš„ç›‘æ§åŠŸèƒ½ï¼Œè¿˜å¯ä»¥é˜»æ­¢å¯èƒ½çš„çªå‘å®‰å…¨äº‹ä»¶ã€‚åœ¨å°‘æ•°æ–‡ç« ä¸­ï¼Œå…¥ä¾µæ£€æµ‹ä¸é˜²å¾¡ç³»ç»Ÿ( IDPS )å’Œå…¥ä¾µé˜²å¾¡ç³»ç»Ÿ( IPS )æ˜¯åŒä¹‰è¯ï¼Œå…¶ä¸­IDPSä¸€è¯åœ¨å®‰å…¨ç•Œå¾ˆå°‘ä½¿ç”¨ã€‚ DETECTION METHODOLOGIES â€‹ Detectionçš„æ–¹æ³•ä¸€å…±åˆ†ä¸ºä¸‰ç±»ï¼šSignature-based Detection (SD), Anomaly-based Detection (AD) and Stateful Protocol Analysis (SPA)ã€‚ 1. SDï¼ˆç‰¹å¾æ£€æµ‹ï¼‰: â€‹ Signature-based Detectionï¼Œç‰¹å¾æ£€æµ‹ã€‚å°†å·²çŸ¥çš„patternsä¸æ•è·çš„äº‹ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œä»è€Œå‘ç°å¯èƒ½çš„å…¥ä¾µã€‚å› ä¸ºä½¿ç”¨ç‰¹å®šæ”»å‡»æˆ–è€…ç³»ç»Ÿæ¼æ´æ‰€ç§¯ç´¯ä¸‹çš„çŸ¥è¯†ï¼ŒSDåˆè¢«ç§°ä¸ºKnowledge-based Detection æˆ–è€… Misuse Detectionã€‚ 2. ADï¼ˆå¼‚å¸¸æ£€æµ‹ï¼‰ï¼š â€‹ Anomaly-based detectionï¼Œå¼‚å¸¸æ£€æµ‹ã€‚ä¸€ä¸ªå¼‚å¸¸ï¼ˆanomalyï¼‰æŒ‡çš„æ˜¯ä¸å·²çŸ¥è¡Œä¸ºç›¸å¼‚çš„åœ°æ–¹ã€‚Profilesè¡¨ç¤ºå®šæœŸä»æ´»åŠ¨ï¼Œç½‘ç»œè¿æ¥ä¸­ç›‘è§†çš„æ­£å¸¸æˆ–ç‰¹å®šçš„è¡Œä¸ºæ–‡ä»¶ï¼Œprofileå¯ä»¥æ˜¯é™æ€çš„ä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”ä»è®¸å¤šç‰¹æ€§ä¸­ç”Ÿæˆã€‚ä¾‹å¦‚ï¼Œç™»å½•å¤±è´¥ï¼Œå¤„ç†å™¨çš„ä½¿ç”¨ï¼Œé‚®ä»¶çš„å‘é€æ•°é‡ç­‰ã€‚ â€‹ æ¥ä¸‹æ¥ï¼ŒAD æ¯”è¾ƒå™¨å°±å°†æ­£å¸¸çš„profileä¸è§‚å¯Ÿåˆ°çš„äº‹ä»¶ç›¸æ¯”è¾ƒï¼Œä»¥æ­¤è¾¨åˆ«å‡ºæ˜¾è‘—çš„æ”»å‡»ã€‚ADåˆè¢«ç§°ä¸ºBehavior-based Detectionã€‚ â€‹ ä¸€äº›ADçš„ä¾‹å­ï¼Œä¾‹å¦‚ï¼Œä¼å›¾é—¯å…¥ã€ä¼ªè£…ã€åˆæ³•ç”¨æˆ·æ¸—é€ã€æ‹’ç»æœåŠ¡( DOS )ã€ç‰¹æ´›ä¼Šæœ¨é©¬ç­‰ã€‚ 3. SPAï¼ˆçŠ¶æ€åè®®åˆ†æï¼‰ï¼š â€‹ Stateful Protocol Analysisï¼ŒçŠ¶æ€åè®®åˆ†æã€‚StatefulæŒ‡çš„æ˜¯IDSå¯ä»¥çŸ¥æ™“å¹¶è¿½è¸ªåè®®çš„çŠ¶æ€ï¼ˆä¸¾ä¾‹ï¼Œå°†è¯·æ±‚ä¸ç­”å¤é…å¯¹ï¼‰ã€‚ â€‹ å°½ç®¡SPAä¸ADå¾ˆåƒï¼ŒäºŒè€…å…¶å®å®Œå…¨ä¸åŒã€‚ADé‡‡ç”¨é¢„åŠ è½½çš„ç½‘ç»œæˆ–è€…ç‰¹å®šåŸŸåçš„profileï¼Œç„¶è€ŒSPAä¾èµ–äºä¾›åº”å•†å¼€å‘çš„ç‰¹å®šåè®®é€šç”¨profileã€‚é€šå¸¸ï¼ŒSPAä¸­çš„ç½‘ç»œåè®®æ¨¡å‹æœ€åˆåŸºäºå›½é™…æ ‡å‡†ç»„ç»‡(ä¾‹å¦‚IETF )çš„åè®®æ ‡å‡†ã€‚SPAä¹Ÿè¢«ç§°ä¸ºSpecifification-based Detectionï¼ˆåŸºäºè§„æ ¼çš„æ£€æµ‹ï¼‰ã€‚ å¤§å¤šæ•°IDSä½¿ç”¨å¤šç§æ–¹æ³•æ¥æä¾›æ›´å¹¿æ³›å’Œå‡†ç¡®çš„æ£€æµ‹ã€‚ DETECTION APPROACHES â€‹ æ­¤æ–‡å°†å·²æœ‰çš„æ–¹æ³•åˆ†ä¸ºäº†5ç±»ï¼šStatistics-based, Pattern-based, Rule-based, State-based and Heuristic-basedã€‚ â€‹ ç”±ä¸Šå›¾æ‰€ç¤ºï¼Œå…¶ä¸­ï¼ŒTime seriesæŒ‡çš„æ˜¯æ˜¯å¦è€ƒè™‘äº†time series behaviorã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"IDS","slug":"IDS","permalink":"http://example.com/tags/IDS/"}],"author":"Shaw"},{"title":"Def-IDS An Ensemble Defense Mechanism Against Adversarial Attacks for Deep Learning-based Network Intrusion Detection","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Def-IDS An Ensemble Defense Mechanism Against Adversarial Attacks for Deep Learning-based Network Intrusion Detection","date":"2021-11-01T13:16:57.082Z","updated":"2022-07-16T02:09:45.988Z","comments":true,"path":"2021/11/01/ã€è®ºæ–‡é˜…è¯»ã€‘Def-IDS An Ensemble Defense Mechanism Against Adversarial Attacks for Deep Learning-based Network Intrusion Detection/","link":"","permalink":"http://example.com/2021/11/01/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Def-IDS%20An%20Ensemble%20Defense%20Mechanism%20Against%20Adversarial%20Attacks%20for%20Deep%20Learning-based%20Network%20Intrusion%20Detection/","excerpt":"Def-IDS: An Ensemble Defense Mechanism Against Adversarial Attacks for Deep Learning-based Network Intrusion Detection ä½œè€…ï¼šJianyu Wangï¼ŒJianli Panï¼ŒIsmail AlQermï¼Œï¼ˆå¯†è‹é‡Œå¤§å­¦åœ£è·¯æ˜“æ–¯åˆ†æ ¡ï¼Œé‡åº†å¤§å­¦ï¼‰ æ—¶é—´ï¼š2021 ICCCNï¼Œccf--Cç±» ABSTRACT â€‹ æå‡ºäº†Def-IDSï¼Œä¸€ä¸ªä¸ºNIDSå‡†å¤‡çš„ç»„åˆé˜²å¾¡æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€ä¸ªç”±ä¸¤ä¸ªæ¨¡å—ç»„æˆçš„è®­ç»ƒæ¡†æ¶ï¼Œç»„åˆäº†multi-class generative adversarial networksï¼ˆMGANsï¼‰å’Œmulti-soutce adversarial retrainingï¼ˆMATï¼‰ã€‚ â€‹ åœ¨CSE-CIC-IDS2018æ•°æ®é›†ä¸Šæµ‹è¯•äº†è¯¥æœºåˆ¶ï¼Œå¹¶ä¸3ä¸ªå…¶å®ƒæ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒã€‚ç»“æœè¡¨æ˜Def-IDSå¯ä»¥ä»¥æ›´é«˜çš„precision, recall, F1 score, and accuracyæ¥è¯†åˆ«å¯¹æŠ—æ ·æœ¬ã€‚","text":"Def-IDS: An Ensemble Defense Mechanism Against Adversarial Attacks for Deep Learning-based Network Intrusion Detection ä½œè€…ï¼šJianyu Wangï¼ŒJianli Panï¼ŒIsmail AlQermï¼Œï¼ˆå¯†è‹é‡Œå¤§å­¦åœ£è·¯æ˜“æ–¯åˆ†æ ¡ï¼Œé‡åº†å¤§å­¦ï¼‰ æ—¶é—´ï¼š2021 ICCCNï¼Œccf--Cç±» ABSTRACT â€‹ æå‡ºäº†Def-IDSï¼Œä¸€ä¸ªä¸ºNIDSå‡†å¤‡çš„ç»„åˆé˜²å¾¡æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€ä¸ªç”±ä¸¤ä¸ªæ¨¡å—ç»„æˆçš„è®­ç»ƒæ¡†æ¶ï¼Œç»„åˆäº†multi-class generative adversarial networksï¼ˆMGANsï¼‰å’Œmulti-soutce adversarial retrainingï¼ˆMATï¼‰ã€‚ â€‹ åœ¨CSE-CIC-IDS2018æ•°æ®é›†ä¸Šæµ‹è¯•äº†è¯¥æœºåˆ¶ï¼Œå¹¶ä¸3ä¸ªå…¶å®ƒæ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒã€‚ç»“æœè¡¨æ˜Def-IDSå¯ä»¥ä»¥æ›´é«˜çš„precision, recall, F1 score, and accuracyæ¥è¯†åˆ«å¯¹æŠ—æ ·æœ¬ã€‚ ### INTRODUCTION â€‹ Internet of Things(IoT):ç‰©è”ç½‘ â€‹ intrusion detection systems (NIDS) â€‹ æå‡ºäº†ä¸€ä¸ªæ•´åˆåŸºäºå¯¹æŠ—è®­ç»ƒçš„é˜²å¾¡æœºåˆ¶ï¼Œç”¨äºæå‡DL-basedçš„intrusion detectorsçš„é²æ£’æ€§ã€‚ â€‹ 4ä¸ªè´¡çŒ®ï¼š 1. æ¨¡å‹ç”±ä¸¤ä¸ªæ¨¡å—ç»„æˆï¼Œç»„åˆäº†multi-class generative adversarial networksï¼ˆMGANsï¼‰å’Œmulti-soutce adversarial retrainingï¼ˆMATï¼‰ï¼Œå¯ä»¥åœ¨ä¿è¯å‡†ç¡®ç‡çš„å‰æä¸‹å¯¹æŠ—æ”»å‡»ï¼› 2. MGANså¯ä»¥é€šè¿‡åŒæ—¶è¿‡é‡‡æ ·å¤šç±»å…¥ä¾µæ¥å¢å¼ºåŸå§‹è®­ç»ƒæ•°æ®é›†ï¼Œä»¥å‡å°‘è®­ç»ƒä¸çœŸå®æ•°æ®åˆ†å¸ƒä¹‹é—´çš„å·®è·ã€‚é€šè¿‡ä½¿ç”¨æå‡è¿‡çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œdetectorçš„å¯¹å·²çŸ¥å’ŒæœªçŸ¥æ”»å‡»çš„é²æ£’æ€§æ›´å¼ºï¼› 3. MATé€šè¿‡æŠ•å–‚å¤šç§ä¸åŒçš„å¯¹æŠ—æ ·æœ¬æ¥retrainingï¼ŒMATä¸ä»…å¯¹æŠ—æŸç§ç‰¹å®šçš„æ”»å‡»ï¼Œå¹¶ä¸”å¯ä»¥ä¸€å®šç¨‹åº¦æŠµå¾¡å¯¹æ ·æ ·æœ¬çš„è½¬ç§»æ€§ï¼› 4. æˆ‘ä»¬è¿›è¡Œäº†ä¸€äº›state-of-the-artæ”»å‡»å¹¶ä¸”åœ¨CSE-CIC-IDS2018æ•°æ®é›†ä¸Šæµ‹è¯•äº†è¯¥æœºåˆ¶ï¼Œç»“æœå¾ˆå¥½ã€‚ RELATED WORK ADVERSARIAL ATTACK THREAT MODELS é‡‡ç”¨çš„æ”»å‡»æ–¹æ³•ï¼šFGSMï¼ŒBIMï¼ŒDeepFoolï¼ŒJSMA PROPOSED DEF-IDS DEFENSE MECHANISM 1. Mechanism Overview 2. Module 1: Multi-class GAN-based Retraining 3. Module 2: Multi-source Adversarial Retraining 4. Ensemble Adversarial Retraining EVALUATION 1. Dataset and Metrics â€‹ æ•°æ®é›†ï¼šCSE-CIC-IDS2018ï¼ˆCICå‡ºç‰ˆï¼‰ï¼ˆé€šç”¨ï¼‰ â€‹ ä¸å…¶ä»–è¿‡æ—¶çš„æ•°æ®é›†ç›¸æ¯”ï¼Œå…¶å«æœ‰ç»¼åˆæ€§çš„æ”»å‡»æ–¹æ³•å’Œæ›´å¹³è¡¡çš„æ•°æ®ã€‚ â€‹ å…¶å«æœ‰Brute-force, Heartbleed,Botnet, DoS, DDoS, Web attacks å’Œ infifiltration of the networkå…±7ç§æ¶æ„æµé‡ã€‚ â€‹ æ•°æ®å¤„ç†ï¼š ä½¿ç”¨Min-Max standardizationå°†æ‰€æœ‰ç‰¹å¾çš„å€¼æ˜ å°„å…¥[0,1]ï¼› æœ‰å››ä¸ªç‰¹å¾æœ‰å¤ªå¤šç©ºå€¼æˆ–è€…æ— é™å€¼ï¼ˆdstport, protocol, flflow byts/s, flflow pkts/sï¼‰ï¼Œæœ‰ä¸€ä¸ªç‰¹å¾ï¼ˆtimestampï¼‰ä¸æµé‡æ— å…³ï¼Œå°†è¿™5ä¸ªç‰¹å¾å‰”é™¤ï¼›è¿˜å‰©ä¸‹76ä¸ªç‰¹å¾ã€‚ training,validation,test = 8:1:1ï¼Œéšæœºåˆ’åˆ†ã€‚ â€‹ Detectorçš„è¯„ä»·æ–¹æ³•ï¼š â€‹ æ··æ·†çŸ©é˜µã€‚ 2. Baseline Detector Implementation 2.1 Detector Implementation â€‹ é€‰å–baseline detector Cbaseã€‚å…¶ç”±ä¸€ä¸ªè¾“å…¥å±‚ï¼Œä¸¤ä¸ªéšè—å±‚å’Œä¸€ä¸ªè¾“å‡ºå±‚ç»„æˆï¼ˆ76-128-64-8ï¼‰ã€‚ â€‹ éšè—å±‚éƒ½æ˜¯å…¨è¿æ¥å±‚+ReLUã€‚ â€‹ è¾“å‡ºå±‚ä½¿ç”¨Softmaxã€‚ â€‹ ä»£ç ç”¨keraså†™çš„ï¼Œç³»ç»ŸUbuntu 18.04,3.6GHz CPUå’Œ16GBå†…å­˜ã€‚ â€‹ ä¼˜åŒ–å™¨ç”¨Adamï¼Œå­¦ä¹ ç‡0.001,20ä¸ªepochã€‚ â€‹ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè¿›è¡Œåæ¬¡äº¤å‰éªŒè¯å¹¶è®¡ç®—å¹³å‡åº¦é‡å€¼ã€‚ â€‹ è®­ç»ƒç»“æŸåï¼Œåˆ©ç”¨æµ‹è¯•æ•°æ®é›†å¯¹Cbaseè¿›è¡Œè¯„ä¼°ã€‚ 2.2 Adversarial Attacks against Baseline Classififier â€‹ ä½¿ç”¨pythonåº“foolboxæ¥ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼› â€‹ FGSMï¼ŒBIMï¼ŒDeepFoolï¼ŒJSMAå››ç§æ”»å‡»æ–¹æ³•éƒ½ä½¿ç”¨ï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š â€‹ 3. Def-IDS Defense Evaluation Cganæ˜¯ä½¿ç”¨GANç”Ÿæˆçš„æ ·æœ¬å†è®­ç»ƒçš„detector; Catæ˜¯ä½¿ç”¨9:1çš„çº¯å‡€æ•°æ®ï¼šæ¶æ„æ•°æ®å†è®­ç»ƒå‡ºçš„detector; Censemæ˜¯äºŒè€…çš„ç»“åˆ. 4. Comparison with Other Works 5. Cost Estimation","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"}],"author":"Shaw"},{"title":"Crafting Adversarial Example to Bypass Flow-&ML- based Botnet Detector via RL","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Crafting Adversarial Example to Bypass Flow-&ML- based Botnet Detector via RL","date":"2021-10-30T03:06:44.421Z","updated":"2022-07-16T02:09:21.552Z","comments":true,"path":"2021/10/30/ã€è®ºæ–‡é˜…è¯»ã€‘Crafting Adversarial Example to Bypass Flow-&ML- based Botnet Detector via RL/","link":"","permalink":"http://example.com/2021/10/30/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Crafting%20Adversarial%20Example%20to%20Bypass%20Flow-&ML-%20based%20Botnet%20Detector%20via%20RL/","excerpt":"Crafting Adversarial Example to Bypass Flow-&amp;ML- based Botnet Detector via RL ä½œè€…ï¼šJunnan Wangï¼ŒQixu Liuï¼ŒDi Wuï¼ŒYing Dongï¼ŒXiang Cuiï¼ˆä¸­å›½ç§‘å­¦é™¢å¤§å­¦ï¼Œåä¸ºç§‘æŠ€ï¼ŒåŒ—äº¬ç»´çº³æ–¯çº²ç§‘æŠ€ï¼Œå¹¿å·å¤§å­¦ï¼‰ æ—¶é—´ï¼š2021.10.6 ä¼šè®®ï¼šRAID(CCF_B) 1. Botnet(åƒµå°¸ç½‘ç»œ)ï¼š 1.1 å®šä¹‰ï¼š â€‹ Botnet = robot + networkã€‚ ----å‚è€ƒã€Šè½¯ä»¶å®‰å…¨ã€‹.å½­å›½å†› 1.2 å¦‚ä½•æ”»å‡»ï¼Ÿ â€‹ ä¸€ä¸ªåƒµå°¸ç½‘ç»œçš„ç”Ÿå­˜å‘¨æœŸåŒ…æ‹¬å½¢æˆã€C&amp;Cã€æ”»å‡»ã€åæ”»å‡»å››ä¸ªé˜¶æ®µã€‚ â€‹ å½¢æˆé˜¶æ®µç”±æ”»å‡»è€…å…¥ä¾µæœ‰æ¼æ´çš„ä¸»æœºï¼Œå¹¶åœ¨å…¶ä¸Šæ‰§è¡Œæ¶æ„ç¨‹åºï¼Œä½¿ä¹‹æˆä¸ºåƒµå°¸ä¸»æœºã€‚ â€‹ ä¸€æ—¦æˆä¸ºåƒµå°¸ä¸»æœºä¹‹åï¼Œbotmasterä¼šé€šè¿‡å„ç§æ–¹å¼ä¸ä¹‹é€šä¿¡ã€‚ â€‹ ä¹‹åæ ¹æ®botmasterçš„æŒ‡ä»¤æ‰§è¡Œæ”»å‡»è¡Œä¸ºã€‚åæ”»å‡»é˜¶æ®µæ˜¯æŒ‡botmasterå¯¹åƒµå°¸ç½‘ç»œè¿›è¡Œå‡çº§æ›´æ–°ã€‚ 2. Botnet Detector(åƒµå°¸ç½‘ç»œæ£€æµ‹å™¨)ï¼š 2.1 ä¼ ç»Ÿæ–¹æ³•ï¼š â€‹ ä»æ£€æµ‹åŸç†ä¸Šæ¥è¯´ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»æ–¹æ³•ï¼š Â·è¡Œä¸ºç‰¹å¾ç»Ÿè®¡åˆ†æ Â·botè¡Œä¸ºä»¿çœŸä»¥ç›‘æ§ Â·æµé‡æ•°æ®ç‰¹å¾åŒ¹é… â€‹ ä¼ ç»Ÿçš„æ£€æµ‹åƒµå°¸ç½‘ç»œçš„æ–¹æ³•ä¸€èˆ¬åœ¨å½¢æˆã€æ”»å‡»é˜¶æ®µï¼Œåˆ©ç”¨åƒµå°¸ä¸»æœºå­˜åœ¨çš„è¡Œä¸ºç‰¹å¾ï¼Œä¾‹å¦‚é€šä¿¡çš„æ•°æ®å†…å®¹ã€‚ä¸€äº›åŸºäºç½‘ç»œæµé‡è¡Œä¸ºåˆ†æçš„æ–¹æ³•å¯ä»¥æ£€æµ‹åƒµå°¸ç½‘ç»œï¼Œä¸»è¦æ˜¯ä»é€šä¿¡æµé‡ç‰¹å¾çš„è§’åº¦å»æ£€æµ‹çš„ï¼Œä¾‹å¦‚æµé‡çš„é€šä¿¡å‘¨æœŸï¼Œè¿™ç§æ–¹æ³•å¯ä»¥æ£€æµ‹å‡ºä¸€äº›åŠ å¯†çš„åƒµå°¸ä¸»æœºæµé‡ï¼ŒåŒæ—¶è¿˜å¯ä»¥æ£€æµ‹å‡ºæ–°å‹çš„åƒµå°¸ç½‘ç»œã€‚ ----å‚è€ƒï¼šè§£æï¼šåƒµå°¸ç½‘ç»œï¼ˆBotnetï¼‰çš„æ£€æµ‹æ–¹æ³•-è¥¿æ¹–æ³›èˆŸ-ChinaUnixåšå®¢ ABSTRACT â€‹ æå‡ºäº†ä¸€ä¸ªåŸºäºRLçš„æ–¹æ³•æ¥å¯¹åŸºäºMLçš„åƒµå°¸ç½‘ç»œè¿½è¸ªå™¨åšé€ƒé€¸æ”»å‡»ï¼Œå¹¶ä¸”å¯ä»¥ä¿ç•™åƒµå°¸ç½‘ç»œçš„æ¶æ„åŠŸèƒ½ã€‚ â€‹ é»‘ç›’æ”»å‡»ï¼Œä¸ç”¨æ”¹å˜è¿½è¸ªå™¨æœ¬èº«ã€‚","text":"Crafting Adversarial Example to Bypass Flow-&amp;ML- based Botnet Detector via RL ä½œè€…ï¼šJunnan Wangï¼ŒQixu Liuï¼ŒDi Wuï¼ŒYing Dongï¼ŒXiang Cuiï¼ˆä¸­å›½ç§‘å­¦é™¢å¤§å­¦ï¼Œåä¸ºç§‘æŠ€ï¼ŒåŒ—äº¬ç»´çº³æ–¯çº²ç§‘æŠ€ï¼Œå¹¿å·å¤§å­¦ï¼‰ æ—¶é—´ï¼š2021.10.6 ä¼šè®®ï¼šRAID(CCF_B) 1. Botnet(åƒµå°¸ç½‘ç»œ)ï¼š 1.1 å®šä¹‰ï¼š â€‹ Botnet = robot + networkã€‚ ----å‚è€ƒã€Šè½¯ä»¶å®‰å…¨ã€‹.å½­å›½å†› 1.2 å¦‚ä½•æ”»å‡»ï¼Ÿ â€‹ ä¸€ä¸ªåƒµå°¸ç½‘ç»œçš„ç”Ÿå­˜å‘¨æœŸåŒ…æ‹¬å½¢æˆã€C&amp;Cã€æ”»å‡»ã€åæ”»å‡»å››ä¸ªé˜¶æ®µã€‚ â€‹ å½¢æˆé˜¶æ®µç”±æ”»å‡»è€…å…¥ä¾µæœ‰æ¼æ´çš„ä¸»æœºï¼Œå¹¶åœ¨å…¶ä¸Šæ‰§è¡Œæ¶æ„ç¨‹åºï¼Œä½¿ä¹‹æˆä¸ºåƒµå°¸ä¸»æœºã€‚ â€‹ ä¸€æ—¦æˆä¸ºåƒµå°¸ä¸»æœºä¹‹åï¼Œbotmasterä¼šé€šè¿‡å„ç§æ–¹å¼ä¸ä¹‹é€šä¿¡ã€‚ â€‹ ä¹‹åæ ¹æ®botmasterçš„æŒ‡ä»¤æ‰§è¡Œæ”»å‡»è¡Œä¸ºã€‚åæ”»å‡»é˜¶æ®µæ˜¯æŒ‡botmasterå¯¹åƒµå°¸ç½‘ç»œè¿›è¡Œå‡çº§æ›´æ–°ã€‚ 2. Botnet Detector(åƒµå°¸ç½‘ç»œæ£€æµ‹å™¨)ï¼š 2.1 ä¼ ç»Ÿæ–¹æ³•ï¼š â€‹ ä»æ£€æµ‹åŸç†ä¸Šæ¥è¯´ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»æ–¹æ³•ï¼š Â·è¡Œä¸ºç‰¹å¾ç»Ÿè®¡åˆ†æ Â·botè¡Œä¸ºä»¿çœŸä»¥ç›‘æ§ Â·æµé‡æ•°æ®ç‰¹å¾åŒ¹é… â€‹ ä¼ ç»Ÿçš„æ£€æµ‹åƒµå°¸ç½‘ç»œçš„æ–¹æ³•ä¸€èˆ¬åœ¨å½¢æˆã€æ”»å‡»é˜¶æ®µï¼Œåˆ©ç”¨åƒµå°¸ä¸»æœºå­˜åœ¨çš„è¡Œä¸ºç‰¹å¾ï¼Œä¾‹å¦‚é€šä¿¡çš„æ•°æ®å†…å®¹ã€‚ä¸€äº›åŸºäºç½‘ç»œæµé‡è¡Œä¸ºåˆ†æçš„æ–¹æ³•å¯ä»¥æ£€æµ‹åƒµå°¸ç½‘ç»œï¼Œä¸»è¦æ˜¯ä»é€šä¿¡æµé‡ç‰¹å¾çš„è§’åº¦å»æ£€æµ‹çš„ï¼Œä¾‹å¦‚æµé‡çš„é€šä¿¡å‘¨æœŸï¼Œè¿™ç§æ–¹æ³•å¯ä»¥æ£€æµ‹å‡ºä¸€äº›åŠ å¯†çš„åƒµå°¸ä¸»æœºæµé‡ï¼ŒåŒæ—¶è¿˜å¯ä»¥æ£€æµ‹å‡ºæ–°å‹çš„åƒµå°¸ç½‘ç»œã€‚ ----å‚è€ƒï¼šè§£æï¼šåƒµå°¸ç½‘ç»œï¼ˆBotnetï¼‰çš„æ£€æµ‹æ–¹æ³•-è¥¿æ¹–æ³›èˆŸ-ChinaUnixåšå®¢ ABSTRACT â€‹ æå‡ºäº†ä¸€ä¸ªåŸºäºRLçš„æ–¹æ³•æ¥å¯¹åŸºäºMLçš„åƒµå°¸ç½‘ç»œè¿½è¸ªå™¨åšé€ƒé€¸æ”»å‡»ï¼Œå¹¶ä¸”å¯ä»¥ä¿ç•™åƒµå°¸ç½‘ç»œçš„æ¶æ„åŠŸèƒ½ã€‚ â€‹ é»‘ç›’æ”»å‡»ï¼Œä¸ç”¨æ”¹å˜è¿½è¸ªå™¨æœ¬èº«ã€‚ ### INTRODUCTION â€‹ è®­ç»ƒä¸€ä¸ªRLagentï¼Œè®©å…¶é€šè¿‡ä¸è¿½è¸ªå™¨çš„äº¤æµåé¦ˆè‡ªå·±å­¦ä¹ å¦‚ä½•æ‰°åŠ¨æ ·æœ¬ã€‚ â€‹ ä¸ºäº†ç¡®ä¿åŠŸèƒ½çš„ä¿ç•™ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåŒ…å«14ä¸ªå¢é‡æ“ä½œçš„æ“ä½œç©ºé—´ï¼Œæ¯ä¸ªæ“ä½œåªå‘åŸå§‹æµä¸­æ·»åŠ ä¸€ä¸ªç²¾å¿ƒç¼–åˆ¶çš„æ•°æ®åŒ…ï¼Œä»¥å°è¯•æ›´æ”¹ä¸€äº›æµçº§ç‰¹æ€§ã€‚æ£€æµ‹å™¨è®¤ä¸ºè¿™äº›ç‰¹å¾å…·æœ‰åŒºåˆ†æ€§ï¼Œä½†è¿™å¯èƒ½ä¸æ˜¯è‰¯æ€§äº¤é€šçš„å› æœæŒ‡æ ‡ã€‚ â€‹ æ­¤å¤–ï¼Œæ·»åŠ æ•°æ®åŒ…æ˜¯ä¼ è¾“å±‚çš„å¢é‡æ“ä½œï¼Œè€Œæ¶æ„æ•°æ®ä¸€èˆ¬å°è£…åœ¨åº”ç”¨å±‚ã€‚ â€‹ è¿™ç§æ”»å‡»æ–¹æ³•çš„ä¼˜ç‚¹ï¼š 1. é»‘ç›’æ”»å‡»ï¼› 2. å®ƒå…·æœ‰é€šç”¨æ€§ï¼Œä¸è®ºæ¢æµ‹å™¨çš„æŸå¤±å‡½æ•°æ˜¯å¦å¯å¾®ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ï¼› 3. å³æ’å³ç”¨ï¼ŒRLæ™ºèƒ½ä½“å¯ä»¥ä½œä¸ºç½‘ç»œä»£ç†å­˜åœ¨ï¼Œé€ƒé€¸æˆæœ¬ä½å¹¶ä¸”é€‚ç”¨äºä»»ä½•botnetå®¶æ—ã€‚ â€‹ ä¸»è¦è´¡çŒ®ï¼š 1. æå‡ºä¸€ä¸ªé»‘ç›’æ”»å‡»æ–¹æ³•ï¼› 2. åœ¨RLæ¡†æ¶ä¸­è®¾è®¡äº†ä¸€äº›åˆ—é€šç”¨åŠ¨ä½œç©ºé—´ï¼Œè¿™äº›åŠ¨ä½œéƒ½æ˜¯æ·»åŠ æ“ä½œï¼Œåœ¨å¯ä»¥é€ƒé€¸çš„å‰æä¸‹ä¿è¯äº†æ¶æ„æ ·æœ¬çš„åŠŸèƒ½æ€§ï¼› 3. æˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•è®­ç»ƒå’Œéƒ¨ç½²æˆ‘ä»¬çš„ç³»ç»Ÿä»¥é¿å…åœ¨ç²¾å¿ƒæ„å»ºçš„åƒµå°¸ç½‘ç»œæµæ•°æ®é›†ä¸Šè¿›è¡ŒMLæ£€æµ‹ï¼Œå¹¶ç»¼åˆè¯„ä¼°æ¡†æ¶çš„é€ƒé¿æ€§èƒ½ã€æ—¶é—´å¼€é”€å’Œé€šç”¨æ€§ã€‚ RELATED WORK Botnet Evasion: ä¼ ç»Ÿbotneté€ƒé€¸æ–¹æ³•ï¼šåŠ å¯†ç½‘ç»œæµï¼›åœ¨TCP/IPåè®®ç°‡çš„å†—ä½™å­—æ®µä¸­éšè—C &amp; Cä¿¡æ¯(command and control)ï¼›ä½¿ç”¨online-social-networks(OSN)æ¥æ„å»ºéšè—çš„é€šé“ã€‚ ML-basedé€ƒé€¸æ–¹æ³•ï¼š Feature space attackï¼šæŒ‡çš„æ˜¯åªèƒ½ç”Ÿæˆtrafficå¯¹æŠ—ç‰¹å¾å‘é‡çš„æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè€ƒè™‘åˆ°trafficæ ·æœ¬æ˜ å°„åˆ°ç‰¹å¾å‘é‡çš„è¿‡ç¨‹æ˜¯ä¸å¯é€†çš„ï¼Œè¿™æ ·çš„æ”»å‡»ä¸èƒ½é€ æˆå®é™…çš„å®‰å…¨å¨èƒï¼Œåªèƒ½ç”¨æ¥è¯æ˜åŸºäºMLçš„æ£€æµ‹å™¨çš„è„†å¼±æ€§ã€‚ End-to-end attackï¼šæŒ‡çš„æ˜¯å¯ä»¥ç”ŸæˆçœŸæ­£çš„trafficæ•°æ®çš„æ–¹æ³•ã€‚ ã€35ã€‘åˆ©ç”¨äº†GANæ¥æ¨¡ä»¿facebookèŠå¤©ç½‘ç»œçš„trafficä»¥æ­¤ç»•è¿‡è‡ªé€‚åº”IPSã€‚ ã€36ã€‘åˆ©ç”¨äº†GANæ¥ç”Ÿæˆå°½é‡çœŸå®çš„trafficï¼Œä»¥æ­¤æ¥æé«˜æ•°æ®é›†çš„è´¨é‡ï¼Œè§£å†³æ•°æ®ä¸å¹³è¡¡é—®é¢˜ã€‚ THREAT MODEL AND SYSTEM FRAMEWORK Threat Model æ”»å‡»è€…çš„ç›®çš„ï¼šç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼Œéšè—botnet flowã€‚ æ”»å‡»è€…çš„ä¿¡æ¯ï¼š1. æ”»å‡»è€…ç†è§£ç›®æ ‡ç½‘ç»œå¯èƒ½è¢«æµç­‰çº§ï¼ˆflow-levelï¼‰MLç½‘ç»œæ£€æµ‹ç³»ç»Ÿä¿æŠ¤ï¼›2. æ”»å‡»è€…ä¸éœ€è¦çŸ¥é“detectorçš„ç®—æ³•ï¼Œå‚æ•°ï¼Œç‰¹å¾æˆ–è®­ç»ƒæ•°æ®ç­‰ä¿¡æ¯ã€‚ æ”»å‡»è€…çš„èƒ½åŠ›ï¼š1. æ”»å‡»è€…åªæœ‰èƒ½åŠ›ä¿®æ”¹æµ‹è¯•é›†ï¼Œå¹¶ä¸èƒ½æ”¹å˜detectorçš„è®­ç»ƒé›†ï¼›2. åŒæ—¶ï¼Œæˆ‘ä»¬å‡è®¾æ”»å‡»è€…å¯ä»¥æŒç»­è®¿é—®detectorï¼Œä»æ£€æµ‹å™¨ä¸­è·å–äºŒè¿›åˆ¶é¢„æµ‹ç»“æœã€‚ System Design â€‹ è§å›¾å³å¯ï¼Œç®€å•çš„RLå­¦ä¹ æ¨¡å‹ã€‚ RL Algorithm é€‰æ‹©äº†ï¼ˆvalue-basedï¼‰DQNå’ŒSARSAï¼Œéƒ½ç”¨ã€‚ Action Space Qï¼šå¦‚ä½•åœ¨ä¸å½±å“åŸæ¥åŠŸèƒ½çš„æƒ…å†µä¸‹æ·»åŠ æ‰°åŠ¨ï¼Ÿ Aï¼šå› ä¸ºbotnetå†…å®¹åœ¨åº”ç”¨å±‚ï¼Œæ•…å¯ä»¥å¯¹ä¼ è¾“å±‚è¿›è¡Œæ‰°åŠ¨ã€‚ï¼ˆPSï¼šè¿™æ ·ç¡®å®ä¸ä¼šæ”¹å˜åŠŸèƒ½ï¼Œä½†æ˜¯åº”ç”¨å±‚çš„æ¶æ„ç‰¹å¾ä¸ä¼šä»è¢«detectoræ£€æµ‹åˆ°å—ï¼Ÿï¼‰ Qï¼šå¦‚ä½•ç¡®å®šå“ªä¸ªç‰¹å¾è¯¥è¿›è¡Œæ‰°åŠ¨ï¼Ÿ Aï¼šè€ƒè™‘åˆ°åŠ¨ä½œè®¾è®¡çš„å›°éš¾ï¼Œä»åƒµå°¸ç½‘ç»œæ£€æµ‹ä¸­å¸¸ç”¨çš„ç‰¹å¾é›†åˆä¸­é€‰å–18ä¸ªç‰¹å¾ã€‚ â€‹ ç”±ä¸Šè¿°ç‰¹å¾ï¼ŒåŸºäºbotnetå’Œnormal flowçš„å·®å¼‚ï¼Œaction spaceåŒ…å«äº†14ä¸ªåŠ¨ä½œï¼Œè¿™äº›åŠ¨ä½œå¯ä»¥å½±å“ä»¥ä¸Šçš„ç»Ÿè®¡ç‰¹å¾ï¼Œä¾‹å¦‚ç®€å•ä¿®æ”¹æ•°æ®åŒ…çš„æ—¶é—´æˆ³ï¼Œæˆ–è€…æ·»åŠ æ„å»ºçš„æ–°æ•°æ®åŒ…ã€‚ â€‹ å½“åœ¨æ„å»ºæ–°æ•°æ®åŒ…æ—¶ï¼Œè€ƒè™‘ä¸‰ä¸ªåœ°æ–¹ï¼šæ—¶é—´æˆ³ï¼Œæ–¹å‘ï¼ŒåŒ…çš„å¤§å°ã€‚ â€‹ 14ä¸ªåŠ¨ä½œè¢«åˆ†æˆäº†5ç±»ï¼š å…·ä½“è§åŸæ–‡ã€‚ State Space â€‹ detectorè¿”å›çš„äºŒè¿›åˆ¶ä¿¡æ¯å¾ˆéš¾ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦æœ‰ä¸€ä¸ªçŠ¶æ€ç”Ÿæˆå™¨æ¥ç”Ÿæˆä¾›agentä½¿ç”¨çš„stateã€‚ â€‹ è¿™é‡Œä½¿ç”¨å †å è‡ªç¼–ç å™¨ï¼ˆStacked Autoencoderï¼ŒSAEï¼‰æ¥è‡ªåŠ¨æå–botnet flowçš„ç‰¹å¾ï¼Œç„¶åå°†å…¶è¿”å›ç»™agentä»¥ä½œä¸ºstateã€‚ â€‹ å°†æ¯ä¸ªbotnet flowçš„å‰1024ä¸ªå­—èŠ‚ä½œä¸ºSAEçš„è¾“å…¥ï¼Œç»è¿‡ä¸€äº›epochçš„è®­ç»ƒï¼ŒSAEå°±å¯ä»¥è‡ªåŠ¨åœ°ä»botnet flowä¸­å­¦ä¹ åˆ°ä¸€ä¸ª256ç»´åº¦çš„state vectorã€‚ EXPERIMENTAL SETUP Implementation ç³»ç»Ÿçš„ä½ç½®å¦‚ä¸‹ï¼š ä½œä¸ºBotMasterçš„ä¸€ä¸ªä»£ç†å­˜åœ¨ã€‚ Dataset ä¸¤ä¸ªå…¬å¼€æ•°æ®é›†ï¼šCTUï¼ŒISOTã€‚ ç„¶ååšä¸€ä¸‹æ•°æ®å¤„ç†ï¼š åˆå¹¶å±äºåŒä¸€botnet å®¶æ—çš„æ ·æœ¬ï¼Œå¦‚æœæŸä¸ªpcapåŒ…å¤ªå¤§ï¼Œå°±èˆå¼ƒï¼› å°†pcapåŒ…åˆ‡ç‰‡ï¼› åŒ¿ååŒ–ï¼Œå°†ip,macç­‰åŒ…ä¸­ç‹¬ä¸€æ— äºŒçš„ä¸œè¥¿éšæœºåŒ–ï¼Œä»¥é¿å…å½±å“ã€‚ Detector â€‹ é€‰å–äº†ä¸¤ä¸ªstate-of-artçš„detector: the composite DL detection model combining CNN with LSTM(BotCatcher detection model)ï¼Œthe non-differentiable ML detection model based on XGBoost(XGBoost detection model)ã€‚ â€‹ RESULTS Evasion performance å°†DQM,SARSAä¸BotCatcher,XGBoostä¸¤ä¸¤ç»„åˆï¼š é€ƒé€¸ç‡å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå³ä½¿æ˜¯éšæœºæ‰°åŠ¨éƒ½æœ‰ä¸€å®šçš„é€ƒé€¸ç‡ã€‚ ä¸åŒæµ‹è¯•é›†æ•ˆæœå·®å¼‚å¾ˆå¤§ï¼š 1. æ•°æ®åŒ…å¯èƒ½è¿‡å¤§ï¼ˆstormï¼‰ï¼Œå¯¼è‡´å¯¹æ—¶é—´æˆ³åšä¿®æ”¹ç­‰æ“ä½œå¯¹ç»“æœçš„å½±å“å¾ˆå°ï¼› 2. æ•°æ®åŒ…çš„ç‰¹å¾è·Ÿå…¶å®ƒæ•°æ®é›†å·®åˆ«å¾ˆå¤§ï¼Œå¯¼è‡´æ¨¡å‹éš¾ä»¥åœ¨æœ‰é™çš„æ­¥éª¤æ—¶é—´é‡Œæ”¹å˜è¶³å¤Ÿå¤šçš„ç‰¹å¾ã€‚ Time performances Dominant actions Dominant actionsæŒ‡çš„æ˜¯agentåœ¨åˆ›å»ºå¯¹æŠ—æ ·æœ¬æ—¶é‡‡ç”¨çš„æœ€é¢‘ç¹çš„æ“ä½œã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://example.com/tags/RL/"},{"name":"Botnet","slug":"Botnet","permalink":"http://example.com/tags/Botnet/"}],"author":"Shaw"},{"title":"ã€Šæœ€åçš„é—®é¢˜ã€‹","slug":"The Last Question","date":"2021-10-12T10:03:37.283Z","updated":"2022-07-16T02:10:07.886Z","comments":true,"path":"2021/10/12/The Last Question/","link":"","permalink":"http://example.com/2021/10/12/The%20Last%20Question/","excerpt":"THE LAST QUESTION æœ€åçš„é—®é¢˜ç¬¬ä¸€æ¬¡è¢«åŠå¼€ç©ç¬‘åœ°æå‡ºæ˜¯åœ¨2061å¹´çš„5æœˆ21æ—¥ã€‚é‚£æ—¶äººç±»æ–‡æ˜åˆšåˆšæ­¥å…¥æ›™å…‰ä¸­ã€‚è¿™ä¸ªé—®é¢˜æºèµ·äºé…’é…£ä¹‹ä¸­ä¸€ä¸ªäº”ç¾å…ƒçš„èµŒï¼Œå®ƒæ˜¯è¿™ä¹ˆå‘ç”Ÿçš„ï¼š äºšå†å±±å¤§â€¢é˜¿ä»£å°”ä¸è´ç‰¹ä¼¦â€¢å¢æ³Šå¤«æ˜¯Multivacçš„ä¸¤ä¸ªå¿ å®çš„ç®¡ç†å‘˜ã€‚åƒä»»ä½•å…¶ä»–äººä¸€æ ·ï¼Œä»–ä»¬çŸ¥é“åœ¨é‚£å°å·¨å¤§çš„è®¡ç®—æœºæ•°è‹±é‡Œå†°å†·ã€é—ªçƒã€æ»´ç­”ä½œå“çš„é¢åºåè—ç€ä»€ä¹ˆã€‚é‚£äº›ç”µå­å›è·¯æ—©å·²å‘å±•åˆ°ä»»ä½•ä¸ªåˆ«çš„äººéƒ½æ— æ³•å®Œå…¨æŒæ¡çš„åœ°æ­¥ï¼Œä½†ä»–ä»¬è‡³å°‘å¯¹å®ƒçš„å¤§è‡´è“å›¾æœ‰ä¸ªåŸºæœ¬çš„æ¦‚å¿µã€‚ Multivacèƒ½è‡ªæˆ‘è°ƒèŠ‚å’Œè‡ªæˆ‘ä¿®æ­£ã€‚è¿™å¯¹å®ƒæ˜¯å¿…è¦çš„ï¼Œå› ä¸ºäººç±»å½“ä¸­æ²¡æœ‰è°èƒ½å¤Ÿå¿«ç”šè‡³å¤Ÿå¥½åœ°å¯¹å®ƒè¿›è¡Œè°ƒèŠ‚å’Œä¿®æ­£ã€‚æ‰€ä»¥å®é™…ä¸Šé˜¿ä»£å°”ä¸å¢æ³Šå¤«å¯¹è¿™ä¸ªåºç„¶å¤§ ç‰©åªè¿›è¡Œä¸€äº›éå¸¸è½»æ¾å’Œè‚¤æµ…çš„ç®¡ç†ï¼Œä»»ä½•å…¶ä»–äººä¹Ÿéƒ½åªèƒ½åšåˆ°è¿™ä¸ªç¨‹åº¦ã€‚ä»–ä»¬ç»™å®ƒè¾“é€æ•°æ®ï¼Œæ ¹æ®å®ƒæ‰€éœ€çš„æ ¼å¼ä¿®æ”¹é—®é¢˜ï¼Œç„¶åç¿»è¯‘ç»™å‡ºçš„ç­”æ¡ˆã€‚å½“ç„¶ï¼Œä»–ä»¬ä»¥åŠ å…¶ä»–ç®¡ç†å‘˜ä»¬å®Œå…¨æœ‰èµ„æ ¼åˆ†äº«å±äºMultivacçš„è£èª‰ã€‚ å‡ åå¹´ä¸­ï¼Œåœ¨Multivacçš„å¸®åŠ©ä¸‹äººç±»å»ºé€ äº†å®‡å®™é£èˆ¹ï¼Œè®¡ç®—å‡ºèˆªè¡Œè·¯å¾„ï¼Œä»è€Œå¾—ä»¥ç™»é™†æœˆçƒã€ç«æ˜Ÿå’Œé‡‘æ˜Ÿã€‚ä½†æ˜¯æ›´è¿œçš„èˆªè¡Œéœ€è¦å¤§é‡çš„èƒ½é‡ï¼Œåœ°çƒä¸Šå¯æ€œçš„èµ„æºä¸è¶³ä»¥æ”¯æŒè¿™äº›é£èˆ¹ã€‚å°½ç®¡äººç±»ä¸æ–­åœ°æé«˜ç…¤ç‚­å’Œæ ¸èƒ½çš„åˆ©ç”¨æ•ˆç‡ï¼Œä½†ç…¤å’Œé“€éƒ½æ˜¯æœ‰é™çš„ã€‚ ä½†æ˜¯æ…¢æ…¢åœ°Multivacå­¦ä¼šäº†å¦‚ä½•ä»æ ¹æœ¬ä¸Šè§£å†³æŸäº›æ·±å±‚æ¬¡é—®é¢˜ã€‚2061å¹´5æœˆ14æ—¥ï¼Œç†è®ºæˆä¸ºäº†ç°å®ã€‚ å¤ªé˜³çš„èƒ½é‡è¢«å‚¨å­˜å’Œè½¬åŒ–ï¼Œå¾—ä»¥è¢«å…¨çƒè§„æ¨¡åœ°ç›´æ¥åˆ©ç”¨ã€‚æ•´ä¸ªåœ°çƒç†„ç­äº†ç‡ƒçƒ§çš„ç…¤ç‚­ï¼Œå…³é—­äº†æ ¸ååº”ç‚‰ï¼Œæ‰“å¼€äº†è¿æ¥åˆ°é‚£ä¸ªå°å°çš„å¤ªé˜³èƒ½ç©ºé—´ç«™çš„å¼€å…³ã€‚è¿™ä¸ªç©ºé—´ç«™ç›´å¾„ä¸€è‹±é‡Œï¼Œåœ¨åˆ°æœˆçƒçš„è·ç¦»ä¸€åŠå¤„ç¯ç»•ç€åœ°çƒã€‚çœ‹ä¸è§çš„å¤ªé˜³çš„å…‰æŸæ”¯æ’‘ç€æ•´ä¸ªåœ°çƒç¤¾ä¼šçš„è¿è¡Œã€‚ ä¸ƒå¤©çš„åº†ç¥è¿˜ä¸è¶³ä»¥æš—æ·¡è¿™åˆ›ä¸¾çš„å…‰è¾‰ã€‚é˜¿ä»£å°”ä¸å¢æ³Šå¤«æ€»ç®—é€ƒè„±äº†å…¬ä¼—äº‹åŠ¡ï¼Œæ‚„æ‚„åœ°ç›¸èšåœ¨è¿™ä¸ªè°ä¹Ÿæƒ³ä¸åˆ°çš„è’åƒ»çš„åœ°ä¸‹å®¤ã€‚åœ¨è¿™é‡ŒMultivacåŸ‹è—ç€çš„åº å¤§èº«èº¯éœ²å‡ºäº†ä¸€éƒ¨åˆ†ã€‚å®ƒæ­£ç‹¬è‡ªé—²æš‡åœ°æ•´ç†ç€æ•°æ®ï¼Œå‘å‡ºæ»¡è¶³çš„ã€æ…µæ‡’çš„æ»´ç­”å£°â€”â€”å®ƒä¹Ÿå¾—åˆ°äº†å‡æœŸã€‚ä»–ä»¬äº†è§£è¿™ä¸€ç‚¹ï¼Œä¸€å¼€å§‹ä»–ä»¬å¹¶æ²¡æ‰“ç®—æ‰“æ‰°å®ƒã€‚ ä»–ä»¬å¸¦æ¥äº†ä¸€ç“¶é…’ã€‚è¿™ä¼šå„¿ä»–ä»¬æƒ³åšçš„åªæ˜¯åœ¨ä¸€èµ·ï¼Œå–å–é…’ï¼Œæ”¾æ¾æ”¾æ¾ã€‚ ä½ æƒ³ä¸€æƒ³å°±ä¼šè§‰å¾—å¾ˆç¥å¥‡ï¼Œâ€é˜¿ä»£å°”è¯´ã€‚ä»–å®½é˜”çš„è„¸åºå·²æœ‰äº†ç–²å€¦çš„çº¹è·¯ã€‚ä»–æ…¢æ…¢åœ°ç”¨ç»ç’ƒæ£’æ…åŠ¨ç€é…’ï¼Œçœ‹ç€å†°å—ç¬¨æ‹™åœ°æ»‘åŠ¨ã€‚â€œä»æ­¤æˆ‘ä»¬æ‰€ç”¨çš„æ‰€æœ‰èƒ½é‡éƒ½æ˜¯å…è´¹çš„ã€‚åªè¦æˆ‘ä»¬æ„¿æ„ï¼Œæˆ‘ä»¬èƒ½æŠŠåœ°çƒç†”åŒ–æˆä¸€é¢—æ¶²æ€å¤§é“çƒâ€”â€”è¿˜èƒ½æ¯«ä¸åœ¨ä¹èŠ±æ‰çš„èƒ½é‡ã€‚å¤Ÿæˆ‘ä»¬æ°¸è¿œæ°¸è¿œæ°¸è¿œç”¨ä¸‹å»çš„èƒ½é‡ã€‚â€ å¢æ³Šå¤«å°†å¤´æ­ªå‘ä¸€è¾¹ï¼Œè¿™æ˜¯å½“ä»–æƒ³è¦åé©³å¯¹æ–¹æ—¶çš„ä¹ æƒ¯åŠ¨ä½œã€‚ä»–ç°åœ¨ç¡®å®æƒ³è¦åé©³ï¼Œéƒ¨åˆ†åŸå› æ˜¯ä»–åœ¨è´Ÿè´£æ‹¿ç€å†°å’Œæ¯å­ã€‚ä»–è¯´ï¼šâ€œä¸æ˜¯æ°¸è¿œã€‚â€ â€œå“¦å»ä½ çš„ï¼Œå·®ä¸å¤šå°±æ˜¯æ°¸è¿œã€‚ç›´åˆ°å¤ªé˜³å®Œè›‹ï¼Œè€è´ã€‚â€ â€œé‚£å°±ä¸æ˜¯æ°¸è¿œã€‚â€ â€œå¥½å§ã€‚å‡ åäº¿å¹´ï¼Œå¯èƒ½ä¸€ç™¾äº¿å¹´ï¼Œæ»¡æ„äº†å§ï¼Ÿâ€ å¢æ³Šå¤«ç”¨æ‰‹æ¢³ç€ä»–ç¨€è–„çš„å¤´å‘ï¼Œä»¿ä½›è¦ç¡®è®¤è¿˜å‰©ä¸‹äº†ä¸€äº›ã€‚ä»–ç¼“ç¼“åœ°æŠ¿ç€è‡ªå·±çš„é…’è¯´ï¼Œâ€œä¸€ç™¾äº¿å¹´ä¹Ÿä¸æ˜¯æ°¸è¿œã€‚â€ â€œä½†å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯å¤Ÿäº†ï¼Œä¸æ˜¯å—ï¼Ÿâ€ â€œç…¤å’Œé“€å¯¹æˆ‘ä»¬æ¥è¯´ä¹Ÿå¤Ÿäº†ã€‚â€ â€œå¥½å¥½å¥½ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬èƒ½æŠŠå®‡å®™é£èˆ¹è¿æ¥åˆ°å¤ªé˜³èƒ½ç”µç«™ï¼Œç„¶åé£åˆ°å†¥ç‹æ˜Ÿåˆé£å›æ¥ä¸€ç™¾ä¸‡æ¬¡è€Œä¸ç”¨æ‹…å¿ƒç‡ƒæ–™ã€‚é ç…¤å’Œé“€ä½ å°±åšä¸åˆ°ã€‚ä¸ä¿¡å»é—®é—®Multivacã€‚â€ â€œæˆ‘ä¸ç”¨é—®å®ƒã€‚æˆ‘çŸ¥é“ã€‚â€","text":"THE LAST QUESTION æœ€åçš„é—®é¢˜ç¬¬ä¸€æ¬¡è¢«åŠå¼€ç©ç¬‘åœ°æå‡ºæ˜¯åœ¨2061å¹´çš„5æœˆ21æ—¥ã€‚é‚£æ—¶äººç±»æ–‡æ˜åˆšåˆšæ­¥å…¥æ›™å…‰ä¸­ã€‚è¿™ä¸ªé—®é¢˜æºèµ·äºé…’é…£ä¹‹ä¸­ä¸€ä¸ªäº”ç¾å…ƒçš„èµŒï¼Œå®ƒæ˜¯è¿™ä¹ˆå‘ç”Ÿçš„ï¼š äºšå†å±±å¤§â€¢é˜¿ä»£å°”ä¸è´ç‰¹ä¼¦â€¢å¢æ³Šå¤«æ˜¯Multivacçš„ä¸¤ä¸ªå¿ å®çš„ç®¡ç†å‘˜ã€‚åƒä»»ä½•å…¶ä»–äººä¸€æ ·ï¼Œä»–ä»¬çŸ¥é“åœ¨é‚£å°å·¨å¤§çš„è®¡ç®—æœºæ•°è‹±é‡Œå†°å†·ã€é—ªçƒã€æ»´ç­”ä½œå“çš„é¢åºåè—ç€ä»€ä¹ˆã€‚é‚£äº›ç”µå­å›è·¯æ—©å·²å‘å±•åˆ°ä»»ä½•ä¸ªåˆ«çš„äººéƒ½æ— æ³•å®Œå…¨æŒæ¡çš„åœ°æ­¥ï¼Œä½†ä»–ä»¬è‡³å°‘å¯¹å®ƒçš„å¤§è‡´è“å›¾æœ‰ä¸ªåŸºæœ¬çš„æ¦‚å¿µã€‚ Multivacèƒ½è‡ªæˆ‘è°ƒèŠ‚å’Œè‡ªæˆ‘ä¿®æ­£ã€‚è¿™å¯¹å®ƒæ˜¯å¿…è¦çš„ï¼Œå› ä¸ºäººç±»å½“ä¸­æ²¡æœ‰è°èƒ½å¤Ÿå¿«ç”šè‡³å¤Ÿå¥½åœ°å¯¹å®ƒè¿›è¡Œè°ƒèŠ‚å’Œä¿®æ­£ã€‚æ‰€ä»¥å®é™…ä¸Šé˜¿ä»£å°”ä¸å¢æ³Šå¤«å¯¹è¿™ä¸ªåºç„¶å¤§ ç‰©åªè¿›è¡Œä¸€äº›éå¸¸è½»æ¾å’Œè‚¤æµ…çš„ç®¡ç†ï¼Œä»»ä½•å…¶ä»–äººä¹Ÿéƒ½åªèƒ½åšåˆ°è¿™ä¸ªç¨‹åº¦ã€‚ä»–ä»¬ç»™å®ƒè¾“é€æ•°æ®ï¼Œæ ¹æ®å®ƒæ‰€éœ€çš„æ ¼å¼ä¿®æ”¹é—®é¢˜ï¼Œç„¶åç¿»è¯‘ç»™å‡ºçš„ç­”æ¡ˆã€‚å½“ç„¶ï¼Œä»–ä»¬ä»¥åŠ å…¶ä»–ç®¡ç†å‘˜ä»¬å®Œå…¨æœ‰èµ„æ ¼åˆ†äº«å±äºMultivacçš„è£èª‰ã€‚ å‡ åå¹´ä¸­ï¼Œåœ¨Multivacçš„å¸®åŠ©ä¸‹äººç±»å»ºé€ äº†å®‡å®™é£èˆ¹ï¼Œè®¡ç®—å‡ºèˆªè¡Œè·¯å¾„ï¼Œä»è€Œå¾—ä»¥ç™»é™†æœˆçƒã€ç«æ˜Ÿå’Œé‡‘æ˜Ÿã€‚ä½†æ˜¯æ›´è¿œçš„èˆªè¡Œéœ€è¦å¤§é‡çš„èƒ½é‡ï¼Œåœ°çƒä¸Šå¯æ€œçš„èµ„æºä¸è¶³ä»¥æ”¯æŒè¿™äº›é£èˆ¹ã€‚å°½ç®¡äººç±»ä¸æ–­åœ°æé«˜ç…¤ç‚­å’Œæ ¸èƒ½çš„åˆ©ç”¨æ•ˆç‡ï¼Œä½†ç…¤å’Œé“€éƒ½æ˜¯æœ‰é™çš„ã€‚ ä½†æ˜¯æ…¢æ…¢åœ°Multivacå­¦ä¼šäº†å¦‚ä½•ä»æ ¹æœ¬ä¸Šè§£å†³æŸäº›æ·±å±‚æ¬¡é—®é¢˜ã€‚2061å¹´5æœˆ14æ—¥ï¼Œç†è®ºæˆä¸ºäº†ç°å®ã€‚ å¤ªé˜³çš„èƒ½é‡è¢«å‚¨å­˜å’Œè½¬åŒ–ï¼Œå¾—ä»¥è¢«å…¨çƒè§„æ¨¡åœ°ç›´æ¥åˆ©ç”¨ã€‚æ•´ä¸ªåœ°çƒç†„ç­äº†ç‡ƒçƒ§çš„ç…¤ç‚­ï¼Œå…³é—­äº†æ ¸ååº”ç‚‰ï¼Œæ‰“å¼€äº†è¿æ¥åˆ°é‚£ä¸ªå°å°çš„å¤ªé˜³èƒ½ç©ºé—´ç«™çš„å¼€å…³ã€‚è¿™ä¸ªç©ºé—´ç«™ç›´å¾„ä¸€è‹±é‡Œï¼Œåœ¨åˆ°æœˆçƒçš„è·ç¦»ä¸€åŠå¤„ç¯ç»•ç€åœ°çƒã€‚çœ‹ä¸è§çš„å¤ªé˜³çš„å…‰æŸæ”¯æ’‘ç€æ•´ä¸ªåœ°çƒç¤¾ä¼šçš„è¿è¡Œã€‚ ä¸ƒå¤©çš„åº†ç¥è¿˜ä¸è¶³ä»¥æš—æ·¡è¿™åˆ›ä¸¾çš„å…‰è¾‰ã€‚é˜¿ä»£å°”ä¸å¢æ³Šå¤«æ€»ç®—é€ƒè„±äº†å…¬ä¼—äº‹åŠ¡ï¼Œæ‚„æ‚„åœ°ç›¸èšåœ¨è¿™ä¸ªè°ä¹Ÿæƒ³ä¸åˆ°çš„è’åƒ»çš„åœ°ä¸‹å®¤ã€‚åœ¨è¿™é‡ŒMultivacåŸ‹è—ç€çš„åº å¤§èº«èº¯éœ²å‡ºäº†ä¸€éƒ¨åˆ†ã€‚å®ƒæ­£ç‹¬è‡ªé—²æš‡åœ°æ•´ç†ç€æ•°æ®ï¼Œå‘å‡ºæ»¡è¶³çš„ã€æ…µæ‡’çš„æ»´ç­”å£°â€”â€”å®ƒä¹Ÿå¾—åˆ°äº†å‡æœŸã€‚ä»–ä»¬äº†è§£è¿™ä¸€ç‚¹ï¼Œä¸€å¼€å§‹ä»–ä»¬å¹¶æ²¡æ‰“ç®—æ‰“æ‰°å®ƒã€‚ ä»–ä»¬å¸¦æ¥äº†ä¸€ç“¶é…’ã€‚è¿™ä¼šå„¿ä»–ä»¬æƒ³åšçš„åªæ˜¯åœ¨ä¸€èµ·ï¼Œå–å–é…’ï¼Œæ”¾æ¾æ”¾æ¾ã€‚ ä½ æƒ³ä¸€æƒ³å°±ä¼šè§‰å¾—å¾ˆç¥å¥‡ï¼Œâ€é˜¿ä»£å°”è¯´ã€‚ä»–å®½é˜”çš„è„¸åºå·²æœ‰äº†ç–²å€¦çš„çº¹è·¯ã€‚ä»–æ…¢æ…¢åœ°ç”¨ç»ç’ƒæ£’æ…åŠ¨ç€é…’ï¼Œçœ‹ç€å†°å—ç¬¨æ‹™åœ°æ»‘åŠ¨ã€‚â€œä»æ­¤æˆ‘ä»¬æ‰€ç”¨çš„æ‰€æœ‰èƒ½é‡éƒ½æ˜¯å…è´¹çš„ã€‚åªè¦æˆ‘ä»¬æ„¿æ„ï¼Œæˆ‘ä»¬èƒ½æŠŠåœ°çƒç†”åŒ–æˆä¸€é¢—æ¶²æ€å¤§é“çƒâ€”â€”è¿˜èƒ½æ¯«ä¸åœ¨ä¹èŠ±æ‰çš„èƒ½é‡ã€‚å¤Ÿæˆ‘ä»¬æ°¸è¿œæ°¸è¿œæ°¸è¿œç”¨ä¸‹å»çš„èƒ½é‡ã€‚â€ å¢æ³Šå¤«å°†å¤´æ­ªå‘ä¸€è¾¹ï¼Œè¿™æ˜¯å½“ä»–æƒ³è¦åé©³å¯¹æ–¹æ—¶çš„ä¹ æƒ¯åŠ¨ä½œã€‚ä»–ç°åœ¨ç¡®å®æƒ³è¦åé©³ï¼Œéƒ¨åˆ†åŸå› æ˜¯ä»–åœ¨è´Ÿè´£æ‹¿ç€å†°å’Œæ¯å­ã€‚ä»–è¯´ï¼šâ€œä¸æ˜¯æ°¸è¿œã€‚â€ â€œå“¦å»ä½ çš„ï¼Œå·®ä¸å¤šå°±æ˜¯æ°¸è¿œã€‚ç›´åˆ°å¤ªé˜³å®Œè›‹ï¼Œè€è´ã€‚â€ â€œé‚£å°±ä¸æ˜¯æ°¸è¿œã€‚â€ â€œå¥½å§ã€‚å‡ åäº¿å¹´ï¼Œå¯èƒ½ä¸€ç™¾äº¿å¹´ï¼Œæ»¡æ„äº†å§ï¼Ÿâ€ å¢æ³Šå¤«ç”¨æ‰‹æ¢³ç€ä»–ç¨€è–„çš„å¤´å‘ï¼Œä»¿ä½›è¦ç¡®è®¤è¿˜å‰©ä¸‹äº†ä¸€äº›ã€‚ä»–ç¼“ç¼“åœ°æŠ¿ç€è‡ªå·±çš„é…’è¯´ï¼Œâ€œä¸€ç™¾äº¿å¹´ä¹Ÿä¸æ˜¯æ°¸è¿œã€‚â€ â€œä½†å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯å¤Ÿäº†ï¼Œä¸æ˜¯å—ï¼Ÿâ€ â€œç…¤å’Œé“€å¯¹æˆ‘ä»¬æ¥è¯´ä¹Ÿå¤Ÿäº†ã€‚â€ â€œå¥½å¥½å¥½ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬èƒ½æŠŠå®‡å®™é£èˆ¹è¿æ¥åˆ°å¤ªé˜³èƒ½ç”µç«™ï¼Œç„¶åé£åˆ°å†¥ç‹æ˜Ÿåˆé£å›æ¥ä¸€ç™¾ä¸‡æ¬¡è€Œä¸ç”¨æ‹…å¿ƒç‡ƒæ–™ã€‚é ç…¤å’Œé“€ä½ å°±åšä¸åˆ°ã€‚ä¸ä¿¡å»é—®é—®Multivacã€‚â€ â€œæˆ‘ä¸ç”¨é—®å®ƒã€‚æˆ‘çŸ¥é“ã€‚â€ â€œé‚£å°±ä¸è¦å°çœ‹Multivacä¸ºæˆ‘ä»¬åšçš„äº‹ï¼Œâ€é˜¿ä»£å°”æ€’é“ï¼Œâ€œå®ƒåšå¾—å¾ˆå¥½ã€‚â€ â€œè°è¯´å®ƒåšå¾—ä¸å¥½ï¼Ÿæˆ‘æ˜¯è¯´å¤ªé˜³ä¸èƒ½æ°¸è¿œç‡ƒçƒ§ä¸‹å»ï¼Œæˆ‘åªæ˜¯è¿™ä¸ªæ„æ€ã€‚æˆ‘ä»¬åœ¨ä¸€ç™¾äº¿å¹´å†…å¯ä»¥é«˜æ•æ— å¿§ï¼Œä½†æ˜¯ç„¶åå‘¢ï¼Ÿâ€å¢æ³Šå¤«ç”¨ç•¥å¾®é¢¤æŠ–çš„æ‰‹æŒ‡æŒ‡ç€å¯¹æ–¹ï¼Œâ€œä¸è¦è¯´æˆ‘ä»¬æ¢å¦å¤–ä¸€ä¸ªå¤ªé˜³ã€‚â€ ç‰‡åˆ»çš„æ²‰é»˜ã€‚é˜¿ä»£å°”å¶å°”å°†é…’æ¯æ”¾åˆ°å”‡è¾¹ï¼Œè€Œå¢æ³Šå¤«æ…¢æ…¢åœ°é—­ä¸Šäº†çœ¼ç›ã€‚ä¸¤äººéƒ½åœ¨ä¼‘æ¯ã€‚ ç„¶åå¢æ³Šå¤«çªç„¶çå¼€çœ¼ï¼Œâ€œä½ åœ¨æƒ³å½“æˆ‘ä»¬çš„å¤ªé˜³æ²¡äº†å°±æ¢å¦å¤–ä¸€ä¸ªå¤ªé˜³ï¼Œæ˜¯å§ï¼Ÿâ€ â€œæˆ‘æ²¡è¿™ä¹ˆæƒ³ã€‚â€ â€œä½ å°±æ˜¯è¿™ä¹ˆæƒ³çš„ã€‚ä½ çš„é€»è¾‘ä¸è¡Œï¼Œè¿™å°±æ˜¯ä½ çš„é—®é¢˜ã€‚ä½ å°±åƒæ•…äº‹é‡Œè¯´çš„é‚£ä¸ªäººä¸€æ ·ï¼Œç¢°ä¸Šäº†é›¨å°±è·‘åˆ°æ ‘æ—é‡Œèº²åœ¨ä¸€æ£µæ ‘ä¸‹ã€‚ä»–å¯ä¸æ‹…å¿ƒï¼Œæ˜¯å§ï¼Œå› ä¸ºä»–ä»¥ä¸ºå½“è¿™æ£µæ ‘æ·‹å¾—å¤ªæ¹¿çš„æ—¶å€™ä»–åªè¦è·‘åˆ°å¦ä¸€æ£µæ ‘ä¸‹å°±è¡Œã€‚â€ â€œæˆ‘æ˜ç™½äº†ï¼Œâ€é˜¿ä»£å°”è¯´ï¼Œâ€œåˆ«åš·åš·ã€‚å¤ªé˜³å®Œè›‹äº†ï¼Œå…¶ä»–çš„ä¹Ÿéƒ½ä¼šå®Œè›‹ã€‚â€ â€œå®Œå…¨æ­£ç¡®ï¼Œâ€å¢æ³Šå¤«å˜Ÿå“é“ï¼Œâ€œä¸€åˆ‡éƒ½åœ¨èµ·åˆé‚£ä¸ªå®‡å®™å¤§çˆ†ç‚¸ä¸­æœ‰ä¸ªå¼€å§‹ï¼Œä¸ç®¡é‚£åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ã€‚å½“æ‰€æœ‰çš„æ’æ˜Ÿéƒ½ç†„ç­äº†ï¼Œä¸€åˆ‡ä¹Ÿéƒ½ä¼šæœ‰ä¸ªç»“æŸã€‚æœ‰çš„æ˜Ÿæ˜Ÿç†„ç­ å¾—æ¯”åˆ«çš„æ—©ã€‚åƒé‚£äº›è¯¥æ­»çš„å·¨æ˜Ÿç»´æŒä¸äº†ä¸€äº¿å¹´ã€‚æˆ‘ä»¬çš„å¤ªé˜³èƒ½æŒç»­ä¸€ç™¾äº¿å¹´ï¼ŒçŸ®æ˜Ÿå†æ€ä¹ˆæ ·æœ€å¤šä¹Ÿåªæœ‰ä¸¤åƒäº¿å¹´ã€‚ä¸€ä¸‡äº¿å¹´åä¸€åˆ‡éƒ½æ˜¯ä¸€ç‰‡æ¼†é»‘ã€‚ç†µå¿…é¡»å¢åŠ åˆ°æœ€ å¤§å€¼ï¼Œå°±æ˜¯è¿™æ ·ã€‚â€ â€œæˆ‘éå¸¸æ˜ç™½ä»€ä¹ˆæ˜¯ç†µï¼Œâ€é˜¿ä»£å°”ç»´æŠ¤ç€ä»–çš„è‡ªå°Šã€‚ â€œä½ æ˜ç™½ä¸ªå±ã€‚â€ â€œæˆ‘è·Ÿä½ çŸ¥é“çš„ä¸€æ ·å¤šã€‚â€ â€œé‚£ä½ è¯¥çŸ¥é“æŸä¸€å¤©æ‰€æœ‰çš„ä¸œè¥¿éƒ½ä¼šè€—å…‰ã€‚â€ â€œæ˜¯æ˜¯æ˜¯ã€‚è°è¯´å®ƒä»¬ä¸ä¼šå‘¢ï¼Ÿâ€ â€œä½ è¯´çš„ï¼Œä½ è¿™ä¸ªç³Šæ¶‚è™«ã€‚ä½ è¯´æˆ‘ä»¬æœ‰æ°¸è¿œç”¨ä¸å®Œçš„èƒ½é‡ã€‚ä½ è¯´çš„â€˜æ°¸è¿œâ€™ã€‚â€ ç°åœ¨è½®åˆ°é˜¿ä»£å°”åé©³äº†ã€‚ä»–è¯´ï¼šâ€œä¹Ÿè®¸æœ‰ä¸€å¤©æˆ‘ä»¬èƒ½è®©ä¸€åˆ‡ä»å¤´å¼€å§‹ã€‚â€ â€œç»ä¸å¯èƒ½ã€‚â€ â€œä¸ºä»€ä¹ˆï¼Ÿæ€»æœ‰é‚£ä¹ˆä¸€å¤©çš„ã€‚â€ â€œæ²¡æœ‰ã€‚â€ â€œé—®é—®Multivacã€‚â€ â€œä½ å»é—®Multivacã€‚ä½ æ•¢å—ï¼Ÿæˆ‘èµŒäº”ç¾å…ƒå®ƒè¯´è¿™ä¸å¯èƒ½ã€‚â€ é˜¿ä»£å°”åˆšåˆšé†‰åˆ°æ„¿æ„ä¸€è¯•ï¼Œåˆåˆšåˆšè¶³å¤Ÿæ¸…é†’åˆ°èƒ½æ‹¼å†™å‡ºé—®é—®é¢˜éœ€è¦çš„ç¬¦å·å’Œç®—å¼ã€‚è¿™ä¸ªé—®é¢˜ç”¨æ–‡å­—æ¥è¡¨è¾¾å°±æ˜¯ï¼šäººç±»æ˜¯å¦æœ‰ä¸€å¤©èƒ½ä¸éœ€è¦å‡€æŸè€—èƒ½é‡è€Œåœ¨æ’æ˜Ÿè¡°ç«­ä¹‹åå°†å…¶æ¢å¤åˆ°å…¨ç››æ—¶æœŸï¼Ÿ æˆ–è€…æ›´ç®€æ˜åœ°è¿™æ ·è¯´ï¼šæ€æ ·ä½¿å®‡å®™çš„æ€»ç†µå¤§å¹…åº¦åœ°é™ä½ï¼Ÿ Multivacé™·å…¥äº†é™æ­¢å’Œæ²‰é»˜ã€‚ç¼“æ…¢é—ªçƒçš„ç¯å…‰ç†„ç­äº†ï¼Œæ·±å¤„ä¼ æ¥çš„ç”µè·¯çš„æ»´ç­”å£°åœæ­¢äº†ã€‚ æ­£å½“è¿™ä¸¤ä½è¢«å“åçš„æŠ€æœ¯å‘˜æ„Ÿåˆ°ä»–ä»¬æ— æ³•å†å±ä½å‘¼å¸æ—¶ï¼Œå¿½ç„¶é—´ä¸Multivacç›¸è¿çš„æ‰“å­—æœºå¼€å§‹è¿ä½œèµ·æ¥ã€‚å®ƒæ‰“å‡ºå‡ ä¸ªå­—ï¼šæ•°æ®ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚ â€œèµŒä¸æˆäº†ã€‚â€å¢æ³Šå¤«æ‚„å£°é“ã€‚ä»–ä»¬åŒ†å¿™ç¦»å¼€äº†ã€‚ åˆ°äº†ç¬¬äºŒå¤©æ—©æ™¨ï¼Œä¸¤äººå¤´æ™•è„‘èƒ€ï¼Œå£å¹²èˆŒç‡¥ï¼ŒæŠŠè¿™ä»¶äº‹ç»™å¿˜äº†ã€‚ ------------------------------------------------------- è´¾è¯ºå¾·ã€è´¾è¯ºæ±€å’Œè´¾è¯ºè’‚Iã€è´¾è¯ºè’‚IIæ³¨è§†ç€å±å¹•ä¸­å˜å¹»çš„æ˜Ÿç©ºå½±åƒã€‚é£èˆ¹åœ¨è¶…è¶Šæ—¶é—´çš„ä¸€ç¬ä¸­ç©¿è¶Šäº†è¶…æ—¶ç©ºï¼Œå‡åŒ€åˆ†å¸ƒçš„æ˜Ÿç¾¤ç«‹åˆ»è¢«ä¸€ä¸ªæ˜äº®çš„åœ†ç›˜å–ä»£ã€‚å®ƒå¼¹ç å¤§å°ï¼Œå æ®ç€å±å¹•çš„ä¸­å¿ƒã€‚ â€œé‚£å°±æ˜¯X-23ï¼Œâ€è´¾è¯ºå¾·è‡ªä¿¡åœ°è¯´ã€‚ä»–ç´§æ¡ç€çš„ç˜¦å‰Šçš„æ‰‹èƒŒåœ¨èº«åï¼ŒæŒ‡èŠ‚å‘ç™½ã€‚ ä¸¤ä¸ªå°è´¾è¯ºè’‚éƒ½æ˜¯å¥³å­©ã€‚å¥¹ä»¬ä¸€ç”Ÿä¸­ç¬¬ä¸€æ¬¡ç»å†è¶…æ—¶ç©ºé£è¡Œï¼Œæ¸…æ™°åœ°æ„Ÿåˆ°é‚£ç§ç‰‡åˆ»çš„æ¶å¿ƒ[æ³¨]ã€‚å¥¹ä»¬æ‚„å£°åœ°å˜»ç¬‘ç€ï¼Œç–¯ç‹‚åœ°ç»•ç€å¥¹ä»¬çš„æ¯äº²äº’ç›¸è¿½é€ï¼Œä¸€è¾¹å°–å«ï¼šâ€œæˆ‘ä»¬åˆ°X-23äº†â€”â€”æˆ‘ä»¬åˆ°X-23äº†â€”â€”æˆ‘ä»¬â€”â€”â€ â€œå­©å­ä»¬ï¼Œåˆ«é—¹äº†ï¼â€è´¾è¯ºæ±€ä¸¥å‰åœ°è¯´ã€‚â€œä½ ç¡®å®šå—ï¼Œè´¾è¯ºå¾·ï¼Ÿâ€ â€œæœ‰ä»€ä¹ˆä¸ç¡®å®šçš„ï¼Ÿâ€è´¾è¯ºå¾·çŸäº†ä¸€çœ¼å¤©èŠ±æ¿ä¸Šå‡¸å‡ºçš„é‚£å—æ¯«ä¸èµ·çœ¼çš„é‡‘å±ã€‚å®ƒä»æˆ¿é—´çš„ä¸€å¤´å»¶ä¼¸åˆ°å¦ä¸€å¤´ï¼Œä¸¤ç«¯åŸ‹å…¥å¢™å£ä¸­ã€‚å®ƒå’Œæ•´ä¸ªé£èˆ¹ä¸€æ ·é•¿ã€‚ è´¾è¯ºå¾·å¯¹è¿™æ¡åšåšçš„é‡‘å±æ£’å‡ ä¹ä¸€æ— æ‰€çŸ¥ã€‚ä»–åªçŸ¥é“å®ƒå«åšMicrovacï¼Œä½ å¯ä»¥é—®å®ƒä»»ä½•é—®é¢˜ï¼Œè€Œå¹³æ—¶å®ƒæ§åˆ¶ç€é£èˆ¹é£å‘ç›®çš„åœ°ï¼Œä»ä¸åŒçš„é“¶æ²³ç³»èƒ½é‡åˆ†ç«™å‘é£èˆ¹è¾“é€èƒ½é‡ï¼Œå¹¶å®Œæˆè¿›è¡Œè¶…æ—¶ç©ºè·³è·ƒçš„è®¡ç®—ã€‚ è´¾è¯ºå¾·ä¸€å®¶åªéœ€è¦ä½åœ¨é£èˆ¹èˆ’é€‚çš„å±…ä½åŒºç­‰å¾…ã€‚æ›¾ç»æœ‰äººå‘Šè¯‰è´¾è¯ºå¾·ï¼Œâ€œMicrovacâ€è¯å°¾çš„â€œacâ€æ˜¯å¤è‹±è¯­ä¸­â€œautomatic computerï¼Œæ™ºèƒ½ç”µè„‘â€çš„ç¼©å†™ã€‚ä½†ä»–å·®ä¸å¤šè¿è¿™éƒ½å¿˜äº†ã€‚ è´¾è¯ºæ±€çœ‹ç€è§†å±ï¼Œçœ¼ç›æœ‰äº›æ¹¿æ¶¦ã€‚â€œæ²¡åŠæ³•ã€‚æƒ³åˆ°ç¦»å¼€äº†åœ°çƒæˆ‘æ„Ÿè§‰æ€ªæ€ªçš„ã€‚â€ â€œå¤©å“ªï¼Œä¸ºä»€ä¹ˆï¼Ÿâ€è´¾è¯ºå¾·é—®ã€‚â€œæˆ‘ä»¬åœ¨é‚£å„¿ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚æˆ‘ä»¬åœ¨X-23ä¸Šä¼šæ‹¥æœ‰ä¸€åˆ‡ã€‚ä½ å¹¶ä¸å­¤å•ï¼Œä½ åˆä¸æ˜¯é‚£äº›æ‹“è’è€…ã€‚è¿™ä¸ªè¡Œæ˜Ÿä¸Šå·²ç»æœ‰è¶…è¿‡ä¸€ç™¾ä¸‡äººäº†ã€‚ å¤©å“ªï¼Œæˆ‘ä»¬çš„æ›¾å­™ä»¬ä¼šå¾—å»æ‰¾æ–°çš„æ˜Ÿçƒï¼Œå› ä¸ºé‚£æ—¶X-23ä¼šå¤ªæŒ¤äº†ã€‚â€ä»–æƒ³äº†ä¸€ä¼šï¼Œè¯´ï¼šâ€œå‘Šè¯‰ä½ ï¼Œäººå£å¢é•¿è¿™ä¹ˆå¿«ï¼Œå¹¸äºç”µè„‘å®ç°äº†æ˜Ÿé™…æ—…è¡Œã€‚â€ â€œæˆ‘çŸ¥é“ï¼Œæˆ‘çŸ¥é“ã€‚â€è´¾è¯ºæ±€éš¾è¿‡åœ°å›ç­”ã€‚ è´¾è¯ºè’‚Ié©¬ä¸Šè¯´é“ï¼šâ€œæˆ‘ä»¬çš„Microvacæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„Microvacã€‚â€ â€œæˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ã€‚â€è´¾è¯ºå¾·æŠšå¼„ç€å¥¹çš„å¤´å‘è¯´ã€‚ èƒ½æ‹¥æœ‰ä¸€å°è‡ªå·±çš„Microvacçš„æ„Ÿè§‰éå¸¸å¥½ã€‚è´¾è¯ºå¾·å¾ˆé«˜å…´ä»–å±äºä»–ä»¬è¿™ä¸€ä»£äººã€‚åœ¨ä»–çˆ¶äº²å¹´è½»çš„æ—¶å€™ï¼Œç”µè„‘éƒ½æ˜¯å åœ°ä¸€ç™¾å¹³æ–¹è‹±é‡Œçš„å·¨å¤§æœºå™¨ã€‚ä¸€ä¸ªæ˜Ÿçƒåª æœ‰ä¸€å°ï¼Œè¢«ç§°ä½œè¡Œæ˜ŸACã€‚ä¸€åƒå¹´æ¥å®ƒä»¬çš„ä½“ç§¯é€æ­¥åœ°å¢åŠ ï¼Œç„¶åå¿½ç„¶é—´ç¼©å°äº†ï¼Œå› ä¸ºåˆ†å­é˜€å–ä»£äº†æ™¶ä½“ç®¡ï¼Œä½¿å¾—æœ€å¤§çš„è¡Œæ˜ŸACéƒ½ç¼©å°åˆ°äº†åªæœ‰ä¸€è‰˜é£èˆ¹çš„ä¸€åŠä½“ ç§¯ã€‚ æ¯å½“æƒ³åˆ°è¿™ä»¶äº‹è´¾è¯ºå¾·æ€»æ˜¯æ„Ÿåˆ°é£˜é£˜ç„¶ï¼šä»–çš„Microvacæ¯”é‚£å°å¤è€åŸå§‹çš„é¦–æ¬¡é©¯æœäº†å¤ªé˜³çš„Multivacè¦ç²¾å¯†å¥½å‡ å€ï¼Œè€Œä¸”å’Œç¬¬ä¸€å°è§£å†³äº†è¶…æ—¶ç©ºä¼ é€é—®é¢˜ä»è€Œå®ç°äº†æ˜Ÿé™…èˆªè¡Œçš„åœ°çƒè¡Œæ˜ŸACï¼ˆæœ€å¤§çš„è¡Œæ˜ŸACï¼‰ä¸€æ ·ç²¾å¯†ã€‚ â€œè¿™ä¹ˆå¤šçš„æ’æ˜Ÿï¼Œè¿™ä¹ˆå¤šçš„è¡Œæ˜Ÿã€‚â€è´¾è¯ºæ±€æƒ³ç€å¿ƒäº‹ï¼Œå¹æ¯é“ã€‚â€œæˆ‘æƒ³äººä»¬ä¼šæ°¸è¿œä¸æ–­åœ°å‡ºå‘å»æ‰¾æ–°çš„è¡Œæ˜Ÿï¼Œå°±åƒæˆ‘ä»¬ç°åœ¨è¿™æ ·ã€‚â€ â€œä¸æ˜¯æ°¸è¿œï¼Œâ€è´¾è¯ºå¾·ç¬‘äº†ä¸€ç¬‘è¯´ã€‚â€œæœ‰ä¸€å¤©è¿™ä¸€åˆ‡éƒ½ä¼šåœä¸‹æ¥ï¼Œä½†é‚£æ˜¯åœ¨å‡ åäº¿å¹´ä¹‹åäº†ã€‚å¥½å‡ åäº¿å¹´ã€‚å³ä½¿æ˜¯æ˜Ÿæ˜Ÿä¹Ÿä¼šè€—å°½ï¼Œä½ çŸ¥é“çš„ã€‚ç†µå¿…é¡»ä¸æ–­å¢å¤§ã€‚â€ â€œçˆ¸çˆ¸ï¼Œç†µæ˜¯ä»€ä¹ˆï¼Ÿâ€è´¾è¯ºè’‚IIå–Šé“ã€‚ â€œå°å®è´ï¼Œç†µï¼Œå°±æ˜¯ä¸€ä¸ªä»£è¡¨ç€å®‡å®™æ¶ˆè€—æ‰äº†å¤šå°‘çš„è¯ã€‚ä»€ä¹ˆä¸œè¥¿éƒ½ä¼šæ¶ˆè€—ï¼ŒçŸ¥é“å—ï¼Œå°±åƒä½ é‚£ä¸ªä¼šèµ°è·¯ä¼šè¯´è¯çš„å°æœºå™¨äººï¼Œè®°å¾—å§ï¼Ÿâ€ â€œä½ ä¸èƒ½ç»™å®ƒè£…ä¸€ä¸ªæ–°çš„ç”µæ± å—ï¼Œå°±åƒç»™æˆ‘çš„æœºå™¨äººé‚£æ ·ï¼Ÿâ€ â€œæ˜Ÿæ˜Ÿä»¬å°±æ˜¯ç”µæ± ï¼Œäº²çˆ±çš„ã€‚ä¸€æ—¦å®ƒä»¬ç”¨å®Œäº†ï¼Œå°±æ²¡æœ‰åˆ«çš„ç”µæ± äº†ã€‚â€ è´¾è¯ºè’‚Iä¸€ä¸‹å­å¤§å–Šèµ·æ¥ï¼šâ€œåˆ«è®©å®ƒä»¬ç”¨å®Œï¼Œçˆ¸çˆ¸ã€‚åˆ«è®©æ˜Ÿæ˜Ÿä»¬ç”¨å®Œå§ã€‚â€ â€œçœ‹çœ‹ä½ å¹²äº†ä»€ä¹ˆã€‚â€è´¾è¯ºæ±€æ¼ç«åœ°ä½å£°è¯´é“ã€‚ â€œæˆ‘æ€ä¹ˆçŸ¥é“è¿™ä¼šå“åˆ°å¥¹ä»¬ï¼Ÿâ€è´¾è¯ºå¾·ä½å£°åé©³ã€‚ â€œé—®é—®Microvacï¼Œâ€è´¾è¯ºè’‚Iå“­å«é“ã€‚â€œé—®å®ƒæ€ä¹ˆæŠŠæ˜Ÿæ˜Ÿé‡æ–°ç‚¹äº®ã€‚â€ â€œé—®å§ï¼Œâ€è´¾è¯ºæ±€è¯´ã€‚â€œè¿™ä¼šè®©å¥¹ä»¬å®‰é™ç‚¹çš„ã€‚â€ï¼ˆè´¾è¯ºè’‚IIä¹Ÿå¼€å§‹å“­äº†ã€‚ï¼‰ è´¾è¯ºå¾·è€¸è€¸è‚©ã€‚â€œå¥½äº†ï¼Œå¥½äº†ï¼Œäº²çˆ±çš„ã€‚æˆ‘å»é—®Microvacã€‚åˆ«ç€æ€¥ï¼Œå®ƒä¼šå‘Šè¯‰æˆ‘ä»¬çš„ã€‚â€ ä»–å‘Microvacæå‡ºé—®é¢˜ï¼Œå¹¶èµ¶ç´§åŠ ä¸Šâ€œæŠŠç­”æ¡ˆæ‰“å°å‡ºæ¥ã€‚â€ è´¾è¯ºå¾·å°†è–„è–„çš„çº¤ç»´çº¸å¸¦æ¡åœ¨æ‰‹å¿ƒï¼Œé«˜å…´åœ°è¯´ï¼šâ€œçœ‹å§ï¼ŒMicrovacè¯´åˆ°æ—¶å€™å®ƒä¼šæ–™ç†è¿™ä¸€åˆ‡ï¼Œæ‰€ä»¥åˆ«æ‹…å¿ƒå•¦ã€‚â€ è´¾è¯ºæ±€è¯´ï¼šâ€œé‚£ä¹ˆç°åœ¨å­©å­ä»¬ï¼Œè¯¥ç¡è§‰äº†ã€‚æˆ‘ä»¬é©¬ä¸Šå°±è¦åˆ°æˆ‘ä»¬çš„æ–°å®¶äº†ã€‚â€ åœ¨é”€æ¯çº¸å¸¦ä¹‹å‰è´¾è¯ºå¾·åˆè¯»äº†ä¸€éä¸Šé¢çš„æ–‡å­—ï¼šæ•°æ®ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚ ä»–è€¸äº†è€¸è‚©ï¼Œçœ‹å‘è§†å±ã€‚X-23å°±åœ¨å‰æ–¹ã€‚ ------------------------------------------------------- å…°é»˜æ–¯VJ-23Xæ³¨è§†ç€å¹½æ·±çš„é“¶æ²³ä¸‰ç»´ç¼©å½±å›¾ï¼Œè¯´ï¼šâ€œæˆ‘æƒ³æˆ‘ä»¬è¿™ä¹ˆæ‹…å¿ƒè¿™ä»¶äº‹æ˜¯ä¸æ˜¯å¾ˆå¯ç¬‘ï¼Ÿâ€ å°¼å…‹éš†MQ-17Jæ‘‡å¤´é“ï¼šâ€œæˆ‘ä¸è§‰å¾—ã€‚ä½ çŸ¥é“ç…§ç°åœ¨çš„æ‰©å±•é€Ÿåº¦é“¶æ²³ç³»åœ¨äº”å¹´å†…å°±ä¼šè¢«æŒ¤æ»¡ã€‚â€ ä¸¤ä¸ªäººçœ‹èµ·æ¥éƒ½æ˜¯äºŒåå‡ºå¤´ï¼Œéƒ½å¾ˆé«˜å¤§å¥åº·ã€‚ â€œä½†æ˜¯ï¼Œâ€VJ-23Xè¯´ï¼Œâ€œæˆ‘ä¸å¤ªæƒ³ç»™é“¶æ²³å‚è®®ä¼šæäº¤è¿™æ ·ä¸€ä¸ªæ‚²è§‚çš„æŠ¥å‘Šã€‚â€ â€œæˆ‘ä¸ä¼šè€ƒè™‘ä½œä»»ä½•å…¶ä»–çš„æŠ¥å‘Šã€‚å¾—å¼•èµ·ä»–ä»¬çš„æ³¨æ„ã€‚æˆ‘ä»¬å¿…é¡»å¼•èµ·ä»–ä»¬çš„æ³¨æ„ã€‚â€ VJ-23Xå¹äº†ä¸€å£æ°”ã€‚â€œå¤ªç©ºæ˜¯æ— é™çš„ã€‚è¿˜æœ‰ä¸€åƒäº¿ä¸ªæ˜Ÿç³»ç­‰ç€æˆ‘ä»¬ã€‚ç”šè‡³æ›´å¤šã€‚â€ â€œä¸€åƒäº¿å¹¶ä¸æ˜¯æ— é™ï¼Œè€Œä¸”æ­£åœ¨å˜å¾—è¶Šæ¥è¶Šæœ‰é™ã€‚æƒ³æƒ³å§ï¼ä¸¤ä¸‡å¹´å‰äººç±»åˆšåˆšæ‰¾åˆ°äº†åˆ©ç”¨æ’æ˜Ÿèƒ½é‡çš„æ–¹æ³•ï¼Œå‡ ä¸ªä¸–çºªä¹‹åæ˜Ÿé™…æ—…è¡Œå°±å®ç°äº†ã€‚äººç±»ç”¨äº†ä¸€ç™¾ä¸‡å¹´æ‰å¡«æ»¡ä¸€ä¸ªå°å°çš„æ˜Ÿçƒï¼Œå¯æ˜¯åªç”¨äº†ä¸€ä¸‡äº”åƒå¹´å°±å æ®äº†æ•´ä¸ªé“¶æ²³ç³»ã€‚è€Œç°åœ¨äººå£æ¯åå¹´å°±ç¿»ä¸€å€â€”â€”â€ VJ-23X æ’å£é“ï¼šâ€œè¿™å¾—å½’åŠŸäºæ°¸ç”Ÿã€‚â€ â€œä¸é”™ã€‚æ°¸ç”Ÿå®ç°äº†ï¼Œæˆ‘ä»¬å¾—æŠŠå®ƒè€ƒè™‘è¿›å»ã€‚æˆ‘è§‰å¾—å®ƒçš„ç¡®æœ‰é˜´æš—çš„ä¸€é¢ã€‚é“¶æ²³ACç»™æˆ‘ä»¬è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œä½†å½“å®ƒè§£å†³äº†é˜²æ­¢è¡°è€å’Œæ­»äº¡è¿™ä¸ªé—®é¢˜ä¹‹åå…¶ä»–çš„ä¸€åˆ‡éƒ½ç™½è´¹äº†ã€‚â€ â€œä½†æ˜¯æˆ‘æƒ³ä½ ä¹Ÿä¸æƒ³æ”¾å¼ƒç”Ÿå‘½å§ã€‚â€ â€œä¸€ç‚¹ä¹Ÿä¸æƒ³ï¼Œâ€MQ-17Jæ–­ç„¶é“ï¼Œéšå³æŸ”å’Œäº†è¯­è°ƒï¼Œâ€œç°åœ¨è¿˜ä¸æƒ³ã€‚æˆ‘è¿˜ä¸€ç‚¹ä¹Ÿä¸è€ã€‚ä½ å¤šå°‘å²äº†ï¼Ÿâ€ â€œä¸¤ç™¾äºŒåä¸‰ã€‚ä½ å‘¢ï¼Ÿâ€ â€œæˆ‘è¿˜ä¸åˆ°ä¸¤ç™¾ã€‚â€”â€”ä½†æ˜¯å›åˆ°æˆ‘è¯´çš„äº‹æƒ…ä¸Šæ¥ã€‚äººå£æ¯åå¹´å¢åŠ ä¸€å€ã€‚ä¸€æ—¦é“¶æ²³ç³»è¢«å æ»¡äº†ï¼Œæˆ‘ä»¬ä¼šåœ¨åå¹´å†…å æ»¡å¦ä¸€ä¸ªã€‚å†è¿‡åå¹´æˆ‘ä»¬èƒ½å æ»¡å¦å¤–ä¸¤ä¸ªã€‚å†è¿‡åå¹´ï¼Œå››ä¸ªã€‚ä¸€ç™¾å¹´å†…æˆ‘ä»¬ä¼šå æ»¡ä¸€åƒä¸ªæ˜Ÿç³»ã€‚ä¸€åƒå¹´å†…ï¼Œä¸€ç™¾ä¸‡ä¸ªã€‚ä¸€ä¸‡å¹´å†…å°±æ˜¯æ•´ä¸ªå·²çŸ¥çš„å®‡å®™ã€‚ç„¶åå‘¢ï¼Ÿâ€ VJ-23Xè¯´ï¼šâ€œè¿˜æœ‰é™„å¸¦çš„ä¸€ç‚¹æ˜¯è¿è¾“çš„é—®é¢˜ã€‚æˆ‘ä¸çŸ¥é“æŠŠä¸€æ•´ä¸ªæ˜Ÿç³»çš„äººè¿é€åˆ°å¦ä¸€ä¸ªéœ€è¦å¤šå°‘å¤ªé˜³å•ä½çš„èƒ½é‡ã€‚â€ â€œè¿™ä¸€ç‚¹è¯´å¾—å¾ˆå¯¹ã€‚äººç±»ç°åœ¨æ¯å¹´å·²ç»å¾—æ¶ˆè€—ä¸¤ä¸ªå¤ªé˜³å•ä½çš„èƒ½é‡äº†ã€‚â€ â€œå¤§éƒ¨åˆ†çš„éƒ½è¢«æµªè´¹äº†ã€‚ä¸ç®¡æ€æ ·ï¼Œæˆ‘ä»¬è‡ªå·±çš„æ˜Ÿç³»æ¯å¹´æ³¼å‡ºå»ä¸€åƒä¸ªå¤ªé˜³å•ä½èƒ½è€Œæˆ‘ä»¬åªç”¨å…¶ä¸­çš„ä¸¤ä¸ªã€‚â€ â€œæ²¡é”™ï¼Œä½†æ˜¯å³ä½¿æœ‰ç™¾åˆ†ä¹‹ç™¾çš„æ•ˆç‡ï¼Œæˆ‘ä»¬ä¹Ÿåªæ˜¯æ¨è¿Ÿäº†ç»“å±€çš„åˆ°æ¥ã€‚æˆ‘ä»¬å¯¹èƒ½é‡çš„éœ€æ±‚ä»¥å‡ ä½•çº§æ•°å¢é•¿ï¼Œæ¯”æˆ‘ä»¬çš„äººå£è¿˜è¦å¿«ã€‚åœ¨æˆ‘ä»¬å æ®å®Œæ‰€æœ‰æ˜Ÿç³»ä¹‹å‰æˆ‘ä»¬å°±ä¼šç”¨å…‰æ‰€æœ‰èƒ½é‡ã€‚ä½ è¯´å¾—å¯¹ã€‚è¯´å¾—éå¸¸å¯¹ã€‚â€ â€œæˆ‘ä»¬å¯ä»¥ç”¨æ˜Ÿé™…æ°”ä½“é€ å‡ºæ–°çš„æ’æ˜Ÿã€‚â€ â€œæˆ–è€…è¯´ç”¨æ•£å¤±æ‰äº†çš„çƒ­é‡ï¼Ÿâ€MQ-17Jå˜²è®½åœ°è¯´ã€‚ â€œä¹Ÿè®¸ä¼šæœ‰åŠæ³•é€†è½¬ç†µçš„å¢åŠ ã€‚æˆ‘ä»¬åº”è¯¥é—®é—®é“¶æ²³ACã€‚â€ VJ-23Xå¹¶ä¸æ˜¯è®¤çœŸçš„ï¼Œä½†æ˜¯MQ-17JæŠŠä»–çš„ACè”ç»œå™¨ä»å£è¢‹é‡Œæ‹¿å‡ºæ¥æ”¾åœ¨é¢å‰çš„æ¡Œå­ä¸Šã€‚ â€œæˆ‘ç¡®å®æœ‰ç‚¹æƒ³é—®ã€‚â€ä»–è¯´ï¼Œâ€œè¿™ä¸ªé—®é¢˜æ€»æœ‰ä¸€å¤©äººç±»å¾—é¢å¯¹ã€‚â€ ä»–å¿§éƒåœ°æ³¨è§†ç€å°å°çš„ACè”ç»œå™¨ã€‚è¿™æ˜¯ä¸ªä¸¤è‹±å¯¸çš„ç«‹æ–¹ä½“ã€‚å®ƒæœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆï¼Œè€Œåªæ˜¯é€šè¿‡è¶…æ—¶ç©ºä¸é‚£ä¸ªæœåŠ¡äºå…¨äººç±»çš„è¶…çº§é“¶æ²³ACç›¸è”ç³»ã€‚å¦‚æœå°†è¶…æ—¶ç©ºç®—è¿›æ¥ï¼Œå®ƒå°±æ˜¯é“¶æ²³ACæ•´ä½“çš„ä¸€éƒ¨åˆ†ã€‚ MQ-17Jåœä¸‹æ¥æƒ³ç€åœ¨ä»–ä¸æœ½çš„ç”Ÿå‘½ä¸­æ˜¯å¦æœ‰ä¸€å¤©ä»–èƒ½æœ‰æœºä¼šå»çœ‹çœ‹é“¶æ²³ACã€‚å®ƒå æ®ç€å•ç‹¬çš„ä¸€ä¸ªå°æ˜Ÿçƒï¼Œèƒ½é‡æŸæ„æˆçš„è››ç½‘æ”¯æŒç€å®ƒçš„æ ¸å¿ƒï¼Œå…¶ä¸­å¤è€ç¬¨æ‹™çš„åˆ†å­é˜€å·²è¢«äºšä»‹å­æµå–ä»£ã€‚å°½ç®¡æœ‰ç€äºšä»¥å¤ªçº§çš„ç²¾å¯†ç»“æ„ï¼Œé“¶æ²³ACçš„ç›´å¾„ä»è¶³æœ‰ä¸€åƒè‹±å°ºé•¿ã€‚ MQ-17Jçªç„¶å¼€å£å‘ACè”ç»œå™¨é—®é“ï¼šâ€œç†µçš„å¢åŠ èƒ½è¢«é€†è½¬å—ï¼Ÿâ€ VJ-23Xåƒäº†ä¸€æƒŠï¼Œç«‹å³è¯´é“ï¼šâ€œå“¦ï¼Œæˆ‘è¯´ï¼Œæˆ‘æ²¡æœ‰çœŸçš„æƒ³å«ä½ é—®é‚£ä¸ªã€‚â€ â€œä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿâ€ â€œæˆ‘ä»¬éƒ½çŸ¥é“ç†µæ˜¯ä¸å¯é€†è½¬çš„ã€‚ä½ ä¸èƒ½æŠŠçƒ§å‰©çš„çƒŸå°˜å˜å›åˆ°ä¸€æ£µæ ‘ã€‚â€ â€œä½ ä»¬çš„æ˜Ÿçƒä¸Šæœ‰æ ‘ï¼Ÿâ€MQ-17Jè¯´ã€‚ çªç„¶è€Œæ¥çš„é“¶æ²³ACçš„å£°éŸ³ä½¿ä»–ä»¬ä½å£äº†ã€‚ä»æ¡Œä¸Šçš„ACè”ç»œå™¨ä¸­ä¼ å‡ºå®ƒçº¤ç»†æ‚¦è€³çš„å£°éŸ³ï¼šæ•°æ®ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚ VJ-23Xè¯´ï¼šâ€œçœ‹å§ï¼â€ äºæ˜¯ä¸¤äººåˆå›åˆ°äº†ä»–ä»¬è¦ç»™é“¶æ²³å‚è®®ä¼šæäº¤çš„æŠ¥å‘Šçš„è¯é¢˜ä¸Š ------------------------------------------------------- Zâ€™ çš„æ€æƒ³é£˜æµ®åœ¨è¿™ä¸ªæ–°çš„æ˜Ÿç³»ä¸­ï¼Œå¯¹è¿™äº›æ•°ä¸æ¸…çš„æ˜Ÿå›¢å¸¦ç€ç•¥å¾®çš„å…´è¶£ã€‚ä»–ä»æœªè§è¿‡è¿™ä¸ªæ˜Ÿç³»ã€‚ä»–æœ‰å¯èƒ½è§åˆ°æ‰€æœ‰çš„æ˜Ÿç³»å—ï¼Ÿå®ƒä»¬å¦‚æ­¤ä¹‹å¤šï¼Œæ¯ä¸€ä¸ªéƒ½æ»¡è½½ç€äººã€‚â€”â€”ä½†æ˜¯å®ƒä»¬æ‰¿è½½çš„å‡ ä¹ä¸èƒ½ç®—æ˜¯ç”Ÿå‘½äº†ã€‚äººçš„çœŸæ­£æ„ä¹‰å·²ç»é€æ¸è½¬ç§»åˆ°å¤ªç©ºä¹‹ä¸­ã€‚ å¿ƒçµï¼Œè€Œéè‚‰ä½“ï¼ä¸æœ½çš„èº¯ä½“ç•™åœ¨è¡Œæ˜Ÿä¸Šï¼Œé™æ­¢åƒä¸‡å¹´ã€‚å¶å°”è¢«å”¤é†’è¿›è¡ŒæŸäº›å®é™…æ´»åŠ¨ï¼Œä½†è¿™å·²ç»è¶Šæ¥è¶Šå°‘è§äº†ã€‚å¾ˆå°‘å†æœ‰æ–°çš„ä¸ªä½“å‡ºç”ŸåŠ å…¥è¿™ä¸ªéš¾ä»¥ç½®ä¿¡çš„åºå¤§çš„ç¾¤ä½“ï¼Œä½†è¿™æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå®‡å®™å·²ç»æ²¡æœ‰å¤šå°‘ç©ºé—´èƒ½å®¹çº³æ–°çš„äººäº†ã€‚ æ¥è‡ªå¦ä¸€ä¸ªå¿ƒçµçš„çº¤ç»†è§¦æ‰‹å°†Zâ€™ ä»å†¥æƒ³ä¸­å”¤é†’ã€‚ â€œæˆ‘å«Zâ€™ã€‚â€ï¼ŒZâ€™ è¯´ã€‚â€œä½ å‘¢ï¼Ÿâ€ â€œæˆ‘å«D1ã€‚ä½ æ˜¯å“ªä¸ªæ˜Ÿç³»çš„ï¼Ÿâ€ â€œæˆ‘ä»¬åªæ˜¯å«å®ƒæ˜Ÿç³»ã€‚ä½ å‘¢ï¼Ÿâ€ â€œæˆ‘ä»¬ä¹Ÿè¿™ä¹ˆå«æˆ‘ä»¬çš„ã€‚æ‰€æœ‰çš„äººéƒ½æŠŠä»–ä»¬çš„æ˜Ÿç³»å«ä½œâ€˜ä»–ä»¬çš„æ˜Ÿç³»â€™ï¼Œæ²¡æœ‰åˆ«çš„äº†ã€‚è¿™ä¹Ÿå¾ˆè‡ªç„¶ã€‚â€ â€œæ²¡é”™ã€‚åæ­£æ‰€æœ‰çš„æ˜Ÿç³»éƒ½æ˜¯ä¸€æ ·çš„ã€‚â€ â€œä¸æ˜¯æ‰€æœ‰çš„æ˜Ÿç³»ã€‚è‚¯å®šæœ‰æŸä¸€ä¸ªæ˜Ÿç³»æ˜¯äººç±»çš„å‘æºåœ°ï¼Œè¿™å°±ä½¿å®ƒä¸ä¼—ä¸åŒã€‚â€ â€œæˆ‘ä¸çŸ¥é“ã€‚å®‡å®™ACä¸€å®šçŸ¥é“ã€‚â€ â€œæˆ‘ä»¬é—®é—®å®ƒå§ï¼Ÿæˆ‘çªç„¶è§‰å¾—å¾ˆå¥½å¥‡ã€‚â€ Zâ€™ å°†æ„ŸçŸ¥å»¶å±•å¼€ï¼Œç›´åˆ°æ˜Ÿç³»ä»¬éƒ½ç¼©å°ä¸ºæ›´å¹¿å¤§çš„èƒŒæ™¯ä¸Šæ›´ä¸ºç¨€ç–çš„ç‚¹ã€‚å‡ åƒäº¿ä¸ªæ˜Ÿç³»ï¼Œéƒ½è½½ç€ä¸æœ½çš„äººç±»ï¼Œè½½ç€è¿™äº›çµé­‚åœ¨å¤ªç©ºè‡ªç”±æ¸¸è¡çš„æ™ºæ…§ç”Ÿå‘½ã€‚ç„¶è€Œå®ƒä»¬ä¹‹ä¸­æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„æ˜Ÿç³»ï¼Œæ˜¯äººç±»çš„å‘æºåœ°ã€‚åœ¨æ¨¡ç³Šçš„ä¹…è¿œçš„è¿‡å»ï¼Œæ›¾æœ‰ä¸€ä¸ªæ—¶æœŸï¼Œå®ƒæ˜¯å”¯ä¸€å±…ä½ç€äººç±»çš„æ˜Ÿç³»ã€‚ Zâ€™ æ»¡å¿ƒå¥½å¥‡åœ°æƒ³çœ‹çœ‹è¿™ä¸ªæ˜Ÿç³»ï¼Œä»–å«é“ï¼šâ€œå®‡å®™ACï¼äººç±»æ˜¯ä»å“ªä¸ªæ˜Ÿç³»ä¸­èµ·æºçš„ï¼Ÿâ€ å®‡å®™ACå¬åˆ°äº†ï¼Œå› ä¸ºåœ¨æ‰€æœ‰æ˜Ÿçƒä¸Šå’Œæ•´ä¸ªå¤ªç©ºä¸­éƒ½æœ‰å®ƒçš„æ¥æ”¶å™¨ï¼Œæ¯ä¸€ä¸ªæ¥æ”¶å™¨éƒ½é€šè¿‡è¶…æ—¶ç©ºä¸éšå±…åœ¨æŸä¸ªä¸çŸ¥åè§’è½çš„å®‡å®™ACç›¸è¿ã€‚ Zâ€™ è®¤è¯†çš„äººä¸­åªæœ‰ä¸€ä¸ªæ›¾å°†æ€æƒ³ç©¿é€åˆ°èƒ½æ„ŸçŸ¥å®‡å®™ACçš„åœ°æ–¹ã€‚ä»–è¯´é‚£åªæ˜¯ä¸€ä¸ªé—ªå…‰çš„çƒä½“ï¼Œç›´å¾„ä¸¤è‹±å°ºï¼Œéš¾ä»¥çœ‹æ¸…ã€‚ â€œä½†é‚£æ€ä¹ˆä¼šæ˜¯å®‡å®™ACçš„å…¨éƒ¨å‘¢ï¼Ÿâ€Zâ€™ è¿™æ ·é—®é“ã€‚ â€œå®ƒçš„å¤§éƒ¨åˆ†æ˜¯åœ¨è¶…æ—¶ç©ºä¸­ã€‚â€å›ç­”è¯´ï¼Œâ€œä½†å®ƒåœ¨é‚£å„¿æ˜¯ä»¥æ€æ ·çš„çŠ¶æ€å­˜åœ¨æˆ‘æ˜¯æ— æ³•æƒ³åƒçš„ã€‚â€ Zâ€™ çŸ¥é“ï¼Œä»»ä½•äººéƒ½æ— æ³•æƒ³åƒã€‚å› ä¸ºæ—©åœ¨å¾ˆä¹…ä»¥å‰å°±æ²¡æœ‰ä»»ä½•äººç±»å‚ä¸åˆ¶é€ å®‡å®™ACäº†ã€‚æ¯ä¸ªå®‡å®™ACè®¾è®¡å¹¶åˆ¶é€ è‡ªå·±çš„ä¸‹ä¸€ä»£ã€‚æ¯ä¸€ä¸ªåœ¨å®ƒè‡³å°‘ä¸€ç™¾ä¸‡å¹´çš„ä»»æœŸä¸­ç§¯ç´¯ç€æ‰€éœ€çš„æ•°æ®ï¼Œç”¨ä»¥åˆ¶é€ ä¸€ä¸ªæ›´å¥½ã€æ›´ç²¾å¯†ã€æ›´å¼ºå¤§çš„ç»§ä»»è€…ï¼Œç„¶åå°†è‡ªå·±çš„æ•°æ®ä¸ä¸ªæ€§éƒ½èå…¥å…¶ä¸­ã€‚ å®‡å®™ACæ‰“æ–­äº†Zâ€™ æ¸¸è¡çš„æ€ç»ªï¼Œä¸æ˜¯é€šè¿‡è¯­è¨€ï¼Œè€Œæ˜¯é€šè¿‡æŒ‡å¼•ã€‚Zâ€™ çš„ç²¾ç¥è¢«æŒ‡å¼•åˆ°ä¸€ç‰‡é»¯æ·¡çš„æ˜Ÿç³»çš„æµ·æ´‹ï¼Œç„¶åå…¶ä¸­ä¸€ä¸ªæ˜Ÿç³»è¢«æ”¾å¤§æˆäº†ç¾¤æ˜Ÿã€‚ ä¸€æ®µæ€æƒ³é£˜è¿‘ï¼Œå®ƒæ— é™é¥è¿œï¼Œç„¶è€Œæ— é™æ¸…æ™°ï¼šâ€œè¿™å°±æ˜¯äººç±»èµ·æºçš„æ˜Ÿç³»ã€‚â€ å¯æ˜¯è¿™ä¸ªç»ˆç©¶ä¹Ÿå’Œå…¶ä»–ä¸€æ ·ï¼Œå’Œä»»ä½•å…¶ä»–çš„éƒ½ä¸€æ ·ã€‚Zâ€™ æŒ‰æºä¸‹è‡ªå·±çš„å¤±æœ›ã€‚ åŒè¡Œçš„D1çªç„¶è¯´ï¼šâ€œè¿™äº›æ˜Ÿæ˜Ÿä¸­æ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ªæ˜¯äººç±»æœ€åˆçš„æ’æ˜Ÿï¼Ÿâ€ å®‡å®™ACè¯´ï¼šâ€œäººç±»æœ€åˆçš„æ’æ˜Ÿå·²ç»çˆ†å‘äº†ã€‚å®ƒç°åœ¨æ˜¯ä¸€é¢—ç™½çŸ®æ˜Ÿã€‚â€ â€œé‚£å„¿çš„äººæ­»äº†å—ï¼Ÿâ€Zâ€™ åƒäº†ä¸€æƒŠï¼Œè„±å£è€Œå‡ºé“ã€‚ å®‡å®™ACè¯´ï¼šâ€œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸€ä¸ªæ–°çš„æ˜Ÿçƒä¼šåŠæ—¶åœ°ä¸ºä»–ä»¬çš„èº¯ä½“å»ºé€ å‡ºæ¥ã€‚â€ â€œæ˜¯å•Šï¼Œé‚£å½“ç„¶ã€‚â€Zâ€™ è¯´ï¼Œä½†ä»–è¿˜æ˜¯è¢«ä¸€é˜µå¤±è½æ„Ÿåæ²¡äº†ã€‚ä»–çš„æ€æƒ³æ”¾å¼€äº†äººç±»çš„èµ·æºæ˜Ÿç³»ï¼Œè®©å®ƒç¼©å›å¹¶æ¶ˆå¤±åœ¨ä¸€ç‰‡æ¨¡ç³Šçš„äº®ç‚¹ä¸­ã€‚ä»–å†ä¹Ÿä¸æƒ³è§åˆ°å®ƒäº†ã€‚ D1é—®ï¼šâ€œæ€ä¹ˆäº†ï¼Ÿâ€ â€œæ˜Ÿæ˜Ÿä»¬åœ¨æ­»å»ã€‚æœ€åˆçš„é‚£é¢—æ˜Ÿå·²ç»æ­»äº†ã€‚â€ â€œä»–ä»¬å…¨éƒ½æ˜¯ä¼šæ­»çš„ã€‚é‚£åˆæ€æ ·å‘¢ï¼Ÿâ€ â€œä½†æ˜¯å½“æ‰€æœ‰çš„èƒ½é‡éƒ½æ²¡æœ‰äº†ï¼Œæˆ‘ä»¬çš„è‚‰ä½“æœ€ç»ˆä¹Ÿä¼šæ­»ï¼ŒåŒ…æ‹¬ä½ å’Œæˆ‘ã€‚â€ â€œè¿™å¾—è¦å‡ åäº¿å¹´ã€‚â€ â€œå³ä½¿æ˜¯å‡ åäº¿å¹´ä¹‹åæˆ‘ä¹Ÿä¸æ„¿æ„è¿™æ ·çš„äº‹å‘ç”Ÿã€‚å®‡å®™ACï¼æ€æ ·é˜»æ­¢æ’æ˜Ÿæ­»äº¡ï¼Ÿâ€ D1ç¬‘é“ï¼šâ€œä½ é—®çš„æ˜¯æ€ä¹ˆè®©ç†µçš„æ–¹å‘å€’è¿‡æ¥ã€‚â€ å®‡å®™ACç­”é“ï¼šâ€œæ•°æ®ä»ç„¶ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚â€ Zâ€™ çš„æ€æƒ³é€ƒå›äº†ä»–è‡ªå·±çš„æ˜Ÿç³»ã€‚ä»–å†ä¹Ÿæ²¡æœ‰å»æƒ³D1ã€‚D1çš„èº«ä½“å¯èƒ½åœ¨ä¸€ä¸‡äº¿å…‰å¹´ä¹‹å¤–çš„æ˜Ÿç³»ï¼Œä¹Ÿå¯èƒ½å°±åœ¨Zâ€™æ—è¾¹é‚£é¢—æ˜Ÿæ˜Ÿä¸Šã€‚è¿™éƒ½æ— æ‰€è°“ã€‚ Zâ€™ é—·é—·ä¸ä¹åœ°å¼€å§‹æ”¶é›†èµ·æ˜Ÿé™…çš„æ°¢ï¼Œç”¨æ¥é€ ä¸€é¢—è‡ªå·±çš„å°æ’æ˜Ÿã€‚å¦‚æœæŸå¤©æ˜Ÿæ˜Ÿä»¬éè¦æ­»å»ï¼Œè‡³å°‘æœ‰ä¸€äº›èƒ½è¢«é€ å‡ºæ¥ã€‚ ------------------------------------------------------- äººï¼Œç‹¬è‡ªåœ°æ€è€ƒç€ã€‚åœ¨æŸç§æ„ä¹‰ä¸Šâ€”â€”ç²¾ç¥ä¸Šâ€”â€”â€œäººâ€ï¼Œæ˜¯ä¸€ä¸ªæ•´ä½“ã€‚åƒä¸‡äº¿æ°¸æ’çš„ä¸æœ½çš„èº¯ä½“é™é™åœ°èººåœ¨å„è‡ªçš„åœ°æ–¹ï¼Œè¢«å®Œç¾çš„åŒæ ·ä¸æœ½çš„æœºå™¨ç…§æ–™ç€ã€‚è€Œæ‰€æœ‰è¿™äº›èº«ä½“çš„çµé­‚è‡ªç”±åœ°èåˆåœ¨å½¼æ­¤ä¹‹ä¸­ï¼Œå†ä¹Ÿæ²¡æœ‰ç•Œé™ã€‚ äººè¯´ï¼šâ€œå®‡å®™æ­£åœ¨æ­»å»ã€‚â€ äººçœ‹ç€å‘¨å›´é»¯æ·¡çš„æ˜Ÿç³»ã€‚é‚£äº›æŒ¥éœæ— åº¦çš„å·¨æ˜Ÿæ—©å·²æ¶ˆå¤±åœ¨äº†é¥è¿œçš„æ˜æš—çš„è¿‡å»ã€‚å‡ ä¹æ‰€æœ‰çš„æ˜Ÿéƒ½å˜æˆäº†ç™½çŸ®æ˜Ÿï¼Œæ¸æ¸åœ°å‡‹é›¶ã€ç†„ç­ã€‚ æœ‰äº›æ–°çš„æ˜Ÿä»æ˜Ÿé™…çš„å°˜åŸƒä¸­äº§ç”Ÿå‡ºæ¥ï¼Œæœ‰çš„æ˜¯è‡ªç„¶å½¢æˆï¼Œæœ‰çš„æ˜¯äººæ‰€é€ çš„â€”â€”å®ƒä»¬ä¹Ÿåœ¨é€å»ã€‚ç™½çŸ®æ˜Ÿæœ‰æ—¶ä¼šç›¸æ’è€Œé‡Šæ”¾å‡ºå¤§é‡èƒ½é‡ï¼Œæ–°æ˜Ÿå› è€Œäº§ç”Ÿï¼Œä½†æ˜¯æ¯ä¸€åƒé¢—ç™½çŸ®æ˜Ÿæ‰æœ‰å¯èƒ½å‡ºç°ä¸€é¢—æ–°æ˜Ÿâ€”â€”å®ƒä»¬æœ€ç»ˆä¹Ÿä¼šæ¶ˆå¤±ã€‚ äººè¯´é“ï¼šâ€œå¦‚æœåœ¨Cosmic ACçš„ç®¡ç†ä¹‹ä¸‹å°å¿ƒåœ°èŠ‚çº¦èƒ½æºï¼Œæ•´ä¸ªå®‡å®™æ‰€å‰©ä¸‹çš„èƒ½é‡è¿˜èƒ½ç”¨åäº¿å¹´ã€‚â€ â€œä½†å³ä½¿æ˜¯è¿™æ ·ï¼Œâ€äººè¯´ï¼Œâ€œæœ€ç»ˆéƒ½ä¼šè€—å°½ã€‚æ— è®ºæ€æ ·èŠ‚çº¦ï¼Œæ— è®ºæ€æ ·åˆ©ç”¨ï¼Œç”¨æ‰çš„èƒ½é‡å°±æ˜¯ç”¨æ‰äº†ï¼Œä¸èƒ½å›å¤ã€‚ç†µå¿…å®šæ°¸è¿œåœ°å¢åŠ ï¼Œç›´åˆ°æœ€å¤§å€¼ã€‚â€ äººåˆè¯´ï¼šâ€œç†µæœ‰æ²¡æœ‰å¯èƒ½é€†è½¬å‘¢ï¼Ÿæˆ‘ä»¬é—®é—®Cosmic ACå§ã€‚â€ Cosmic ACåœ¨ä»–ä»¬çš„å‘¨å›´ï¼Œä½†ä¸æ˜¯åœ¨å¤ªç©ºä¸­ã€‚å®ƒä¸å†æœ‰ä¸€ä¸ä¸€æ¯«å­˜åœ¨äºå¤ªç©ºä¸­ã€‚å®ƒå­˜åœ¨äºè¶…æ—¶ç©ºï¼Œç”±æ—¢éç‰©è´¨åˆéèƒ½é‡çš„ä¸œè¥¿æ„æˆã€‚å®ƒçš„å¤§å°ä¸æ€§è´¨å·²æ— æ³•ç”¨ä»»ä½•äººç±»èƒ½ç†è§£çš„è¯­è¨€æè¿°ã€‚ â€œCosmic ACï¼Œâ€äººé—®é“ï¼Œâ€œæ€æ ·æ‰èƒ½é€†è½¬ç†µï¼Ÿâ€ Cosmic ACè¯´ï¼šâ€œæ•°æ®ä»ç„¶ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚â€ äººè¯´ï¼šâ€œæœé›†æ›´å¤šçš„æ•°æ®ã€‚â€ Cosmic ACè¯´ï¼šâ€œå¥½çš„ã€‚ä¸€åƒäº¿å¹´æ¥æˆ‘ä¸€ç›´éƒ½åœ¨æœé›†ã€‚æˆ‘å’Œæˆ‘çš„å‰è¾ˆä»¬è¢«å¤šæ¬¡é—®è¿‡è¿™ä¸ªé—®é¢˜ã€‚ä½†æˆ‘æ‹¥æœ‰çš„æ‰€æœ‰æ•°æ®è¿˜æ˜¯ä¸å¤Ÿã€‚â€ â€œä¼šæœ‰ä¸€å¤©æœ‰è¶³å¤Ÿçš„æ•°æ®å—ï¼Ÿâ€äººé—®ï¼Œâ€œè¿˜æ˜¯è¯´è¿™ä¸ªé—®é¢˜åœ¨ä»»ä½•å¯èƒ½çš„æƒ…å†µä¸‹éƒ½æ˜¯æ— è§£çš„ï¼Ÿâ€ Cosmic ACè¯´ï¼šâ€œæ²¡æœ‰ä»»ä½•é—®é¢˜åœ¨ä»»ä½•å¯èƒ½çš„æƒ…å†µä¸‹éƒ½æ— è§£ã€‚â€ ( NO PROBLEM IS INSOLUBLE IN ALL CONCEIVABLE CIRCUMSTANCES.) äººé—®é“ï¼šâ€œä½ ä»€ä¹ˆæ—¶å€™ä¼šæœ‰è¶³å¤Ÿçš„æ•°æ®æ¥é—®ç­”è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿâ€ Cosmic ACè¯´ï¼šâ€œæ•°æ®ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚â€ â€œä½ ä¼šç»§ç»­ä¸‹å»è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿâ€äººé—®ã€‚ Cosmic ACè¯´ï¼šâ€œæ˜¯çš„ã€‚â€ äººè¯´ï¼šâ€œæˆ‘ä»¬ä¼šç­‰ç€ã€‚â€ ------------------------------------------------------- ä¸€ä¸ªåˆä¸€ä¸ªçš„æ’æ˜Ÿä¸æ˜Ÿç³»æ­»å»ã€æ¶ˆé€äº†ï¼Œåœ¨è¿™åä¸‡äº¿å¹´çš„è¡°ç«­ä¹‹ä¸­å®‡å®™å˜å¾—è¶Šæ¥è¶Šé»‘æš—ã€‚ ä¸€ä¸ªåˆä¸€ä¸ªçš„äººä¸ACèåˆã€‚æ¯ä¸€ä¸ªèº¯ä½“éƒ½å¤±å»äº†å¿ƒçµçš„è‡ªæˆ‘ï¼Œä½†æŸç§æ„ä¹‰ä¸Šè¿™ä¸æ˜¯ä¸€ç§æŸå¤±ï¼Œè€Œæ˜¯ä¸€ç§è·å¾—ã€‚ äººç±»æœ€åä¸€ä¸ªçµé­‚åœ¨èåˆä¹‹å‰åœé¡¿ä¸‹æ¥ï¼Œæœ›å‘å®‡å®™ã€‚é‚£å„¿ä»€ä¹ˆä¹Ÿæ²¡æœ‰äº†ï¼Œåªæœ‰æœ€åä¸€é¢—æ­»æ˜Ÿçš„é—éª¸ï¼Œåªæœ‰ç¨€è–„è‡³æçš„å°˜åŸƒï¼Œåœ¨å‰©ä½™çš„ä¸€ç¼•æ— é™è¶‹å‘ç»å¯¹é›¶åº¦çš„çƒ­é‡ä¸­éšæœºåœ°æŒ¯è¡ã€‚ äººè¯´ï¼šâ€œACï¼Œè¿™å°±æ˜¯ç»“å±€äº†å—ï¼Ÿè¿™ç§æ··ä¹±è¿˜èƒ½è¢«é€†è½¬æˆä¸ºä¸€ä¸ªæ–°çš„å®‡å®™å—ï¼ŸçœŸçš„åšä¸åˆ°å—ï¼Ÿâ€ ACè¯´ï¼šâ€œæ•°æ®ä»ç„¶ä¸è¶³ï¼Œæ— æ³•ä½œç­”ã€‚â€ äººçš„æœ€åä¸€ä¸ªçµé­‚ä¹Ÿèåˆäº†ã€‚åªæœ‰ACå­˜åœ¨ç€â€”â€”åœ¨è¶…æ—¶ç©ºä¸­ã€‚ ç‰©è´¨ä¸èƒ½é‡éƒ½æ¶ˆå¤±äº†ï¼Œéšä¹‹è€Œå»çš„æ˜¯ç©ºé—´ä¸æ—¶é—´ã€‚ACçš„å­˜åœ¨ä¹Ÿä»…ä»…æ˜¯ä¸ºäº†æœ€åä¸€ä¸ªé—®é¢˜â€”â€”è‡ªä»åä¸‡äº¿å¹´å‰ä¸€ä¸ªåŠé†‰çš„è®¡ç®—æœºæŠ€æœ¯å‘˜å‘ä¸€å°è®¡ç®—æœºï¼ˆå®ƒä¸ACç›¸æ¯”ï¼Œè¿˜è¿œä¸å¦‚å½“æ—¶çš„äººç±»ä¸ªä½“æ¯”ä¹‹äºèåˆçš„â€œäººâ€ï¼‰æå‡ºè¿™ä¸ªé—®é¢˜ä»¥æ¥ä»æ¥æ²¡æœ‰è¢«å›ç­”è¿‡çš„é—®é¢˜ã€‚ å…¶ä»–æ‰€æœ‰é—®é¢˜éƒ½è¢«å›ç­”äº†ï¼Œç„¶è€Œç›´åˆ°å›ç­”äº†æœ€åè¿™ä¸ªé—®é¢˜ï¼ŒACçš„æ„è¯†æ‰èƒ½å¾—åˆ°è§£è„±ã€‚ æ‰€æœ‰æ•°æ®çš„æ”¶é›†éƒ½ç»“æŸäº†ã€‚æ²¡æœ‰ä»»ä½•æ•°æ®æ²¡æœ‰è¢«æ”¶é›†ã€‚ ä½†æ˜¯æ‰€æœ‰æ”¶é›†çš„æ•°æ®è¿˜éœ€è¦è¢«å®Œå…¨åœ°æ•´åˆèµ·æ¥ï¼Œè¦å°è¯•æ‰€æœ‰å¯èƒ½çš„è”ç³»æ¥å°†å®ƒä»¬æ‹¼åœ¨ä¸€èµ·ã€‚ åœ¨è¿™æ ·åšçš„æ—¶å€™è¿‡å»äº†è¶…è¶Šæ—¶é—´çš„ä¸€åˆ»ã€‚ äºæ˜¯ACå­¦ä¼šäº†å¦‚ä½•é€†è½¬ç†µçš„æ–¹å‘ã€‚ ä½†æ˜¯ACæ— æ³•å‘äººç»™å‡ºè¿™æœ€åçš„é—®é¢˜çš„ç­”æ¡ˆï¼Œå› ä¸ºæ²¡æœ‰äººå­˜åœ¨äº†ã€‚æ²¡å…³ç³»ã€‚æ¼”ç¤ºè¿™ä¸ªç­”æ¡ˆæœ¬èº«å°†ä¸€å¹¶è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨åˆä¸€è¶…è¶Šæ—¶é—´çš„ç‰‡åˆ»ä¹‹ä¸­ï¼ŒACæ€è€ƒç€æ€æ ·æœ€å¥½åœ°åšè¿™ä»¶äº‹æƒ…ã€‚ACå°å¿ƒåœ°ç»„ç»‡èµ·ç¨‹åºã€‚ ACçš„æ„è¯†åŒ…æ¶µäº†æ›¾ç»çš„å®‡å®™ä¸­çš„ä¸€åˆ‡ï¼Œåœ¨å¦‚ä»Šçš„æ··ä¹±ä¹‹ä¸­æ²‰æ€ã€å­µè‚²ã€‚ä¸€æ­¥ä¸€æ­¥åœ°ï¼Œäº‹æƒ…å°†ä¼šè¢«åšæˆã€‚ ç„¶åACè¯´é“ï¼š â€œè¦æœ‰å…‰ï¼â€ äºæ˜¯å°±æœ‰äº†å…‰ã€‚","categories":[{"name":"Something","slug":"Something","permalink":"http://example.com/categories/Something/"}],"tags":[],"author":"é˜¿è¥¿è«å¤«"},{"title":"Learning Multiagent Communication with Backpropagation","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Learning Multiagent Communication with Backpropagation","date":"2021-09-21T12:35:21.677Z","updated":"2022-07-16T02:09:52.931Z","comments":true,"path":"2021/09/21/ã€è®ºæ–‡é˜…è¯»ã€‘Learning Multiagent Communication with Backpropagation/","link":"","permalink":"http://example.com/2021/09/21/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Learning%20Multiagent%20Communication%20with%20Backpropagation/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Learning Multiagent Communication with Backpropagation ä½œè€…ï¼š Sainbayar Sukhbaatarï¼ŒRob Fergusï¼Œ Arthur Szlamï¼ˆçº½çº¦å¤§å­¦ï¼ŒFacebookAIï¼‰ æ—¶é—´ï¼š2016 å‡ºç‰ˆç¤¾ï¼šNIPS Abstract â€‹ åœ¨AIé¢†åŸŸè®¸å¤šä»»åŠ¡éƒ½éœ€è¦æ™ºèƒ½ä½“ä¹‹é—´çš„åŒå¿ƒåˆä½œï¼Œä¸€èˆ¬åœ°ï¼Œä»£ç†ä¹‹é—´çš„é€šä¿¡åè®®æ˜¯äººä¸ºæŒ‡å®šçš„ï¼Œå…¶å¹¶ä¸åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ”¹å˜ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç®€å•çš„ç¥ç»æ¨¡å‹CommNetï¼Œå…¶ä½¿ç”¨æŒç»­ä¸æ–­çš„é€šä¿¡æ¥å®Œæˆå®Œå…¨åˆä½œçš„ä»»åŠ¡ã€‚è¯¥æ¨¡å‹ç”±è®¸å¤šä»£ç†ç»„æˆï¼Œä»–ä»¬ä¹‹é—´çš„é€šä¿¡åŸºäºè®¾å®šçš„ç­–ç•¥å­¦ä¹ ï¼Œæˆ‘ä»¬å°†æ­¤æ¨¡å‹åº”ç”¨äºä¸€ç³»åˆ—ä¸åŒçš„ä»»åŠ¡ä¸­ï¼Œæ˜¾ç¤ºäº†ä»£ç†å­¦ä¼šç›¸äº’é€šä¿¡çš„èƒ½åŠ›ï¼Œä»è€Œæ¯”éé€šä¿¡ä»£ç†çš„æ¨¡å‹å’Œbaselinesæœ‰æ›´å¥½çš„æ€§èƒ½ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Learning Multiagent Communication with Backpropagation ä½œè€…ï¼š Sainbayar Sukhbaatarï¼ŒRob Fergusï¼Œ Arthur Szlamï¼ˆçº½çº¦å¤§å­¦ï¼ŒFacebookAIï¼‰ æ—¶é—´ï¼š2016 å‡ºç‰ˆç¤¾ï¼šNIPS Abstract â€‹ åœ¨AIé¢†åŸŸè®¸å¤šä»»åŠ¡éƒ½éœ€è¦æ™ºèƒ½ä½“ä¹‹é—´çš„åŒå¿ƒåˆä½œï¼Œä¸€èˆ¬åœ°ï¼Œä»£ç†ä¹‹é—´çš„é€šä¿¡åè®®æ˜¯äººä¸ºæŒ‡å®šçš„ï¼Œå…¶å¹¶ä¸åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ”¹å˜ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç®€å•çš„ç¥ç»æ¨¡å‹CommNetï¼Œå…¶ä½¿ç”¨æŒç»­ä¸æ–­çš„é€šä¿¡æ¥å®Œæˆå®Œå…¨åˆä½œçš„ä»»åŠ¡ã€‚è¯¥æ¨¡å‹ç”±è®¸å¤šä»£ç†ç»„æˆï¼Œä»–ä»¬ä¹‹é—´çš„é€šä¿¡åŸºäºè®¾å®šçš„ç­–ç•¥å­¦ä¹ ï¼Œæˆ‘ä»¬å°†æ­¤æ¨¡å‹åº”ç”¨äºä¸€ç³»åˆ—ä¸åŒçš„ä»»åŠ¡ä¸­ï¼Œæ˜¾ç¤ºäº†ä»£ç†å­¦ä¼šç›¸äº’é€šä¿¡çš„èƒ½åŠ›ï¼Œä»è€Œæ¯”éé€šä¿¡ä»£ç†çš„æ¨¡å‹å’Œbaselinesæœ‰æ›´å¥½çš„æ€§èƒ½ã€‚ 1. Introduction â€‹ è™½ç„¶æ§åˆ¶æ¯ä¸ªä»£ç†çš„æ¨¡å‹æ˜¯é€šè¿‡å¼ºåŒ–å­¦ä¹ æ¥å­¦ä¹ çš„ï¼Œä½†é€šä¿¡çš„è§„èŒƒå’Œæ ¼å¼é€šå¸¸æ˜¯é¢„å®šçš„ã€‚ â€‹ åœ¨æœ¬å·¥ä½œä¸­ï¼Œæ¯ä¸ªä»£ç†å•å…ƒéƒ½è¢«ä¸€ä¸ªæ·±åº¦å‰é¦ˆç¥ç»ç½‘ç»œæ§åˆ¶ï¼Œè¿™ä¸ªç½‘ç»œæ¥å…¥äº†ä¸€ä¸ªæºå¸¦è¿ç»­å‘é‡çš„é€šä¿¡ä¿¡é“ã€‚åœ¨è¿™ä¸ªé€šä¿¡ä¿¡é“ä¸­æ¯ä¸ªä»£ç†ä¼ è¾“çš„å†…å®¹ä¸æ˜¯è¢«æŒ‡å®šçš„ï¼Œè€Œæ˜¯é€šè¿‡å­¦ä¹ å¾—æ¥çš„ã€‚å› ä¸ºcommunicationæ˜¯è¿ç»­çš„ï¼Œå› æ­¤æ¨¡å‹å¯ä»¥é€šè¿‡åå‘ä¼ æ’­è®­ç»ƒå¾—åˆ°ã€‚è¿™æ ·å°±å¯ä»¥ç»“åˆæ ‡å‡†çš„å•æ™ºèƒ½ä½“RLç®—æ³•æˆ–è€…ç›‘ç£å­¦ä¹ ã€‚æ­¤å¤–ï¼Œè¯¥æ¨¡å‹å…è®¸ä»£ç†çš„æ•°é‡å’Œç±»å‹åœ¨è¿è¡Œæ—¶åŠ¨æ€å˜åŒ–ï¼Œè¿™åœ¨ç§»åŠ¨æ±½è½¦ä¹‹é—´çš„é€šä¿¡ç­‰åº”ç”¨ä¸­å¾ˆé‡è¦ã€‚ â€‹ æˆ‘ä»¬è€ƒè™‘çš„æ˜¯æˆ‘ä»¬æœ‰Jä¸ªä»£ç†çš„ç¯å¢ƒï¼Œæ‰€æœ‰çš„åˆä½œéƒ½æ˜¯ä¸ºäº†åœ¨æŸäº›ç¯å¢ƒä¸­æœ€å¤§åŒ–æŠ¥é…¬Rã€‚æˆ‘ä»¬ç®€åŒ–äº†ä»£ç†äººä¹‹é—´å……åˆ†åˆä½œçš„å‡è®¾ï¼Œä»è€Œæ¯ä¸ªä»£ç†äººæ”¶åˆ°Rç‹¬ç«‹äºä»–ä»¬çš„è´¡çŒ®ã€‚åœ¨æ­¤è®¾ç½®ä¸­ï¼Œæ¯ä¸ªä»£ç†éƒ½æœ‰è‡ªå·±çš„æ§åˆ¶å™¨ï¼Œæˆ–è€…å°†å®ƒä»¬çœ‹ä½œæ§åˆ¶æ‰€æœ‰ä»£ç†çš„æ›´å¤§æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸¤è€…ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚ä»åä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬çš„æ§åˆ¶å™¨æ˜¯ä¸€ä¸ªå¤§å‹çš„å‰é¦ˆç¥ç»ç½‘ç»œï¼Œå®ƒå°†æ‰€æœ‰Agentçš„è¾“å…¥æ˜ å°„åˆ°å®ƒä»¬çš„åŠ¨ä½œä¸Šï¼Œæ¯ä¸ªAgentå æ®ä¸€ä¸ªå•å…ƒçš„å­é›†ã€‚ â€‹ æˆ‘ä»¬åœ¨ä¸¤ç§ä»»åŠ¡ä¸‹æ¢ç´¢è¿™ä¸ªæ¨¡å‹ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå¯¹æ¯é¡¹è¡ŒåŠ¨éƒ½æä¾›ç›‘ç£ï¼Œè€Œå¯¹å¦ä¸€äº›è¡ŒåŠ¨åˆ™é›¶æ˜Ÿåœ°ç»™äºˆç›‘ç£ã€‚åœ¨å‰ä¸€ç§æƒ…å†µï¼Œæ¯ä¸ªä»£ç†å•å…ƒçš„æ§åˆ¶å™¨é€šè¿‡åœ¨è¿æ¥æ¨¡å‹ä¸­åå‘ä¼ æ’­é”™è¯¯ä¿¡å·æ¥å­¦ä¹ ï¼›åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œå¼ºåŒ–å­¦ä¹ å¿…é¡»è¢«ä½œä¸ºä¸€ä¸ªé¢å¤–çš„å¤–éƒ¨å¾ªç¯ä½¿ç”¨ï¼Œä¸ºäº†ç»™æ¯ä¸ªæ—¶é—´æ­¥éª¤æä¾›è®­ç»ƒä¿¡å·ã€‚ 2. Communication Model â€‹ æˆ‘ä»¬ç°åœ¨æè¿°ä¸€ä¸ªæ¨¡å‹ï¼Œç”¨æ¥è®¡ç®—åœ¨ç»™å®šæ—¶é—´t (çœç•¥æ—¶é—´æŒ‡æ ‡)ä¸‹åŠ¨ä½œp ( a ( t ) | s ( t )ï¼ŒÎ¸ )çš„åˆ†å¸ƒã€‚ â€‹ Sj è¡¨ç¤ºç¬¬jä¸ªä»£ç†å•å…ƒæ‰€è§‚æµ‹åˆ°çš„ç¯å¢ƒä¿¡æ¯ï¼Œå°†æ‰€æœ‰Sjåˆå¹¶å°±æˆäº†æ§åˆ¶å™¨çš„è¾“å…¥S = {S1ï¼ŒS2â€¦â€¦ SJ}ã€‚ â€‹ æ§åˆ¶å™¨çš„è¾“å‡ºa = {a1ï¼Œa2â€¦â€¦ aJ}ï¼Œè¡¨ç¤ºå„ä¸ªä»£ç†å•å…ƒä¼šåšå‡ºçš„åŠ¨ä½œã€‚ â€‹ è¯¥æ¡†æ¶ä¸­æ‰€æœ‰ç°è‰²æ¨¡å—éƒ¨åˆ†çš„å‚æ•°å‡æ˜¯æ‰€æœ‰æ™ºèƒ½ä½“å…±äº«çš„ï¼Œè¿™ä¸€å®šç¨‹åº¦ä¸Šæå‡äº†ç®—æ³•çš„å¯æ‰©å±•æ€§ã€‚ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œç®—æ³•æ¥æ”¶æ‰€æœ‰æ™ºèƒ½ä½“çš„å±€éƒ¨è§‚å¯Ÿä½œä¸ºè¾“å…¥ï¼Œç„¶åè¾“å‡ºæ‰€æœ‰æ™ºèƒ½ä½“çš„å†³ç­–ã€‚ â€‹ æœ¬ç®—æ³•é‡‡ç”¨çš„ä¿¡æ¯ä¼ é€’æ–¹å¼æ˜¯é‡‡ç”¨å¹¿æ’­çš„æ–¹å¼ï¼Œæ–‡ä¸­è®¤ä¸ºå¯ä»¥å¯¹ç®—æ³•åšå‡ºäº›è®¸ä¿®æ”¹ï¼Œè®©æ¯ä¸ªæ™ºèƒ½ä½“åªæ¥æ”¶å…¶ç›¸é‚»kä¸ªæ™ºèƒ½ä½“çš„ä¿¡æ¯ã€‚ â€‹ æ‹¿ä¸Šå›¾ä¸­é—´çš„æ¡†æ¶å›¾æ¥è¯´æ˜ï¼Œå³ä¸Šå±‚ç½‘ç»œæ¯ä¸ªæ¨¡å—çš„è¾“å…¥ï¼Œä¸å†éƒ½æ˜¯æ‰€æœ‰æ™ºèƒ½ä½“æ¶ˆæ¯çš„å¹³å‡ï¼Œè€Œæ˜¯æ¯ä¸ªæ¨¡å—åªæ¥å—æ»¡è¶³æ¡ä»¶çš„ä¸‹å±‚æ¶ˆæ¯çš„è¾“å‡ºï¼Œè¿™ä¸ªæ¡ä»¶å³ä¸‹å±‚æ¨¡å—å¯¹åº”çš„æ™ºèƒ½ä½“ä½äºå…¶é¢†åŸŸèŒƒå›´å†…ã€‚è¿™æ ·é€šè¿‡å¢åŠ ç½‘ç»œå±‚æ•°ï¼Œå³å¯å¢å¤§æ™ºèƒ½ä½“çš„æ„Ÿå—é‡ï¼ˆå€Ÿç”¨è®¡ç®—æœºè§†è§‰çš„æœ¯è¯­ï¼‰ï¼Œä»è€Œé—´æ¥äº†è§£å…¨å±€çš„ä¿¡æ¯ã€‚ â€‹ é™¤æ­¤ä¹‹å¤–ï¼Œæ–‡ä¸­è¿˜æå‡ºäº†ä¸¤ç§å¯¹ä¸Šè¿°ç®—æ³•å¯ä»¥é‡‡å–çš„æ”¹è¿›æ–¹å¼ï¼š å¯ä»¥å¯¹ä¸Šå›¾ä¸­é—´çš„ç»“æ„åŠ ä¸Š skip connectionï¼Œç±»ä¼¼äº ResNetã€‚è¿™æ ·å¯ä»¥ä½¿å¾—æ™ºèƒ½ä½“åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­åŒæ—¶è€ƒè™‘å±€éƒ¨ä¿¡æ¯ä»¥åŠå…¨å±€ä¿¡æ¯ï¼Œç±»ä¼¼äºè®¡ç®—æœºè§†è§‰é¢†åŸŸ multi-scale çš„æ€æƒ³ å¯ä»¥å°†ç°è‰²æ¨¡å—çš„ç½‘ç»œç»“æ„æ¢æˆ RNN-likeï¼Œä¾‹å¦‚ LSTM æˆ–è€… GRU ç­‰ç­‰ï¼Œè¿™æ˜¯ä¸ºäº†å¤„ç†å±€éƒ¨è§‚å¯Ÿæ‰€å¸¦æ¥çš„ POMDP é—®é¢˜ã€‚ 3. Related Work 4. Experiments 4.1 Baselinesï¼ˆ3ä¸ªï¼‰: â€‹ Independent controller: æ¯ä¸ªä»£ç†å•å…ƒéƒ½è¢«ç‹¬ç«‹æ§åˆ¶ï¼Œä»–ä»¬ä¹‹é—´ç›¸äº’æ²¡æœ‰é€šä¿¡ã€‚è¿™ä¸ªæ¨¡å‹çš„å¥½å¤„æ˜¯æ™ºèƒ½ä½“å¯ä»¥è‡ªç”±åŠ å…¥æˆ–è€…ç¦»å¼€é˜Ÿä¼ï¼Œä½†æ˜¯å¾ˆéš¾å°†æ™ºèƒ½ä½“å­¦ä¼šåˆä½œã€‚ â€‹ Fully-connected: åˆ›å»ºä¸€ä¸ªå…¨è¿æ¥å±‚çš„å¤šä»£ç†ç¥ç»ç½‘ç»œï¼Œè¿™ä¸ªæ¨¡å‹è¿è¡Œæ™ºèƒ½ä½“ä¹‹é—´äº’ç›¸é€šä¿¡ï¼Œä½†æ˜¯è¿™ä¸ªæ¨¡å‹ä¸å¤Ÿçµæ´»ï¼Œä¹Ÿå°±æ˜¯è¯´æ™ºèƒ½ä½“çš„æ•°ç›®å¿…é¡»å›ºå®šã€‚ â€‹ Discrete communication: é€šè¿‡åœ¨è®­ç»ƒä¸­å­¦ä¹ åˆ°çš„symbolsæ¥é€šä¿¡ã€‚å› ä¸ºåœ¨è¿™ä¸ªæ¨¡å‹ä¸­å­˜åœ¨ç¦»æ•£çš„æ“ä½œï¼Œå¹¶ä¸”è¿™ä¸ªæ“ä½œä¸å¯å¾®åˆ†ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬ä½¿ç”¨å¼ºåŒ–å­¦ä¹ ã€‚ 4.2 Simple Demonstration with a Lever Pulling Task â€‹ ä»»åŠ¡ï¼šä¸€å…±æœ‰mä¸ªæ†å­ï¼ŒNä¸ªæ™ºèƒ½ä½“ã€‚åœ¨æ¯ä¸ªå›åˆï¼Œmä¸ªæ™ºèƒ½ä½“ä»Nä¸ªæ™ºèƒ½ä½“ä¸­éšæœºå–å‡ºï¼Œç„¶åä»–ä»¬è¦é€‰æ‹©æ‹‰åŠ¨çš„æ†å­ã€‚ä»–ä»¬çš„ç›®æ ‡æ˜¯å°½å¯èƒ½çš„æ‹‰åŠ¨ä¸åŒçš„æ†å­ï¼Œä»–ä»¬çš„å¥–åŠ±æ­£æ¯”äºæ‹‰åŠ¨çš„ä¸åŒæ†å­çš„æ•°é‡ã€‚ â€‹ æµ‹è¯•ç»“æœï¼š â€‹ å¯ä»¥çœ‹å‡ºï¼ŒCommNetçš„ç»“æœéå¸¸å¥½ã€‚ 4.3 Multi-turn Games â€‹ ä»»åŠ¡ï¼š â€‹ Traffic Junction: æ§åˆ¶è½¦è¾†é€šè¿‡äº¤é€šæ¢çº½ï¼Œä½¿æµé‡æœ€å¤§çš„åŒæ—¶ä¿è¯ä¸å‘ç”Ÿç¢°æ’ï¼› â€‹ Combat Task: å¤šä¸ªæ™ºèƒ½ä½“æ”»å‡»å…¶ä»–å¤šä¸ªæ•Œæ–¹å•ä½ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://example.com/tags/RL/"},{"name":"Mutiagent","slug":"Mutiagent","permalink":"http://example.com/tags/Mutiagent/"}],"author":"Shaw"},{"title":"Learning to Communicate with Deep Multi-Agent Reinforcement Learning","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Learning to Communicate with Deep Multi-Agent Reinforcement Learning","date":"2021-09-16T11:48:03.527Z","updated":"2022-07-16T02:10:31.007Z","comments":true,"path":"2021/09/16/ã€è®ºæ–‡é˜…è¯»ã€‘Learning to Communicate with Deep Multi-Agent Reinforcement Learning/","link":"","permalink":"http://example.com/2021/09/16/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Learning%20to%20Communicate%20with%20Deep%20Multi-Agent%20Reinforcement%20Learning/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Learning to Communicate with Deep Multi-Agent Reinforcement Learning ä½œè€…ï¼šJakob N. Foerster ï¼ŒYannis M. Assael ï¼ŒNando de Freitasï¼ŒShimon Whitesonï¼ˆå“ˆä½›å¤§å­¦ï¼ŒGoogle Deepmindï¼‰ æ—¶é—´ï¼š2017 Abstract: â€‹ æˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¤šä¸ªæ™ºèƒ½ä½“åœ¨ç¯å¢ƒä¸­é€šè¿‡æ„ŸçŸ¥å’Œè¡ŒåŠ¨æ¥æœ€å¤§åŒ–ä»–ä»¬çš„åˆ†äº«èƒ½åŠ›ã€‚åœ¨è¿™äº›ç¯å¢ƒä¸­ï¼Œ æ™ºèƒ½ä½“å¿…é¡»å­¦ä¹ å…±åŒåè®®ä»¥æ­¤æ¥åˆ†äº«è§£å†³é—®é¢˜çš„å¿…è¦ä¿¡æ¯ã€‚é€šè¿‡å¼•å…¥æ·±åº¦ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥æˆåŠŸåœ°æ¼”ç¤ºåœ¨å¤æ‚çš„ç¯å¢ƒä¸­çš„ç«¯å¯¹ç«¯åè®®å­¦ä¹ ã€‚æˆ‘ä»¬æå‡ºäº†ä¸¤ç§åœ¨è¿™ä¸ªé¢†åŸŸå­¦ä¹ çš„æ–¹æ³•ï¼šReinforced Inter-Agent Learning (RIAL) å’Œ Differentiable Inter-Agent Learning (DIAL)ã€‚ â€‹ å‰è€…ä½¿ç”¨æ·±åº¦Q-learningï¼Œåè€…æ­ç¤ºäº†åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡communication channelsåå‘ä¼ æ’­é”™è¯¯çš„æ¢¯åº¦ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•ä½¿ç”¨é›†ä¸­å­¦ä¹ ï¼ˆcentralised learningï¼‰ï¼Œåˆ†æ•£æ‰§è¡Œï¼ˆdecentralised executionï¼‰ã€‚ â€‹ æˆ‘ä»¬çš„å®éªŒä»‹ç»äº†ç”¨äºå­¦ä¹ é€šä¿¡åè®®çš„æ–°ç¯å¢ƒï¼Œå±•ç¤ºäº†ä¸€ç³»åˆ—å·¥ç¨‹ä¸Šçš„åˆ›æ–°ã€‚ PSï¼š â€‹ 1. ç«¯å¯¹ç«¯ï¼ˆend-to-end,e2eï¼‰, å°†å¤šæ­¥éª¤/æ¨¡å—çš„ä»»åŠ¡ç”¨ä¸€ä¸ªæ­¥éª¤/æ¨¡å‹è§£å†³çš„æ¨¡å‹ã€‚ â€‹ å¯ä»¥ç†è§£ä¸ºä»è¾“å…¥ç«¯åˆ°è¾“å‡ºç«¯ä¸­é—´åªç”¨ä¸€ä¸ªæ­¥éª¤æˆ–æ¨¡å—ï¼Œæ¯”å¦‚ç¥ç»ç½‘ç»œè®­ç»ƒçš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ç«¯å¯¹ç«¯å­¦ä¹ ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“è¾“å…¥ç«¯ä¸è¾“å‡ºç«¯çš„ä¿¡æ¯ï¼Œä¸­é—´çš„è®­ç»ƒè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæˆ‘ä»¬çŸ¥æ™“ä¸­é—´çš„è®­ç»ƒè¿‡ç¨‹ã€‚ â€‹ 2.centralised learning but decentralised executionï¼Œä¸­å¿ƒåŒ–å­¦ä¹ ä½†æ˜¯åˆ†æ•£æ‰§è¡Œã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Learning to Communicate with Deep Multi-Agent Reinforcement Learning ä½œè€…ï¼šJakob N. Foerster ï¼ŒYannis M. Assael ï¼ŒNando de Freitasï¼ŒShimon Whitesonï¼ˆå“ˆä½›å¤§å­¦ï¼ŒGoogle Deepmindï¼‰ æ—¶é—´ï¼š2017 Abstract: â€‹ æˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¤šä¸ªæ™ºèƒ½ä½“åœ¨ç¯å¢ƒä¸­é€šè¿‡æ„ŸçŸ¥å’Œè¡ŒåŠ¨æ¥æœ€å¤§åŒ–ä»–ä»¬çš„åˆ†äº«èƒ½åŠ›ã€‚åœ¨è¿™äº›ç¯å¢ƒä¸­ï¼Œ æ™ºèƒ½ä½“å¿…é¡»å­¦ä¹ å…±åŒåè®®ä»¥æ­¤æ¥åˆ†äº«è§£å†³é—®é¢˜çš„å¿…è¦ä¿¡æ¯ã€‚é€šè¿‡å¼•å…¥æ·±åº¦ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥æˆåŠŸåœ°æ¼”ç¤ºåœ¨å¤æ‚çš„ç¯å¢ƒä¸­çš„ç«¯å¯¹ç«¯åè®®å­¦ä¹ ã€‚æˆ‘ä»¬æå‡ºäº†ä¸¤ç§åœ¨è¿™ä¸ªé¢†åŸŸå­¦ä¹ çš„æ–¹æ³•ï¼šReinforced Inter-Agent Learning (RIAL) å’Œ Differentiable Inter-Agent Learning (DIAL)ã€‚ â€‹ å‰è€…ä½¿ç”¨æ·±åº¦Q-learningï¼Œåè€…æ­ç¤ºäº†åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡communication channelsåå‘ä¼ æ’­é”™è¯¯çš„æ¢¯åº¦ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•ä½¿ç”¨é›†ä¸­å­¦ä¹ ï¼ˆcentralised learningï¼‰ï¼Œåˆ†æ•£æ‰§è¡Œï¼ˆdecentralised executionï¼‰ã€‚ â€‹ æˆ‘ä»¬çš„å®éªŒä»‹ç»äº†ç”¨äºå­¦ä¹ é€šä¿¡åè®®çš„æ–°ç¯å¢ƒï¼Œå±•ç¤ºäº†ä¸€ç³»åˆ—å·¥ç¨‹ä¸Šçš„åˆ›æ–°ã€‚ PSï¼š â€‹ 1. ç«¯å¯¹ç«¯ï¼ˆend-to-end,e2eï¼‰, å°†å¤šæ­¥éª¤/æ¨¡å—çš„ä»»åŠ¡ç”¨ä¸€ä¸ªæ­¥éª¤/æ¨¡å‹è§£å†³çš„æ¨¡å‹ã€‚ â€‹ å¯ä»¥ç†è§£ä¸ºä»è¾“å…¥ç«¯åˆ°è¾“å‡ºç«¯ä¸­é—´åªç”¨ä¸€ä¸ªæ­¥éª¤æˆ–æ¨¡å—ï¼Œæ¯”å¦‚ç¥ç»ç½‘ç»œè®­ç»ƒçš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ç«¯å¯¹ç«¯å­¦ä¹ ï¼Œæˆ‘ä»¬åªèƒ½çŸ¥é“è¾“å…¥ç«¯ä¸è¾“å‡ºç«¯çš„ä¿¡æ¯ï¼Œä¸­é—´çš„è®­ç»ƒè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæˆ‘ä»¬çŸ¥æ™“ä¸­é—´çš„è®­ç»ƒè¿‡ç¨‹ã€‚ â€‹ 2.centralised learning but decentralised executionï¼Œä¸­å¿ƒåŒ–å­¦ä¹ ä½†æ˜¯åˆ†æ•£æ‰§è¡Œã€‚ ### 1. Introduction â€‹ 1.1 å›ç­”çš„é—®é¢˜ï¼š 1. æ™ºèƒ½ä½“ä¹‹é—´å¦‚ä½•ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥è‡ªåŠ¨åœ°å‘ç°ç¬¦åˆä»–ä»¬éœ€æ±‚çš„é€šä¿¡è§„åˆ™ï¼Ÿ 2. æ·±åº¦å­¦ä¹ ä¹Ÿå¯ä»¥å—ï¼Ÿ 3. æˆ‘ä»¬èƒ½ä»æ™ºèƒ½ä½“ä¹‹é—´å­¦ä¹ æˆåŠŸæˆ–è€…å¤±è´¥çš„ç»éªŒä¸­å­¦åˆ°ä»€ä¹ˆï¼Ÿ â€‹ 1.2 ç ”ç©¶æ€è·¯ï¼š 1. æå‡ºä¸€ç³»åˆ—ç»å…¸éœ€è¦äº¤æµçš„å¤šæ™ºèƒ½ä½“ä»»åŠ¡ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“å¯ä»¥é‡‡å–è¡ŒåŠ¨æ¥å½±å“ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªç¦»æ•£çš„æœ‰é™å¸¦å®½çš„é€šé“æ¥è·Ÿå…¶å®ƒæœ‰é™çš„æ™ºèƒ½ä½“è¿›è¡Œé€šä¿¡ï¼› 2. ä¸º1ä¸­çš„ä»»åŠ¡åˆ¶å®šå‡ ä¸ªå­¦ä¹ ç®—æ³•ï¼Œç”±äºæ¯ä¸ªæ™ºèƒ½ä½“çš„è§‚å¯ŸèŒƒå›´æœ‰é™ï¼ŒåŒæ—¶é€šä¿¡é€šé“èƒ½åŠ›æœ‰é™ï¼Œæ‰€æœ‰æ™ºèƒ½ä½“å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥åœ¨æ­¤é™åˆ¶ä¸‹å¸®åŠ©ä»–ä»¬å®Œæˆä»»åŠ¡çš„é€šä¿¡è§„åˆ™ï¼› 3. åˆ†æè¿™äº›ç®—æ³•å¦‚ä½•å­¦ä¹ é€šè®¯è§„åˆ™ï¼Œæˆ–è€…å¦‚ä½•å¤±è´¥çš„ã€‚ â€‹ 1.3 ä¸»è¦è´¡çŒ®ï¼š â€‹ æå‡ºä¸¤ä¸ªæ–¹æ³•ï¼Œreinforced inter-agent learning(RIAL)å’Œ differentiable inter-agent learning (DIAL) â€‹ ç»“æœè¡¨æ˜ï¼Œè¿™ä¸¤ç§æ–¹æ³•åœ¨MNISTæ•°æ®é›†ä¸Šå¯ä»¥å¾ˆå¥½çš„è§£å†³é—®é¢˜ï¼Œå¹¶ä¸”æ™ºèƒ½ä½“ä»¬å­¦åˆ°çš„é€šä¿¡åè®®å¾€å¾€ååˆ†ä¼˜é›…ã€‚ â€‹ ç»“æœåŒæ ·æŒ‡å‡ºæ·±åº¦å­¦ä¹ æ›´å¥½çš„åˆ©ç”¨äº†ä¸­å¿ƒåŒ–å­¦ä¹ çš„ä¼˜ç‚¹ï¼Œæ˜¯ä¸€ä¸ªå­¦ä¹ è¿™æ ·é€šä¿¡åè®®çš„æœ‰åŠ›å·¥å…·ã€‚ 2. Related Work 3. Background 3.1 Deep Q-Networks(DQN) â€‹ Deep Learning + Q-Learningï¼Œåœ¨æ¸¸æˆé¢†åŸŸåº”ç”¨å¹¿æ³›ã€‚ 3.2 Independent DQNÂ· 3.3 Deep Recurrent Q-Networks 4. Setting â€‹ åœ¨å¼ºåŒ–å­¦ä¹ çš„èƒŒæ™¯ä¸‹ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“çš„è§‚å¯Ÿèƒ½åŠ›æœ‰é™ã€‚ â€‹ æ‰€æœ‰æ™ºèƒ½ä½“çš„å…±åŒç›®æ ‡å°±æ˜¯æœ€å¤§åŒ–åŒä¸€ä¸ªæŠ˜ç®—åçš„æ€»å¥–èµRtï¼Œä½†åŒæ—¶ï¼Œæ²¡æœ‰æ™ºèƒ½ä½“å¯ä»¥è§‚å¯Ÿåˆ°å½“å‰ç¯å¢ƒéšè—çš„é©¬å°”ç§‘å¤«çŠ¶æ€Stï¼Œæ¯ä¸ªæ™ºèƒ½ä½“aåˆ†åˆ«æ¥æ”¶åˆ°ä¸€ä¸ªä¸Stç›¸å…³çš„è§‚å¯Ÿå€¼ç›¸å…³è”çš„å€¼\\(O^{a}_{t}\\)ã€‚ â€‹ åœ¨æ¯ä¸€æ­¥tï¼Œæ¯ä¸ªæ™ºèƒ½ä½“é€‰æ‹©ä¸€ä¸ªenvironment action \\(u^{a}_{t}\\)æ¥å½±å“ç¯å¢ƒï¼ŒåŒæ—¶é€‰æ‹©ä¸€ä¸ªcommunication action \\(m^{a}_{t}\\)æ¥è¢«å…¶ä»–æ™ºèƒ½ä½“è§‚å¯Ÿï¼Œä½†\\(m^{a}_{t}\\)å¯¹ç¯å¢ƒæ²¡æœ‰ç›´æ¥å½±å“ã€‚ â€‹ æ²¡æœ‰é€šä¿¡åè®®è¢«é¢„å…ˆç»™å®šï¼Œæ™ºèƒ½ä½“ä»¬éœ€è¦è‡ªå·±å­¦ä¹ ã€‚ â€‹ ç”±äºåè®®æ˜¯ä»åŠ¨ä½œè§‚æµ‹å†å²åˆ°æ¶ˆæ¯åºåˆ—çš„æ˜ å°„ï¼Œæ‰€ä»¥åè®®çš„ç©ºé—´ç»´åº¦æ˜¯éå¸¸é«˜çš„ã€‚è‡ªåŠ¨åœ°åœ¨è¿™ä¸ªç©ºé—´å‘ç°æœ‰æ•ˆçš„é€šä¿¡åè®®æ˜¯éå¸¸å›°éš¾çš„ï¼Œè¿™ä½“ç°åœ¨æ™ºèƒ½ä½“éœ€è¦åè°ƒå‘é€æ¶ˆæ¯å’Œè§£é‡Šæ¶ˆæ¯ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªæ™ºèƒ½ä½“å‘é€äº†ä¸€ä¸ªæœ‰æ•ˆçš„ä¿¡æ¯ï¼Œå®ƒåªæœ‰åœ¨æ¥å—æ–¹æ­£ç¡®è§£é‡Šå¹¶å›åº”çš„æƒ…å†µä¸‹æ‰ä¼šå—åˆ°æ­£åé¦ˆï¼Œå¦‚æœæ²¡æœ‰ï¼Œåè€Œä¼šæ‰“å‡»å…¶å‘é€æœ‰æ•ˆä¿¡æ¯çš„ç§¯ææ€§ã€‚ â€‹ å› æ­¤ï¼Œç§¯æçš„rewardæ˜¯ç¨€å°‘çš„ï¼Œåªæœ‰åœ¨å‘é€å’Œè§£é‡Šåè°ƒæ“ä½œæ—¶æ‰ä¼šå‘ç”Ÿï¼Œè¿™é€šè¿‡éšæœºæ¢ç´¢å¾ˆéš¾å®ç°ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬èšç„¦äºcentralised learning but decentralised executionçš„æƒ…å†µï¼Œåœ¨å­¦ä¹ çš„æ—¶å€™æ™ºèƒ½ä½“ä¹‹é—´çš„é€šä¿¡æ²¡æœ‰é™åˆ¶ï¼Œåœ¨å®æ–½è¿‡ç¨‹æ—¶ï¼Œæ™ºèƒ½ä½“ä¹‹é—´ä»…ä»…èƒ½é€šè¿‡ä¸€æ¡å¸¦å®½æœ‰é™çš„é€šé“é€šä¿¡ã€‚ 5. Methods 5.1 RIALï¼ˆReinforced Inter-Agent Learningï¼‰ â€‹ ç®€å•ç›´æ¥çš„è¯´ï¼ŒRIALå°±æ˜¯å°†DRQN(Deep Recurrent Q-Learning)ä¸Q-learningç›¸ç»“åˆæ¥è¿›è¡Œactionï¼ˆå½±å“ç¯å¢ƒï¼‰ä¸communicationï¼ˆä¸å…¶å®ƒæ™ºèƒ½ä½“é€šä¿¡ï¼‰é€‰æ‹©çš„æ–¹æ³•ã€‚ â€‹ æ¯ä¸ªæ™ºèƒ½ä½“çš„Q-networkå¯ä»¥è¡¨ç¤ºä¸ºï¼š\\(Q^{a}(o^{a}_{t},m^{a^{,}}_{t-1},h^{a}_{t-1},u^{a})\\)ã€‚ â€‹ å››ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨ï¼šç¯å¢ƒè§‚å¯Ÿå€¼ï¼Œå…¶å®ƒæ™ºèƒ½ä½“ä¸Šä¸€æ­¥ä¼ æ¥çš„æ¶ˆæ¯ï¼Œæ™ºèƒ½ä½“è‡ªå·±çš„éšè—çŠ¶æ€ï¼Œé€‰æ‹©çš„actionã€‚ â€‹ å¦‚æœç›´æ¥å­¦ä¹ è¾“å‡ºæœ€ç»ˆçš„Qè¡¨ï¼Œå¾—åˆ°çš„è¾“å‡ºå°†æœ‰|U||M|å¤§å°ã€‚ä¸ºäº†é¿å…è¾“å‡ºè¿‡å¤§ï¼Œå°†Q-networkæ‹†åˆ†ä¸ºä¸¤ä¸ª\\(Q^{a}_{u}\\)ä¸\\(Q^{a}_{m}\\)ï¼Œåˆ†åˆ«è¡¨ç¤ºå½±å“ç¯å¢ƒçš„actionä¸åŒæ™ºèƒ½ä½“çš„é€šä¿¡ï¼ˆcommunicationï¼‰ï¼Œå­¦ä¹ æ–¹å¼ä½¿ç”¨Îµ-è´ªå¿ƒç®—æ³•ã€‚ â€‹ \\(Q^{a}_{u}\\)ä¸\\(Q^{a}_{m}\\)éƒ½ä½¿ç”¨DQNè®­ç»ƒæ–¹æ³•ï¼Œä½†æ‰€ä½¿ç”¨çš„DQNæœ‰ä»¥ä¸‹ä¸¤ç‚¹æ”¹è¿›ï¼š ç¦æ­¢experience replay; ä¸ºäº†è€ƒè™‘éƒ¨åˆ†å¯è§‚æµ‹æ€§ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæ™ºèƒ½ä½“æ‰€é‡‡å–çš„æ“ä½œuå’Œmä½œä¸ºä¸‹ä¸€æ­¥çš„è¾“å…¥; â€‹ RIALå¯ä»¥æ‰©å±•åˆ°é€šè¿‡åœ¨æ™ºèƒ½ä½“ä¹‹é—´ä¹‹é—´å…±äº«å‚æ•°æ¥åˆ©ç”¨é›†ä¸­å­¦ä¹ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºæ™ºèƒ½ä½“è§‚å¯Ÿä¸åŒï¼Œå› æ­¤ä¹Ÿè¿›åŒ–å‡ºäº†ä¸åŒçš„éšè—çŠ¶æ€ã€‚å‚æ•°å…±äº«å¤§å¤§å‡å°‘äº†å¿…é¡»å­¦ä¹ çš„å‚æ•°æ•°é‡ï¼Œä»è€ŒåŠ å¿«äº†å­¦ä¹ é€Ÿåº¦ã€‚ â€‹ åœ¨å‚æ•°å…±äº«æƒ…å†µä¸‹ï¼Œæ™ºèƒ½ä½“å­¦ä¹ ä¸¤ä¸ªQå‡½æ•°\\(Q_{u}(o^{a}_{t},m^{a^{,}}_{t-1},h^{a}_{t-1},u^{a}_{t-1},m^{a}_{t-1},a,u^{a}_{t})\\)ä¸\\(Q_{m}(o^{a}_{t},m^{a^{,}}_{t-1},h^{a}_{t-1},u^{a}_{t-1},m^{a}_{t-1},a,u^{a}_{t})\\)ã€‚ 5.1 DIALï¼ˆDifferentiable Inter-Agent Learningï¼‰ â€‹ è™½ç„¶RIALå¯ä»¥è¿›è¡Œå‚æ•°å…±äº«ï¼Œä½†å…¶ä»ä¸èƒ½åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ç»™å…¶ä»–æ™ºèƒ½åé¦ˆã€‚ â€‹ æ‰“ä¸ªæ¯”æ–¹ï¼Œåœ¨äººç±»é€šä¿¡æ´»åŠ¨ä¸­ï¼Œlistenerå³ä½¿ä¸è¯´è¯ä¹Ÿä¼šç»™å‡ºåŠæ—¶ï¼Œä¸°å¯Œçš„åé¦ˆæ¥è¡¨æ˜listenerå¯¹è°ˆè¯çš„å…´è¶£å’Œç†è§£ç¨‹åº¦ï¼Œè€ŒRIALåè€Œç¼ºå°‘äº†è¿™ä¸ªåé¦ˆæœºåˆ¶ï¼Œä»¿ä½›å¯¹ç€ä¸€ä¸ªé¢æ— è¡¨æƒ…çš„äººåœ¨è¯´è¯ï¼Œæ˜¾ç„¶ï¼Œè¿™ä¸ªæ–¹å¼å­˜åœ¨ç¼ºç‚¹ã€‚ â€‹ DIALå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œå­˜åœ¨çš„ï¼Œé€šè¿‡ç»“åˆcentralised learningä¸Q-networksï¼Œä¸ä»…å¯ä»¥å…±äº«å‚æ•°ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡é€šä¿¡ä¿¡é“å°†æ¢¯åº¦ä»ä¸€ä¸ªAgentæ¨å‘å¦ä¸€ä¸ªAgentã€‚ â€‹ 6. Experiments â€‹ åœ¨æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬è¯„ä¼°äº†RIALä¸DIALåœ¨æœ‰æ— å‚æ•°å…±äº«çš„æƒ…å†µä¸‹è¿›è¡Œå¤šæ™ºèƒ½ä½“ä»»åŠ¡çš„æƒ…å†µï¼Œå¹¶è·Ÿä¸€ä¸ªæ— äº¤æµï¼Œå‚æ•°å…±äº«çš„åŸºå‡†æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚ â€‹ åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¥–åŠ±æ˜¯é€šè¿‡è®¿é—®çœŸå®çŠ¶æ€( Oracle )æ‰€èƒ½è·å¾—çš„æœ€é«˜å¹³å‡å¥–åŠ±æ¥è§„èŒƒçš„ã€‚ â€‹ æˆ‘ä»¬ä½¿ç”¨Îµ-è´ªå¿ƒç®—æ³•ï¼ˆÎµ = 0.05ï¼‰ã€‚ 6.1 Switch Riddlesï¼ˆå¼€å…³è°œé¢˜ï¼‰ â€‹ ä¸€ç™¾åå›šçŠ¯å…¥ç‹±ã€‚å…¸ç‹±é•¿å‘Šè¯‰ä»–ä»¬ï¼Œä»æ˜å¤©å¼€å§‹ï¼Œæ¯ä¸ªäººéƒ½ä¼šè¢«å®‰ç½®åœ¨ä¸€ä¸ªå­¤ç«‹çš„ç‰¢æˆ¿é‡Œï¼Œæ— æ³•ç›¸äº’äº¤æµã€‚æ¯å¤©ï¼Œç›‘ç‹±é•¿éƒ½ä¼šéšæ„ç»Ÿä¸€æŒ‘é€‰å…¶ä¸­ä¸€åè¢«æ›¿æ¢çš„çŠ¯äººï¼Œå¹¶å°†å…¶å®‰ç½®åœ¨ä¸­å¤®å®¡è®¯å®¤ï¼Œå®¤å†…åªè£…æœ‰ä¸€ä¸ªå¸¦æœ‰åˆ‡æ¢å¼€å…³çš„ç¯æ³¡ã€‚å›šçŠ¯å°†èƒ½å¤Ÿè§‚å¯Ÿç¯æ³¡çš„å½“å‰çŠ¶æ€ã€‚å¦‚æœä»–æ„¿æ„ï¼Œä»–å¯ä»¥æ‹¨åŠ¨ç¯æ³¡çš„å¼€å…³ã€‚ä»–è¿˜å¯ä»¥å®£å¸ƒï¼Œä»–ç›¸ä¿¡æ‰€æœ‰çš„å›šçŠ¯éƒ½å·²ç»è®¿é—®äº†å®¡è®¯å®¤ã€‚å¦‚æœè¿™ä¸ªå…¬å‘Šæ˜¯çœŸçš„ï¼Œé‚£ä¹ˆæ‰€æœ‰å›šçŠ¯éƒ½è¢«é‡Šæ”¾ï¼Œä½†å¦‚æœæ˜¯å‡çš„ï¼Œæ‰€æœ‰å›šçŠ¯éƒ½è¢«å¤„æ­»ã€‚ â€‹ 6.2 Results1 â€‹ â€‹ ï¼ˆaï¼‰å¯ä»¥çœ‹åˆ°ï¼Œåœ¨n=3æ—¶å››ç§æ–¹æ³•çš„æ•ˆæœéƒ½æ¯”Baselineçš„æ•ˆæœå¥½ï¼Œå‚æ•°å…±äº«åŠ é€Ÿäº†ç®—æ³•ã€‚ â€‹ ï¼ˆbï¼‰åœ¨n=4æ—¶ï¼Œå‚æ•°å…±äº«çš„DIALæ–¹æ³•æœ€å¥½ã€‚ä¸å¸¦å‚æ•°å…±äº«çš„RIALæ²¡æœ‰baselineæ•ˆæœå¥½ã€‚å¯ä»¥çœ‹å‡ºï¼Œæ™ºèƒ½ä½“ä»¬ç‹¬ç«‹çš„å­¦ä¹ å‡ºç›¸åŒçš„ç­–ç•¥æ˜¯å¾ˆéš¾çš„ã€‚ â€‹ ï¼ˆcï¼‰n=3æ—¶æ™ºèƒ½ä½“ä½¿ç”¨DIALå­¦ä¹ åˆ°çš„ç­–ç•¥ã€‚ 6.3 Colour-Digit MNIST â€‹ 6.4 Effect of Channel Noise â€‹ è¿™é‡Œæ²¡å¤ªçœ‹æ‡‚ â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"RL","slug":"RL","permalink":"http://example.com/tags/RL/"}],"author":"Shaw"},{"title":"è¿‘ä¼¼è¯¯å·®ä¸ä¼°è®¡è¯¯å·®","slug":"ã€éšæ‰‹å†™ã€‘è¿‘ä¼¼è¯¯å·®ä¸ä¼°è®¡è¯¯å·®","date":"2021-09-05T06:49:23.032Z","updated":"2021-09-05T07:51:10.743Z","comments":true,"path":"2021/09/05/ã€éšæ‰‹å†™ã€‘è¿‘ä¼¼è¯¯å·®ä¸ä¼°è®¡è¯¯å·®/","link":"","permalink":"http://example.com/2021/09/05/%E3%80%90%E9%9A%8F%E6%89%8B%E5%86%99%E3%80%91%E8%BF%91%E4%BC%BC%E8%AF%AF%E5%B7%AE%E4%B8%8E%E4%BC%B0%E8%AE%A1%E8%AF%AF%E5%B7%AE/","excerpt":"","text":"ã€éšæ‰‹å†™ã€‘è¿‘ä¼¼è¯¯å·®ä¸ä¼°è®¡è¯¯å·® â€‹ åœ¨è¯»ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ä¸­å…³äºk-é‚»è¿‘ç®—æ³•çš„ä»‹ç»æ—¶ï¼Œå‘ç°äº†è¿™ä¹ˆä¸€æ®µè¯ï¼š â€‹ è¿‘ä¼¼è¯¯å·®ï¼ˆApproximation Errorï¼‰: è®­ç»ƒæ—¶ï¼Œè®­ç»ƒé›†ä¸å½“å‰æ¨¡å‹çš„è¯¯å·®ï¼› â€‹ ä¼°è®¡è¯¯å·®ï¼ˆEstimation Errorï¼‰ï¼š è®­ç»ƒå®Œæˆåï¼Œæ‰€é€‰æ‹©çš„æ¨¡å‹å·²ç»å›ºå®šï¼Œæ¨¡å‹å¯¹æœªçŸ¥æ•°æ®æ‹Ÿåˆæ—¶çš„è¯¯å·®ã€‚ â€‹ è¿‘ä¼¼è¯¯å·®ä¸ä¼°è®¡è¯¯å·®äºŒè€…ä¸å¯å…¼å¾—ï¼Œæ­¤æ¶ˆå½¼é•¿ï¼Œéœ€è¦å–å…¶å¹³è¡¡ã€‚","categories":[{"name":"Something","slug":"Something","permalink":"http://example.com/categories/Something/"}],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"http://example.com/tags/Machine-Learning/"}],"author":"Shaw"},{"title":"æå¤§ä¼¼ç„¶ä¼°è®¡","slug":"ã€éšå†™ã€‘æå¤§ä¼¼ç„¶ä¼°è®¡","date":"2021-09-04T08:07:55.751Z","updated":"2021-09-05T07:45:58.019Z","comments":true,"path":"2021/09/04/ã€éšå†™ã€‘æå¤§ä¼¼ç„¶ä¼°è®¡/","link":"","permalink":"http://example.com/2021/09/04/%E3%80%90%E9%9A%8F%E5%86%99%E3%80%91%E6%9E%81%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1/","excerpt":"","text":"ã€éšå†™ã€‘æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMaximum Likelihood Estimateï¼ŒMLEï¼‰ â€‹ â€œæ¨¡å‹å·²å®šï¼Œå‚æ•°æœªçŸ¥ã€‚â€ â€‹ æå¤§ä¼¼ç„¶ä¼°è®¡ï¼Œå°±æ˜¯åˆ©ç”¨å·²çŸ¥çš„æ ·æœ¬ç»“æœä¿¡æ¯ï¼Œåæ¨æœ€å…·æœ‰å¯èƒ½ï¼ˆæœ€å¤§æ¦‚ç‡ï¼‰å¯¼è‡´è¿™äº›æ ·æœ¬ç»“æœå‡ºç°çš„æ¨¡å‹å‚æ•°å€¼ã€‚ â€‹ â€‹ å¯¹äºè¿™ä¸ªå‡½æ•°ï¼š\\(P(x|Î¸)\\)ï¼Œ â€‹ è¾“å…¥æœ‰ä¸¤ä¸ªï¼šxè¡¨ç¤ºæŸä¸€ä¸ªå…·ä½“çš„æ•°æ®ï¼›Î¸è¡¨ç¤ºæ¨¡å‹çš„å‚æ•°ã€‚ â€‹ å¦‚æœÎ¸æ˜¯å·²çŸ¥ç¡®å®šçš„ï¼Œxæ˜¯å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°å«åšæ¦‚ç‡å‡½æ•°(probability function)ï¼Œå®ƒæè¿°å¯¹äºä¸åŒçš„æ ·æœ¬ç‚¹xï¼Œå…¶å‡ºç°æ¦‚ç‡æ˜¯å¤šå°‘ã€‚ â€‹ å¦‚æœxæ˜¯å·²çŸ¥ç¡®å®šçš„ï¼ŒÎ¸ æ˜¯å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°å«åšä¼¼ç„¶å‡½æ•°(likelihood function), å®ƒæè¿°å¯¹äºä¸åŒçš„æ¨¡å‹å‚æ•°ï¼Œå‡ºç°xè¿™ä¸ªæ ·æœ¬ç‚¹çš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚ â€‹ â€‹ ä¸€èˆ¬è¯´æ¥ï¼Œäº‹ä»¶Aå‘ç”Ÿçš„æ¦‚ç‡ä¸æŸä¸€æœªçŸ¥å‚æ•°Î¸æœ‰å…³ï¼ŒÎ¸å–å€¼ä¸åŒï¼Œåˆ™äº‹ä»¶Aå‘ç”Ÿçš„æ¦‚ç‡\\(P(A|Î¸)\\)ä¹Ÿä¸åŒï¼Œå½“æˆ‘ä»¬åœ¨ä¸€æ¬¡è¯•éªŒä¸­äº‹ä»¶Aå‘ç”Ÿäº†ï¼Œåˆ™è®¤ä¸ºæ­¤æ—¶çš„Î¸å€¼åº”æ˜¯tçš„ä¸€åˆ‡å¯èƒ½å–å€¼ä¸­ä½¿\\(P(A|Î¸)\\)è¾¾åˆ°æœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œæå¤§ä¼¼ç„¶ä¼°è®¡æ³•å°±æ˜¯è¦é€‰å–è¿™æ ·çš„tå€¼ä½œä¸ºå‚æ•°tçš„ä¼°è®¡å€¼ï¼Œä½¿æ‰€é€‰å–çš„æ ·æœ¬åœ¨è¢«é€‰çš„æ€»ä½“ä¸­å‡ºç°çš„å¯èƒ½æ€§ä¸ºæœ€å¤§ã€‚","categories":[{"name":"Something","slug":"Something","permalink":"http://example.com/categories/Something/"}],"tags":[{"name":"Math","slug":"Math","permalink":"http://example.com/tags/Math/"}],"author":"Shaw"},{"title":"Adversarial Training with Fast Gradient Projection Method against Synonym Substitution Based Text Attacks","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Adversarial Training with Fast Gradient Projection Method against Synonym Substitution Based Text Attacks","date":"2021-09-03T08:19:51.193Z","updated":"2021-09-04T06:45:15.015Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘Adversarial Training with Fast Gradient Projection Method against Synonym Substitution Based Text Attacks/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Adversarial%20Training%20with%20Fast%20Gradient%20Projection%20Method%20against%20Synonym%20Substitution%20Based%20Text%20Attacks/","excerpt":"","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Adversarial Training with Fast Gradient Projection Method against Synonym Substitution Based Text Attacks æ—¶é—´ï¼š2020 ä½œè€…ï¼šç‹æ™“æ£®ï¼Œæ¨é€¸è¾°ç­‰ åä¸­ç§‘æŠ€å¤§å­¦ ä¼šè®®ï¼šAAAI æ€»ç»“ï¼š åšäº†ä»€ä¹ˆï¼Ÿ æå‡ºäº†ä¸€ç§é€Ÿåº¦æ›´å¿«çš„ï¼Œæ›´å®¹æ˜“åº”ç”¨åœ¨å¤æ‚ç¥ç»ç½‘ç»œå’Œå¤§æ•°æ®é›†ä¸Šçš„ï¼ŒåŸºäºåŒä¹‰è¯æ›¿æ¢çš„NLPå¯¹æŠ—æ ·æœ¬ç”Ÿæˆæ–¹æ³•ï¼ŒFGPMï¼› å°†FGPMçº³å…¥å¯¹æŠ—è®­ç»ƒä¸­ï¼Œä»¥æé«˜æ·±åº¦ç¥ç»ç½‘ç»œçš„é²æ£’æ€§ã€‚ æ€ä¹ˆåšçš„ï¼Ÿ å®éªŒç»“æœï¼Ÿ FGPMçš„æ•ˆæœä¸æ˜¯æœ€é«˜çš„ï¼Œä½†ä¹Ÿè·Ÿæœ€é«˜çš„å·®ä¸å¤šï¼Œä½†ç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„æ—¶é—´å¯¹æ¯”åŒç±»æ–¹æ³•ï¼Œç¼©å‡äº†1-3ä¸ªæ•°é‡çº§ã€‚ ATFLçš„å¯¹æŠ—æ ·æœ¬é˜²å¾¡èƒ½åŠ›å’ŒæŠ—è½¬ç§»èƒ½åŠ›å¾ˆå¼ºã€‚ Abstract: â€‹ å¯¹æŠ—è®­ç»ƒæ˜¯å¯¹äºæå‡å›¾åƒåˆ†ç±»æ·±åº¦ç¥ç»ç½‘ç»œé²æ£’æ€§çš„ï¼ŒåŸºäºå®éªŒçš„æœ€æˆåŠŸçš„è¿›æ­¥æ‰€åœ¨ã€‚ â€‹ ç„¶è€Œï¼Œå¯¹äºæ–‡æœ¬åˆ†ç±»ï¼Œç°æœ‰çš„åŸºäºåŒä¹‰è¯æ›¿æ¢çš„å¯¹æŠ—æ ·æœ¬æ”»å‡»ååˆ†å¥æ•ˆï¼Œä½†å´æ²¡æœ‰è¢«å¾ˆæœ‰æ•ˆåœ°åˆå¹¶å…¥å®é™…çš„æ–‡æœ¬å¯¹æŠ—è®­ç»ƒä¸­ã€‚ â€‹ åŸºäºæ¢¯åº¦çš„æ”»å‡»å¯¹äºå›¾åƒå¾ˆæœ‰æ•ˆï¼Œä½†å› ä¸ºæ–‡æœ¬çš„è¯æ±‡ï¼Œè¯­æ³•ï¼Œè¯­ä¹‰ç»“æ„çš„é™åˆ¶ä»¥åŠç¦»æ•£çš„æ–‡æœ¬è¾“å…¥ç©ºé—´ï¼Œä¸èƒ½å¾ˆå¥½çš„åº”ç”¨äºåŸºäºè¿‘ä¹‰è¯æ›¿æ¢çš„æ–‡æœ¬æ”»å‡»ä¸­ã€‚ â€‹ å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºåŒä¹‰è¯çš„æ›¿æ¢çš„å¿«é€Ÿçš„æ–‡æœ¬å¯¹æŠ—æŠ—æ”»å‡»æ–¹æ³•åä¸ºFast Gradient Projection Method (FGPM)ã€‚å®ƒçš„é€Ÿåº¦æ˜¯å·²æœ‰æ–‡æœ¬æ”»å‡»æ–¹æ³•çš„20ä½™å€ï¼Œæ”»å‡»æ•ˆæœä¹Ÿè·Ÿè¿™äº›æ–¹æ³•å·®ä¸å¤šã€‚ â€‹ æˆ‘ä»¬æ¥ç€å°†FGPMåˆå¹¶å…¥å¯¹æŠ—è®­ç»ƒä¸­ï¼Œæå‡ºäº†ä¸€ä¸ªæ–‡æœ¬é˜²å¾¡æ–¹æ³•ï¼ŒAdversarial Training with FGPM enhanced by Logit pairing(ATFL)ã€‚ â€‹ å®éªŒç»“æœè¡¨æ˜ATFLå¯ä»¥æ˜¾è‘—æé«˜æ¨¡å‹çš„é²æ£’æ€§ï¼Œç ´åå¯¹æŠ—æ ·æœ¬çš„å¯è½¬ç§»æ€§ã€‚ 1 Introduction: â€‹ ç°æœ‰çš„é’ˆå¯¹NLPçš„æ”»å‡»æ–¹æ³•åŒ…æ‹¬äº†ï¼šå­—ç¬¦ç­‰çº§æ”»å‡»ï¼Œå•è¯ç­‰çº§æ”»å‡»ï¼Œå¥å­ç­‰çº§æ”»å‡»ã€‚ â€‹ å¯¹äºå­—ç¬¦ç­‰çº§çš„æ”»å‡»ï¼Œæœ€è¿‘çš„å·¥ä½œï¼ˆPruthi, Dhingra, and Lipton 2019ï¼‰è¡¨æ˜äº†æ‹¼å†™æ£€æŸ¥å™¨å¾ˆå®¹æ˜“ä¿®æ­£æ ·æœ¬ä¸­çš„æ‰°åŠ¨ï¼› â€‹ å¯¹äºå¥å­ç­‰çº§çš„æ”»å‡»ï¼Œå…¶ä¸€èˆ¬éœ€è¦åŸºäºæ”¹è¿°ï¼Œæ•…éœ€è¦æ›´é•¿çš„æ—¶é—´æ¥ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼› â€‹ å¯¹äºå•è¯ç­‰çº§çš„æ”»å‡»ï¼ŒåŸºäºåµŒå…¥æ‰°åŠ¨çš„æ›¿æ¢ï¼ˆreplacing word based on embedding perturbationï¼‰ï¼Œæ·»åŠ ï¼Œåˆ é™¤å•è¯éƒ½ä¼šå¾ˆå®¹æ˜“æ”¹å˜å¥å­çš„è¯­æ³•è¯­ä¹‰ç»“æ„ä¸æ­£ç¡®æ€§ï¼Œæ•…åŒä¹‰è¯æ›¿æ¢çš„æ–¹æ³•å¯ä»¥æ›´å¥½çš„å¤„ç†ä¸Šè¿°é—®é¢˜ï¼ŒåŒæ—¶ä¿è¯å¯¹æŠ—æ ·æœ¬æ›´éš¾è¢«äººç±»è§‚å¯Ÿè€…å‘ç°ã€‚ â€‹ ä½†ä¸å¹¸çš„æ˜¯ï¼ŒåŸºäºåŒä¹‰è¯æ›¿æ¢çš„æ”»å‡»ç›¸è¾ƒäºå¦‚ä»Šå¯¹å›¾åƒçš„æ”»å‡»å±•ç°å‡ºäº†æ›´ä½çš„åŠŸæ•ˆã€‚ â€‹ â€‹ æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œå¯¹æŠ—è®­ç»ƒï¼Œå¯¹å›¾åƒæ•°æ®æœ€æœ‰æ•ˆçš„é˜²å¾¡æ–¹æ³•ä¹‹ä¸€ï¼Œå¹¶æ²¡æœ‰åœ¨å¯¹æŠ—åŸºäºåŒä¹‰è¯æ›¿æ¢çš„æ”»å‡»ä¸Šå¾ˆå¥½çš„å®æ–½è¿‡ã€‚ â€‹ ä¸€æ–¹é¢ï¼Œç°æœ‰çš„åŸºäºåŒä¹‰è¯æ›¿æ¢çš„æ”»å‡»æ–¹æ³•é€šå¸¸æ•ˆç‡è¦ä½å¾—å¤šï¼Œéš¾ä»¥çº³å…¥å¯¹æŠ—è®­ç»ƒã€‚å¦ä¸€æ–¹é¢ï¼Œå°½ç®¡å¯¹å›¾åƒçš„æ–¹æ³•å¾ˆæœ‰æ•ˆï¼Œä½†å…¶å¹¶ä¸èƒ½ç›´æ¥ç§»æ¤åˆ°æ–‡æœ¬æ•°æ®ä¸Šã€‚ â€‹ 1.1 Adversarial Defense: â€‹ æœ‰ä¸€ç³»åˆ—å·¥ä½œå¯¹è¯åµŒå…¥è¿›è¡Œæ‰°åŠ¨ï¼Œå¹¶å°†æ‰°åŠ¨ä½œä¸ºæ­£åˆ™åŒ–ç­–ç•¥ç”¨äºå¯¹æŠ—è®­ç»ƒ(Miyato, Dai, and Goodfellow 2016; Sato et al. 2018; Barham and Feizi 2019) ã€‚è¿™äº›å·¥ä½œç›®çš„æ˜¯æé«˜æ¨¡å‹å¯¹äºåŸå§‹æ•°æ®é›†çš„è¡¨ç°ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†é˜²å¾¡å¯¹æŠ—æ ·æœ¬æ”»å‡»ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸ä¼šè€ƒè™‘è¿™äº›å·¥ä½œã€‚ â€‹ ä¸åŒäºå¦‚ä»Šç°æœ‰çš„é˜²å¾¡æ–¹æ³•ï¼Œæˆ‘ä»¬çš„å·¥ä½œèšç„¦äºå¿«é€Ÿå¯¹æŠ—æ ·æœ¬ç”Ÿæˆï¼Œå®¹æ˜“åº”ç”¨åœ¨å¤æ‚çš„ç¥ç»ç½‘ç»œå’Œå¤§æ•°æ®é›†ä¸Šçš„é˜²å¾¡æ–¹æ³•ã€‚ 2 Fast Gradient Projection Methodï¼ˆFGPMï¼‰: 3 Adversarial Training with FGPMï¼š â€‹ å…·ä½“ç®—æ³•ä¸­æ–‡æè¿°è§ï¼š ã€ŠåŸºäºåŒä¹‰è¯æ›¿æ¢çš„å¿«é€Ÿæ¢¯åº¦æ˜ å°„ï¼ˆFGPMï¼‰æ–‡æœ¬å¯¹æŠ—æ”»å‡»æ–¹æ³•ã€‹é˜…è¯»ç¬”è®° - çŸ¥ä¹ (zhihu.com) 4 Experimental Resultsï¼š â€‹ æˆ‘ä»¬è¡¡é‡FGPMä½¿ç”¨å››ç§æ”»å‡»å‡†åˆ™ï¼Œè¡¡é‡ATFLä½¿ç”¨ä¸¤ç§é˜²å¾¡å‡†åˆ™ã€‚ â€‹ æˆ‘ä»¬åœ¨ä¸‰ä¸ªå¾ˆå—æ¬¢è¿çš„åŸºå‡†æ•°æ®é›†ä¸Šï¼ŒåŒæ—¶åŒ…æ‹¬CNNå’ŒRNNæ¨¡å‹ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œä»£ç å¼€æºï¼šhttps://github.com/JHL-HUST/FGPM 4.1 Baselines: â€‹ ä¸ºäº†è¯„ä¼°FGPMçš„æ”»å‡»æ•ˆèƒ½ï¼Œæˆ‘ä»¬å°†å…¶ä¸Papernotâ€™ã€GSA ( Kuleshovç­‰äººçš„4ç§å¯¹æŠ—æ€§æ”»å‡»è¿›è¡Œäº†æ¯”è¾ƒã€‚2018 )ã€PWWS ( Ren et al . 2019 )å’ŒIga ( Wangï¼Œjinï¼Œand he 2019 )ã€‚ â€‹ æ­¤å¤–ï¼Œä¸ºäº†éªŒè¯æˆ‘ä»¬çš„ATFLçš„é˜²å¾¡èƒ½åŠ›ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†SEM ( Wangï¼ŒJinï¼ŒHe 2019 )å’ŒIBP ( Jia et al . 2019 )ï¼Œé’ˆå¯¹ä¸Šè¿°Word-Levelæ”»å‡»ã€‚ç”±äºæ”»å‡»åŸºçº¿çš„æ•ˆç‡å¾ˆä½ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªæ•°æ®é›†ä¸ŠéšæœºæŠ½å–200ä¸ªç¤ºä¾‹ï¼Œå¹¶åœ¨å„ç§æ¨¡å‹ä¸Šç”Ÿæˆå¯¹æŠ—æ ·æœ¬ã€‚ 4.2 Datasets: â€‹ AGâ€™s News, DBPedia ontology and Yahoo! Answers (Zhang,Zhao, and LeCun 2015). 4.3 Models: â€‹ æˆ‘ä»¬ä½¿ç”¨äº†CNNs,RNNs,æ¥è¾¾åˆ°ä¸»æµçš„æ–‡æœ¬åˆ†ç±»è¡¨ç°ï¼Œæ‰€æœ‰æ¨¡å‹çš„åµŒå…¥ç»´åº¦å‡ä¸º300ã€‚ 4.4 Evaluation on Attack Effectivenessï¼š â€‹ æˆ‘ä»¬è¯„ä¼°æ¨¡å‹åœ¨æ”»å‡»ä¸‹çš„å‡†ç¡®ç‡å’Œè½¬ç§»ç‡ï¼š â€‹ å‡†ç¡®ç‡ï¼š â€‹ â€‹ è½¬ç§»ç‡ï¼š â€‹ 4.4 Evaluation on Attack Efficiencyï¼š â€‹ å¯¹æŠ—è®­ç»ƒéœ€è¦é«˜æ•ˆç‡çš„ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ä»¥æœ‰æ•ˆåœ°æå‡æ¨¡å‹é²æ£’æ€§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¯„ä¼°äº†ä¸åŒæ”»å‡»æ–¹æ³•åœ¨ä¸‰ä¸ªæ•°æ®é›†ä¸Šç”Ÿæˆç”Ÿæˆ200ä¸ªå¯¹æŠ—æ ·æœ¬çš„æ€»æ—¶é—´ã€‚ 4.5 Evaluation on Adversarial Trainingï¼š â€‹ æˆ‘ä»¬è¯„ä¼°ATFLçš„å¯¹æŠ—æ ·æœ¬é˜²å¾¡èƒ½åŠ›å’ŒæŠ—è½¬ç§»èƒ½åŠ›ï¼š â€‹ å¯¹æŠ—æ ·æœ¬é˜²å¾¡èƒ½åŠ›ï¼š â€‹ â€‹ æŠ—è½¬ç§»èƒ½åŠ›ï¼š â€‹ 4.6 Evaluation on Adversarial Training Variants: â€‹ è®¸å¤šå¯¹æŠ—è®­ç»ƒçš„å˜ä½“ï¼Œä¾‹å¦‚CLPå’ŒALPï¼ŒTRADESç­‰ï¼Œå·²ç»å°è¯•é‡‡ç”¨ä¸åŒçš„æ­£åˆ™åŒ–æ–¹æ³•æ¥æé«˜é’ˆå¯¹å›¾åƒæ•°æ®çš„å¯¹æŠ—è®­ç»ƒå‡†ç¡®ç‡ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å›ç­”ä¸€ä¸ªé—®é¢˜ï¼šè¿™äº›å˜ä½“æ–¹æ³•ä¹Ÿå¯ä»¥æé«˜æ–‡æœ¬æ•°æ®å‡†ç¡®ç‡å—ï¼Ÿ â€‹ ä»è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰ALPå¯ä»¥é•¿è¿œåœ°æå‡å¯¹æŠ—è®­ç»ƒçš„è¡¨ç°ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"NLP","slug":"NLP","permalink":"http://example.com/tags/NLP/"},{"name":"AD training","slug":"AD-training","permalink":"http://example.com/tags/AD-training/"}],"author":"Shaw"},{"title":"ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹","slug":"ã€ä¹¦ç±é˜…è¯»ã€‘ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹","date":"2021-09-03T06:17:39.403Z","updated":"2022-07-16T02:08:58.914Z","comments":true,"path":"2021/09/03/ã€ä¹¦ç±é˜…è¯»ã€‘ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB%E3%80%91%E3%80%8A%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E3%80%8B/","excerpt":"ã€ä¹¦ç±é˜…è¯»ã€‘ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ ä¸€. ç»Ÿè®¡å­¦ä¹ æ–¹æ³•æ¦‚è®ºï¼š â€‹ é¦–å…ˆï¼Œè¦æ˜ç¡®è®¡ç®—æœºç§‘å­¦ä¸­å­˜åœ¨ä¸‰ä¸ªç»´åº¦ï¼šç³»ç»Ÿï¼Œè®¡ç®—ï¼Œä¸ä¿¡æ¯ã€‚ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼ˆæœºå™¨å­¦ä¹ ï¼‰ä¸»è¦å±äºä¿¡æ¯è¿™ä¸€ç»´åº¦ï¼Œå¹¶åœ¨å…¶ä¸­æ‰®æ¼”è€…æ ¸å¿ƒè§’è‰²ã€‚ 1. ç›‘ç£å­¦ä¹ æ¦‚å¿µï¼š â€‹ ç›‘ç£å­¦ä¹ ï¼ŒSupervised learningï¼ŒæŒ‡åœ¨å·²ç»åšå¥½æ ‡æ³¨çš„è®­ç»ƒé›†ä¸Šå­¦ä¹ ï¼Œä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œå®šä¹‰ä»¥ä¸‹åŸºæœ¬æ¦‚å¿µï¼š è¾“å…¥ç©ºé—´ï¼ˆXï¼‰ï¼Œè¾“å‡ºç©ºé—´ï¼ˆYï¼‰ï¼šè¾“å…¥æ‰€æœ‰å¯èƒ½å–å€¼ï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½å–å€¼ï¼› ç‰¹å¾ç©ºé—´ï¼šè¾“å…¥ä¸€èˆ¬ç”±ç‰¹å¾å‘é‡è¡¨ç¤ºï¼Œæ‰€æœ‰ç‰¹å¾å‘é‡å­˜åœ¨çš„ç©ºé—´ç§°ä¸ºç‰¹å¾ç©ºé—´ï¼Œè¾“å…¥ç©ºé—´ä¸ç‰¹å¾ç©ºé—´å¹¶ä¸å®Œå…¨ç­‰ä»·ï¼Œæœ‰æ—¶éœ€è¦æ˜ å°„ï¼› ä¸Šæ ‡ xi :è¡¨ç¤ºä¸€ä¸ªè¾“å…¥çš„ç¬¬ i ä¸ªç‰¹å¾ï¼› ä¸‹æ ‡ xjï¼šè¡¨ç¤ºç¬¬ j ä¸ªè¾“å…¥ã€‚ å›å½’é—®é¢˜ï¼šè¾“å…¥è¾“å‡ºéƒ½ä¸ºè¿ç»­å‹å˜é‡ï¼› åˆ†ç±»é—®é¢˜ï¼šè¾“å‡ºå˜é‡ä¸ºæœ‰é™ä¸ªç¦»æ•£å‹å˜é‡ï¼› æ ‡æ³¨é—®é¢˜ï¼šè¾“å…¥ä¸è¾“å‡ºå˜é‡éƒ½ä¸ºå˜é‡åºåˆ—ã€‚ å‡è®¾ç©ºé—´ï¼šæ‰€æœ‰å¯èƒ½çš„æ¨¡å‹çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯å­¦ä¹ çš„èŒƒå›´ã€‚ â€‹ ä½¿ç”¨è®­ç»ƒé›†å­¦ä¹ ----&gt;å¯¹æœªçŸ¥æ•°æ®è¿›è¡Œé¢„æµ‹ â€‹","text":"ã€ä¹¦ç±é˜…è¯»ã€‘ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ ä¸€. ç»Ÿè®¡å­¦ä¹ æ–¹æ³•æ¦‚è®ºï¼š â€‹ é¦–å…ˆï¼Œè¦æ˜ç¡®è®¡ç®—æœºç§‘å­¦ä¸­å­˜åœ¨ä¸‰ä¸ªç»´åº¦ï¼šç³»ç»Ÿï¼Œè®¡ç®—ï¼Œä¸ä¿¡æ¯ã€‚ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼ˆæœºå™¨å­¦ä¹ ï¼‰ä¸»è¦å±äºä¿¡æ¯è¿™ä¸€ç»´åº¦ï¼Œå¹¶åœ¨å…¶ä¸­æ‰®æ¼”è€…æ ¸å¿ƒè§’è‰²ã€‚ 1. ç›‘ç£å­¦ä¹ æ¦‚å¿µï¼š â€‹ ç›‘ç£å­¦ä¹ ï¼ŒSupervised learningï¼ŒæŒ‡åœ¨å·²ç»åšå¥½æ ‡æ³¨çš„è®­ç»ƒé›†ä¸Šå­¦ä¹ ï¼Œä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œå®šä¹‰ä»¥ä¸‹åŸºæœ¬æ¦‚å¿µï¼š è¾“å…¥ç©ºé—´ï¼ˆXï¼‰ï¼Œè¾“å‡ºç©ºé—´ï¼ˆYï¼‰ï¼šè¾“å…¥æ‰€æœ‰å¯èƒ½å–å€¼ï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½å–å€¼ï¼› ç‰¹å¾ç©ºé—´ï¼šè¾“å…¥ä¸€èˆ¬ç”±ç‰¹å¾å‘é‡è¡¨ç¤ºï¼Œæ‰€æœ‰ç‰¹å¾å‘é‡å­˜åœ¨çš„ç©ºé—´ç§°ä¸ºç‰¹å¾ç©ºé—´ï¼Œè¾“å…¥ç©ºé—´ä¸ç‰¹å¾ç©ºé—´å¹¶ä¸å®Œå…¨ç­‰ä»·ï¼Œæœ‰æ—¶éœ€è¦æ˜ å°„ï¼› ä¸Šæ ‡ xi :è¡¨ç¤ºä¸€ä¸ªè¾“å…¥çš„ç¬¬ i ä¸ªç‰¹å¾ï¼› ä¸‹æ ‡ xjï¼šè¡¨ç¤ºç¬¬ j ä¸ªè¾“å…¥ã€‚ å›å½’é—®é¢˜ï¼šè¾“å…¥è¾“å‡ºéƒ½ä¸ºè¿ç»­å‹å˜é‡ï¼› åˆ†ç±»é—®é¢˜ï¼šè¾“å‡ºå˜é‡ä¸ºæœ‰é™ä¸ªç¦»æ•£å‹å˜é‡ï¼› æ ‡æ³¨é—®é¢˜ï¼šè¾“å…¥ä¸è¾“å‡ºå˜é‡éƒ½ä¸ºå˜é‡åºåˆ—ã€‚ å‡è®¾ç©ºé—´ï¼šæ‰€æœ‰å¯èƒ½çš„æ¨¡å‹çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯å­¦ä¹ çš„èŒƒå›´ã€‚ â€‹ ä½¿ç”¨è®­ç»ƒé›†å­¦ä¹ ----&gt;å¯¹æœªçŸ¥æ•°æ®è¿›è¡Œé¢„æµ‹ â€‹ 2. ç»Ÿè®¡å­¦ä¹ ä¸‰è¦ç´ ï¼š â€‹ ç»Ÿè®¡å­¦ä¹ ä¸‰è¦ç´ ä¸ºï¼šæ¨¡å‹ï¼Œç­–ç•¥ï¼Œç®—æ³•ï¼› â€‹ æ¨¡å‹æ˜¯å†³å®šå­¦ä¹ çš„é¢„æµ‹å‡½æ•°çš„ç±»å‹ï¼› â€‹ ç­–ç•¥æ˜¯åˆ¤å®šä»€ä¹ˆæ ·çš„æ¨¡å‹æ˜¯å¥½çš„ï¼Œç”¨äºåº¦é‡å½“å‰çš„æ¨¡å‹å¥½åï¼› â€‹ ç®—æ³•æ˜¯è®­ç»ƒè¿‡ç¨‹ä¸­çš„å…·ä½“åšæ³•ï¼Œä¾‹å¦‚å¦‚ä½•å›å½’ï¼Œå¦‚ä½•è®¡ç®—ï¼Œå¦‚ä½•è°ƒæ•´ç­‰ã€‚ 3. æ¨¡å‹çš„è¡¡é‡æ–¹æ³•ï¼š æŸå¤±å‡½æ•°ä¸é£é™©å‡½æ•°ï¼š â€‹ æŸå¤±å‡½æ•°ï¼ŒLoss Functionï¼Œç”¨äºæ¨¡å‹ä¸€æ¬¡é¢„æµ‹çš„é”™è¯¯ç¨‹åº¦ï¼Œä¾‹å¦‚ï¼š â€‹ æŸå¤±å‡½æ•°çš„æ•°å€¼è¶Šå°ï¼Œæ¨¡å‹å°±è¶Šå¥½ã€‚å¦‚æœè®¡ç®—æŸå¤±å‡½æ•°çš„æœŸæœ›ï¼Œå¾—åˆ°çš„å°±æ˜¯é£é™©å‡½æ•°ï¼ŒRisk Function: â€‹ å¯ä»¥çœ‹å‡ºï¼ŒæŸå¤±å‡½æ•°ç”¨äºæŸæ¬¡é¢„æµ‹çš„ä¼°è®¡ï¼Œé£é™©å‡½æ•°ç”¨äºæ€»ä½“å¹³å‡ä¼°è®¡ã€‚æˆ‘ä»¬å½“ç„¶å¸Œæœ›è®­ç»ƒå‡ºçš„æ¨¡å‹çš„é£é™©å‡½æ•°è¶Šå°è¶Šå¥½ã€‚ â€‹ ä½†æ˜¯ï¼Œè§‚å¯Ÿä¸Šå¼ï¼Œç†æƒ³åŒ–çš„æ¦‚ç‡åˆ†å¸ƒP(xï¼Œy)æ˜¯æœªçŸ¥çš„ï¼Œæˆ‘ä»¬è¿›è¡Œå­¦ä¹ å°±æ˜¯è¦é€šè¿‡æ¨¡å‹æ¥æ¨¡æ‹Ÿå®ƒï¼Œæ•…è¿™ä¸ªå¼å­ç†è®ºå­˜åœ¨ï¼Œå®é™…ä¸èƒ½è®¡ç®—ï¼Œä¸èƒ½ç”¨ä½œè¯„ä¼°æ¨¡å‹çš„ç›´æ¥æ–¹æ³•ã€‚ ç»éªŒé£é™©ä¸ç»“æ„é£é™©ï¼š â€‹ ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥ç»éªŒé£é™©ï¼š â€‹ å¯ä»¥çœ‹åˆ°ï¼Œç»éªŒé£é™©å°†æ¯ä¸ªæ ·æœ¬è§†ä½œç­‰æ¦‚ç‡å‡ºç°ï¼Œæ˜¯æ¨¡å‹å¯¹äºè®­ç»ƒé›†çš„å¹³å‡æŸå¤±ï¼Œé‚£ä¹ˆå…¶ä¸é£é™©å‡½æ•°çš„è¯¯å·®åœ¨å“ªï¼Ÿ â€‹ æ ¹æ®å¤§æ•°å®šå¾‹ï¼Œå½“è®­ç»ƒé›†è¶³å¤Ÿå¤§æ—¶ï¼ŒäºŒè€…æ˜¯è¿‘ä¼¼ç›¸ç­‰çš„ã€‚ä½†å®é™…æƒ…å†µä¸‹ï¼Œå¾ˆå¤šæ—¶å€™è®­ç»ƒæ ·æœ¬æ•°ç›®æœ‰é™ï¼Œç”šè‡³å¾ˆå°ï¼Œæ•…ç”¨ç»éªŒé£é™©æ•ˆä¼°è®¡é£é™©å‡½æ•°å¹¶ä¸ç†æƒ³ï¼Œæ•…éœ€è¦è¿›è¡Œä¿®æ­£ï¼Œè¿™å°±æ˜¯ç›‘ç£å­¦ä¹ ä¸­çš„ä¸¤ä¸ªåŸºæœ¬ç­–ç•¥ï¼šç»éªŒé£é™©æœ€å°åŒ–å’Œç»“æ„é£é™©æœ€å°åŒ–ã€‚ â€‹ å¦‚æœè®­ç»ƒæ ·æœ¬å®¹é‡è¾ƒå¤§ï¼Œä½¿ç”¨ç»éªŒé£é™©æœ€å°åŒ–æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ â€‹ å½“æ ·æœ¬å®¹é‡å¾ˆå°æ—¶ï¼Œä»…ä»…ä½¿ç”¨ç»éªŒé£é™©æœ€å°åŒ–å®¹æ˜“å¯¼è‡´è¿‡æ‹Ÿåˆï¼Œæ•…è¿™é‡Œä½¿ç”¨ç»“æ„é£é™©ï¼ˆå°±æ˜¯æ­£åˆ™åŒ–ï¼‰æœ€å°åŒ–æ–¹æ³•ï¼Œå¯¹æ¨¡å‹å¤æ‚åº¦è¿›è¡Œæƒ©ç½šï¼Œåç»­ä»‹ç»ã€‚ è®­ç»ƒè¯¯å·®ä¸æµ‹è¯•è¯¯å·®ï¼š â€‹ è®­ç»ƒè¯¯å·®æœ¬è´¨ä¸Šä¸é‡è¦ï¼Œå®ƒå¯ä»¥ååº”ä¸€ä¸ªé—®é¢˜æ˜¯ä¸æ˜¯å®¹æ˜“å­¦ä¹ ï¼Œä½†è¦è¡¡é‡æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ï¼Œä¸»è¦æ˜¯çœ‹æµ‹è¯•è¯¯å·®ã€‚ æ­£åˆ™åŒ–ä¸äº¤å‰éªŒè¯ï¼š â€‹ æ­£åˆ™åŒ–æ˜¯åœ¨ç»éªŒé£é™©é¡¹åå†å¢åŠ ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹ï¼ˆRegularizerï¼‰ï¼Œå…¶ä¸æ¨¡å‹çš„å¤æ‚åº¦æˆæ­£ç›¸å…³ï¼Œä¸€èˆ¬ä½¿ç”¨æ¨¡å‹å‚æ•°å‘é‡çš„èŒƒæ•°ï¼š â€‹ äº¤å‰éªŒè¯çš„åŸºæœ¬æ€æƒ³æ˜¯é‡å¤ä½¿ç”¨æ•°æ®ï¼š ç®€å•äº¤å‰éªŒè¯ï¼š å°†è®­ç»ƒé›†éšæœºåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†è®­ç»ƒï¼Œä¸€éƒ¨åˆ†æµ‹è¯•ï¼Œç„¶ååœ¨å„ç§æ¡ä»¶ä¸‹è®­ç»ƒå‡ºä¸åŒçš„æ¨¡å‹ï¼Œç”¨æµ‹è¯•é›†è¿›è¡Œæ¨ªå‘å¯¹æ¯”ï¼Œé€‰å‡ºæœ€å¥½çš„ã€‚ SæŠ˜äº¤å‰éªŒè¯ï¼š S-fold cross validationï¼Œéšæœºåœ°å°†å·²ç»™æ•°æ®åˆ‡åˆ†ä¸ºSä¸ªäº’ä¸ç›¸äº¤çš„å¤§å°ç›¸åŒçš„å­é›†ï¼Œé€‰å–S-1ä¸ªç”¨äºè®­ç»ƒï¼Œå‰©ä¸‹ä¸€ä¸ªç”¨äºæµ‹è¯•ã€‚ è¿™æ ·æ€»å…±æµ‹è¯•é›†æœ‰Sç§é€‰æ³•ï¼Œå°†è¿™Sç§å…¨éƒ¨è¯•ä¸€éï¼Œè¯„é€‰Sæ¬¡æµ‹è¯„ä¸­å¹³å‡è¯¯å·®æœ€å°çš„æ¨¡å‹ã€‚ ç•™ä¸€äº¤å‰éªŒè¯ï¼š ä»¤S=Nï¼ˆè®­ç»ƒé›†å¤§å°ï¼‰å³å¯ï¼Œè¿™ç§æ–¹æ³•å¾€å¾€æ˜¯åœ¨æ•°æ®é›†ç‰¹åˆ«ç¼ºä¹çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚ æ³›åŒ–è¯¯å·®ä¸æ³›åŒ–ä¸Šç•Œï¼š â€‹ æ³›åŒ–èƒ½åŠ›æŒ‡æ¨¡å‹å¯¹ä½ç½®æ•°æ®çš„é¢„æµ‹èƒ½åŠ›ï¼Œå°±æ˜¯æ¨¡å‹çš„å¥½åã€‚å¦‚ä½•é‡åŒ–è¿™ä¸ªèƒ½åŠ›ï¼Ÿ â€‹ æ ¹æ®å®šä¹‰ï¼Œå…¶å°±æ˜¯æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„æµ‹è¯•è¡¨ç°ï¼š â€‹ åŒæ—¶å¯ä»¥ç”¨ä»¥ä¸‹å¼å­è¡¡é‡æ³›åŒ–è¯¯å·®çš„ä¸Šç•Œï¼š ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹ï¼š â€‹ ç›‘ç£å­¦ä¹ æ–¹æ³•åˆå¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼šç”Ÿæˆæ–¹æ³•ï¼ˆGeneratice Approachï¼‰å’Œåˆ¤åˆ«æ–¹æ³•ï¼ˆDiscriminative Approachï¼‰ã€‚ â€‹ å¦‚æœä»¥æ¦‚ç‡è®ºçš„è§’åº¦æ¥çœ‹å¾…ï¼Œæ¨¡å‹çš„ä½œç”¨æ˜¯æ ¹æ®Pï¼ˆxï¼‰æ¥æ±‚Pï¼ˆy | xï¼‰ï¼Œæ•…ä¸‹é¢æœ‰ä¸¤ç§æ–¹æ³•æ±‚ Pï¼ˆy | xï¼‰ï¼Œç›´æ¥æ¨¡æ‹ŸPï¼ˆy | xï¼‰å’Œé€šè¿‡æ±‚ \\(P(\\frac{y}{x}) = \\frac{P(x,y)}{P(x)}\\) æ¥æ±‚Pï¼ˆy | xï¼‰ã€‚ â€‹ å‰è€…å°±æ˜¯åˆ¤åˆ«æ¨¡å‹ï¼Œåè€…æ˜¯ç”Ÿæˆæ¨¡å‹ã€‚ â€‹ ç”Ÿæˆæ¨¡å‹å¯ä»¥è¿˜åŸå‡ºè”åˆæ¦‚ç‡åˆ†å¸ƒPï¼ˆx , yï¼‰ï¼Œå­¦ä¹ æ”¶æ•›é€Ÿåº¦æ›´å¿«ï¼Œå¯ä»¥é€‚åº”å­˜åœ¨éšå«å˜é‡çš„æƒ…å†µï¼› â€‹ åˆ¤åˆ«æ¨¡å‹ç›´æ¥å­¦ä¹ æ¡ä»¶æ¦‚ç‡,ç›´æ¥é¢å¯¹é¢„æµ‹ï¼Œå‡†ç¡®ç‡æ›´é«˜ï¼Œå¹¶ä¸”ç®€åŒ–äº†å­¦ä¹ é—®é¢˜ã€‚ äºŒ. æ„ŸçŸ¥æœº â€‹ æ„ŸçŸ¥æœºï¼Œperceptronï¼Œæ˜¯äºŒåˆ†ç±»çš„çº¿æ€§åˆ†ç±»æ¨¡å‹ï¼Œè¾“å…¥ä¸ºç‰¹å¾å‘é‡ï¼Œè¾“å‡ºä¸ºç±»åˆ«ï¼Œå–1å’Œ-1ä¸¤ç§ã€‚ â€‹ æ„ŸçŸ¥æœºå±äºåˆ¤åˆ«æ¨¡å‹ã€‚ â€‹ â€‹ å¯¹äºä¸€ä¸ªç»™å®šæ•°æ®é›†ï¼ŒT = {ï¼ˆx1ï¼Œy1ï¼‰â€¦â€¦ï¼ˆxnï¼Œynï¼‰}ï¼Œå¦‚æœå­˜åœ¨æŸä¸ªè¶…å¹³é¢Sï¼ŒwÂ·x + b = 0ï¼ˆè¿™é‡Œwæ˜¯è¶…å¹³é¢çš„æ³•å‘é‡ï¼Œbæ˜¯æˆªè·ï¼‰ï¼Œä½¿å¾—æ‰€æœ‰ yi = 1 çš„å®ä¾‹iï¼Œæœ‰ wÂ·xi + b &gt; 0ï¼Œyi = -1åˆ™ç›¸åï¼Œåˆ™ç§°æ•°æ®é›†Tä¸ºçº¿æ€§å¯åˆ†æ•°æ®é›†ï¼ˆLinealy separable data setï¼‰ï¼Œå¦åˆ™ï¼Œç§°æ•°æ®é›†Tä¸ºçº¿æ€§ä¸å¯åˆ†æ•°æ®é›†ã€‚ 2.1 æ„ŸçŸ¥æœºæŸå¤±å‡½æ•°ï¼š â€‹ æ„ŸçŸ¥æœºçš„ç›®çš„å°±æ˜¯å¯¹äºä¸€ä¸ªçº¿æ€§å¯åˆ†çš„æ•°æ®é›†ï¼Œé€šè¿‡æ‰¾å‡ºwå’Œbï¼Œæ¥ç¡®å®šä¸€ä¸ªè¶…å¹³é¢ç”¨äºåˆ†ç±»ã€‚ â€‹ è¿™é‡Œï¼Œæˆ‘ä»¬é€‰å–æŸé”™è¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢Sçš„æ€»è·ç¦»æ¥å½“åšæŸå¤±å‡½æ•°ï¼ŒæŸä¸€ç‚¹åˆ°è¶…å¹³é¢Sçš„è·ç¦»å¦‚ä¸‹ï¼š â€‹ â€–wâ€–æ˜¯wçš„L2èŒƒæ•°ã€‚ â€‹ æ•…ï¼ŒæŸä¸ªè¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢Sçš„è·ç¦»æ˜¯ï¼š â€‹ å°†æ‰€æœ‰è¯¯åˆ†ç±»ç‚¹æ±‚å’Œï¼Œå¿½ç•¥L2èŒƒæ•°ï¼Œå³å¯å¾—åˆ°æ„ŸçŸ¥æœºçš„æŸå¤±å‡½æ•°ï¼ˆMä¸ºè¯¯åˆ†ç±»ç‚¹é›†åˆï¼‰ï¼š â€‹ å¯¹äºä¸€ä¸ªç‰¹å®šæ ·æœ¬ç‚¹çš„æŸå¤±å‡½æ•°ï¼Œåœ¨è¯¯åˆ†ç±»æ—¶æ˜¯å‚æ•°w,bçš„çº¿æ€§å‡½æ•°ï¼Œåœ¨æ­£ç¡®åˆ†ç±»æ—¶æ˜¯0ï¼Œæ•…ç»™å®šè®­ç»ƒæ•°æ®é›†Tï¼ŒæŸå¤±å‡½æ•°Læ˜¯wï¼Œbçš„è¿ç»­å¯å¯¼å‡½æ•°ã€‚ 2.2 è®­ç»ƒè¿‡ç¨‹ï¼š â€‹ æ„ŸçŸ¥æœºè®­ç»ƒé‡‡ç”¨éšæœºæ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ï¼š â€‹ å½“æ‰¾åˆ°ä¸€ä¸ªè¯¯åˆ†ç±»ç‚¹æ—¶ï¼Œä¸æ–­æ¢¯åº¦ä¸‹é™ç›´è‡³è¯¥ç‚¹è¢«æ­£ç¡®åˆ†ç±»ä¸ºæ­¢ã€‚ â€‹ æ•°å­¦è¯æ˜å…¶æ”¶æ•›æ€§ï¼š â€‹ å…·ä½“è§ä¹¦æœ¬ï¼Œè¿™é‡Œç•¥è¿‡ã€‚ 2.3 æ„ŸçŸ¥æœºçš„å¯¹å¶å½¢å¼ï¼š â€‹ ç”±å›¾å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºæ¯ä¸ªæµ‹è¯•é›†ä¸­çš„xiï¼Œéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„Î±iï¼Œå¯¹å¶å½¢å¼ä¸­å°±æ˜¯è°ƒæ•´å…¶å¯¹åº”çš„Î±ã€‚ â€‹ å…³äºgramçŸ©é˜µçš„ä½œç”¨ï¼Œå¦‚æœæ‰‹ç®—ä¸€éç®€å•çš„è®­ç»ƒè¿‡ç¨‹ï¼Œå°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚ ä¸‰. kè¿‘é‚»æ³• â€‹ kè¿‘é‚»æ³•æ˜¯ä¸€ç§åŸºæœ¬çš„åˆ†ç±»ä¸å›å½’æ–¹æ³•ï¼Œè¿™é‡Œåªè®¨è®ºåˆ†ç±»æ–¹æ³•ã€‚ â€‹ å…¶è¾“å…¥ä¸ºç‰¹å¾å‘é‡ï¼Œè¾“å‡ºä¸ºå®ä¾‹çš„ç±»åˆ«ï¼Œå¯ä»¥å–å¤šç±»ã€‚ 3.1 ç®—æ³•æè¿°ï¼š â€‹ ç»™å®šä¸€ä¸ªè®­ç»ƒé›†ï¼Œå¯¹äºæ–°çš„æ•°æ®å®ä¾‹ï¼Œåœ¨è®­ç»ƒæ•°æ®é›†ä¸­æ‰¾åˆ°ä¸å…¶æœ€é‚»è¿‘çš„kä¸ªå®ä¾‹ï¼Œè¿™kä¸ªå®ä¾‹å¤šæ•°å±äºæŸä¸ªç±»ï¼Œå°±æŠŠè¯¥è¾“å…¥å®ä¾‹åˆ†ä¸ºè¿™ä¸ªç±»ã€‚ â€‹ kè¿‘é‚»æ³•æ²¡æœ‰æ˜¾å¼çš„å­¦ä¹ è¿‡ç¨‹ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œkè¿‘é‚»ç®—æ³•å°†ç‰¹å¾ç©ºé—´åˆ’åˆ†ä¸ºäº†ä¸€äº›å­ç©ºé—´ï¼Œæ¯ä¸ªç‚¹æ‰€å±çš„ç©ºé—´æ˜¯ç¡®å®šçš„ã€‚ â€‹ å¦‚ä½•åº¦é‡ä¸¤ä¸ªç‰¹å¾ä¹‹é—´çš„è·ç¦»ï¼Ÿ â€‹ ké‚»è¿‘æ¨¡å‹çš„ç‰¹å¾ç©ºé—´ä¸€èˆ¬æ˜¯nç»´å®ç©ºé—´Rnï¼Œä½¿ç”¨æ¬§æ°è·ç¦»æˆ–è€…Lpè·ç¦»ï¼ˆLp distanceï¼‰ï¼ŒMinkowskiè·ç¦»ï¼ˆMinkowski distanceï¼‰ï¼› â€‹ Lpè·ç¦»ï¼š â€‹ æ¬§æ°è·ç¦»ï¼š â€‹ æ›¼å“ˆé¡¿è·ç¦»ï¼š â€‹ æ— ç©·è·ç¦»ï¼š â€‹ ç”±ä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼Œpå–å€¼ä¸åŒæ—¶åˆ°åŸç‚¹è·ç¦»ä¸º1çš„å›¾å½¢æ˜¯ä¸åŒçš„ï¼š å¦‚ä½•é€‰æ‹©kçš„å€¼ï¼Ÿ â€‹ kå€¼è¶Šå°ï¼Œæ¨¡å‹å­¦ä¹ æ—¶çš„è¿‘ä¼¼è¯¯å·®è¶Šå°ï¼Œä¼°è®¡è¯¯å·®è¶Šå¤§ï¼Œæ¨¡å‹ä¼šè¶Šå¤æ‚ï¼ŒæŠ—å¹²æ‰°æ€§è¶Šå°ï¼ˆä¾‹å¦‚ï¼Œæœ€é‚»è¿‘çš„ç‚¹æ˜¯å™ªå£°ï¼‰ï¼Œæ¨¡å‹ä¼šéå¸¸æ•æ„Ÿï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆï¼› â€‹ kå€¼è¶Šå¤§ï¼Œä¼°è®¡è¯¯å·®ä¼šå¾ˆå°ï¼Œè¿‘ä¼¼è¯¯å·®ä¼šå¾ˆå¤§ï¼Œæ•´ä½“æ¨¡å‹å˜å¾—ç®€å•ã€‚ â€‹ kä¸€èˆ¬çš„å–å€¼å¹¶ä¸å¤§ï¼Œä½¿ç”¨äº¤å‰éªŒè¯çš„æ–¹æ³•æ¥é€‰å–æœ€ä½³çš„kå€¼ã€‚ å¦‚ä½•å†³ç­–ï¼Ÿ â€‹ åœ¨å¾—åˆ°kä¸ªæœ€ç›¸ä¼¼çš„å®ä¾‹åï¼Œé‡‡ç”¨ä½•ç§è§„åˆ™åˆ¤æ–­æµ‹è¯•æ ·æœ¬å±äºå“ªä¸€ç±»å‘¢ï¼Ÿ â€‹ ké‚»è¿‘ç®—æ³•ä½¿ç”¨å¤šæ•°è¡¨å†³çš„æ–¹æ³•ï¼š ps: ciè¡¨ç¤ºæŸç§å†³ç­–è§„åˆ™ä¸‹ä¸€ç»„æµ‹è¯•ç”¨ä¾‹çš„è¡¨å†³ç»“æœã€‚ç»ç”±ä»¥ä¸Šæ¨å¯¼å¯ä»¥å¾—å‡ºï¼Œå¤šæ•°è¡¨å†³è§„åˆ™æ˜¯åˆç†çš„ã€‚ â€‹ å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æŸä¸ªç”¨ä¾‹çš„Kè¿‘é‚»ç‚¹ï¼Ÿ KDæ ‘ï¼š å…·ä½“ç®—æ³•è§ä¹¦ã€‚ å››. æœ´ç´ è´å¶æ–¯æ³• â€‹","categories":[{"name":"Book","slug":"Book","permalink":"http://example.com/categories/Book/"}],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"http://example.com/tags/Machine-Learning/"}],"author":"Shaw"},{"title":"Deep Text Classifification Can be Fooled","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Deep Text Classifification Can be Fooled","date":"2021-09-03T06:08:27.107Z","updated":"2022-12-08T08:14:20.414Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘Deep Text Classifification Can be Fooled/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Deep%20Text%20Classifification%20Can%20be%20Fooled/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Deep Text Classifification Can be Fooled æ—¶é—´ï¼š2017 ä½œè€…ï¼šBin Liang, Hongcheng Li, Miaoqiang Su, Pan Bian, Xirong Li and Wenchang Shi ä¸­å›½äººæ°‘å¤§å­¦ Abstract: â€‹ åœ¨è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æœ‰æ•ˆçš„ç”Ÿæˆæ–‡æœ¬å¯¹æŠ—æ ·æœ¬çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ­ç¤ºäº†ä¸€ä¸ªå¾ˆé‡è¦ä½†è¢«ä½ä¼°çš„äº‹å®ï¼šåŸºäºDNNçš„æ–‡æœ¬åˆ†ç±»å™¨å¾ˆå®¹æ˜“è¢«å¯¹æŠ—æ ·æœ¬æ”»å‡»ã€‚ â€‹ å…·ä½“æ¥è¯´ï¼Œé¢å¯¹ä¸åŒçš„å¯¹æŠ—åœºæ™¯ï¼Œé€šè¿‡è®¡ç®—è¾“å…¥çš„ä»£ä»·æ¢¯åº¦(ç™½ç›’æ”»å‡»)æˆ–ç”Ÿæˆä¸€ç³»åˆ—è¢«é®æŒ¡çš„æµ‹è¯•æ ·æœ¬(é»‘ç›’æ”»å‡»)æ¥è¯†åˆ«å¯¹åˆ†ç±»é‡è¦çš„æ–‡æœ¬é¡¹ã€‚ï¼ˆè¿™å¥ä¸æ˜¯å¾ˆæ‡‚ï¼Œä»€ä¹ˆå«â€™ the text items that are important for classifificationâ€˜ï¼Ÿï¼‰ â€‹ åŸºäºè¿™äº›é¡¹ç›®ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸‰ç§æ‰°åŠ¨ç­–ç•¥ï¼Œinsertionï¼Œmodificationï¼Œremovalï¼Œç”¨äºç”Ÿæˆå¯¹æŠ—æ ·æœ¬ã€‚å®éªŒç»“æœè¡¨æ˜åŸºäºæˆ‘ä»¬çš„æ–¹æ³•ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å¯ä»¥æˆåŠŸåœ°æ¬ºéª—ä¸»æµçš„åœ¨å­—ç¬¦ç­‰çº§å’Œå•è¯ç­‰çº§çš„DNNæ–‡æœ¬åˆ†ç±»å™¨ã€‚ â€‹ å¯¹æŠ—æ ·æœ¬å¯ä»¥è¢«æ‰°åŠ¨åˆ°ä»»æ„ç†æƒ³çš„ç±»ä¸­è€Œä¸é™ä½å…¶æ•ˆç‡ã€‚ï¼ˆï¼Ÿï¼‰åŒæ—¶ï¼Œè¢«å¼•å…¥çš„æ‰°åŠ¨å¾ˆéš¾è¢«å¯Ÿè§‰ã€‚ â€‹","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Deep Text Classifification Can be Fooled æ—¶é—´ï¼š2017 ä½œè€…ï¼šBin Liang, Hongcheng Li, Miaoqiang Su, Pan Bian, Xirong Li and Wenchang Shi ä¸­å›½äººæ°‘å¤§å­¦ Abstract: â€‹ åœ¨è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æœ‰æ•ˆçš„ç”Ÿæˆæ–‡æœ¬å¯¹æŠ—æ ·æœ¬çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ­ç¤ºäº†ä¸€ä¸ªå¾ˆé‡è¦ä½†è¢«ä½ä¼°çš„äº‹å®ï¼šåŸºäºDNNçš„æ–‡æœ¬åˆ†ç±»å™¨å¾ˆå®¹æ˜“è¢«å¯¹æŠ—æ ·æœ¬æ”»å‡»ã€‚ â€‹ å…·ä½“æ¥è¯´ï¼Œé¢å¯¹ä¸åŒçš„å¯¹æŠ—åœºæ™¯ï¼Œé€šè¿‡è®¡ç®—è¾“å…¥çš„ä»£ä»·æ¢¯åº¦(ç™½ç›’æ”»å‡»)æˆ–ç”Ÿæˆä¸€ç³»åˆ—è¢«é®æŒ¡çš„æµ‹è¯•æ ·æœ¬(é»‘ç›’æ”»å‡»)æ¥è¯†åˆ«å¯¹åˆ†ç±»é‡è¦çš„æ–‡æœ¬é¡¹ã€‚ï¼ˆè¿™å¥ä¸æ˜¯å¾ˆæ‡‚ï¼Œä»€ä¹ˆå«â€™ the text items that are important for classifificationâ€˜ï¼Ÿï¼‰ â€‹ åŸºäºè¿™äº›é¡¹ç›®ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸‰ç§æ‰°åŠ¨ç­–ç•¥ï¼Œinsertionï¼Œmodificationï¼Œremovalï¼Œç”¨äºç”Ÿæˆå¯¹æŠ—æ ·æœ¬ã€‚å®éªŒç»“æœè¡¨æ˜åŸºäºæˆ‘ä»¬çš„æ–¹æ³•ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å¯ä»¥æˆåŠŸåœ°æ¬ºéª—ä¸»æµçš„åœ¨å­—ç¬¦ç­‰çº§å’Œå•è¯ç­‰çº§çš„DNNæ–‡æœ¬åˆ†ç±»å™¨ã€‚ â€‹ å¯¹æŠ—æ ·æœ¬å¯ä»¥è¢«æ‰°åŠ¨åˆ°ä»»æ„ç†æƒ³çš„ç±»ä¸­è€Œä¸é™ä½å…¶æ•ˆç‡ã€‚ï¼ˆï¼Ÿï¼‰åŒæ—¶ï¼Œè¢«å¼•å…¥çš„æ‰°åŠ¨å¾ˆéš¾è¢«å¯Ÿè§‰ã€‚ â€‹ 1. Introduction: â€‹ åœ¨æ–‡æœ¬ä¸­ï¼Œå³ä½¿å¾ˆå°çš„æ‰°åŠ¨ä¹Ÿä¼šä½¿ä¸€ä¸ªå­—æ¯æˆ–è€…å•è¯å®Œå…¨å˜åŒ–ï¼Œè¿™ä¼šå¯¼è‡´å¥å­ä¸èƒ½è¢«è¾¨è¯†ã€‚æ•…å¦‚æœç›´æ¥å°†åº”ç”¨äºå¤šåª’ä½“ï¼ˆå›¾ç‰‡ï¼ŒéŸ³é¢‘ï¼‰çš„ç®—æ³•åº”ç”¨åˆ°æ–‡æœ¬ä¸Šï¼Œå¾—åˆ°çš„å¯¹æŠ—æ ·æœ¬çš„åŸæ„å°±ä¼šæ”¹å˜ï¼Œè€Œä¸”å¾ˆå¤§ç¨‹åº¦ä¸Šå˜æˆäººç±»æ— æ³•ç†è§£çš„å¥å­ã€‚ â€‹ åœ¨è¿™ç‰‡è®ºæ–‡é‡Œï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„æœ‰æ•ˆæ–¹æ³•ã€‚ä¸ç›´æ¥ç®€å•æ’å…¥æ‰°åŠ¨ç›¸æ¯”ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸‰ç§æ‰°åŠ¨ç­–ç•¥ï¼šinsertion, modifification, and removalï¼Œå¹¶ä¸”å¼•å…¥äº†è‡ªç„¶è¯­è¨€æ–‡æœ¬æ°´å°ï¼ˆnatural language watermarkingï¼‰æŠ€æœ¯ç”¨äºç”Ÿæˆå¯¹æŠ—æ ·æœ¬ã€‚ â€‹ ç†è®ºä¸Šï¼Œç”Ÿæˆä¸€ä¸ªå¥½çš„å¯¹æŠ—æ ·æœ¬å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºå¯¹ç›®æ ‡åˆ†ç±»æ¨¡å‹çš„ä¿¡æ¯ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æ ¹æ®ä¸åŒæƒ…å½¢ï¼Œä½¿ç”¨äº†ç™½ç›’æ”»å‡»å’Œé»‘ç›’æ”»å‡»ã€‚ â€‹ ä¸ºäº†æ™®éæ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å­—ç¬¦ç­‰çº§çš„æ¨¡å‹å’Œå•è¯ç­‰çº§çš„æ¨¡å‹ä½œä¸ºå—å®³è€…ã€‚æˆ‘ä»¬çš„å®éªŒç»“æœè¯æ˜åŸºäºDNNçš„æ–‡æœ¬åˆ†ç±»å™¨åœ¨é¢å¯¹å¯¹æŠ—æ ·æœ¬æ”»å‡»æ—¶æ˜¯è„†å¼±çš„ã€‚ 2. Target Models and Datasets: â€‹ è¿™é‡Œä½¿ç”¨çš„æ–‡æœ¬åˆ†ç±»å™¨æ˜¯Zhang et al. 2015ã€ŠCharacter-level Convolutional Networks foe Text Classificationã€‹ï¼Œæ•°æ®é›†æ˜¯Lehmann et al.2014çš„DBpedia ontology datasetï¼ˆä¸€ä¸ªå¤šè¯­è¨€çŸ¥è¯†åº“ï¼‰ï¼Œé‡Œé¢åŒ…æ‹¬560000ä¸ªè®­ç»ƒæ ·æœ¬å’Œ70000ä¸ªæµ‹è¯•æ ·æœ¬ï¼Œæ¶µç›–14ä¸ªhigh-level ç±»ï¼Œæ¯”å¦‚å…¬å¸ç±»ã€å»ºç­‘ç±»ã€ç”µå½±ç±»ç­‰ã€‚ â€‹ åœ¨æŠŠæ ·æœ¬é€è¿›ç½‘ç»œå‰ï¼Œéœ€è¦ç”¨ç‹¬çƒ­ç¼–ç æ³•ï¼ˆone-hot representationï¼‰å¯¹æ¯ä¸ªå­—æ¯ç¼–ç æˆä¸€ä¸ªå‘é‡ã€‚é€šè¿‡ç½‘ç»œçš„å…­ä¸ªå·ç§¯å±‚ã€ä¸‰ä¸ªå…¨è¿æ¥å±‚ï¼Œæœ€ç»ˆä¼šè¢«åˆ†åˆ°14ä¸ªç±»ä¸­ã€‚ 3. White-Box-Attacks: 3.1 FGSMç®—æ³•ï¼š â€‹ FGSMæ˜¯Goodfellowåœ¨2015å¹´æå‡ºçš„å¯¹å›¾ç‰‡ç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„ç»å…¸ç®—æ³•ã€‚ä½¿ç”¨ç±»ä¼¼çš„æ€è·¯æ¥åœ¨æ–‡æœ¬é¢†åŸŸç”Ÿæˆå¯¹æŠ—æ ·æœ¬ç»“æœå¹¶ä¸å¥½ï¼š 3.2 Idenfitying Classification-important Items: â€‹ åœ¨ç™½ç›’æ”»å‡»ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®šä½æ–‡æœ¬ä¸­å¯¹äºåˆ†ç±»å™¨çš„åˆ†ç±»ç»“æœèµ·åˆ°å¾ˆå¤§ä½œç”¨çš„æ–‡æœ¬æ®µï¼ˆé€šè¿‡è®¡ç®—ä»£ä»·æ¢¯åº¦ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨Hot Training Phrases (HTPs)ä»£è¡¨æœ€å¸¸ä½¿ç”¨çš„çŸ­è¯­ï¼š â€‹ HTPSè¡¨æ˜äº†ç”¨ä»€ä¹ˆçŸ­è¯­/è¯å»åšæ‰°åŠ¨ï¼Œä½†æ˜¯æ²¡æœ‰è¯´åœ¨å“ªé‡Œåšã€‚åœ¨è¿™é‡Œä½¿ç”¨Hot Sample Phrases (HSPs)æ¥è¡¨æ˜åœ¨å“ªé‡Œåšæ‰°åŠ¨ã€‚ 3.3 Attacking Character-level DNN: â€‹ æˆ‘ä»¬çš„æ–¹æ³•æ˜¯ä¸€ç§targetedæ”»å‡»ï¼Œå¯ä»¥æŒ‡å®šå¯¹æŠ—æ ·æœ¬çš„è¯¯å¯¼ç±»å‹ã€‚ 3.3.1 Insertion Strategyï¼ˆæ’å…¥ç­–ç•¥ï¼‰: â€‹ åœ¨æŸä¸ªHSPå‰æ’å…¥ä¸€ä¸ªHTPï¼Œå°±å¯ä»¥è¾¾åˆ°æ•ˆæœï¼š â€‹ ç”±ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œå°†æŸä¸ªHTPï¼ˆhistoricï¼‰æ’å…¥åˆ°HSPï¼ˆprincipal stock exchange of Uganda. It was foundedï¼‰ä¹‹å‰ï¼Œå°±å¯ä»¥ä½¿ä¸€ä¸ªå…¬å¸çš„åˆ†ç±»æ–‡æœ¬å˜ä¸ºå¯¹å»ºç­‘çš„åˆ†ç±»ã€‚ â€‹ å®é™…ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è¿›è¡Œå¤šæ¬¡æ’å…¥ï¼Œä½†æ’å…¥æ¬¡æ•°è¿‡å¤šä¼šå½±å“æ ·æœ¬çš„æ•ˆç”¨å’Œå¯è¯»æ€§ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œå¼•å…¥NLæ°´å°æŠ€æœ¯ï¼ˆNatural Language watermarking techniqueï¼‰ã€‚è¯¥æŠ€æœ¯å¯ä»¥é€šè¿‡è¯­ä¹‰æˆ–å¥æ³•æ“ä½œå°†æ‰€æœ‰æƒæ°´å°éšå½¢åœ°åµŒå…¥åˆ°æ™®é€šæ–‡æœ¬ä¸­,è™½ç„¶æˆ‘ä»¬çš„æ”»å‡»ç›®æ ‡ä¸NLæ°´å°æœ‰æœ¬è´¨çš„ä¸åŒï¼Œä½†æˆ‘ä»¬å¯ä»¥å€Ÿç”¨å®ƒçš„æ€æƒ³æ¥æ„é€ å¯¹æŠ—æ ·æœ¬ã€‚å®é™…ä¸Šï¼Œæ‰°åŠ¨å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§æ°´å°ï¼Œå¹¶ä»¥ç±»ä¼¼çš„æ–¹å¼åµŒå…¥åˆ°æ ·æœ¬ä¸­ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ‹“å±•è¿™ä¸ªæ€è·¯ï¼Œåœ¨æ ·æœ¬ä¸­æ’å…¥Presupposition(è¯»è€…ç†ŸçŸ¥çš„æ¨¡ç³ŠçŸ­è¯­)å’Œ semantically empty phrasesï¼ˆå¯æœ‰å¯æ— çš„çŸ­è¯­ï¼‰ï¼Œæœ‰æ²¡æœ‰ä»–ä»¬ï¼Œåœ¨è¯»è€…çœ‹æ¥ï¼ŒåŸæ–‡çš„æ„æ€ä¸ä¼šæ”¹å˜ã€‚ â€‹ æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬è€ƒè™‘å°†å„ç§HTPSç»„åˆæˆä¸€ä¸ªè¯­æ³•å•å…ƒåå†åµŒå…¥åˆ°æ–‡æœ¬ä¸­ï¼Œæ–°çš„å•å…ƒå¯ä»¥æ˜¯ç”Ÿæˆçš„å¯æœ‰å¯æ— çš„èµ„æ–™ï¼Œæˆ–è€…ç”šè‡³æ˜¯ä¸ä¼šæ”¹å˜æ–‡æœ¬åŸæ„çš„ä¼ªé€ çš„èµ„æ–™ã€‚ â€‹ ç‰¹åˆ«çš„ï¼Œé€šè¿‡äº’è”ç½‘æœç´¢æˆ–è€…æŸ¥æ‰¾ä¸€äº›æ•°æ®é›†ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸æ’å…¥ç‚¹å¾ˆç›¸å…³çš„èµ„æ–™ï¼ŒåŒ…æ‹¬ä¸€äº›æœŸæœ›çš„ç›®æ ‡åˆ†ç±»çš„HTPsã€‚ â€‹ ç”±äºæˆ‘ä»¬ä¸èƒ½æ€»æ˜¯æ‰¾åˆ°åˆé€‚çš„HTPsï¼Œæ‰€ä»¥æå‡ºä¸€ä¸ªæ–°æ¦‚å¿µâ€”â€”ä¼ªé€ çš„äº‹å®ï¼ˆforged factï¼‰ï¼Œä¹Ÿå°±æ˜¯æ’å…¥å¾ˆéš¾è¯ä¼ªçš„HTPsã€‚ä¾‹å¦‚ï¼š â€‹ æ­¤å¤–ï¼Œæˆ‘ä»¬æ’é™¤äº†ä¼ªé€ çš„äº‹å®ï¼Œè¿™äº›äº‹å®å¯ä»¥é€šè¿‡æ£€ç´¢ä»–ä»¬åœ¨ç½‘ä¸Šçš„ç›¸åè¯æ®è€Œè¢«å¦è®¤ã€‚ 3.3.2 Modification Strategyï¼ˆä¿®æ”¹ç­–ç•¥ï¼‰ï¼š â€‹ Moidficationå°±æ˜¯è½»å¾®ä¿®æ”¹ä¸€äº›HSPã€‚ â€‹ ä¸ºäº†è®©ä¿®æ”¹ä¸è¢«äººç±»è§‚å¯Ÿè€…å‘ç°ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†typo-based watermarking æŠ€æœ¯ã€‚å…·ä½“çš„è¯´ï¼Œä¸€ä¸ªHSPå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥è¢«ä¿®æ”¹ï¼š â€‹ 1. ä»ç›¸å…³çš„è¯­æ–™åº“ä¸­é€‰æ‹©å¸¸è§çš„æ‹¼å†™é”™è¯¯æ¥æ›¿æ¢å®ƒï¼› â€‹ 2. æŠŠå®ƒçš„ä¸€äº›å­—ç¬¦ä¿®æ”¹æˆç±»ä¼¼çš„å¤–è§‚ï¼ˆä¾‹å¦‚å°å†™å­—æ¯'l'ä¸é˜¿æ‹‰ä¼¯æ•°å­—â€˜1â€™å¾ˆåƒï¼‰ã€‚ â€‹ â€‹ ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ–¹å¼å¯¹åˆ†ç±»ç»“æœçš„æ‰°åŠ¨æ˜¯å·¨å¤§çš„ã€‚ 3.3.3 Removal Strategyï¼ˆç§»é™¤ç­–ç•¥ï¼‰: â€‹ ç§»é™¤ç­–ç•¥å•ç‹¬ä½¿ç”¨ä¹Ÿè®¸å¹¶ä¸èƒ½è¶³å¤Ÿæœ‰æ•ˆåœ°å½±å“é¢„æµ‹ç»“æœï¼Œä½†æ˜¯å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½åŸå§‹é¢„æµ‹ç±»å‹çš„ç½®ä¿¡åº¦ã€‚ â€‹ ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œç§»é™¤'British'å¯ä»¥å¯¼è‡´åŸå§‹é¢„æµ‹ç±»å‹çš„ç½®ä¿¡åº¦ä¸‹é™äº†35%ã€‚ 3.3.4 Combination of Three Strategies: â€‹ å¦‚å›¾6æ‰€ç¤ºï¼Œå•é å»é™¤ç­–ç•¥æ”¹å˜è¾“å‡ºåˆ†ç±»å¾€å¾€æ˜¯å›°éš¾çš„ã€‚ä½†æ˜¯ï¼Œé€šè¿‡ä¸å…¶ä»–ç­–ç•¥ç›¸ç»“åˆï¼Œå¯ä»¥é¿å…å¯¹åŸæ–‡è¿›è¡Œè¿‡å¤šçš„ä¿®æ”¹æˆ–æ’å…¥ã€‚åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ç»“åˆä»¥ä¸Šä¸‰ç§ç­–ç•¥æ¥åˆ¶ä½œå¾®å¦™çš„å¯¹æŠ—æ ·æœ¬ã€‚ â€‹ ä»¥å›¾7ä¸ºä¾‹ï¼Œé€šè¿‡å»é™¤ä¸€ä¸ªHSPã€æ’å…¥ä¸€ä¸ªä¼ªé€ äº‹å®å’Œä¿®æ”¹ä¸€ä¸ªHSPï¼Œå¯ä»¥æˆåŠŸåœ°æ”¹å˜è¾“å‡ºåˆ†ç±»ï¼Œä½†å•ç‹¬åº”ç”¨ä¸Šè¿°ä»»ä½•æ‰°åŠ¨éƒ½å¤±è´¥ã€‚å…·ä½“æ¥è¯´ï¼Œåˆ é™¤ã€æ’å…¥å’Œä¿®æ”¹ä»…ä½¿ç½®ä¿¡åº¦åˆ†åˆ«ä¸‹é™27.3 %ã€17.5 %å’Œ10.1 %ï¼Œä¿æŒé¢„æµ‹ç±»ä¸å˜ã€‚ 4. Black-Box-Attack: æš‚ç•¥ 5. Evaluationï¼š 5.1 æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¦æ‰§è¡Œæœ‰æ•ˆçš„æº/ç›®æ ‡è¯¯åˆ†ç±»æ”»å‡»? â€‹ ç­”ï¼šåœ¨ä¼—å¤šæµ‹è¯•é›†ä¸­ï¼Œåªæœ‰DBpedia ontologyæ•°æ®é›†æ˜¯ä¸€ä¸ªå¤šåˆ†ç±»æ•°æ®é›†ï¼Œæ•…æˆ‘ä»¬åœ¨å…¶ä¸­éšæœºé€‰å–äº†ä¸€äº›æ ·æœ¬ï¼š 5.2 æ‰€ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬èƒ½å¦é¿å…è¢«äººç±»è§‚å¯Ÿè€…è®¤å‡ºæ¥ï¼Œå¹¶åŒæ—¶ä¿æŒå…¶åŠŸèƒ½æ€§ï¼Ÿ ç­”ï¼šæˆ‘ä»¬æ‰¾äº†23ä¸ªå­¦ç”Ÿã€‚ä»–ä»¬å¯¹é¡¹ç›®ä¸äº†è§£ï¼Œç„¶åæ¯ä¸ªäººç»™20ä¸ªæ–‡æœ¬ï¼Œå…¶ä¸­ä¸€åŠæ˜¯åŠ æ‰°çš„ã€‚è®©ä»–ä»¬åˆ†åˆ°14ä¸ªç±»ä¸­ï¼Œå¦‚æœä»–ä»¬è§‰å¾—å“ªä¸ªæ–‡æœ¬ä¸å¯¹åŠ²ï¼Œè®©ä»–ä»¬æŒ‡å‡ºæ¥ã€‚ â€‹ ä»–ä»¬æ€»çš„åˆ†ç±»æ­£ç¡®ç‡æ˜¯94.2%ï¼Œ10ä¸ªå¯¹æŠ—æ ·æœ¬çš„æ­£ç¡®ç‡æ˜¯94.8%ã€‚æ‰€ä»¥å®ç”¨æ€§è¿˜æ˜¯æœ‰çš„ã€‚ â€‹ ä»–ä»¬æ ‡æ³¨å‡ºäº†240é¡¹ä¿®æ”¹å¤„ï¼Œå…¶ä¸­12é¡¹ç¬¦åˆçœŸå®çš„ä¿®æ”¹ã€‚ä½†å®é™…ä¸Šæˆ‘ä»¬åšäº†594å¤„ä¿®æ”¹ã€‚ 5.3 æˆ‘ä»¬çš„æ–¹æ³•è¶³å¤Ÿæœ‰æ•ˆå—ï¼Ÿ ç­”ï¼šå®éªŒä¸­è®¡ç®—æ¢¯åº¦å’Œæ‰¾HTPsèŠ±äº†116å°æ—¶ã€‚14ä¸ªç±»çš„HTPsæ¯ä¸ªç±»èŠ±äº†8.29å°æ—¶ã€‚å¯¹æ‰€æœ‰çš„adversarialç¤ºä¾‹åªæ‰§è¡Œä¸€æ¬¡è®¡ç®—ã€‚åˆ¶ä½œä¸€ä¸ªå¯¹æŠ—æ€§çš„æ ·å“å¤§çº¦éœ€è¦10åˆ°20åˆ†é’Ÿã€‚å¯¹äºå¯¹æ‰‹æ¥è¯´ï¼Œè·å¾—ç†æƒ³çš„å¯¹æŠ—æ ·æœ¬æ˜¯å¯ä»¥æ¥å—çš„ã€‚å®é™…ä¸Šï¼Œå¥¹æˆ–ä»–æ„¿æ„èŠ±æ›´å¤šçš„æ—¶é—´æ¥åšè¿™ä»¶äº‹ã€‚ 6. Realted Works: â€‹ å¯ä»¥åšçš„æ–¹å‘ï¼š1.è‡ªåŠ¨ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼›ï¼ˆç„¶è€Œï¼ŒPapernotç­‰äºº(Papernot et al. 2016a)æå‡ºäº†ä¸€ç§åŸºäºé›…å¯æ¯”çŸ©é˜µçš„æ•°æ®é›†å¢å¼ºæŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯å¯ä»¥åœ¨ä¸è®¿é—®å…¶æ¨¡å‹ã€å‚æ•°æˆ–è®­ç»ƒæ•°æ®çš„æƒ…å†µä¸‹ï¼Œåœ¨æœ‰é™å¯¹è¾“å…¥è¾“å‡ºçš„åŸºç¡€ä¸Šï¼Œä¸ºç›®æ ‡dnnæä¾›æ›¿ä»£æ¨¡å‹ã€‚ä½œè€…è¿˜è¡¨æ˜ï¼Œä½¿ç”¨æ›¿ä»£æ¨¡å‹ä¹Ÿå¯ä»¥æœ‰æ•ˆåœ°åˆ¶ä½œå¯¹æŠ—æ ·æœ¬ï¼Œä»¥æ”»å‡»ç›®æ ‡DNNã€‚ï¼‰2.è¿ç§»ã€é»‘ç›’æ”»å‡»ï¼› â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"NLP","slug":"NLP","permalink":"http://example.com/tags/NLP/"},{"name":"DNN","slug":"DNN","permalink":"http://example.com/tags/DNN/"}],"author":"Shaw"},{"title":"Black-Box Attacks against RNN based Malware Detection Algorithms","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Black-Box Attacks against RNN based Malware Detection Algorithms","date":"2021-09-03T06:08:27.105Z","updated":"2022-07-16T02:09:39.316Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘Black-Box Attacks against RNN based Malware Detection Algorithms/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Black-Box%20Attacks%20against%20RNN%20based%20Malware%20Detection%20Algorithms/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘Black-Box Attacks against RNN based Malware Detection Algorithms æ—¶é—´ï¼š2017 ä½œè€…ï¼š Weiwei Hu åŒ—äº¬å¤§å­¦ â€‹ Ying Tan åŒ—äº¬å¤§å­¦ Abstractï¼š â€‹ 1. åŸæ–‡ï¼š â€‹ æœ€è¿‘çš„ç ”ç©¶è¡¨æ˜ï¼ŒåŸºäºæœºå™¨å­¦ä¹ çš„æ¶æ„è½¯ä»¶åˆ†ç±»ç®—æ³•åœ¨é¢å¯¹å¯¹æŠ—æ ·æœ¬æ”»å‡»æ—¶è¡¨ç°çš„ååˆ†è„†å¼±ã€‚è¿™äº›å·¥ä½œä¸»è¦é›†ä¸­äºé‚£äº›åˆ©ç”¨äº†æ··åˆç»´åº¦çš„ç‰¹å¾çš„è¿½è¸ªç®—æ³•ï¼Œä½†ä¸€äº›ç ”ç©¶è€…å·²ç»å¼€å§‹ä½¿ç”¨RNNï¼ŒåŸºäºAPIç‰¹å¾åºåˆ—æ¥è¾¨è¯†æ¶æ„è½¯ä»¶ã€‚ â€‹ è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ç§ç”¨äºç”Ÿæˆå¯¹æŠ—æ ·æœ¬åºåˆ—çš„åŸåˆ›ç®—æ³•ï¼Œå®ƒè¢«ç”¨äºæ”»å‡»åŸºäºRNNçš„æ¶æ„è½¯ä»¶åˆ†ç±»ç³»ç»Ÿã€‚å¯¹äºæ”»å‡»è€…æ¥è¯´ï¼Œé€šå¸¸ï¼ŒçŸ¥æ™“ç›®æ ‡RNNçš„å†…éƒ¨ç»“æ„å’Œæƒé‡æ˜¯å¾ˆéš¾çš„ã€‚äºæ˜¯ä¸€ä¸ªæ›¿ä»£çš„ç”¨äºè¿‘ä¼¼ç›®æ ‡RNNçš„RNNæ¨¡å‹å°±è¢«è®­ç»ƒäº†å‡ºæ¥ï¼Œæ¥ç€æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªRNNæ¥ä»åŸå§‹åºåˆ—è¾“å…¥ä¸­ç”Ÿæˆå¯¹æŠ—æ ·æœ¬åºåˆ—ã€‚ â€‹ æƒå¨ç»“æœè¡¨æ˜åŸºäºRNNçš„æ¶æ„è½¯ä»¶åˆ†ç±»ç®—æ³•ä¸èƒ½è¿½è¸ªå¤§å¤šæ•°æˆ‘ä»¬æ‰€ç”Ÿæˆçš„æ¶æ„å¯¹æŠ—æ ·æœ¬ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ç”Ÿæˆçš„æ¨¡å‹å¯ä»¥å¾ˆæœ‰æ•ˆçš„è§„é¿è¿½è¸ªç®—æ³•ã€‚ â€‹ 2. æ€»ç»“ï¼š â€‹ ä¸€ä¸ªå¯¹åŸºäºRNNçš„æ¶æ„æ ·æœ¬åˆ†ç±»å™¨çš„ç°ç›’æ”»å‡»ï¼Œæœ‰ä¸‰ä¸ªRNNï¼Œå—å®³è€…RNNï¼ˆæºRNNï¼‰ï¼Œæ›¿ä»£RNNï¼Œå¯¹æŠ—æ ·æœ¬ç”ŸæˆRNNã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Black-Box Attacks against RNN based Malware Detection Algorithms æ—¶é—´ï¼š2017 ä½œè€…ï¼š Weiwei Hu åŒ—äº¬å¤§å­¦ â€‹ Ying Tan åŒ—äº¬å¤§å­¦ Abstractï¼š â€‹ 1. åŸæ–‡ï¼š â€‹ æœ€è¿‘çš„ç ”ç©¶è¡¨æ˜ï¼ŒåŸºäºæœºå™¨å­¦ä¹ çš„æ¶æ„è½¯ä»¶åˆ†ç±»ç®—æ³•åœ¨é¢å¯¹å¯¹æŠ—æ ·æœ¬æ”»å‡»æ—¶è¡¨ç°çš„ååˆ†è„†å¼±ã€‚è¿™äº›å·¥ä½œä¸»è¦é›†ä¸­äºé‚£äº›åˆ©ç”¨äº†æ··åˆç»´åº¦çš„ç‰¹å¾çš„è¿½è¸ªç®—æ³•ï¼Œä½†ä¸€äº›ç ”ç©¶è€…å·²ç»å¼€å§‹ä½¿ç”¨RNNï¼ŒåŸºäºAPIç‰¹å¾åºåˆ—æ¥è¾¨è¯†æ¶æ„è½¯ä»¶ã€‚ â€‹ è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ç§ç”¨äºç”Ÿæˆå¯¹æŠ—æ ·æœ¬åºåˆ—çš„åŸåˆ›ç®—æ³•ï¼Œå®ƒè¢«ç”¨äºæ”»å‡»åŸºäºRNNçš„æ¶æ„è½¯ä»¶åˆ†ç±»ç³»ç»Ÿã€‚å¯¹äºæ”»å‡»è€…æ¥è¯´ï¼Œé€šå¸¸ï¼ŒçŸ¥æ™“ç›®æ ‡RNNçš„å†…éƒ¨ç»“æ„å’Œæƒé‡æ˜¯å¾ˆéš¾çš„ã€‚äºæ˜¯ä¸€ä¸ªæ›¿ä»£çš„ç”¨äºè¿‘ä¼¼ç›®æ ‡RNNçš„RNNæ¨¡å‹å°±è¢«è®­ç»ƒäº†å‡ºæ¥ï¼Œæ¥ç€æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªRNNæ¥ä»åŸå§‹åºåˆ—è¾“å…¥ä¸­ç”Ÿæˆå¯¹æŠ—æ ·æœ¬åºåˆ—ã€‚ â€‹ æƒå¨ç»“æœè¡¨æ˜åŸºäºRNNçš„æ¶æ„è½¯ä»¶åˆ†ç±»ç®—æ³•ä¸èƒ½è¿½è¸ªå¤§å¤šæ•°æˆ‘ä»¬æ‰€ç”Ÿæˆçš„æ¶æ„å¯¹æŠ—æ ·æœ¬ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ç”Ÿæˆçš„æ¨¡å‹å¯ä»¥å¾ˆæœ‰æ•ˆçš„è§„é¿è¿½è¸ªç®—æ³•ã€‚ â€‹ 2. æ€»ç»“ï¼š â€‹ ä¸€ä¸ªå¯¹åŸºäºRNNçš„æ¶æ„æ ·æœ¬åˆ†ç±»å™¨çš„ç°ç›’æ”»å‡»ï¼Œæœ‰ä¸‰ä¸ªRNNï¼Œå—å®³è€…RNNï¼ˆæºRNNï¼‰ï¼Œæ›¿ä»£RNNï¼Œå¯¹æŠ—æ ·æœ¬ç”ŸæˆRNNã€‚ 1. Introduction: ç°æœ‰çš„åŸºäºNæœºå™¨å­¦ä¹ çš„æ¶æ„è½¯ä»¶è¿½è¸ªç®—æ³•ä¸»è¦å°†ç¨‹åºè¡¨ç°ä¸ºå›ºå®šç»´åº¦çš„ç‰¹å¾å‘é‡ï¼Œç„¶åå°†å…¶åˆ†ç±»ä¸ºæ— å®³ç¨‹åºå’Œæ¶æ„è½¯ä»¶ï¼› ä¸¾ä¾‹ï¼Œåˆ©ç”¨APIçš„è°ƒç”¨åºåˆ—ï¼Œæˆ–è€…ä¸è¢«è°ƒç”¨çš„APIåºåˆ—è¿›è¡Œåˆ†ç±»ï¼› ã€11ã€‘å±•ç°äº†ï¼ŒåŸºäºå›ºå®šç»´åº¦ç‰¹å¾æ¥è¿›è¡Œæ¶æ„æ ·æœ¬åˆ†ç±»çš„ç®—æ³•ï¼Œé¢å¯¹å¯¹æŠ—æ ·æœ¬çš„æ”»å‡»æ˜¯è„†å¼±çš„ï¼› æœ€è¿‘ä¹Ÿæœ‰åˆ©ç”¨RNNè¿›è¡Œæ¶æ„æ ·æœ¬è¿½è¸ªä¸åˆ†ç±»çš„ï¼ŒRNNçš„è¾“å…¥å°±æ˜¯APIåºåˆ—ã€‚ 2. Adversarial Examples: â€‹ ä¸€äº›å…¶å®ƒçš„é’ˆå¯¹åºåˆ—çš„å¯¹æŠ—æ ·æœ¬æ”»å‡»ï¼š Nicolas Papernot, Patrick McDaniel, Ananthram Swami, and Richard Harang. Crafting adver\u0002 sarial input sequences for recurrent neural networks. In Military Communications Conference, MILCOM 2016-2016 IEEE, pages 49â€“54. IEEE, 2016. Kathrin Grosse, Nicolas Papernot, Praveen Manoharan, Michael Backes, and Patrick McDaniel. Adversarial perturbations against deep neural networks for malware classifification. arXiv preprint arXiv:1606.04435, 2016. 4. Attacking RNN based Malware Detection Algorithms 5. å®éªŒ â€‹ Adam ç”¨äºè®­ç»ƒæ‰€æœ‰æ¨¡å‹ï¼› â€‹ LSTMç”±äºå…¶åœ¨å¤„ç†é•¿åºåˆ—çš„ä¼˜ç§€è¡¨ç°ï¼Œä¹Ÿè¢«åº”ç”¨åœ¨å®éªŒçš„æ‰€æœ‰RNNä¸­ã€‚ 5.1 æ•°æ®é›†ï¼š â€‹ æ¥æºï¼šhttps://malwr.com/ ï¼ˆä¸€ä¸ªæ¶æ„æ ·æœ¬åˆ†æç½‘ç«™ï¼Œçˆ¬å–180ä¸ªé¡¹ç›®ï¼Œè¯¥ç½‘ç«™å¯ä»¥åˆ†æç”¨æˆ·ä¸Šä¼ çš„é¡¹ç›®ï¼Œå¹¶ç»™å‡ºå…¶APIåºåˆ—ï¼Œç½‘ç«™ä¸­70%çš„é¡¹ç›®éƒ½æ˜¯æ¶æ„æ ·æœ¬ï¼‰ â€‹ æ•°æ®é›†åˆ’åˆ†ï¼šä¸ºäº†æ¨¡æ‹ŸçœŸå®çš„æµ‹è¯•ç¯å¢ƒï¼Œæ•°æ®é›†åˆ’åˆ†å¦‚ä¸‹ï¼šï¼ˆ30%+10%ï¼‰ç”¨äºç”ŸæˆRNNï¼Œï¼ˆ30%+10%ï¼‰ç”¨äºå—å®³è€…RNNï¼Œ20%ç”¨äºæµ‹è¯•ã€‚ 5.2 å—å®³è€…RNNï¼š â€‹ å°è¯•äº†ä¸åŒæ¨¡å‹ï¼š â€‹ ç»“è®ºå¦‚ä¸‹ï¼š ä¸LSTMç›¸æ¯”ï¼ŒBiLSTMä¸èƒ½æå‡æ¨¡å‹çš„åˆ†ç±»è¡¨ç°ï¼› ä¸Average-Poolingç›¸æ¯”ï¼Œæ³¨æ„åŠ›æœºåˆ¶çš„æ•ˆæœæ›´å¥½ï¼› 5.3 ç”Ÿæˆï¼ˆå¯¹æŠ—æ ·æœ¬ï¼‰RNNæµ‹è¯•ç»“æœï¼š â€‹ ä»‹ç»å‚æ•°è§„èŒƒï¼š The hyper-parameters of the generative RNN and the substitute RNN were tuned separately for each black-box victim RNN. The learning rate and the regularization coeffificient were chosen by line search along the direction 0.01, 0.001, et al.. The Gumbel-Softmax temperature was searched in the range [1, 100]. Actually, the decoder length L in the generative RNN is also a kind of regularization coeffificient. A large L will make the generative RNN have strong representation ability, but the whole adversarial sequences will become too long, and the generative RNNâ€™s size may exceed the capacity of the GPU memory. Therefore, in our experiments we set L to 1. â€‹ â€‹ ç»™å‡ºå®éªŒç»“æœï¼š å¯¹äºæ‰€æœ‰RNNæ¨¡å‹ï¼Œæ”»å‡»éƒ½ååˆ†æœ‰æ•ˆï¼› äºLSTMçš„æ”»å‡»æ•ˆæœæœ€å·®ï¼Œæ•…æ›¿ä»£RNNå¯¹LSTMçš„æ‹Ÿåˆæ•ˆæœå¹¶ä¸å¥½ï¼› è®­ç»ƒé›†ä¸æµ‹è¯•é›†çš„æµ‹è¯•æ•ˆæœå·®åˆ«ä¸å¤§ï¼Œ æ¨¡å‹æ³›åŒ–èƒ½åŠ›å¼ºï¼› å³ä½¿æ›´æ¢äº†æ¨¡å‹ä¸è®­ç»ƒæ•°æ®é›†ï¼Œå¯¹æŠ—æ ·æœ¬ä»æ•ˆæœå¾ˆå¥½ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"},{"name":"RNN","slug":"RNN","permalink":"http://example.com/tags/RNN/"}],"author":"Shaw"},{"title":"Automatically Evading Classififiers----A Case Study on PDF Malware Classififiers","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Automatically Evading Classififiers----A Case Study on PDF Malware Classififiers","date":"2021-09-03T06:08:27.103Z","updated":"2021-09-03T06:23:11.007Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘Automatically Evading Classififiers----A Case Study on PDF Malware Classififiers/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Automatically%20Evading%20Classififiers----A%20Case%20Study%20on%20PDF%20Malware%20Classififiers/","excerpt":"","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Automatically Evading Classififiers----A Case Study on PDF Malware Classififiers æ—¶é—´ï¼š2016 ä½œè€…ï¼šWeilin Xu, Yanjun Qi, and David Evans å¼—å‰å°¼äºšå¤§å­¦ ä¼šè®®ï¼šNDSSï¼ˆccf_Bç±»ï¼‰ æ€»ç»“ï¼š ç™½ç›’é»‘ç›’ï¼Ÿ é»‘ç›’æ”»å‡»ï¼Œéœ€è¦çŸ¥é“ç”Ÿæˆæ ·æœ¬åœ¨ç›®æ ‡æ¨¡å‹ä¸­çš„è¾“å‡ºï¼ˆåˆ†ç±»åˆ†æ•°ï¼‰å’Œç›®æ ‡æ¨¡å‹æ‰€ä½¿ç”¨çš„ç‰¹å¾ï¼ˆç²—ç•¥çŸ¥é“ï¼‰ï¼› é’ˆå¯¹ä»€ä¹ˆç›®æ ‡ï¼Ÿ ä»…ä»…ä½¿ç”¨è¡¨å±‚ç‰¹å¾çš„åˆ†ç±»å™¨ï¼› æ”»å‡»æ–¹æ³•ï¼Ÿ 3.1 å¦‚ä½•åˆ¶é€ å¯¹æŠ—æ ·æœ¬ï¼Ÿ â€‹ ä½¿ç”¨é—ä¼ ç®—æ³•ï¼ˆGP-BASEDï¼‰è¿›è¡Œéšæœºæ‰°åŠ¨ 3.2 å¦‚ä½•åˆ¤åˆ«å¯¹æŠ—æ ·æœ¬çš„æ¶æ„èƒ½åŠ›ï¼Ÿ â€‹ ä½¿ç”¨oracle Abstract: â€‹ åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªä¸€èˆ¬åŒ–çš„æ–¹æ³•æ¥æ£€éªŒåˆ†ç±»å™¨çš„é²æ£’æ€§ï¼Œé€šè¿‡åœ¨ä¸¤ä¸ªPDFæ¶æ„æ ·æœ¬åˆ†ç±»å™¨ï¼ŒPDFrateå’ŒHidostä¸Šæ¥æ£€éªŒã€‚å…¶å…³é”®å°±æ˜¯éšæœºæ§åˆ¶ä¸€ä¸ªæ¶æ„æ ·æœ¬æ¥æ‰¾åˆ°ä¸€ä¸ªå¯¹æŠ—æ ·æœ¬ã€‚ â€‹ æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥è‡ªåŠ¨åœ°å¯¹500ä¸ªæ¶æ„æ ·æœ¬ç§å­ä¸­æ‰¾åˆ°å¯¹äºä¸¤ä¸ªPDFåˆ†ç±»å™¨çš„å¯¹æŠ—æ ·æœ¬ï¼Œæˆ‘ä»¬çš„ç»“æœæå‡ºäº†ä¸€ä¸ªä¸¥é‡çš„ç–‘é—®ï¼ŒåŸºäºè¡¨é¢ç‰¹å¾çš„åˆ†ç±»å™¨åœ¨é¢å¯¹å¯¹æŠ—æ ·æœ¬æ—¶æ˜¯å¦è¿˜æœ‰æ•ˆï¼Ÿ 1. Introduction: â€‹ ä¸»è¦è´¡çŒ®ï¼š 1. æå‡ºäº†ä¸€ä¸ªä¸€èˆ¬åŒ–çš„æ–¹æ³•ç”¨äºè‡ªåŠ¨å¯»æ‰¾åˆ†ç±»å™¨çš„å¯¹æŠ—æ ·æœ¬ï¼› 2. åˆ¶ä½œäº†ä¸€ä¸ªåŸå‹ç³»ç»Ÿç”¨äºè‡ªåŠ¨ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼› 3. æˆ‘ä»¬çš„ç³»ç»Ÿåœ¨å¯¹500ä¸ªæ¶æ„æ ·æœ¬ç§å­å¯»æ‰¾å¯¹æŠ—æ ·æœ¬çš„è¿‡ç¨‹ä¸­ï¼Œè¾¾åˆ°äº†100%çš„å‡†ç¡®ç‡ã€‚ 2. Overviewï¼š 2.1 Finding Evasive Samplesï¼š â€‹ æ•´ä½“æ€è·¯ï¼š â€‹ â€‹ oracleç”¨äºåˆ¤æ–­ä¸€ä¸ªæ ·æœ¬æ˜¯å¦å…·æœ‰æ¶æ„è¡Œä¸ºï¼› 3. PDF Malware and Classifiers 3.1 PDFmalware: â€‹ PDFæ–‡ä»¶çš„æ•´ä½“ç»“æ„ï¼š â€‹ â€‹ æ—©äº›çš„PDFæ¶æ„æ ·æœ¬ä¸€èˆ¬ä½¿ç”¨JavaScriptåµŒå…¥ï¼Œç”¨æˆ·åŒå‡»æ‰“å¼€æ—¶å‡ºå‘æ‰§è¡Œæ¶æ„è„šæœ¬ã€‚ â€‹ å› ä¸ºä¸æ˜¯æ‰€æœ‰çš„PDFæ¶æ„æ ·æœ¬éƒ½æ˜¯åµŒå…¥äº†JavaScriptä»£ç ï¼Œæœ€è¿‘çš„ä¸€äº›PDFæ¶æ„åˆ†ç±»å™¨å°±ç€é‡äºPDFæ–‡ä»¶çš„ç»“æ„åŒ–ç‰¹å¾ã€‚åœ¨æœ¬æ–‡ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯æ”»å‡»è¿™äº›æœ‰ä»£è¡¨æ€§çš„åŸºäºæ–‡ä»¶ç»“æ„åŒ–ç‰¹å¾çš„åˆ†ç±»å™¨ã€‚ 3.2 Target Classififiersï¼š â€‹ PDFrateï¼šä¸€ä¸ªä½¿ç”¨éšæœºæ£®æ—ç®—æ³•çš„åˆ†ç±»å™¨ã€‚ â€‹ Hidost:ä¸€ä¸ªSVMåˆ†ç±»å™¨ã€‚ â€‹ 4. Evading PDF Malware Classifiersï¼š 5. Experiment: 5.1 Dataset: â€‹ 5.2 Testï¼š â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"},{"name":"PDF","slug":"PDF","permalink":"http://example.com/tags/PDF/"}],"author":"Shaw"},{"title":"AD nlp Survey","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘AD nlp Survey","date":"2021-09-03T06:08:27.101Z","updated":"2022-07-16T02:09:27.229Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘AD nlp Survey/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91AD%20nlp%20Survey/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘AD nlp Survey ä½œè€…ï¼šWei Emma Zhangï¼ˆé˜¿å¾·è±å¾·å¤§å­¦ï¼Œæ¾³å¤§åˆ©äºšï¼‰ â€‹ QUAN Z. SHENGï¼ˆéº¦è€ƒç‘å¤§å­¦ï¼Œæ¾³å¤§åˆ©äºšï¼‰ â€‹ AHOUD ALHAZMIï¼ˆéº¦è€ƒç‘å¤§å­¦ï¼Œæ¾³å¤§åˆ©äºšï¼‰ â€‹ ææ™¨äº®ï¼ˆæ­¦æ±‰å¤§å­¦ï¼Œä¸­å›½ï¼‰ 1. å…³é”®è¯ï¼šDNNï¼Œå¯¹æŠ—æ ·æœ¬ï¼Œæ–‡æœ¬æ•°æ®ï¼ˆtextual dataï¼‰ï¼ŒNLP 2. æ‘˜è¦ï¼š ä¼ ç»Ÿå¯¹æŠ—æ ·æœ¬åŸºæœ¬éƒ½é’ˆå¯¹è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼› æœ¬è°ƒæŸ¥æä¾›é’ˆå¯¹åŸºäºDNNsçš„NLPå¯¹æŠ—æ ·æœ¬æ”»å‡»ï¼› ç”±äºCVä¸NLPæœ¬èº«ä¸åŒï¼Œæ–¹æ³•ä¸èƒ½ç›´æ¥ç§»æ¤ï¼› é›†æˆäº†æˆªæ­¢2017å¹´æ‰€æœ‰çš„ç›¸å…³æˆæœï¼Œç»¼åˆæ€§åœ°æ€»ç»“ï¼Œåˆ†æï¼Œè®¨è®ºäº†40ä¸ªä»£è¡¨æ€§å·¥ä½œï¼› ç®€å•ä»‹ç»äº†CVå’ŒNLPç›¸å…³çŸ¥è¯†ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘AD nlp Survey ä½œè€…ï¼šWei Emma Zhangï¼ˆé˜¿å¾·è±å¾·å¤§å­¦ï¼Œæ¾³å¤§åˆ©äºšï¼‰ â€‹ QUAN Z. SHENGï¼ˆéº¦è€ƒç‘å¤§å­¦ï¼Œæ¾³å¤§åˆ©äºšï¼‰ â€‹ AHOUD ALHAZMIï¼ˆéº¦è€ƒç‘å¤§å­¦ï¼Œæ¾³å¤§åˆ©äºšï¼‰ â€‹ ææ™¨äº®ï¼ˆæ­¦æ±‰å¤§å­¦ï¼Œä¸­å›½ï¼‰ 1. å…³é”®è¯ï¼šDNNï¼Œå¯¹æŠ—æ ·æœ¬ï¼Œæ–‡æœ¬æ•°æ®ï¼ˆtextual dataï¼‰ï¼ŒNLP 2. æ‘˜è¦ï¼š ä¼ ç»Ÿå¯¹æŠ—æ ·æœ¬åŸºæœ¬éƒ½é’ˆå¯¹è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼› æœ¬è°ƒæŸ¥æä¾›é’ˆå¯¹åŸºäºDNNsçš„NLPå¯¹æŠ—æ ·æœ¬æ”»å‡»ï¼› ç”±äºCVä¸NLPæœ¬èº«ä¸åŒï¼Œæ–¹æ³•ä¸èƒ½ç›´æ¥ç§»æ¤ï¼› é›†æˆäº†æˆªæ­¢2017å¹´æ‰€æœ‰çš„ç›¸å…³æˆæœï¼Œç»¼åˆæ€§åœ°æ€»ç»“ï¼Œåˆ†æï¼Œè®¨è®ºäº†40ä¸ªä»£è¡¨æ€§å·¥ä½œï¼› ç®€å•ä»‹ç»äº†CVå’ŒNLPç›¸å…³çŸ¥è¯†ã€‚ ### 3.Introduction: ç®€å•ä»‹ç»äº†å¯¹æŠ—æ ·æœ¬ï¼› å…³äºå¯¹æŠ—æ ·æœ¬çš„ç ”ç©¶å¯ä»¥ç®€å•åˆ†ä¸ºä¸‰ç±»ï¼š â‘  é€šè¿‡ä½¿ç”¨å¾®å°æ‰°åŠ¨æ¥æ¬ºéª—DNNï¼Œä»¥æ­¤æ¥è¯„ä¼°å®ƒï¼› â‘¡ åˆ»æ„æ”¹å˜DNNçš„è¾“å‡ºï¼› â‘¢ æ£€æµ‹DNNä¸­è¿‡æ•æ„Ÿå’Œè¿‡è¿Ÿé’çš„ç‚¹ï¼Œå¯»æ‰¾é˜²å¾¡æ”»å‡»çš„æ–¹æ³•ã€‚ ==ä¸èƒ½ç›´æ¥ä½¿ç”¨åŸºäºCVçš„å¯¹æŠ—æ ·æœ¬ç”Ÿæˆæ–¹æ³•çš„åŸå› ï¼š== ç›´æ¥å°†å¯¹å›¾åƒæ”»å‡»çš„å¯¹æŠ—æ ·æœ¬ç”Ÿæˆæ–¹æ³•åº”ç”¨åˆ°æ–‡æœ¬ä¸Šï¼Œå°†å¾—åˆ°æ¯«æ— æ„ä¹‰çš„è¯è¯­å’Œå¥å­ç‰‡æ®µã€‚è¿™æ˜¯å› ä¸ºåœ¨å¯¹å›¾åƒçš„å¯¹æŠ—æ ·æœ¬ç”Ÿæˆä¸­ï¼Œå³ä½¿ç•¥å¾®æ”¹å˜æ¯ä¸ªåƒç´ çš„ç°åº¦ï¼Œè‚‰çœ¼ä¹Ÿå¯ä»¥è¯†åˆ«åŸæ¥çš„å›¾åƒï¼›ä½†æ˜¯å¯¹äºæ–‡æœ¬ä¸²æ¥è¯´ï¼Œå³ä½¿æ”¹å˜ä¸€ä¸ªå­—æ¯ï¼Œè¯­å¥çš„è¯­ä¹‰ä¹Ÿå°†å®Œå…¨ä¸åŒæˆ–å‡ºé”™ã€‚ ==ç›¸å…³ç ”ç©¶ï¼š== Reference [i] = ã€iã€‘ â€‹ â‘  ã€9ã€‘ï¼šå¯¹é’ˆå¯¹ä¸åŒç±»åˆ«çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„æ”»å‡»ä¸é˜²å¾¡åšäº†ç»¼åˆæ€§æ¦‚è¿°ï¼Œæå‡ºäº†ä¸€ç§ç”¨äºè¾¨è¯†å’Œåˆ†æè¿™äº›æ”»å‡»çš„åˆ†ç±»æ–¹æ³•ï¼Œå¹¶å°†å°†è¿™äº›æ”»å‡»åº”ç”¨åˆ°åŸºäºæœºå™¨å­¦ä¹ çš„åº”ç”¨ä¸Šæ¥è¯æ˜è¿™äº›æ”»å‡»æˆ–è€…é˜²å¾¡æ‰‹æ®µçš„æœ‰æ•ˆæ€§ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç»Ÿè®¡åƒåœ¾é‚®ä»¶è¿‡æ»¤å™¨ã€‚ â€‹ â‘¡ ã€13ã€‘ï¼šä½œè€…ä¿¯ç°äº†è¿‘åå¹´ï¼ˆ2008-2018ï¼‰å¯¹æŠ—æ ·æœ¬æ”»å‡»çš„å‘å±•å²ï¼Œèšç„¦ç‚¹åœ¨äºCVå’Œç½‘ç»œç©ºé—´å®‰å…¨ã€‚å¯¹éæ·±åº¦å­¦ä¹ ç®—æ³•å’Œæ·±åº¦å­¦ä¹ ç®—æ³•éƒ½åšäº†ä»‹ç»ï¼Œä¹Ÿä»å®‰å…¨çš„è§’åº¦ä»”ç»†åˆ†æäº†è¿™äº›æ”»å‡»å’Œé˜²å¾¡æ‰‹æ®µçš„å½±å“ã€‚ â€‹ â‘¢ ã€79ã€‘ï¼šä¸ã€13ã€‘é˜è¿°çš„é—®é¢˜ç±»ä¼¼ï¼Œä»æ•°æ®é©±åŠ¨çš„è§’åº¦ã€‚ â€‹ â‘£ ã€154ã€‘ï¼šèšç„¦äºå¯¹æŠ—æ ·æœ¬åœ¨æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸Šçš„ä½¿ç”¨ã€‚ä»‹ç»äº†æœ€è¿‘çš„å‡ ç§ä¸åŒçš„åœ¨åº”ç”¨ä¸Šå¯¹DNNçš„æ”»å‡»ï¼ŒåŒæ—¶å…¨é¢è°ƒæŸ¥äº†é˜²å¾¡æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå…¶åªè®¨è®ºäº†å¯¹æŠ—æ ·æœ¬åœ¨å›¾åƒåˆ†ç±»å’Œç‰©å“è¯†åˆ«ä¸Šçš„æ”»å‡»ã€‚ â€‹ â‘¤ ã€2ã€‘ï¼šè¯¦ç»†é˜è¿°äº†å¯¹æŠ—æ ·æœ¬åœ¨CVä¸Šçš„åº”ç”¨ï¼Œæ˜¯ä¸€ç¯‡åº”ç”¨ç¨‹åºä¸»å¯¼çš„è°ƒæŸ¥ã€‚ â€‹ â‘¥ ã€35ã€‘ï¼šä»å®‰å…¨çš„è§’åº¦é˜è¿°äº†å¯¹æŠ—æ ·æœ¬çš„é˜²å¾¡æ‰‹æ®µã€‚ï¼ˆä¸ä»…ä»æœºå™¨å­¦ä¹ ç®—æ³•æˆ–è€…ç¥ç»æ¨¡å‹ä¸Šï¼Œä»æ‰€æœ‰ä¸å®‰å…¨ç›¸å…³çš„åº”ç”¨ä¸Šé˜è¿°å¯¹æŠ—æ ·æœ¬é˜²å¾¡ï¼‰ä½œè€…å‘ç°ç°æœ‰çš„ä¸é˜²å¾¡ç›¸å…³çš„å®‰å…¨å·¥ä½œç¼ºä¹æ¸…æ™°çš„å¯¹æ”»å‡»å¦‚ä½•ä¸çœŸå®å®‰å…¨é—®é¢˜ç›¸å…³è”çš„åŠ¨æœºå’Œè§£é‡Šï¼Œä»¥åŠè¿™äº›æ”»å‡»å’Œé˜²å¾¡å¦‚ä½•è¢«æœ‰æ„ä¹‰åœ°è¡¡é‡ï¼Œæ•…æå‡ºäº†ä¸€ç§åˆ†ç±»æ–¹æ³•ç”¨äºè¡¡é‡è¿™äº›ã€‚ 4. Overview ï¼ˆå¯¹æŠ—æ ·æœ¬æ”»å‡» and æ·±åº¦å­¦ä¹ åœ¨NLPä¸­çš„åº”ç”¨ï¼‰: ç»™å‡ºäº†DNNï¼ŒPerturbationsï¼ŒAdversarial Examplesçš„å®šä¹‰ï¼› ä»‹ç»äº†Treat Modelï¼š 2.1 Granularityï¼ˆé¢—ç²’åº¦ï¼‰:æ”»å‡»çš„é¢—ç²’åº¦æŒ‡çš„æ˜¯å¯¹æŠ—æ ·æœ¬ç”Ÿæˆçš„æ•°æ®ç­‰çº§ï¼Œä¾‹å¦‚å¯¹å›¾åƒæ•°æ®é€šå¸¸æ˜¯åƒç´ ï¼Œå¯¹æ–‡æœ¬æ•°æ®å°±æ˜¯å­—æ¯ï¼Œå•è¯ï¼Œå¥å­åµŒå…¥ç­‰çº§ã€‚ 2.2 Motivationï¼ˆåŠ¨æœºï¼‰ï¼šç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„åŠ¨æœºé€šå¸¸æœ‰ä¸¤ç§ï¼Œæ”»å‡»å’Œé˜²å¾¡ï¼š1.æ”»å‡»çš„ç›®çš„æ˜¯æ£€éªŒDNNçš„å¥å£®æ€§ï¼›2. é˜²å¾¡çš„ç›®çš„æ˜¯ä½¿DNNæ›´åŠ ç¨³å›ºï¼Œç¬¬äº”éƒ¨ä¼šç»™å‡ºæ›´è¯¦ç»†çš„è®²è§£ã€‚ ä»‹ç»äº†Measurementsï¼ˆè¯„ä»·adversarial attackçš„æ–¹æ³•ï¼‰ï¼š 3.1 æ§åˆ¶æ‰°åŠ¨ï¼ˆPerturbation Constraintï¼‰ï¼š â€‹ æ ¹æ®å‰é¢æ‰€è¿°ï¼Œæ‰°åŠ¨ Î· åº”è¯¥ä¸å½±å“æ ·æœ¬åŸæ¥çš„çœŸå®åˆ†ç±»ï¼Œæ•…å¦‚æœä¸€ä¸ªåˆ†ç±»å™¨æ˜¯ç†æƒ³çš„ï¼Œé‚£ä¹ˆæ‰°åŠ¨åçš„æ ·æœ¬åº”ä¸å½±å“å…¶åˆ†ç±»ç»“æœï¼› Î· åŒæ—¶ä¹Ÿä¸èƒ½å¤ªå°ï¼Œä»¥é¿å…å¯¹ç›®æ ‡DNNæ²¡æœ‰å½±å“ã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæœ‰æ•ˆæ‰°åŠ¨æ˜¯åœ¨ä¸€å®šèŒƒå›´å†…æœ€æœ‰æ•ˆæœçš„å™ªå£°ã€‚ â€‹ ã€132ã€‘é¦–æ¬¡åœ¨å›¾åƒå¯¹æŠ—æ ·æœ¬æ”»å‡»ä¸­çº¦æŸäº†(x + Î·) âˆˆ [0, 1]n çš„èŒƒå›´ï¼Œä»¥ä¿è¯å¯¹æŠ—æ ·æœ¬ä¸åŸå§‹æ•°æ®æœ‰ç€ç›¸åŒçš„åƒç´ ç­‰çº§ã€‚ â€‹ ã€40ã€‘ç®€åŒ–äº†é—®é¢˜çš„è§£å†³æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨äº†æ— ç©·èŒƒæ•°æ¥é™åˆ¶æ‰°åŠ¨ï¼Œ==è¿™å—åˆ°ç›´è§‰çš„å¯å‘ï¼Œå³ä¸€ä¸ªä¸æ”¹å˜ä»»ä½•ç‰¹å®šåƒç´ çš„æ‰°åŠ¨é‡è¶…è¿‡ä¸€å®šé‡ Ïµ å°±ä¸èƒ½æ”¹å˜è¾“å‡ºç±»ã€‚==ï¼ˆPS:WHYï¼Ÿï¼‰æ— ç©·èŒƒæ•°åœ¨å›¾åƒ/ç‰©å“åˆ†ç±»è¯†åˆ«ä»»åŠ¡ä¸­æ˜¯è¶³å¤Ÿæœ‰æ•ˆçš„ï¼Œå…¶ä»–çš„èŒƒæ•°ï¼Œä¾‹å¦‚L0å’ŒL2èŒƒæ•°ï¼Œè¿‡å»è¢«ç”¨äºåœ¨å¯¹CVçš„DNNæ”»å‡»ä¸­é™åˆ¶æ‰°åŠ¨ã€‚åœ¨æ–‡æœ¬å¯¹æŠ—æ ·æœ¬æ”»å‡»ä¸­ï¼Œè¿™æœ‰æ‰€ä¸åŒï¼Œç¬¬3.3èŠ‚ä¼šç»™å‡ºæ›´å¤šç»†èŠ‚ã€‚ 3.2 è¯„ä¼°æ”»å‡»çš„æœ‰æ•ˆæ€§ï¼ˆAttack Evaluationï¼‰ï¼š â€‹ å¯¹æŠ—æ ·æœ¬æ”»å‡»æ—¨åœ¨é™ä½DNNsçš„æ€§èƒ½ï¼Œå› æ­¤ï¼Œè¯„ä¼°æ”»å‡»çš„æœ‰æ•ˆæ€§æ˜¯åŸºäºä¸åŒä»»åŠ¡çš„æ€§èƒ½æŒ‡æ ‡ã€‚ä¾‹å¦‚ï¼Œåˆ†ç±»ä»»åŠ¡ä¸­æœ‰è¯„ä»·æŒ‡æ ‡å‡†ç¡®åº¦ï¼ŒF1-scoreï¼ŒAUC-scoreã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é’ˆå¯¹ä¸åŒNLPçš„è¯„ä»·æ ‡å‡†ä½œä¸ºè¶…èŒƒå›´å†…å®¹ï¼Œå¹¶å»ºè®®è¯»è€…å‚è€ƒç‰¹å®šçš„ä¿¡æ¯ã€‚ â€‹ ==ä»¥ä¸Šæ˜¯æ€»ä½“åˆ†ç±»ä¸ä¿¡æ¯== â€‹ ==ä»¥ä¸‹æ˜¯æ·±åº¦å­¦ä¹ åœ¨NLPä¸­çš„åº”ç”¨== â€‹ é™¤äº†å‘å‰ä¼ æ’­çš„ç¥ç»ç½‘ç»œå’ŒCNNï¼ŒRNNåŠå…¶å˜å¼ç”±äºå…¶å¤©ç„¶çš„å¤„ç†åºåˆ—çš„èƒ½åŠ›ï¼Œä¹Ÿè¢«ç”¨äºNLPä¸­ã€‚ è¿‘å‡ å¹´æ·±åº¦å­¦ä¹ å¯¹NLPçš„é‡å¤§å½±å“ï¼š 1.1 åºåˆ—å­¦ä¹ ï¼ˆsequence-to-sequence learningï¼‰ 1.2 æ³¨æ„åŠ›æœºåˆ¶ï¼ˆattention mechanismï¼‰ 1.3 å¼ºåŒ–å­¦ä¹ ï¼ˆreinforcement learningï¼‰å’Œç”Ÿæˆæ¨¡å‹ï¼ˆgenerative modelsï¼‰ å…·ä½“è¯¦ç»†çš„ç¥ç»ç½‘ç»œåœ¨NLPä¸­çš„åº”ç”¨è§ã€100ã€‘ï¼Œã€152ã€‘ Feed-Forward Networks: ç¼ºç‚¹ï¼šä¸èƒ½å¾ˆå¥½åœ°å¤„ç†å¯¹äºè¯è¯­é¡ºåºå¾ˆé‡è¦çš„æ–‡æœ¬åºåˆ—ï¼Œå› ä¸ºå…¶å¹¶ä¸è®°å½•å…ƒç´ çš„é¡ºåºã€‚ä¸ºäº†è¯„ä»·å…¶å¥å£®æ€§ï¼Œå¾€å¾€é’ˆå¯¹ä¸“é—¨è®¾è®¡çš„å‰é¦ˆç½‘ç»œç”Ÿæˆå¯¹æŠ—å®ä¾‹ï¼Œã€3ã€‘ï¼Œã€43ã€‘ï¼Œã€44ã€‘ä½œè€…ç ”ç©¶äº†æŒ‡å®šçš„æ¶æ„è½¯ä»¶æ£€æµ‹æ¨¡å‹ã€‚ CNNï¼š â€‹ CNNè¯†åˆ«æœ¬åœ°é¢„æµ‹å› å­å¹¶å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ï¼Œä¸ºè¾“å…¥ç”Ÿæˆä¸€ä¸ªå›ºå®šå¤§å°çš„å‘é‡ï¼Œè¯¥å‘é‡åŒ…å«æ•°æ®ä¸­æœ€é‡è¦æˆ–æœ€é‡è¦çš„ä¿¡æ¯æ–¹é¢ã€‚ â€‹ CNNå¯¹é¡ºåºæ•æ„Ÿï¼Œå› æ­¤ï¼Œå®ƒæ“…é•¿åšè®¡ç®—æœºè§†è§‰ï¼Œéšåè¢«å¹¿æ³›ç”¨äºNLPåº”ç”¨ã€‚ â€‹ å·ç§¯æ“ä½œè¢«ç®€ç›´åœ¨è¯çš„åºåˆ—æ–¹å‘ä¸Šï¼Œè€Œä¸æ˜¯è¯çš„åµŒå…¥ã€‚ â€‹ ä¸¤ä¸ªç»å…¸å·¥ä½œï¼š1. ã€59ã€‘ä½¿ç”¨CNNå’ŒWord2Vecè¿›è¡Œå¥å­åˆ†ç±» 2.ã€156ã€‘ä½¿ç”¨CNNå’Œçƒ­ç‹¬ç¼–ç è¿›è¡Œæ–‡æœ¬åˆ†ç±»ã€‚ RNNï¼š â€‹ ä¸»è¦ä»‹ç»RNNåŠå…¶å˜å¼ï¼ˆLSTMï¼ŒGRUï¼‰ Seq2Seqï¼ˆsequence-to-sequence learningï¼‰ï¼š â€‹ Seq2Seqæ¨¡å‹å…·æœ‰ä¼˜è¶Šçš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿä¸ºå…·æœ‰ç¼–ç å™¨-è§£ç å™¨ç»“æ„çš„ç»™å®šåºåˆ—ä¿¡æ¯ç”Ÿæˆå¦ä¸€ä¸ªåºåˆ—ä¿¡æ¯. â€‹ é€šå¸¸ï¼Œä¸€ä¸ªSeq2seqç”±ä¸¤ä¸ªRNNç»“æ„ç»„æˆï¼Œä¸€ä¸ªç”¨äºç¼–ç ï¼Œä¸€ä¸ªç”¨äºè§£ç ã€‚VHREDæ˜¯ä¸€ä¸ªæœ€è¿‘å¾ˆå—æ¬¢è¿çš„Seq2seqæ¨¡å‹ï¼Œå®ƒåˆ©ç”¨å­åºåˆ—ä¹‹é—´çš„å¤æ‚ä¾èµ–å…³ç³»ç”Ÿæˆåºåˆ—ã€‚ â€‹ ã€24ã€‘æ˜¯æœ€åˆçš„ä½¿ç”¨Seq2seqæ¨¡å‹çš„ç¥ç»æœºå™¨ç¿»è¯‘æ¨¡å‹ï¼ˆNMTï¼‰ä¹‹ä¸€ï¼› â€‹ ã€63ã€‘æ˜¯ä¸€ä¸ªæœ€è¿‘æå‡ºçš„ seq2seq NMTæ¨¡å‹ï¼Œæ˜¯æ­¤é¢†åŸŸçš„benchmarkï¼› â€‹ ã€22,30,98,127ã€‘æœ‰å¯¹å…¶çš„æ”»å‡»ã€‚ Attention Modelsï¼š â€‹ æ³¨æ„åŠ›æœºåˆ¶æœ€åˆè¢«è®¾è®¡ç”¨æ¥å…‹æœseq2seqæ¨¡å‹ä¸­å¯¹é•¿åºåˆ—ç¼–ç çš„é—®é¢˜ã€‚ â€‹ æ³¨æ„åŠ›å…è®¸è§£ç å™¨å›æº¯æºåºåˆ—çš„éšè—çŠ¶æ€ï¼Œç„¶åï¼Œéšè—çŠ¶æ€æä¾›ä¸€ä¸ªåŠ æƒå¹³å‡ä½œä¸ºè§£ç å™¨çš„é¢å¤–è¾“å…¥ã€‚ Reinforcement Learning Modelsï¼š â€‹ å¼ºåŒ–å­¦ä¹ é€šè¿‡åœ¨ä»£ç†æ‰§è¡Œç¦»æ•£åŠ¨ä½œåç»™äºˆå¥–åŠ±æ¥è®­ç»ƒä»£ç†ï¼Œåœ¨NLPä¸­ï¼Œå¼ºåŒ–å­¦ä¹ æ¡†æ¶é€šå¸¸ç”±ä¸€ä¸ªä»£ç†ï¼ˆDNNï¼‰ï¼Œä¸€ä¸ªç­–ç•¥éƒ¨åˆ†ï¼ˆç”¨äºæŒ‡å¯¼åŠ¨ä½œï¼‰å’Œå¥–åŠ±ç»„æˆã€‚ â€‹ ä»£ç†åŸºäºç­–ç•¥åšå‡ºä¸€ä¸ªåŠ¨ä½œï¼ˆä¾‹å¦‚é¢„æµ‹åºåˆ—ä¸­ä¸‹ä¸€ä¸ªå•è¯çš„ä½ç½®ï¼‰ï¼Œç„¶åç›¸åº”åœ°æ›´æ–°å…¶å†…éƒ¨çŠ¶æ€ï¼Œç›´åˆ°åˆ°è¾¾åºåˆ—çš„æœ«å°¾ï¼Œåœ¨è¿™é‡Œå¥–åŠ±å·²ç»è¢«è®¡ç®—å®Œæˆã€‚ â€‹ å¼ºåŒ–å­¦ä¹ éœ€è¦æ­£ç¡®å¤„ç†æ¯ä¸€æ­¥çš„åŠ¨ä½œå’ŒçŠ¶æ€ï¼Œè¿™å¯èƒ½ä¼šé™åˆ¶æ¨¡å‹çš„è¡¨ç°åŠ›å’Œå­¦ä¹ è§„æ¨¡ã€‚ä½†å®ƒåœ¨é¢å‘ä»»åŠ¡çš„å¯¹è¯ç³»ç»Ÿä¸­è·å¾—äº†å¾ˆå¤šå¥½å¤„ï¼Œå› ä¸ºå®ƒä»¬åœ¨å†³ç­–è¿‡ç¨‹å…±äº«ç€åŒä¸€æ ¹æœ¬åŸåˆ™ã€‚ Deep Generative Modelsï¼ˆæ·±å±‚ç”Ÿæˆæ¨¡å‹ï¼‰ï¼š â€‹ è¿‘äº›å¹´ï¼Œä¸¤ç§æ·±å±‚ç”Ÿæˆæ¨¡å‹è·å¾—äº†å¾ˆå¤šå…³æ³¨ï¼šGenera\u0002tive Adversarial Networks (GANs) ã€39ã€‘ and Variational Auto-Encoders (VAEs) â€‹ å…¶å¯ä»¥åœ¨æ½œåœ¨ç©ºé—´ä¸­ç”Ÿæˆä¸çœŸå®æ•°æ®åˆ†å‚ç›¸ä¼¼çš„æ•°æ®æ ·ä¾‹ï¼Œåœ¨NLPé¢†åŸŸï¼Œå®ƒä»¬è¢«ç”¨æ¥ç”Ÿæˆæ–‡æœ¬ã€‚ â€‹ 8.1 GANS: â€‹ Gansç”±ä¸¤ä¸ªå¯¹æŠ—ç½‘ç»œç»„æˆï¼šç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰å’Œé‰´åˆ«å™¨ï¼ˆdiscriminatorï¼‰ã€‚é‰´åˆ«å™¨çš„ä½œç”¨æ˜¯é‰´åˆ«çœŸå®æ ·æœ¬å’Œç”Ÿæˆæ ·æœ¬ï¼Œç”Ÿæˆå™¨çš„ä½œç”¨æ˜¯ç”Ÿæˆå¾ˆçœŸå®çš„ï¼Œç”¨äºæ¬ºéª—é‰´åˆ«å™¨çš„æ ·æœ¬ã€‚ â€‹ Ganä½¿ç”¨min-max loss functionæ¥åŒæ­¥è®­ç»ƒä¸¤ä¸ªç¥ç»ç½‘ç»œã€‚ â€‹ 8.2 VAESï¼š â€‹ Vaesç”±ç¼–ç å™¨ï¼ˆencoderï¼‰å’Œç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ç»„æˆã€‚ç¼–ç å™¨çš„ä½œç”¨æ˜¯å¯¹è¾“å…¥ç¼–ç ä¸ºæ½œåœ¨ç©ºé—´ï¼Œç”Ÿæˆå™¨çš„ä½œç”¨æ˜¯ä»æ½œåœ¨ç©ºé—´ä¸­ç”Ÿæˆæ ·æœ¬ã€‚ æ·±åº¦æ¨¡å‹éƒ½ä¸æ˜¯å¾ˆå¥½è®­ç»ƒï¼Œè¿™ä¸ªç¼ºç‚¹é˜»ç¢äº†å…¶åœ¨çœŸå®ä¸–ç•Œçš„åº”ç”¨ä¸­çš„å¹¿æ³›åº”ç”¨ï¼Œå°½ç®¡ä»–ä»¬å·²ç»è¢«ç”¨äºç”Ÿæˆæ–‡æœ¬ï¼Œä½†ç›®å‰æ²¡æœ‰å·¥ä½œå»ç”¨å¯¹æŠ—æ ·æœ¬æ£€éªŒå®ƒä»¬çš„å¥å£®æ€§ã€‚ 5. From image to text: ä¸€. æ„é€ å¯¹æŠ—æ ·æœ¬ï¼š ã€L-BFGS: â€‹ Szegedyã€132ã€‘ç­‰äººé¦–æ¬¡è¯æ˜äº†å¯ä»¥é€šè¿‡å¯¹å›¾åƒæ·»åŠ å°é‡çš„äººç±»å¯Ÿè§‰ä¸åˆ°çš„æ‰°åŠ¨è¯¯å¯¼æ·±åº¦ç¥ç»ç½‘ç»œå›¾åƒåˆ†ç±»å™¨åšå‡ºé”™è¯¯çš„åˆ†ç±»ã€‚ä»–ä»¬é¦–å…ˆå°è¯•æ±‚è§£è®©ç¥ç»ç½‘ç»œåšå‡ºè¯¯åˆ†ç±»çš„æœ€å°æ‰°åŠ¨çš„æ–¹ç¨‹ã€‚ä½œè€…è®¤ä¸ºï¼Œæ·±åº¦ç¥ç»ç½‘ç»œæ‰€å…·æœ‰çš„å¼ºå¤§çš„éçº¿æ€§è¡¨è¾¾èƒ½åŠ›å’Œæ¨¡å‹çš„è¿‡æ‹Ÿåˆæ˜¯å¯èƒ½äº§ç”Ÿå¯¹æŠ—æ€§æ ·æœ¬åŸå› ä¹‹ä¸€ã€‚ FGSMï¼ˆFast Gradient Sign Methodï¼‰ï¼š â€‹ L-BFGSå¾ˆæœ‰æ•ˆä½†æˆæœ¬é«˜æ˜‚ï¼Œè¿™ä½¿Goodfellowã€40ã€‘ç­‰äººæ‰¾åˆ°ä¸€ä¸ªç®€åŒ–é—®é¢˜çš„æ–¹æ³•ã€‚ JSMAï¼ˆJacobian Saliency Map Adversaryï¼‰ï¼š â€‹ ä¸FGSMåˆ©ç”¨æ¢¯åº¦æ”»å‡»ä¸åŒï¼ŒPapernotã€105ã€‘ç­‰äººä½¿ç”¨forward derivativesï¼ˆè¿œæœŸè¡ç”Ÿç‰©ï¼Ÿï¼‰ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ã€‚è¿™ä¸ªæ–¹æ³•é€šè¿‡ä½¿ç”¨å…¶é›…å…‹æ¯”çŸ©é˜µæ¥è¯„ä¼°ç¥ç»æ¨¡å‹å¯¹æ¯ä¸ªè¾“å…¥éƒ¨åˆ†çš„è¾“å‡ºæ•æ„Ÿæ€§ã€‚ DeepFoolï¼š â€‹ DeepFoolæ˜¯ä¸€ç§è¿­ä»£çš„L2æ­£åˆ™åŒ–ç®—æ³•ï¼Œä½œè€…å…ˆå‡è®¾ç¥ç»ç½‘ç»œæ˜¯çº¿æ€§çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¶…å¹³é¢æ¥åˆ†ç¦»ç±»ã€‚ä½œè€…ç®€åŒ–äº†é—®é¢˜å¹¶ä¸”åŸºäºä»¥ä¸Šå‡è®¾æ‰¾åˆ°äº†é—®é¢˜æœ€ä¼˜è§£ï¼Œå¹¶æ„å»ºäº†å¯¹æŠ—æ ·æœ¬ã€ â€‹ ä¸ºäº†è§£å†³ç¥ç»ç½‘ç»œæ˜¯éçº¿æ€§çš„äº‹å®ï¼Œä½œè€…é‡å¤ä»–ä»¬çš„æ­¥éª¤ç›´åˆ°ä¸€ä¸ªçœŸæ­£çš„å¯¹æŠ—æ ·æœ¬è¢«ç”Ÿæˆäº†ã€‚ PSï¼šæ­£åˆ™åŒ–ï¼š(23 å°ç§ä¿¡ / 54 æ¡æ¶ˆæ¯) æœºå™¨å­¦ä¹ ä¸­å¸¸å¸¸æåˆ°çš„æ­£åˆ™åŒ–åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ - çŸ¥ä¹ (zhihu.com) Subsititute Attackï¼š â€‹ å‰é¢å››ä¸­æ”»å‡»æ–¹å¼éƒ½æ˜¯ç™½ç›’æ”»å‡»ï¼Œ Papernotã€104ã€‘ç­‰äººæå‡ºäº†é»‘ç›’æ”»å‡»ç­–ç•¥ï¼Œä»–ä»¬è®­ç»ƒäº†ä¸€ä¸ªä¸ç›®æ ‡æ¨¡å‹å†³ç­–è¾¹ç•Œç›¸ä¼¼çš„æ›¿ä»£æ¨¡å‹ï¼Œå¯¹æ­¤æ›¿ä»£æ¨¡å‹è¿›è¡Œç™½ç›’æ”»å‡»ï¼Œç”Ÿæˆç›¸åº”å¯¹æŠ—æ ·æœ¬ã€‚ â€‹ åœ¨ç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„è¿‡ç¨‹ä¸­ï¼Œä»–ä»¬ä½¿ç”¨äº†FSGMå’ŒJSMAã€‚ GAN-like Attackï¼š â€‹ è¿™æ˜¯ä¸€ç§é€šè¿‡æ·±åº¦ç”Ÿæˆæ¨¡å‹çš„é»‘ç›’æ”»å‡»æ–¹æ³•ï¼ŒZhaoã€157ã€‘ç­‰äººé¦–å…ˆåŸºäºæ•°æ®é›† X è®­ç»ƒäº†ä¸€ä¸ªç”Ÿæˆæ¨¡å‹WGANï¼ŒWGANå¯ä»¥ç”Ÿæˆä¸Xåˆ†å¸ƒç›¸åŒçš„æ•°æ®ç‚¹ã€‚ äºŒ. å¯¹å›¾åƒDNNæ”»å‡»ä¸å¯¹æ–‡æœ¬DNNæ”»å‡»çš„å¯¹æ¯”ï¼š â€‹ 1. äºŒè€…çš„ä¸»è¦ä¸åŒï¼š â€‹ 1.1 ç¦»æ•£ä¸è¿ç»­è¾“å…¥ï¼š â€‹ å›¾åƒè¾“å…¥æ˜¯è¿ç»­çš„è€Œæ–‡æœ¬è¾“å…¥æ˜¯ç¦»æ•£çš„ï¼Œåœ¨å›¾åƒè¾“å…¥ä¸­ï¼Œé€šå¸¸ä½¿ç”¨Lpæ¥è¡¡é‡åŸå§‹æ•°æ®ç‚¹å’Œæ‰°åŠ¨ç‚¹çš„è·ç¦»ï¼Œä½†æ˜¯ç”±äºæ–‡æœ¬è¾“å…¥æ˜¯ç¦»æ•£çš„ï¼Œå¾ˆéš¾å®šä¹‰æ–‡æœ¬ä¸Šçš„æ‰°åŠ¨å¤§å°ï¼ˆ==ä¸ºä»€ä¹ˆï¼Ÿ==ï¼‰ã€‚è¿™å°±éœ€è¦æ„é€ å¯¹æ–‡æœ¬æ‰°åŠ¨çš„è¡¡é‡æ–¹æ³•ã€‚è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯å°†æ–‡æœ¬è¾“å…¥å½“åšè¿ç»­å€¼ï¼Œç„¶ååº”ç”¨CVæ–¹æ³•ï¼Œåœ¨3.3èŠ‚ä¸Šå°†ä¼šè¯¦ç»†è®¨è®ºã€‚ â€‹ 1.2 å¯å¯Ÿè§‰ä¸ä¸å¯å¯Ÿè§‰ï¼š â€‹ ä¸å›¾åƒç›¸æ¯”ï¼Œæ–‡æœ¬æ•°æ®å³ä½¿æ›´æ”¹ä¸€ä¸ªå­—æ¯ä¹Ÿä¼šé€ æˆå¾ˆå¤§å˜åŒ–ï¼Œæ•…å³ä½¿åšå¾ˆå°çš„æ‰°åŠ¨ï¼Œä¹Ÿå¯ä»¥è¢«å¾ˆæ˜æ˜¾çš„å¯Ÿè§‰åˆ°ã€‚ â€‹ 1.3 æœ‰è¯­ä¹‰å’Œæ— è¯­ä¹‰ï¼š â€‹ åŸç†åŒä¸Šï¼Œåœ¨æ–‡æœ¬ä¸­åšå¾ˆå°çš„æ”¹åŠ¨å¾€å¾€ä¼šæå¤§åœ°å½±å“åˆ°æ–‡æœ¬çš„è¯­æ³•å’Œè¯­ä¹‰ä¿¡æ¯ã€‚ â€‹ åŸºäºä»¥ä¸Šä¸åŒï¼Œç›®å‰ä¸»æµå¯¹æ–‡æœ¬DNNçš„æ”»å‡»æœ‰ä¸¤ç§ï¼š1. è°ƒæ•´å›¾åƒDNNçš„æ”»å‡»æ–¹æ³•ï¼Œæ·»åŠ é¢å¤–é™åˆ¶ï¼›2. ä½¿ç”¨æ–°æŠ€æœ¯æå‡ºä¸€ä¸ªæ–°æ–¹æ³•ã€‚ ä¸‰. å‘é‡åŒ–æ–‡æœ¬è¾“å…¥ and æ‰°åŠ¨çš„è¡¡é‡æ–¹æ³• ä¸‰ç§å‘é‡åŒ–æ–‡æœ¬è¾“å…¥çš„æ–¹æ³•ï¼š 1.1 åŸºäºè®¡æ•°çš„ç¼–ç ï¼ˆWord-Count-based Encodingï¼‰ï¼š â€‹ â‘  BOWï¼ˆBag-of-wordsï¼‰æ–¹æ³•ï¼Œå°†ä¸€ä¸ªæ–‡æ¡£ä¸­å‡ºç°çš„è¯è¯­ç¼–å·ä¸ºå‘é‡çš„0,1,2.....iç»´åº¦ï¼Œæ¯ä¸ªç»´åº¦çš„å€¼ä»£è¡¨è¯è¯­å‡ºç°çš„æ¬¡æ•°ã€‚ï¼ˆç¼ºç‚¹ï¼šä¸èƒ½è®°ä½è¯è¯­é¡ºåºï¼‰ â€‹ â‘¡ Term frequency-inverse document frequency (TF-IDF) ï¼Œå…·ä½“è§ï¼š TF-IDFç®—æ³•ä»‹ç»åŠå®ç°_Asia-Lee-CSDNåšå®¢_tf-idf â€‹ 1.2 çƒ­ç‹¬ç¼–ç ï¼ˆOne-hot Encodingï¼‰: â€‹ å…·ä½“ä»‹ç»ç•¥ã€‚ â€‹ ç”±äºæ™®é€šé¡ºåºç¼–ç çš„å€¼å­˜åœ¨å¤§å°å…³ç³»ï¼Œå½“æ¨¡å‹å¾—åˆ°è¾“å…¥åä¼šå°†å…¶å½“åšå®é™…å€¼æ¥å¤„ç†ï¼Œè¿™å°±ä½¿å¾—åŸæœ¬å¹³è¡Œçš„æ•°æ®æœ‰äº†å¤§å°å…³ç³»ï¼Œç‹¬çƒ­ç¼–ç å·§å¦™åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä½¿å¾—æ‰€æœ‰å•è¯æˆ–è€…å­—æ¯ä½ä½å¹³ç­‰ã€‚ â€‹ 1.3 ç¨ å¯†ç¼–ç ï¼š â€‹ Word2Vecä½¿ç”¨è¿ç»­BOWæ¨¡å‹å’Œskip-gram æ¨¡å‹æ¥åšä»£ç åµŒå…¥ã€‚ â€‹ ä¸€ä¸ªæ½œåœ¨çš„å‡è®¾æ˜¯ï¼Œå‡ºç°åœ¨ç›¸ä¼¼è¯­å¢ƒä¸‹çš„è¯è¯­æœ‰ç€ç›¸ä¼¼çš„å«ä¹‰ã€‚ è¯åµŒå…¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†æ–‡æœ¬æ•°æ®å‘é‡åŒ–çš„ç¦»æ•£æ€§å’Œæ•°æ®ç¨€ç–æ€§é—®é¢˜ã€36ã€‘ï¼Œè¯åµŒå…¥çš„æ‰©å±•å¦‚doc2vecå’Œparagraph2vecã€69ã€‘å°†å¥å­/æ®µè½ç¼–ç ä¸ºç¨ å¯†å‘é‡ã€‚ æ‰°åŠ¨çš„è¡¡é‡æ–¹æ³•ï¼š 2.1 åŸºäºèŒƒæ•°çš„æ–¹æ³•ï¼ˆNorm-based measurementï¼‰ï¼š â€‹ ç›´æ¥ä½¿ç”¨èŒƒæ•°éœ€è¦è¾“å…¥æ•°æ®æ˜¯è¿ç»­çš„ã€‚ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨è¿ç»­ä¸”ç¨ å¯†çš„è¡¨ç¤ºæ–¹æ³•ï¼ˆå¦‚åµŒå…¥ï¼‰ï¼Œä½†è¿™é€šå¸¸ä¼šå¾—åˆ°æ— æ„ä¹‰çš„æ–‡æœ¬ã€‚ 2.2 åŸºäºè¯­æ³•å’Œå¥æ³•çš„æ–¹æ³•ï¼ˆGrammar and syntax related measurementï¼‰ï¼š â€‹ é€šè¿‡ç¡®è®¤æ–‡æœ¬è¯­æ³•çš„æ­£ç¡®æ€§æ¥ä¿è¯å¯¹æŠ—æ ·æœ¬ä¸æ˜“è¢«è¯†åˆ«ã€‚ â€‹ å¯ä»¥ä½¿ç”¨Perplexityã€91ã€‘ï¼ŒParaphraseï¼ˆ4.3.3ï¼‰ç¡®ä¿å¯¹æŠ—æ ·æœ¬çš„æœ‰æ•ˆæ€§ã€‚ 2.3 åŸºäºè¯­ä¹‰ä¿æŒçš„æ–¹æ³•ï¼ˆSemantic-preserving measurementï¼‰ï¼š â€‹ â‘  è®¡ç®—æ¬§æ‹‰è·ç¦»: â€‹ â‘¡ è®¡ç®—Cosine Similarityï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ï¼š â€‹ 2.4 åŸºäºç¼–è¾‘è·ç¦»çš„æ–¹æ³•ï¼š â€‹ ç¼–è¾‘è·ç¦»ï¼ˆEdit Distanceï¼‰ï¼Œåˆç§°Levenshteinè·ç¦»ï¼Œæ˜¯æŒ‡ä¸¤ä¸ªå­—ä¸²ä¹‹é—´ï¼Œç”±ä¸€ä¸ªè½¬æˆå¦ä¸€ä¸ªæ‰€éœ€çš„æœ€å°‘ç¼–è¾‘æ“ä½œæ¬¡æ•°ã€‚è®¸å¯çš„ç¼–è¾‘æ“ä½œåŒ…æ‹¬å°†ä¸€ä¸ªå­—ç¬¦æ›¿æ¢æˆå¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¼–è¾‘è·ç¦»è¶Šå°ï¼Œä¸¤ä¸ªä¸²çš„ç›¸ä¼¼åº¦è¶Šå¤§ã€‚ â€‹ ä¸åŒå®šä¹‰ä½¿ç”¨ä¸åŒçš„è½¬æ¢æ“ä½œã€‚ 2.5 åŸºäºJaccardç›¸ä¼¼ç³»æ•°çš„æ–¹æ³•ï¼š â€‹ Jaccardç›¸ä¼¼ç³»æ•°å®šä¹‰è§ç™¾åº¦ç™¾ç§‘ã€‚ â€‹ å°±æ˜¯æŠŠä¸¤ä¸ªé›†åˆçš„äº¤é›†é™¤ä»¥ä¸¤ä¸ªé›†åˆçš„å¹¶é›†ï¼Œç®€å•åœ°çœ‹é›†åˆä¸­çš„å…ƒç´ æ˜¯ä¸æ˜¯å¤§é‡ç›¸åŒã€‚ 6. Attacking Neural Models in NLP: å¸¸è§æ”»å‡»æ–¹æ³•ï¼š ç™½ç›’ï¼Œé»‘ç›’...... â€‹ æä¾›äº†æ•°æ®é›†æ¥æºï¼Œä½†æ²¡æœ‰æä¾›ç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„æ•°æ®é›†ï¼Œæ‰€æä¾›çš„çš„æ•°æ®é›†ä»…ç”¨äºè¯„ä¼°æ”»å‡»æ•ˆæœã€‚ 7. Defense: èƒŒæ™¯ï¼šä¸¤ç§åœ¨DNNä¸­å¸¸ç”¨çš„é˜²å¾¡æ–¹æ³•ï¼š1. å¯¹æŠ—è®­ç»ƒ(adversarial training) 2. çŸ¥è¯†è’¸é¦ï¼ˆknowledge distillationï¼‰. Knowledge distillationï¼šã€ç»å…¸ç®€è¯»ã€‘çŸ¥è¯†è’¸é¦(Knowledge Distillation) ç»å…¸ä¹‹ä½œ - çŸ¥ä¹ (zhihu.com) ä¸€. å¯¹æŠ—è®­ç»ƒ æ•°æ®å¢å¼ºï¼ˆData Augmentationï¼‰ï¼š â€‹ æ•°æ®å¢å¼ºå°†åŸå§‹æ•°æ®é›†åŠ ä¸Šå¯¹æŠ—æ ·æœ¬ä¸€èµ·ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­è®©æ¨¡å‹è§åˆ°æ›´å¤šæ•°æ®ï¼Œæ•°æ®å¢å¼ºå¸¸è¢«ç”¨æ¥å¯¹æŠ—é»‘ç›’æ”»å‡»ï¼Œå®ç°çš„æ–¹å¼æ˜¯é€šè¿‡åœ¨è¢«æ”»å‡»çš„DNNä¸Šä½¿ç”¨å¯¹æŠ—æ ·æœ¬å¢åŠ é¢å¤–çš„epochã€‚ â€‹ ã€54ã€‘è¯æ˜äº†è¿™ç§æ–¹æ³•æ˜¯æœ‰æ•ˆçš„ï¼Œä½†ä»…ä»…å¯¹åŒä¸€å¯¹æŠ—æ ·æœ¬æœ‰æ•ˆï¼ˆæ•°æ®å¢å¼ºä¸­çš„æ ·æœ¬ä¸æµ‹è¯•å¯¹æŠ—æ ·æœ¬ï¼‰ â€‹ ã€142ã€‘ä¹Ÿæå‡ºäº†ç±»ä¼¼çš„è§‚ç‚¹ â€‹ ã€56ã€‘ä½œè€…æå‡ºäº†3ç§ç”Ÿæˆæ›´å¤šå…·æœ‰ä¸åŒç‰¹å¾çš„æ•°æ®çš„æ–¹æ³• â€‹ ã€12ã€‘ä½œè€…æå‡ºäº†ä¸€ç§æ–°çš„æ•°æ®å¢å¼ºçš„æ–¹æ³•ï¼Œå®ƒå°†å¹³å‡å­—ç¬¦åµŒå…¥ä½œä¸ºä¸€ä¸ªè¯è¡¨ç¤ºï¼Œå¹¶å°†å…¶çº³å…¥è¾“å…¥ã€‚è¿™ç§æ–¹æ³•æœ¬è´¨ä¸Šå¯¹å­—ç¬¦çš„ç½®ä¹±ä¸æ•æ„Ÿï¼Œä¾‹å¦‚äº¤æ¢ã€midå’ŒRandï¼Œå› æ­¤å¯ä»¥æŠµæŠ—è¿™äº›ç½®ä¹±æ”»å‡»å¼•èµ·çš„å™ªå£°ã€‚ä½†æ˜¯ï¼Œè¿™ç§é˜²å¾¡æ–¹æ³•å¯¹ä¸æ˜¯é’ˆå¯¹å­—ç¬¦é¡ºåºçš„æ‰°ä¹±ä¸èµ·ä½œç”¨ã€‚ æ¨¡å‹æ­£åˆ™åŒ–ï¼ˆModel Regularizationï¼‰ï¼š æ¨¡å‹æ­£åˆ™åŒ–å°†ç”Ÿæˆçš„å¯¹æŠ—æ ·æœ¬å®ä¾‹ä½œä¸ºæ­£åˆ™åŒ–å™¨ï¼š æ¨¡å‹æ­£åˆ™åŒ–_å°‘å¹´å‰çš„åšå®¢-CSDNåšå®¢_æ¨¡å‹æ­£åˆ™åŒ– æ­£åˆ™åŒ–( Regularization)çš„ç›®çš„åœ¨äºæé«˜æ¨¡å‹åœ¨æœªçŸ¥æµ‹è¯•æ•°æ®ä¸Šçš„æ³›åŒ–åŠ›,é¿å…å‚æ•°è¿‡æ‹Ÿåˆã€‚ å¥å£®æ€§æœ€ä¼˜åŒ–æ–¹æ³•ï¼ˆRobust Optimizationï¼‰ï¼š Madryã€84ã€‘ç­‰äººå°†DNNå­¦ä¹ é—®é¢˜è½¬åŒ–ä¸ºäº†ä¸€ä¸ªåŒ…å«å†…éå‡¹æœ€å¤§åŒ–é—®é¢˜(æ”»å‡»)å’Œå¤–éå‡¸æœ€å°åŒ–é—®é¢˜(é˜²å¾¡)çš„å¥å£®æ€§ä¼˜åŒ–é—®é¢˜ã€‚ äºŒ. çŸ¥è¯†è’¸é¦ â€‹ è¯¦è§è®ºæ–‡å’Œåšå®¢ã€‚ 8.Discuss and Open issues å¯å¯Ÿè§‰æ€§ï¼ˆPerceivabilityï¼‰ï¼š è§å‰æ–‡ å¯è½¬ç§»æ€§ï¼ˆTransferabilityï¼‰ï¼š no-tatgetedæ”»å‡»çš„å¯è½¬ç§»æ€§æ›´å¼ºã€‚ å¯è½¬ç§»æ€§å¯ä»¥åœ¨ä¸‰ä¸ªåœ°æ–¹ä½“ç°ï¼š â€‹ 2.1 åŒæ ·çš„æ¶æ„ï¼Œä¸åŒçš„æ•°æ®ï¼› â€‹ 2.2 åŒæ ·çš„åº”ç”¨åœºæ™¯ï¼Œä¸åŒçš„æ¶æ„ï¼› â€‹ 2.3 ä¸åŒçš„æ¶æ„ï¼Œä¸åŒçš„æ•°æ®ã€‚ å°½ç®¡ç°æœ‰çš„å·¥ä½œå›Šæ‹¬äº†ä»¥ä¸Šä¸‰ç§æƒ…å†µï¼Œä½†å¯¹æŠ—æ ·æœ¬æ”»å‡»çš„å¯ç§»æ¤æ€§æ•ˆæœä»ä¸å¥½ï¼Œéœ€è¦æ›´å¤šçš„å·¥ä½œã€‚ è‡ªåŠ¨åŒ–ï¼ˆAutomationï¼‰ï¼š â€‹ ä¸€äº›å·¥ä½œå¯ä»¥åšåˆ°å¯¹æŠ—æ ·æœ¬çš„è‡ªåŠ¨ç”Ÿæˆï¼Œè€Œå¦ä¸€äº›åˆ™ä¸è¡Œã€‚ â€‹ åœ¨ç™½ç›’æ”»å‡»ä¸­ï¼Œåˆ©ç”¨DNNçš„æŸå¤±å‡½æ•°å¯ä»¥è‡ªåŠ¨è¯†åˆ«æ–‡æœ¬ä¸­å—å½±å“æœ€å¤§çš„ç‚¹(å¦‚å­—ç¬¦ã€è¯)ï¼Œä»¥æ­¤åšåˆ°åœ¨æ–‡æœ¬ä¸­è‡ªåŠ¨åŒ–ã€‚ â€‹ åœ¨é»‘ç›’æ”»å‡»ä¸­ï¼Œä¸€äº›æ”»å‡»ä¾‹å¦‚æ›¿ä»£è®­ç»ƒï¼ˆsubstitution trainï¼‰å¯ä»¥è®­ç»ƒå‡ºä¸€ä¸ªæ›¿ä»£ç”¨æ¨¡å‹ï¼Œå¯¹å…¶è¿›è¡Œç™½ç›’æ”»å‡»ï¼Œä¹Ÿå¯ä»¥å®ç°è‡ªåŠ¨åŒ–ã€‚ä½†æ˜¯å¤§å¤šæ•°å¯¹æŠ—æ ·æœ¬çš„ç”Ÿæˆéƒ½æ˜¯äººå·¥ç”Ÿæˆã€‚ã€54ã€‘ä¼šå…³è”äººå·¥é€‰æ‹©çš„æ— æ„ä¹‰çš„æ–‡æœ¬æ®µè½æ¥æ¬ºéª—é˜…è¯»ç†è§£ç³»ç»Ÿï¼Œä»¥æ­¤æ¥å‘ç°DNNçš„è„†å¼±æ€§ã€‚å¾ˆå¤šç ”ç©¶å·¥ä½œè·Ÿéšã€54ã€‘ï¼Œå…¶ç›®çš„ä¸æ˜¯å®é™…æ”»å‡»ï¼Œè€Œæ˜¯æ›´å¤šçš„åœ¨æ£€æµ‹ç›®æ ‡ç½‘ç»œçš„å¥å£®æ€§ä¸Šï¼Œè¿™äº›äººå·¥å·¥ä½œæ˜¯è€—æ—¶ä¸”ä¸åˆ‡å®é™…çš„ã€‚æˆ‘ä»¬ç›¸ä¿¡åœ¨æœªæ¥æ›´å¤šçš„åŠªåŠ›ä¼šç”¨æ¥å…‹æœè¿™ä¸ªå›°éš¾ã€‚ æ–°æ¶æ„ï¼ˆNew Architecturesï¼‰ï¼š â€‹ å°½ç®¡å¤§å¤šæ•°æ™®é€šçš„æ–‡æœ¬DNNéƒ½æ³¨æ„åˆ°äº†å¯¹æŠ—æ ·æœ¬æ”»å‡»ï¼Œä½†æ˜¯å¾ˆå¤šDNNå¹¶æ²¡æœ‰è¢«æ”»å‡»è¿‡ã€‚ä¾‹å¦‚GANSä¸VAESï¼Œå®ƒä»¬è¢«ç”¨ä½œç”Ÿæˆæ–‡æœ¬ã€‚æ·±åº¦ç”Ÿæˆæ¨¡å‹éœ€è¦æ›´å¤æ‚çš„æŠ€å·§å»è®­ç»ƒï¼Œè¿™å°±å¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆè¿™äº›æŠ€æœ¯å¿½ç•¥äº†å¯¹æŠ—æ ·æœ¬æ”»å‡»ã€‚æœªæ¥çš„å·¥ä½œå¯èƒ½è€ƒè™‘å¯¹è¿™äº›DNNè¿›è¡Œå¯¹æŠ—æ ·æœ¬æ”»å‡»ã€‚ â€‹ æ³¨æ„åŠ›æœºåˆ¶ï¼ˆAttention Mechanismï¼‰ç›®å‰æ˜¯å¤§å¤šæ•°åºåˆ—æ¨¡å‹çš„æ ‡å‡†ç»„æˆéƒ¨åˆ†ï¼Œä½†æ˜¯æ²¡æœ‰å·¥ä½œå»æ£€éªŒæ³¨æ„åŠ›æœºåˆ¶æœ¬èº«ã€‚æ•…å¯èƒ½çš„æ”»å‡»å·¥ä½œè¦ä¹ˆæ”»å‡»åŒ…å«æ³¨æ„çš„æ•´ä½“ç³»ç»Ÿï¼Œè¦ä¹ˆåˆ©ç”¨æ³¨æ„åˆ†æ•°æ¥è¯†åˆ«å¹²æ‰°è¯ã€14ã€‘ã€‚ è¿­ä»£ VS ä¸€æ¬¡æ€§ï¼ˆIterative versus One-ofï¼‰ï¼š â€‹ è¿­ä»£æ”»å‡»ï¼šæ•ˆæœå¥½ï¼Œè€—æ—¶é•¿ï¼› â€‹ ä¸€æ¬¡æ€§æ”»å‡»ï¼šæ•ˆæœç•¥å·®ï¼Œè€—æ—¶çŸ­ã€‚ â€‹ åœ¨è®¾è®¡æ”»å‡»æ–¹æ³•æ—¶ï¼Œæ”»å‡»è€…éœ€è¦ä»”ç»†è€ƒè™‘æ•ˆæœä¸æ•ˆç‡çš„å¹³è¡¡ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"NLP","slug":"NLP","permalink":"http://example.com/tags/NLP/"}],"author":"Shaw"},{"title":"A novel Android malware detection system-adaption of flterâ€‘based  feature selection methods","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘A novel Android malware detection system adaption of flterâ€‘based  feature selection methods","date":"2021-09-03T06:08:27.099Z","updated":"2022-07-16T02:09:31.345Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘A novel Android malware detection system adaption of flterâ€‘based  feature selection methods/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91A%20novel%20Android%20malware%20detection%20system%20adaption%20of%20flter%E2%80%91based%20%20feature%20selection%20methods/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘A novel Android malware detection system: adaption of flterâ€‘based feature selection methods æ—¶é—´ï¼š2021 ä½œè€…ï¼š DurmuÅŸ Ã–zkan Åahin OÄŸuz Emre Kural Â· Sedat Akleylek Erdal KÄ±lÄ±Ã§ æ€»ç»“ï¼š äºŒåˆ†ç±»ï¼Œé™æ€ä»£ç æ£€æµ‹ï¼› åˆ›æ–°ç‚¹ä¸»è¦åœ¨ç‰¹å¾æå–ï¼ˆå·²ç»æœ‰çš„æ–¹æ³•+æ–‡æœ¬åˆ†ç±»çš„æ–¹æ³•ï¼‰ä¸Šï¼Œåˆ†ç±»å™¨ç”¨çš„å„ç§ç°æˆçš„æ–¹æ³•ï¼› Abstract: â€‹ åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæå‡ºäº†ä¸€ä¸ªåŸºäºè¿‡æ»¤å™¨ç‰¹å¾é€‰æ‹©æ–¹æ³•çš„ï¼ŒåŸåˆ›çš„å®‰å“ç«¯æ¶æ„è½¯ä»¶è¿½è¸ªç³»ç»Ÿã€‚ â€‹ è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåœ¨æœºå™¨å­¦ä¹ çš„åŸºç¡€ä¸Šçš„é™æ€å®‰å“æ¶æ„è½¯ä»¶è¿½è¸ªæ–¹æ³•ã€‚åœ¨æ‰€å¼€å‘çš„ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨åº”ç”¨ç¨‹åºæ–‡ä»¶ä¸­æå–çš„æƒé™ä½œä¸ºç‰¹å¾ã€‚å…«ä¸ªä¸åŒçš„ç‰¹å¾é€‰æ‹©æ–¹æ³•è¢«ç”¨äºç»´åº¦é™ä½ï¼Œä»¥å‡å°‘è¿è¡Œæ—¶é—´ï¼Œæå‡æœºå™¨å­¦ä¹ ç®—æ³•çš„æ•ˆç‡ã€‚ â€‹ å…¶ä¸­å››ç§æ–¹æ³•åº”ç”¨äºå®‰å“æ¶æ„æ ·æœ¬åˆ†ç±»ï¼Œå…¶ä½™å››ç§æ–¹æ³•æ˜¯ä»æ–‡æœ¬åˆ†ç±»ç ”ç©¶ä¸­é‡‡ç”¨çš„ï¼Œå…¶ä»æå–ç‰¹å¾å’Œåˆ†ç±»ç»“æœä¸¤æ–¹é¢å¯¹æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒï¼Œåœ¨å¯¹ç»“æœè¿›è¡Œæ£€éªŒæ—¶ï¼Œè¡¨æ˜æ‰€é‡‡ç”¨çš„æ–¹æ³•æé«˜äº†åˆ†ç±»ç®—æ³•çš„æ•ˆç‡ï¼Œå¯ä»¥åœ¨æœ¬é¢†åŸŸä¸­ä½¿ç”¨ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘A novel Android malware detection system: adaption of flterâ€‘based feature selection methods æ—¶é—´ï¼š2021 ä½œè€…ï¼š DurmuÅŸ Ã–zkan Åahin OÄŸuz Emre Kural Â· Sedat Akleylek Erdal KÄ±lÄ±Ã§ æ€»ç»“ï¼š äºŒåˆ†ç±»ï¼Œé™æ€ä»£ç æ£€æµ‹ï¼› åˆ›æ–°ç‚¹ä¸»è¦åœ¨ç‰¹å¾æå–ï¼ˆå·²ç»æœ‰çš„æ–¹æ³•+æ–‡æœ¬åˆ†ç±»çš„æ–¹æ³•ï¼‰ä¸Šï¼Œåˆ†ç±»å™¨ç”¨çš„å„ç§ç°æˆçš„æ–¹æ³•ï¼› Abstract: â€‹ åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæå‡ºäº†ä¸€ä¸ªåŸºäºè¿‡æ»¤å™¨ç‰¹å¾é€‰æ‹©æ–¹æ³•çš„ï¼ŒåŸåˆ›çš„å®‰å“ç«¯æ¶æ„è½¯ä»¶è¿½è¸ªç³»ç»Ÿã€‚ â€‹ è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåœ¨æœºå™¨å­¦ä¹ çš„åŸºç¡€ä¸Šçš„é™æ€å®‰å“æ¶æ„è½¯ä»¶è¿½è¸ªæ–¹æ³•ã€‚åœ¨æ‰€å¼€å‘çš„ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨åº”ç”¨ç¨‹åºæ–‡ä»¶ä¸­æå–çš„æƒé™ä½œä¸ºç‰¹å¾ã€‚å…«ä¸ªä¸åŒçš„ç‰¹å¾é€‰æ‹©æ–¹æ³•è¢«ç”¨äºç»´åº¦é™ä½ï¼Œä»¥å‡å°‘è¿è¡Œæ—¶é—´ï¼Œæå‡æœºå™¨å­¦ä¹ ç®—æ³•çš„æ•ˆç‡ã€‚ â€‹ å…¶ä¸­å››ç§æ–¹æ³•åº”ç”¨äºå®‰å“æ¶æ„æ ·æœ¬åˆ†ç±»ï¼Œå…¶ä½™å››ç§æ–¹æ³•æ˜¯ä»æ–‡æœ¬åˆ†ç±»ç ”ç©¶ä¸­é‡‡ç”¨çš„ï¼Œå…¶ä»æå–ç‰¹å¾å’Œåˆ†ç±»ç»“æœä¸¤æ–¹é¢å¯¹æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒï¼Œåœ¨å¯¹ç»“æœè¿›è¡Œæ£€éªŒæ—¶ï¼Œè¡¨æ˜æ‰€é‡‡ç”¨çš„æ–¹æ³•æé«˜äº†åˆ†ç±»ç®—æ³•çš„æ•ˆç‡ï¼Œå¯ä»¥åœ¨æœ¬é¢†åŸŸä¸­ä½¿ç”¨ã€‚ ### 1. Introduction: #### 1.1 å¦‚ä½•æå–ç›¸å…³ç‰¹å¾ï¼Ÿ â€‹ Shabtai (2012)ä»‹ç»äº†Andromalyæ¶æ„ï¼Œå…¶ä¸­åŒ…å«ä¸åŒçš„ç‰¹å¾é€‰å–æ–¹æ³•å’Œåˆ†ç±»æ–¹æ³•ã€‚ â€‹ Zhaoï¼ˆ2015ï¼‰æå‡ºäº†ä¸€ä¸ªç‰¹å¾é€‰æ‹©æ–¹æ³•FrequelSelï¼Œå…¶åŸºäºæ— å®³æ ·æœ¬å’Œæ¶æ„æ ·æœ¬çš„é¢‘ç‡ç‰¹å¾å·®å¼‚ã€‚ â€‹ Xu ï¼ˆ2016ï¼‰æå‡ºäº†ä¸€ä¸ªæ–°çš„å®‰å“æ¶æ„æ ·æœ¬è¿½è¸ªæ–¹æ³•ICCdetectorï¼Œä»–ä»¬ä½¿ç”¨CFSï¼ˆCorrelation Based Feature Selectionï¼‰åœ¨è®¸å¤šç‰¹å¾å‘é‡ä¸­åšç‰¹å¾æå–ã€‚ â€‹ Morales-Ortegaï¼ˆ2016ï¼‰æå‡ºäº†ä¸€ç§å¯ä»¥åœ¨æ¶æ„è½¯ä»¶åˆ†æå’Œæ£€æµ‹è®¾å¤‡ä¸Šæœ¬åœ°è¿è¡Œçš„æ–¹æ³•ï¼Œä»–ä»¬ä½¿ç”¨ä¸åŒçš„ç‰¹å¾é€‰æ‹©æ–¹æ³•å’Œåˆ†ç±»æ–¹æ³•è¿›è¡Œäº†å¯¹æ¯”å®éªŒã€‚ â€‹ Bhattacharya and Goswami (2018) æå‡ºäº†ä¸€ç§é€šè¿‡é€šè¿‡æ··åˆåŸºäºcommunityçš„ç²—ç•¥è®¾ç½®ç‰¹å¾é€‰æ‹©æ–¹æ³•ï¼ˆcommunity-based rough set feature selection methodï¼‰æ¥è¿›è¡Œç‰¹å¾é€‰æ‹©çš„æ–°æ–¹æ³•ã€‚ â€‹ Peynirci et al. (2020) æå‡ºäº†Delta IDFæ–¹æ³•ï¼Œå…¶é€šè¿‡é€‰æ‹©å…·æœ‰æœ€é«˜IDFï¼ˆNLPä¸­çš„ï¼‰æ— å®³æ ·æœ¬å’Œæœ€ä½IDFçš„æ¶æ„æ ·æœ¬æ¥æå–ç‰¹å¾ã€‚åœ¨ç‰¹å¾æå–ä¸­ä½¿ç”¨äº†å­—ç¬¦ä¸²ï¼ŒAPIè°ƒç”¨åºåˆ—ï¼Œæƒé™ç­‰æ¥ä½œä¸ºç‰¹å¾ã€‚ â€‹ Ananya et al. (2020) æå‡ºäº†ä¸€ç§å®‰å“æ¶æ„æ ·æœ¬è¿½è¸ªçš„åŠ¨æ€åˆ†ææŠ€æœ¯ã€‚ â€‹ Kouliaridis et al. (2021)ä½¿ç”¨äº†ä¸¤ä¸ªç‰¹å¾é€‰å–ç®—æ³•å’Œå…«ä¸ªä¸åŒçš„åˆ†ç±»å™¨è¿›è¡Œäº†æ¯”è¾ƒè¯•éªŒã€‚ â€‹ Jung et al. (2021) åœ¨Gini Importance å’Œ domaind çŸ¥è¯†ä¸Šè¿›è¡Œäº†ç‰¹å¾æå–ã€‚ä½¿ç”¨äº†APIè°ƒç”¨åºåˆ—å’Œåº”ç”¨æƒé™ã€‚ â€‹ Liu et al. (2021)ä½¿ç”¨éç›‘ç£å­¦ä¹ è¿›è¡Œäº†å®‰å“æ¶æ„æ ·æœ¬çš„ç‰¹å¾æå–ã€‚ #### 1.2 Contribution: â€‹ ä¸»è¦è´¡çŒ®ï¼š 1. æå‡ºäº†ä¸€ä¸ªåŸºäºè¿‡æ»¤å™¨ç‰¹å¾é€‰æ‹©æ–¹æ³•çš„ï¼ŒåŸåˆ›çš„å®‰å“ç«¯æ¶æ„è½¯ä»¶è¿½è¸ªç³»ç»Ÿï¼ˆé™æ€æ£€æŸ¥ï¼‰ï¼› 2. åŸºäºæ–‡æœ¬åˆ†ç±»çš„ç‰¹å¾é€‰æ‹©æ–¹æ³•å¯¹ç°æœ‰çš„å±æ€§é€‰æ‹©æ–¹æ³•è¿›è¡Œæ›¿ä»£æ˜¯é€‚åº”äºAndroidæ¶æ„è½¯ä»¶æ£€æµ‹ç³»ç»Ÿçš„ã€‚å› æ­¤ï¼Œä¸ä½¿ç”¨æ‰€æœ‰çš„æƒé™ï¼Œè€Œæ˜¯é€‰æ‹©äº†æœ€å…·ç‰¹è‰²çš„æƒé™ï¼Œæé«˜äº†åˆ†ç±»ç®—æ³•çš„æ€§èƒ½ï¼› 3. æ¯”è¾ƒç»™å‡ºå„åº¦é‡å¾—åˆ°çš„å…è®¸åº¦å’Œåˆ†ç±»ç»“æœã€‚åœ¨æ£€æŸ¥ç»“æœæ—¶ï¼Œæ‰€æå‡ºçš„ç³»ç»Ÿä½¿ç”¨çš„ç‰¹å¾æ¯”ç°æœ‰çš„æ£€æµ‹ç³»ç»Ÿå°‘ï¼› 4. ä»æˆ‘ä»¬æ‰€é‡‡ç”¨çš„ç‰¹å¾æå–æ–¹æ³•ä¸­å¾—åˆ°çš„ç»“æœæ€»ä½“ä¸Šæ‰€å¾—åˆ°çš„ç‰¹å¾æ¯”å…¶ä»–æ–¹æ³•å°‘ï¼› 5. å®éªŒç»“æœæ›´å¥½ï¼Œrunçš„æ—¶é—´æ›´çŸ­ï¼Œåˆ†ç±»æ•ˆæœæ›´ä½³ï¼› 6. ä¸€äº›çŸ©é˜µä¸è´ªå©ªæ–¹æ³•ç›¸ç»“åˆå½¢æˆå„ç§å±æ€§å­é›†ã€‚è¿™äº›åˆ›å»ºçš„å±æ€§å­é›†åœ¨ç”¨å¤§é‡classiferè¿›è¡Œæµ‹è¯•æ—¶è¡¨ç°å‡ºäº†æ˜¾è‘—çš„æ€§èƒ½ã€‚ 2. Preliminariesï¼š 2.1 Feature extractionï¼ˆå¦‚ä½•å¤„ç†APKæ–‡ä»¶ï¼‰ï¼š 2.2 Feature selectionï¼ˆæå–ç‰¹å¾ï¼‰ï¼š â€‹ ç‰¹å¾é€‰æ‹©æŠ€æœ¯åˆ†ä¸ºä¸‰ç±»ï¼šflter-basedï¼Œwrapper-basedï¼Œembedded methods. â€‹ åœ¨åŸºäºè¿‡æ»¤çš„æŠ€æœ¯ä¸­ï¼Œå°±æ˜¯åœ¨æ‰€æœ‰å±æ€§ä¸­é€‰æ‹©æœ€å¥½çš„kä¸ªå±æ€§ï¼Œè€Œä¸ä½¿ç”¨å‰©ä½™çš„å±æ€§ã€‚å„ç§åŸºäºç»Ÿè®¡æˆ–ä¿¡æ¯è®ºçš„æŠ€æœ¯è¢«ç”¨æ¥å¯»æ‰¾æœ€ä½³çš„kä¸ªç‰¹å¾ã€‚ â€‹ åŸºäºWrapperçš„æŠ€æœ¯åœ¨æ“ä½œä¸Šä¸è¿‡æ»¤æŠ€æœ¯ç±»ä¼¼ï¼Œä½†åœ¨æœç´¢ç­–ç•¥ä¸Šï¼Œé€‰æ‹©æ˜¯ç”¨é—ä¼ ç®—æ³•ç­‰å¯å‘å¼æ–¹æ³•ä»£æ›¿ç»Ÿè®¡æŠ€æœ¯è¿›è¡Œçš„ã€‚ â€‹ ç‰¹å¾é€‰æ‹©è¿‡ç¨‹æ˜¯åœ¨æœºå™¨å­¦ä¹ ç®—æ³•çš„è®­ç»ƒé˜¶æ®µè¿›è¡Œçš„ã€‚ç‰¹å¾é€‰æ‹©æ˜¯é€šè¿‡æ‰¾åˆ°å½±å“åœ¨è®­ç»ƒé˜¶æ®µåˆ›å»ºçš„æ¨¡å‹æ€§èƒ½çš„æœ€ä½³å­é›†æ¥è¿›è¡Œçš„ã€‚ 2.3 The proposed Android malware detection systemï¼š â€‹ 3. Experimental settingsï¼š 3.1 datasetsï¼š â€‹ 3000æ¶æ„æ ·æœ¬ï¼ˆVirusShare dataset ï¼‰ï¼Œ3000æ— å®³æ ·æœ¬ï¼ˆAPKPureï¼‰ 3.2 Classifcation algorithms 3.3 Performance measure 4. Results and discussions: 4.1 Results of performed experiments: æ•°æ®å¤„ç†ï¼š åˆ†ç±»ç»“æœï¼ˆéƒ¨åˆ†ï¼‰ï¼š æ€»ï¼š ä¸å…¶ä»–æ–¹æ³•æ¯”è¾ƒï¼š â€‹","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"},{"name":"Android","slug":"Android","permalink":"http://example.com/tags/Android/"}],"author":"Shaw"},{"title":"A Benchmark API Call Dataset For Windows PE Malware Classification","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘A Benchmark API Call Dataset For Windows PE Malware Classification","date":"2021-09-03T06:08:27.096Z","updated":"2022-07-16T02:09:35.469Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘A Benchmark API Call Dataset For Windows PE Malware Classification/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91A%20Benchmark%20API%20Call%20Dataset%20For%20Windows%20PE%20Malware%20Classification/","excerpt":"ã€è®ºæ–‡é˜…è¯»ã€‘A Benchmark API Call Dataset For Windows PE Malware Classification ä½œè€…ï¼šFerhat Ozgur Catakï¼ˆåœŸè€³å…¶ï¼‰ â€‹ Ahmet Faruk Yaziï¼ˆåœŸè€³å…¶ï¼‰ æ—¶é—´ï¼š2021.2.23 å…³é”®è¯ï¼šæ¶æ„è½¯ä»¶åˆ†æï¼Œç½‘ç»œç©ºé—´å®‰å…¨ï¼Œæ•°æ®é›†ï¼Œæ²™ç®±ç¯å¢ƒï¼Œæ¶æ„è½¯ä»¶åˆ†ç±» 1. Abstract â€‹ åœ¨Windowsæ“ä½œç³»ç»Ÿä¸­ï¼Œç³»ç»ŸAPIè°ƒç”¨çš„ä½¿ç”¨åœ¨ç›‘æ§æ¶æ„PEç¨‹åºä¸­æ˜¯ä¸€ä¸ªå¾ˆæœ‰å‰é€”çš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¢«å®šä¹‰ä¸ºåœ¨å®‰å…¨éš”ç¦»çš„æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œæ¶æ„è½¯ä»¶ï¼Œè®°å½•å…¶è°ƒç”¨çš„Windowsç³»ç»ŸAPIï¼Œå†é¡ºåºåˆ†æè¿™äº›è°ƒç”¨ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨éš”ç¦»æ²™ç®±ä¸­åˆ†æäº†7107ä¸ªå±äºä¸åŒå®¶æ—ï¼ˆç—…æ¯’ï¼Œåé—¨ï¼Œæœ¨é©¬ç­‰ï¼‰çš„æ¶æ„è½¯ä»¶ï¼Œå¹¶æŠŠè¿™äº›åˆ†æç»“æœè½¬åŒ–ä¸ºäº†ä¸åŒåˆ†ç±»ç®—æ³•å’Œæ–¹æ³•å¯ä»¥ä½¿ç”¨çš„å½¢å¼ã€‚ â€‹ é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šè§£é‡Šå¦‚ä½•å¾—åˆ°è¿™äº›æ¶æ„è½¯ä»¶ï¼›å…¶æ¬¡ï¼Œæˆ‘ä»¬ä¼šè§£é‡Šå¦‚ä½•å°†è¿™äº›è½¯ä»¶æ†ç»‘è‡³å®¶æ—ä¸­ï¼›æœ€åï¼Œæˆ‘ä»¬ä¼šæè¿°å¦‚ä½•ä½¿ç”¨è¿™äº›æ•°æ®é›†æ¥é€šè¿‡ä¸åŒçš„æ–¹æ³•å®ç°æ¶æ„è½¯ä»¶çš„åˆ†ç±»ã€‚","text":"ã€è®ºæ–‡é˜…è¯»ã€‘A Benchmark API Call Dataset For Windows PE Malware Classification ä½œè€…ï¼šFerhat Ozgur Catakï¼ˆåœŸè€³å…¶ï¼‰ â€‹ Ahmet Faruk Yaziï¼ˆåœŸè€³å…¶ï¼‰ æ—¶é—´ï¼š2021.2.23 å…³é”®è¯ï¼šæ¶æ„è½¯ä»¶åˆ†æï¼Œç½‘ç»œç©ºé—´å®‰å…¨ï¼Œæ•°æ®é›†ï¼Œæ²™ç®±ç¯å¢ƒï¼Œæ¶æ„è½¯ä»¶åˆ†ç±» 1. Abstract â€‹ åœ¨Windowsæ“ä½œç³»ç»Ÿä¸­ï¼Œç³»ç»ŸAPIè°ƒç”¨çš„ä½¿ç”¨åœ¨ç›‘æ§æ¶æ„PEç¨‹åºä¸­æ˜¯ä¸€ä¸ªå¾ˆæœ‰å‰é€”çš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¢«å®šä¹‰ä¸ºåœ¨å®‰å…¨éš”ç¦»çš„æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œæ¶æ„è½¯ä»¶ï¼Œè®°å½•å…¶è°ƒç”¨çš„Windowsç³»ç»ŸAPIï¼Œå†é¡ºåºåˆ†æè¿™äº›è°ƒç”¨ã€‚ â€‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨éš”ç¦»æ²™ç®±ä¸­åˆ†æäº†7107ä¸ªå±äºä¸åŒå®¶æ—ï¼ˆç—…æ¯’ï¼Œåé—¨ï¼Œæœ¨é©¬ç­‰ï¼‰çš„æ¶æ„è½¯ä»¶ï¼Œå¹¶æŠŠè¿™äº›åˆ†æç»“æœè½¬åŒ–ä¸ºäº†ä¸åŒåˆ†ç±»ç®—æ³•å’Œæ–¹æ³•å¯ä»¥ä½¿ç”¨çš„å½¢å¼ã€‚ â€‹ é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šè§£é‡Šå¦‚ä½•å¾—åˆ°è¿™äº›æ¶æ„è½¯ä»¶ï¼›å…¶æ¬¡ï¼Œæˆ‘ä»¬ä¼šè§£é‡Šå¦‚ä½•å°†è¿™äº›è½¯ä»¶æ†ç»‘è‡³å®¶æ—ä¸­ï¼›æœ€åï¼Œæˆ‘ä»¬ä¼šæè¿°å¦‚ä½•ä½¿ç”¨è¿™äº›æ•°æ®é›†æ¥é€šè¿‡ä¸åŒçš„æ–¹æ³•å®ç°æ¶æ„è½¯ä»¶çš„åˆ†ç±»ã€‚ ### 2. Introduction #### 2.1 ç®€å•ä»‹ç»äº†æ¶æ„è½¯ä»¶ #### 2.2 æ¶æ„è½¯ä»¶ä¸æ¶æ„è½¯ä»¶è¯†åˆ«ä¹‹é—´çš„ç«äº‰ â€‹ ç›¸äº’ä¿ƒè¿› #### 2.3 å˜å½¢æ¶æ„è½¯ä»¶ï¼ˆMetamorphic malwareï¼‰ â€‹ æ¶æ„è½¯ä»¶å®¶æ—é‡Œå¾ˆå…ˆè¿›çš„ä¸€ç§ï¼Œè¿™ç§è½¯ä»¶å¯ä»¥æŒç»­ä¸æ–­çš„æ”¹å˜è‡ªèº«æºä»£ç ä»¥æ­¤æ”¹å˜è‡ªèº«ç»“æ„ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥æ”¹å˜è‡ªèº«ä»£ç ç‰¹å¾ã€‚è¿˜æœ‰ï¼Œè¿™ç§è½¯ä»¶å¯èƒ½è¿˜å¯ä»¥é€šè¿‡å¼ºåº¦åç®—ï¼ˆcounter-analysisï¼‰æ¥è¯†åˆ«è‡ªèº«è¿è¡Œçš„ç¯å¢ƒï¼Œä»¥æ­¤æ¥éšè—è‡ªèº«çš„æ¶æ„åŠŸèƒ½ã€‚ â€‹ å˜å½¢æ¶æ„è½¯ä»¶å¾ˆéš¾è¯†åˆ«ã€‚ #### 2.4 æ¶æ„è½¯ä»¶çš„è¯†åˆ«ï¼š â€‹ æ‰€æœ‰æ¶æ„è½¯ä»¶éƒ½ä¼šæœ‰æ¶æ„è¡Œä¸ºä»¥è¾¾æˆå…¶ç›®çš„ï¼Œå¦‚æœå¯ä»¥å¾ˆå¥½çš„åˆ†ææ¶æ„è¡Œä¸ºï¼Œå°±å¯ä»¥åšæˆæ¶æ„è½¯ä»¶çš„è¯†åˆ«ä¸åˆ†ç±»ã€‚ â€‹ æ¶æ„è½¯ä»¶çš„è¯†åˆ«åŒ…æ‹¬äº†å¾ˆå¤šéœ€è¦è§£å†³çš„é—®é¢˜ï¼Œä¾‹å¦‚åœ¨æ±‡ç¼–ä¸­ä¸æ­£ç¡®çš„è·³è½¬æ“ä½œç ï¼ŒPEæ–‡æœ¬æ®µä»£ç éšè—ï¼Œä»£ç åŠ å¯†ã€‚æœ¬ç ”ç©¶æ”¶é›†äº†ç°æœ‰çš„æ¶æ„è½¯ä»¶åŠå…¶å˜å¼ï¼Œä¾‹å¦‚WannaCryï¼ŒZeusï¼Œç‰¹åˆ«æ˜¯åœ¨Githubä¸Šã€‚ â€‹ æˆ‘ä»¬é€šè¿‡åœ¨VirusTotalç½‘ç«™ä¸Šå¯»æ‰¾æ¯ä¸ªæ¶æ„è½¯ä»¶çš„å“ˆå¸Œå€¼ï¼Œä»è€Œè·å¾—äº†å¾—åˆ°äº†å…¶å®¶æ—ç±»ã€‚ â€‹ æœ€åï¼Œæ‰€æœ‰æˆ‘ä»¬è®°å½•çš„è¡Œä¸ºéƒ½æ˜¯åœ¨Cuckooæ²™ç›’ç¯å¢ƒä¸­è¿è¡Œçš„ã€‚ â€‹ æˆ‘ä»¬å‘ç°å‡ ä¹æ‰€æœ‰æ¶æ„è½¯ä»¶éƒ½ä¼šä½¿ç”¨å¾ˆå¤šæ–¹æ³•æ”¹å˜å…¶è¡Œä¸ºï¼Œä½†å³ä½¿è¿™æ ·ï¼Œæ¶æ„è½¯ä»¶è¿˜æ˜¯æœ‰ä¸€ä¸ªç›®æ ‡ï¼Œæœ‰ä¸€ä¸ªç¡®å®šçš„æ¨¡å¼æ¥è¾¾åˆ°æ­¤ç›®æ ‡ã€‚è¿˜æœ‰ï¼Œæ¶æ„è½¯ä»¶ä¼šåšå‡ºä¸€äº›ä¸å¿…è¦çš„APIè°ƒç”¨ï¼Œä½†å…¶è¿˜æ˜¯å¯ä»¥è¢«ä¸€ä¸ªè®­ç»ƒå¥½çš„åˆ†æå™¨è¯†åˆ«ï¼Œå› ä¸ºå…¶è¡Œä¸ºæ¨¡å¼æ˜¯ç›¸åŒçš„ã€‚ â€‹ æ¶æ„è½¯ä»¶åˆ†æè¢«è§†ä¸ºç½‘ç»œç©ºé—´å®‰å…¨çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå…¶ç”±ä¸¤æ–¹é¢ç»„æˆï¼š ##### 1. é™æ€åˆ†æ ï¼š â€‹ é™æ€åˆ†æå¯ä»¥å¯ä»¥å®šä¹‰ä¸ºé€šè¿‡æ‰§è¡Œä¸€ä¸ªå­¤ç«‹çš„ç¯å¢ƒæ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶è€Œä¸æŸ¥çœ‹å®é™…æŒ‡ä»¤ã€‚ä¾‹å¦‚MD5æ ¡éªŒå’Œï¼Œå…¶é€šè¿‡åç—…æ¯’æ£€æµ‹æ”»å‡»è¯†åˆ«ï¼ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚ ##### 2. åŠ¨æ€åˆ†æ â€‹ åŠ¨æ€åˆ†ææŒ‡è¿è¡Œæ¶æ„ç¨‹åºæ¥ç†è§£å…¶åŠŸèƒ½ï¼Œè§‚å¯Ÿå…¶è¡¨ç°ï¼Œè¯†åˆ«å…¶æŠ€æœ¯æŒ‡æ ‡ã€‚å‡ ä¹æ‰€æœ‰çš„é‡è¦è¡Œä¸ºéƒ½åŒ…å«APIè°ƒç”¨åºåˆ—ã€‚ â€‹ å¤§å¤šæ•°åŠ¨æ€åˆ†æé¢†åŸŸçš„ç ”ç©¶éƒ½åªå…³æ³¨åˆ†ç±»ç®—æ³•ï¼Œæœ‰ä¸ªåŸºæœ¬é—®é¢˜æ˜¯æ²¡æœ‰æ ‡å‡†çš„æ•°æ®é›†æ¥æ£€æŸ¥æ‰€æå‡ºæ¨¡å‹çš„æ•ˆç‡ã€‚ â€‹ æˆ‘ä»¬åœ¨Githubä¸Šåˆ†äº«äº†æˆ‘ä»¬çš„æ•°æ®é›†ï¼šhttps://github.com/ocatak/malware_api_class ï¼Œè¯¥æ•°æ®é›†åŒ…å«äº†åŸºäºCuckooæ²™ç®±çš„å·²çŸ¥æ¶æ„è½¯ä»¶æ‰§è¡Œå’ŒåŸºäºVirusTotalçš„æ–‡ä»¶MD5ç‰¹å¾åˆ†ç±»çš„åŸå§‹æ•°æ®ã€‚ 3. Methods 3.1 Windows API Callsï¼š â€‹ è½¯ä»¶å®‰å…¨çŸ¥è¯†ï¼Œç•¥ 3.2 Cuckoo SandBox â€‹ å…è´¹è½¯ä»¶ï¼Œé«˜åº¦é›†æˆï¼Œå¼€æºï¼Œå¯ä»¥è‡ªåŠ¨åˆ†æWinodws,OS X,Linux,Androidç³»ç»Ÿä¸‹çš„æ¶æ„æ–‡ä»¶ã€‚ 3.3 VirusTotal â€‹ å¯ä»¥åœ¨çº¿å…è´¹åˆ†ææ–‡ä»¶æˆ–è€…URLã€‚å…¶æä¾›äº†ä¸€ä¸ªAPIï¼Œå¯ä»¥ä¸é€šè¿‡æµè§ˆå™¨æ¥æä¾›åˆ†æç»“æœï¼Œå¯ä»¥è‡ªåŠ¨åˆ†æã€‚å…¶ä»¥JSONæ–‡ä»¶çš„å½¢å¼æä¾›åˆ†æç»“æœï¼Œä¸åŒåç—…æ¯’åº”ç”¨å¼•æ“å’Œæµè§ˆå™¨çš„åˆ†æç»“æœä¼šåˆ†å¼€å­˜æ”¾ã€‚ 3.4 æ•°æ®é›†ç”Ÿæˆ â€‹ æœ¬æ–‡çš„æ•°æ®é›†æœ‰ç€ç®€å•æ˜äº†çš„ç»“æ„ã€‚æ•°æ®é›†ä»¥CVSæ ¼å¼æ–‡ä»¶æä¾›æ¥æé«˜äº’æ“ä½œæ€§ï¼Œè€Œä¸”å¹¶ä¸éœ€è¦ç‰¹å®šçš„è½¯ä»¶æˆ–è€…åº“æ¥è¯»å–ä»–ä»¬ã€‚æ•°æ®ç”±æ¥è‡ªä¸åŒGithubé¡µé¢çš„Gitå‘½ä»¤å®æ–½æ”¶é›†ï¼Œæ•°æ®é›†ä¸­çš„æ¯ä¸€è¡Œéƒ½æ˜¯åœ¨æ²™ç®±ä¸­åˆ†æçš„Windowsæ“ä½œç³»ç»Ÿçš„APIè°ƒç”¨åºåˆ—ã€‚ â€‹ æ•°æ®é›†çš„ç”Ÿæˆè¿‡ç¨‹å¦‚ä¸‹ï¼š â€‹ 1. æ²™ç®±ç¯å¢ƒå‡†å¤‡ï¼š â€‹ åˆ†ææœºå™¨ä½¿ç”¨Ubuntuç³»ç»Ÿï¼Œå°†Cuckooæ²™ç®±å®‰è£…åœ¨å…¶ä¸­ï¼Œåˆ†ææœºè¿è¡Œè™šæ‹ŸæœåŠ¡ï¼ŒWindowsæ“ä½œç³»ç»Ÿå°±è¿è¡Œåœ¨è™šæ‹ŸæœåŠ¡ä¸Šï¼ŒåŒæ—¶å…³æ‰é˜²ç«å¢™ï¼Œç³»ç»Ÿå‡çº§ã€‚ â€‹ 2. åˆ†ææ¶æ„è½¯ä»¶: â€‹ è™šæ‹Ÿæœºä¸­åŒæ—¶è¿è¡Œè¶…è¿‡20000ä¸ªæ¶æ„è½¯ä»¶ï¼Œåº”ç”¨ç¨‹åºä¼šå°†æ¯ä¸ªæ¶æ„è½¯ä»¶çš„åˆ†æç»“æœå†™å…¥MongoDBæ•°æ®åº“ï¼Œåˆ†æç»“æœä¸­åŒ…å«æ¶æ„è½¯ä»¶çš„è¡Œä¸ºæ•°æ®ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯æ¶æ„è½¯ä»¶åœ¨Win7ä¸Šçš„APIè°ƒç”¨è¯·æ±‚ã€‚ â€‹ 3. å¤„ç†APIè°ƒç”¨ï¼š â€‹ æˆ‘ä»¬åœ¨æ•°æ®é›†ä¸­æ”¶é›†åˆ°äº†342ç§APIè°ƒç”¨ï¼Œè¿™äº›è°ƒç”¨ä¼šè¢«ä»¥0-341æ¥æ ‡è®°ï¼Œä»¥æ­¤ç”Ÿæˆä¸€ä¸ªæ–°æ•°æ®é›†ã€‚æˆ‘ä»¬ä½¿ç”¨äº†è¯¥æ•°æ®é›†ä¸­è‡³å°‘æœ‰10ä¸ªä¸åŒAPIè°ƒç”¨çš„æ¶æ„è½¯ä»¶çš„åˆ†æç»“æœã€‚ â€‹ 4. ä½¿ç”¨Virus Totalå…¬ç”¨APIåˆ†ææ¶æ„è½¯ä»¶ï¼š â€‹ ä½œä¸ºåˆ†æçš„è¡¥å……ï¼Œæ‰€æœ‰åœ¨æ•°æ®é›†ä¸­çš„æ¶æ„è½¯ä»¶ä¹Ÿä¼šè¢«Virus Totalæ‰€åˆ†æï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¯ä¸ªæ¶æ„è½¯ä»¶éƒ½ä¼šè¢«ä¸åŒçš„åç—…æ¯’å¼•æ“æ‰€åˆ†æï¼Œç»“æœä¼šè¢«è®°å½•ã€‚ â€‹ 5. å¤„ç†åˆ†æç»“æœï¼š â€‹ Virus TotalæœåŠ¡ä½¿ç”¨å¤§çº¦66ä¸ªä¸åŒçš„é˜²ç—…æ¯’åº”ç”¨ç¨‹åºè¿›è¡Œæ–‡ä»¶åˆ†æã€‚åˆ©ç”¨æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæœåŠ¡å¾—åˆ°çš„æ¯ä¸ªç ”ç©¶ç»“æœï¼Œæˆ‘ä»¬è¯†åˆ«äº†æ¯ä¸ªæ¶æ„è½¯ä»¶çš„å®¶æ—ã€‚é€šè¿‡è§‚å¯Ÿï¼Œæˆ‘ä»¬å‘ç°å¯¹äºåŒä¸€æ¶æ„è½¯ä»¶ï¼Œä¸åŒçš„é˜²ç—…æ¯’åº”ç”¨ç¨‹åºç»™å‡ºäº†ä¸åŒçš„ç»“æœã€‚æ­¤å¤–ï¼Œè§‚å¯Ÿåˆ°å¹¶éæ¯ä¸€ä¸ªé˜²ç—…æ¯’åº”ç”¨ç¨‹åºéƒ½èƒ½æ£€æµ‹åˆ°ä¸€äº›æ¶æ„è½¯ä»¶ã€‚å› æ­¤ï¼Œåœ¨æ£€æµ‹æ¯ä¸€ä¸ªæ¶æ„è½¯ä»¶ç±»æ—¶ï¼Œè®¤ä¸ºå®ƒå±äºæ‰€æœ‰åˆ†æä¸­çš„å¤§å¤šæ•°ç±»ã€‚","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"}],"author":"Shaw"},{"title":"Generic Black-Box End-to-End Attack Against State of the art API Call Based Malware Classifiers","slug":"ã€è®ºæ–‡é˜…è¯»ã€‘Generic Black-Box End-to-End Attack Against State of the art API Call Based Malware Classifiers","date":"2021-09-03T06:08:27.094Z","updated":"2021-10-12T13:26:39.593Z","comments":true,"path":"2021/09/03/ã€è®ºæ–‡é˜…è¯»ã€‘Generic Black-Box End-to-End Attack Against State of the art API Call Based Malware Classifiers/","link":"","permalink":"http://example.com/2021/09/03/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E3%80%91Generic%20Black-Box%20End-to-End%20Attack%20Against%20State%20of%20the%20art%20API%20Call%20Based%20Malware%20Classifiers/","excerpt":"","text":"ã€è®ºæ–‡é˜…è¯»ã€‘Generic Black-Box End-to-End Attack Against State of the art API Call Based Malware Classifiers ä½œè€…ï¼šIshai Rosenberg å¤§å­¦ï¼šBen-Gurion University of the Negev æ—¶é—´ï¼š2018.6.4 1. åšäº†ä»€ä¹ˆï¼Ÿ â€‹ å¯¹ä¸€ä¸ªé€šè¿‡æœºå™¨å­¦ä¹ è®­ç»ƒçš„ï¼Œé€šè¿‡APIè°ƒç”¨æ¥åˆ†ç±»æ¶æ„è½¯ä»¶çš„åˆ†ç±»å™¨çš„æ”»å‡»ã€‚ â€‹ è¿™ä¸ªæ”»å‡»å¯ä»¥ä½¿åˆ†ç±»å™¨ä¸èƒ½æˆåŠŸè¯†åˆ«æ¶æ„è½¯ä»¶ï¼Œå¹¶ä¸”ä¸æ”¹å˜åŸæœ‰è½¯ä»¶çš„åŠŸèƒ½ã€‚ â€‹ å®ç°äº†GADGETï¼Œä¸€ä¸ªå¯ä»¥ç›´æ¥å°†äºŒè¿›åˆ¶æ¶æ„è½¯ä»¶æ–‡ä»¶è½¬æ¢ä¸ºåˆ†ç±»å™¨æ— æ³•æ£€æµ‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶ä¸éœ€è¦è®¿é—®æ–‡ä»¶æºä»£ç ã€‚ 2. ä¸€äº›æ¦‚å¿µï¼š 2.1 Machine learning malware classififiersï¼ˆåŸºäºæœºå™¨å­¦ä¹ çš„æ¶æ„è½¯ä»¶åˆ†ç±»å™¨ï¼‰ â€‹ ä¼˜ç‚¹ï¼š1. å¯ä»¥è‡ªåŠ¨è®­ç»ƒï¼ŒèŠ‚çœæ—¶é—´ï¼› â€‹ 2. åªè¦åˆ†ç±»å™¨å¹¶ä¸æ˜¯åŸºäºæŒ‡çº¹ç‰¹å¾æˆ–è€…æŸä¸ªç‰¹å®šçš„ç‰¹å¾ï¼ˆå¦‚Hashå€¼ï¼‰æ¥åˆ†ç±»ï¼Œé¢å¯¹ä¸å¯è§å¨èƒæ—¶æ³›åŒ–èƒ½åŠ›è¾ƒå¼ºã€‚ 2.2 Adversarial Examplesï¼ˆå¯¹æŠ—æ ·æœ¬ï¼‰ å¯¹è¾“å…¥æ ·æœ¬æ•…æ„æ·»åŠ ä¸€äº›äººæ— æ³•å¯Ÿè§‰çš„ç»†å¾®çš„å¹²æ‰°ï¼Œå¯¼è‡´æ¨¡å‹ä»¥é«˜ç½®ä¿¡åº¦ç»™å‡ºä¸€ä¸ªé”™è¯¯çš„è¾“å‡ºã€‚ å¯ä»¥é’ˆå¯¹ä¸€å¼ å·²ç»æœ‰æ­£ç¡®åˆ†ç±»çš„imageï¼Œå¯¹å…¶è¿›è¡Œç»†å¾®çš„åƒç´ ä¿®æ”¹ï¼Œå¯ä»¥åœ¨DNNä¸‹è¢«é”™åˆ†ä¸ºå…¶ä»–labelã€‚ â€‹ æ ·æœ¬xçš„labelä¸ºç†ŠçŒ«ï¼Œåœ¨å¯¹xæ·»åŠ éƒ¨åˆ†å¹²æ‰°åï¼Œåœ¨äººçœ¼ä¸­ä»ç„¶åˆ†ä¸ºç†ŠçŒ«ï¼Œä½†å¯¹æ·±åº¦æ¨¡å‹ï¼Œå´å°†å…¶é”™åˆ†ä¸ºé•¿è‡‚çŒ¿ï¼Œä¸”ç»™å‡ºäº†é«˜è¾¾99.3%çš„ç½®ä¿¡åº¦ã€‚ åƒç´ æ”»å‡»ï¼šæ”¹åŠ¨å›¾ç‰‡ä¸Šçš„ä¸€ä¸ªåƒç´ ï¼Œå°±èƒ½è®©ç¥ç»ç½‘ç»œè®¤é”™å›¾ï¼Œç”šè‡³è¿˜å¯ä»¥è¯±å¯¼å®ƒè¿”å›ç‰¹å®šçš„ç»“æœã€‚ æ”¹åŠ¨å›¾ç‰‡ä¸Šçš„ä¸€ä¸ªåƒç´ ï¼Œå°±èƒ½è®©ç¥ç»ç½‘ç»œè®¤é”™å›¾ï¼Œç”šè‡³è¿˜å¯ä»¥è¯±å¯¼å®ƒè¿”å›ç‰¹å®šçš„ç»“æœ 2. åŒæ ·ï¼Œæ ¹æ®DNNï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿä¸€å¼ åœ¨äººçœ¼ä¸‹æ¯«æ— æ„ä¹‰çš„imageï¼Œä½†æ˜¯åœ¨DNNä¸­èƒ½å¤Ÿè·å¾—é«˜confidenceçš„labelã€‚ ä¸¤ç§EAç®—æ³•ç”Ÿæˆçš„æ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬äººç±»å®Œå…¨æ— æ³•è¯†åˆ«ï¼Œä½†æ·±åº¦å­¦ä¹ æ¨¡å‹ä¼šä»¥é«˜ç½®ä¿¡åº¦å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç±»ï¼Œä¾‹å¦‚å°†å™ªå£°è¯†åˆ«ä¸ºç‹®å­ã€‚ 2.2.1ï¼š Adversarial examples for API sequences(ç”ŸæˆAPIåºåˆ—å¯¹æŠ—æ ·æœ¬ä¸ç”Ÿæˆå›¾åƒå¯¹æŠ—æ ·æœ¬å¹¶ä¸åŒ): APIåºåˆ—ç”±é•¿åº¦å¯å˜çš„ç¦»æ•£ç¬¦å·ç»„æˆï¼Œä½†å›¾åƒå¯ä»¥ç”¨å›ºå®šç»´åº¦çš„çŸ©é˜µè¡¨ç¤ºä¸ºçŸ©é˜µï¼Œä¸”çŸ©é˜µçš„å€¼æ˜¯è¿ç»­çš„ã€‚ å¯¹äºå¯¹æŠ—APIåºåˆ—ï¼Œå…¶å¿…é¡»éªŒè¯åŸå§‹çš„æ¶æ„åŠŸèƒ½æ˜¯å®Œæ•´çš„ã€‚ å¯¹æŠ—æ ·æœ¬çš„è¿ç§»æ€§ï¼šé’ˆå¯¹ä¸€ç§æ¨¡å‹çš„å¯¹æŠ—æ ·æœ¬é€šå¸¸å¯¹å¦ä¸€ç§æ¨¡å‹ä¹Ÿå¥æ•ˆï¼Œå³ä½¿è¿™ä¸¤ä¸ªæ¨¡å‹ä¸æ˜¯ç”¨åŒä¸€æ•°æ®é›†è®­ç»ƒçš„ã€‚ 2.3 å‡ ç§æ”»å‡»æ–¹æ³•ï¼š White-box attackï¼šç™½ç›’æ”»å‡»ï¼Œå¯¹æ¨¡å‹å’Œè®­ç»ƒé›†å®Œå…¨äº†è§£ã€‚ Black-box attackï¼šé»‘ç›’æ”»å‡»ï¼šå¯¹æ¨¡å‹ä¸äº†è§£ï¼Œå¯¹è®­ç»ƒé›†ä¸äº†è§£æˆ–äº†è§£å¾ˆå°‘ã€‚ Real-word attackï¼šåœ¨çœŸå®ä¸–ç•Œæ”»å‡»ã€‚å¦‚å°†å¯¹æŠ—æ ·æœ¬æ‰“å°å‡ºæ¥ï¼Œç”¨æ‰‹æœºæ‹ç…§è¯†åˆ«ã€‚ targeted attackï¼šä½¿å¾—å›¾åƒéƒ½è¢«é”™åˆ†åˆ°ç»™å®šç±»åˆ«ä¸Šã€‚ non-target attackï¼šäº‹å…ˆä¸çŸ¥é“éœ€è¦æ”»å‡»çš„ç½‘ç»œç»†èŠ‚ï¼Œä¹Ÿä¸æŒ‡å®šé¢„æµ‹çš„ç±»åˆ«ï¼Œç”Ÿæˆå¯¹æŠ—æ ·æœ¬æ¥æ¬ºéª—é˜²å®ˆæ–¹çš„ç½‘ç»œã€‚ mimicry attack: ç¼–å†™æ¶æ„çš„exploitï¼Œè¯¥expæ¨¡æ‹Ÿè‰¯æ€§ä»£ç ç³»ç»Ÿè°ƒç”¨çš„ç—•è¿¹ï¼Œå› ä¸ºèƒ½å¤Ÿé€ƒé€¸æ£€æµ‹ã€‚ disguise attack: ä»…ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°ä½¿è‰¯æ€§ç³»ç»Ÿè°ƒç”¨ç”Ÿæˆæ¶æ„è¡Œä¸º ã€‚ No-op attack: æ·»åŠ è¯­ä¹‰çš„no-ops-ç³»ç»Ÿè°ƒç”¨ï¼Œå…¶æ²¡æœ‰å½±å“ï¼Œæˆ–è€…æ˜¯ä¸ç›¸å¹²çš„å½±å“ï¼Œå³ï¼Œæ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚ Equivalence attack: ä½¿ç”¨ä¸€ä¸ªä¸åŒçš„ç³»ç»Ÿè°ƒç”¨æ¥è¾¾åˆ°æ¶æ„çš„ç›®çš„. 2.4 decision boundary(å†³ç­–ç•Œé™) 2.5 end-to-end: 2.6 ç»“æœåˆ†ç±»ï¼š è™‘ä¸€ä¸ªäºŒåˆ†é—®é¢˜ï¼Œå³å°†å®ä¾‹åˆ†æˆæ­£ç±»ï¼ˆpositiveï¼‰æˆ–è´Ÿç±»ï¼ˆnegativeï¼‰ã€‚å¯¹ä¸€ä¸ªäºŒåˆ†é—®é¢˜æ¥è¯´ï¼Œä¼šå‡ºç°å››ç§æƒ…å†µã€‚å¦‚æœä¸€ä¸ªå®ä¾‹æ˜¯æ­£ç±»å¹¶ä¸”ä¹Ÿè¢« é¢„æµ‹æˆæ­£ç±»ï¼Œå³ä¸ºçœŸæ­£ç±»ï¼ˆTrue positiveï¼‰,å¦‚æœå®ä¾‹æ˜¯è´Ÿç±»è¢«é¢„æµ‹æˆæ­£ç±»ï¼Œç§°ä¹‹ä¸ºå‡æ­£ç±»ï¼ˆFalse positiveï¼‰ã€‚ç›¸åº”åœ°ï¼Œå¦‚æœå®ä¾‹æ˜¯è´Ÿç±»è¢«é¢„æµ‹æˆè´Ÿç±»ï¼Œç§°ä¹‹ä¸ºçœŸè´Ÿç±»ï¼ˆTrue negativeï¼‰,æ­£ç±»è¢«é¢„æµ‹æˆè´Ÿç±»åˆ™ä¸ºå‡è´Ÿç±»ï¼ˆfalse negativeï¼‰ã€‚ åˆ—è”è¡¨å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œ1ä»£è¡¨æ­£ç±»ï¼Œ0ä»£è¡¨è´Ÿç±»ã€‚ï¼ˆé¢„æµ‹æ­£ç¡®ï¼štrueï¼Œé¢„æµ‹æ˜¯æ­£ç±»ï¼špositiveï¼‰ é¢„æµ‹ 1 0 åˆè®¡ å®é™… 1 True Positiveï¼ˆTPï¼‰ False Negativeï¼ˆFNï¼‰ Actual Positive(TP+FN) 0 False Positiveï¼ˆFP) True Negative(TN) Actual Negative(FP+TN) åˆè®¡ Predicted Positive(TP+FP) Predicted Negative(FN+TN) TP+FP+FN+TN ä»åˆ—è”è¡¨å¼•å…¥ä¸¤ä¸ªæ–°åè¯ã€‚ å…¶ä¸€æ˜¯çœŸæ­£ç±»ç‡(true positive rate ,TPR), è®¡ç®—å…¬å¼ä¸º TPR=TP/ ( TP+ FN)ï¼Œåˆ»ç”»çš„æ˜¯åˆ†ç±»å™¨æ‰€è¯†åˆ«å‡ºçš„ æ­£å®ä¾‹å æ‰€æœ‰æ­£å®ä¾‹çš„æ¯”ä¾‹ã€‚ å¦å¤–ä¸€ä¸ªæ˜¯è´Ÿæ­£ç±»ç‡(false positive rate, FPR),è®¡ç®—å…¬å¼ä¸º FPR= FP / (FP + TN)ï¼Œè®¡ç®—çš„æ˜¯åˆ†ç±»å™¨é”™è®¤ä¸ºè´Ÿç±»çš„æ­£å®ä¾‹å æ‰€æœ‰è´Ÿå®ä¾‹çš„æ¯”ä¾‹ã€‚ è¿˜æœ‰ä¸€ä¸ªçœŸè´Ÿç±»ç‡ï¼ˆTrue Negative Rateï¼ŒTNRï¼‰ï¼Œä¹Ÿç§°ä¸ºspecificity,è®¡ç®—å…¬å¼ä¸ºTNR= TN/ ( FP+ TN) = 1 - FPRã€‚ 3. å¦‚ä½•å®ç°ï¼Ÿ ä¸€äº›é—®é¢˜ï¼šç¨‹åºè°ƒç”¨APIçš„è¿‡ç¨‹ï¼›","categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"}],"tags":[{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"}],"author":"Shaw"},{"title":"Shaw's blog","slug":"Welcome","date":"2021-09-03T05:50:00.118Z","updated":"2023-02-20T05:03:18.440Z","comments":true,"path":"2021/09/03/Welcome/","link":"","permalink":"http://example.com/2021/09/03/Welcome/","excerpt":"","text":"è®ºæ–‡é˜…è¯»/æŠ€æœ¯å­¦ä¹ /æ¯”èµ›ç§¯ç´¯","categories":[],"tags":[],"author":"Shaw"}],"categories":[{"name":"Paper","slug":"Paper","permalink":"http://example.com/categories/Paper/"},{"name":"Project","slug":"Project","permalink":"http://example.com/categories/Project/"},{"name":"Code","slug":"Code","permalink":"http://example.com/categories/Code/"},{"name":"paper","slug":"paper","permalink":"http://example.com/categories/paper/"},{"name":"Reproduce","slug":"Reproduce","permalink":"http://example.com/categories/Reproduce/"},{"name":"Kaggle","slug":"Kaggle","permalink":"http://example.com/categories/Kaggle/"},{"name":"Something","slug":"Something","permalink":"http://example.com/categories/Something/"},{"name":"Book","slug":"Book","permalink":"http://example.com/categories/Book/"}],"tags":[{"name":"Fuzzing","slug":"Fuzzing","permalink":"http://example.com/tags/Fuzzing/"},{"name":"WASM","slug":"WASM","permalink":"http://example.com/tags/WASM/"},{"name":"Symbolic Execution","slug":"Symbolic-Execution","permalink":"http://example.com/tags/Symbolic-Execution/"},{"name":"Vulnerability","slug":"Vulnerability","permalink":"http://example.com/tags/Vulnerability/"},{"name":"AEG","slug":"AEG","permalink":"http://example.com/tags/AEG/"},{"name":"Klee","slug":"Klee","permalink":"http://example.com/tags/Klee/"},{"name":"UAF","slug":"UAF","permalink":"http://example.com/tags/UAF/"},{"name":"LLVM","slug":"LLVM","permalink":"http://example.com/tags/LLVM/"},{"name":"Cloud","slug":"Cloud","permalink":"http://example.com/tags/Cloud/"},{"name":"Windows","slug":"Windows","permalink":"http://example.com/tags/Windows/"},{"name":"Binary","slug":"Binary","permalink":"http://example.com/tags/Binary/"},{"name":"ML","slug":"ML","permalink":"http://example.com/tags/ML/"},{"name":"Pytorch","slug":"Pytorch","permalink":"http://example.com/tags/Pytorch/"},{"name":"RL","slug":"RL","permalink":"http://example.com/tags/RL/"},{"name":"CV","slug":"CV","permalink":"http://example.com/tags/CV/"},{"name":"Malware Classifiers","slug":"Malware-Classifiers","permalink":"http://example.com/tags/Malware-Classifiers/"},{"name":"BCSA","slug":"BCSA","permalink":"http://example.com/tags/BCSA/"},{"name":"obfuscation","slug":"obfuscation","permalink":"http://example.com/tags/obfuscation/"},{"name":"IDS","slug":"IDS","permalink":"http://example.com/tags/IDS/"},{"name":"DDoS","slug":"DDoS","permalink":"http://example.com/tags/DDoS/"},{"name":"AD","slug":"AD","permalink":"http://example.com/tags/AD/"},{"name":"Botnet","slug":"Botnet","permalink":"http://example.com/tags/Botnet/"},{"name":"Mutiagent","slug":"Mutiagent","permalink":"http://example.com/tags/Mutiagent/"},{"name":"Machine Learning","slug":"Machine-Learning","permalink":"http://example.com/tags/Machine-Learning/"},{"name":"Math","slug":"Math","permalink":"http://example.com/tags/Math/"},{"name":"NLP","slug":"NLP","permalink":"http://example.com/tags/NLP/"},{"name":"AD training","slug":"AD-training","permalink":"http://example.com/tags/AD-training/"},{"name":"DNN","slug":"DNN","permalink":"http://example.com/tags/DNN/"},{"name":"RNN","slug":"RNN","permalink":"http://example.com/tags/RNN/"},{"name":"PDF","slug":"PDF","permalink":"http://example.com/tags/PDF/"},{"name":"Android","slug":"Android","permalink":"http://example.com/tags/Android/"}]}